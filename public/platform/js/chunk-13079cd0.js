(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13079cd0"],{"15ef":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mt-10 mb-20 pt-20 pl-20 pr-20 pb-20 bg-ff br-10"},[i("a-form-model",{attrs:{layout:"inline",model:t.searchForm}},[i("a-form-model-item",{attrs:{label:"活动名称"}},[i("a-input",{attrs:{placeholder:"请输入活动名称"},model:{value:t.searchForm.name,callback:function(e){t.$set(t.searchForm,"name",e)},expression:"searchForm.name"}})],1),i("a-form-model-item",{attrs:{label:"活动状态"}},[i("a-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择活动状态"},model:{value:t.searchForm.status,callback:function(e){t.$set(t.searchForm,"status",e)},expression:"searchForm.status"}},[i("a-select-option",{attrs:{value:3}},[t._v(" 全部活动 ")]),i("a-select-option",{attrs:{value:"0"}},[t._v(" 未开始 ")]),i("a-select-option",{attrs:{value:"1"}},[t._v(" 进行中 ")]),i("a-select-option",{attrs:{value:"2"}},[t._v(" 已失效 ")])],1)],1),i("a-form-model-item",{attrs:{label:"活动时间"}},[i("a-range-picker",{attrs:{ranges:{"今日":[t.moment(),t.moment()],"近7天":[t.moment(),t.moment().add(7,"days")],"近15天":[t.moment(),t.moment().add(15,"days")],"近30天":[t.moment(),t.moment().add(30,"days")]},value:t.searchForm.time,format:"YYYY-MM-DD"},on:{change:t.onDateRangeChange}})],1)],1),i("div",{staticClass:"mt-20"},[i("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.createActivity()}}},[t._v(" 新建活动 ")]),i("a-button",{staticClass:"ml-20",attrs:{type:"primary"},on:{click:function(e){return t.submitForm(!0)}}},[t._v(" 查询 ")]),i("a-button",{staticClass:"ml-20",on:{click:function(e){return t.resetForm()}}},[t._v(" 重置 ")])],1),i("a-table",{staticClass:"mt-20",attrs:{rowKey:"id",columns:t.columns,"data-source":t.dataList,pagination:t.pagination},scopedSlots:t._u([{key:"activityTime",fn:function(e,o){return i("span",{},[t._v(" "+t._s(e)+" ~ "+t._s(o.end_time)+" ")])}},{key:"status",fn:function(e){return i("span",{},[1==e?i("a-badge",{attrs:{status:"success",text:"进行中"}}):t._e(),2==e?i("a-badge",{attrs:{status:"default",text:"已失效"}}):t._e(),0==e?i("a-badge",{attrs:{status:"warning",text:"未开始"}}):t._e()],1)}},{key:"action",fn:function(e,o){return i("span",{},[i("a",{staticClass:"inline-block",on:{click:function(i){return t.editActivity(e,o.status)}}},[t._v(t._s(2!=o.status?"编辑":"查看"))]),2!=o.status?i("a",{staticClass:"ml-10 inline-block",on:{click:function(i){return t.changeActivityState(e)}}},[t._v("失效")]):t._e(),2==o.status?i("a",{staticClass:"ml-10 inline-block",on:{click:function(i){return t.removeActivity(e)}}},[t._v("删除")]):t._e()])}}])},[i("span",{attrs:{slot:"payPeopleTitle"},slot:"payPeopleTitle"},[t._v(" 支付人数 "),i("a-tooltip",{attrs:{trigger:"“hover"}},[i("template",{slot:"title"},[t._v("该活动支付人数，若一个用户支付多次，支付人数依然算作一次 ")]),i("a-icon",{staticClass:"ml-10",attrs:{type:"question-circle"}})],2)],1),i("span",{attrs:{slot:"payNumTitle"},slot:"payNumTitle"},[t._v(" 支付单数 "),i("a-tooltip",{attrs:{trigger:"hover"}},[i("template",{slot:"title"},[t._v("该活动支付单数，若一个用户支付多次，支付人数依然算多次 ")]),i("a-icon",{staticClass:"ml-10",attrs:{type:"question-circle"}})],2)],1)])],1)},s=[],a=i("5530"),l=i("c1df"),r=i.n(l),n=i("4d95"),c={name:"ScenicToolsLimitList",data:function(){return{searchForm:{name:"",time:[],start_time:"",end_time:"",status:3},columns:[{title:"活动名称",dataIndex:"name",key:"name"},{title:"活动时间",dataIndex:"start_time",key:"start_time",scopedSlots:{customRender:"activityTime"}},{dataIndex:"pay_order_people",key:"pay_order_people",slots:{title:"payPeopleTitle"},width:"120px"},{dataIndex:"pay_order_num",key:"pay_order_num",slots:{title:"payNumTitle"},width:"120px"},{title:"实收金额",dataIndex:"real_income",key:"real_income"},{title:"活动状态",dataIndex:"status",key:"status",scopedSlots:{customRender:"status"},width:"120px"},{title:"操作",dataIndex:"id",key:"id",scopedSlots:{customRender:"action"}}],dataList:[],pagination:{current:1,total:0,pageSize:10,showSizeChanger:!0,onChange:this.onPageChange,onShowSizeChange:this.onPageSizeChange,showTotal:function(t){return"共 ".concat(t," 个活动")}}}},created:function(){this.getDataList({})},activated:function(){var t=sessionStorage.getItem("limitedEdit")||"";t&&1==t&&(this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",10),this.$set(this.pagination,"total",0),this.getDataList({}),sessionStorage.removeItem("limitedEdit"))},methods:{moment:r.a,getDataList:function(t){var e=this;t.is_search&&1==t.is_search?this.$set(this.pagination,"current",1):this.$set(this.pagination,"current",this.pagination.current),this.request(n["a"].getLimitedList,t).then((function(t){e.dataList=t.list,e.$set(e.pagination,"total",t.count)}))},onDateRangeChange:function(t,e){this.$set(this.searchForm,"time",[t[0],t[1]]),this.$set(this.searchForm,"start_time",e[0]),this.$set(this.searchForm,"end_time",e[1])},submitForm:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=Object(a["a"])({},this.searchForm);delete e.time,e.is_search=t,this.getDataList(e)},onPageChange:function(t,e){this.$set(this.pagination,"current",t),this.submitForm()},onPageSizeChange:function(t,e){this.$set(this.pagination,"pageSize",e),this.submitForm()},resetForm:function(){this.$set(this,"searchForm",{name:"",start_time:"",end_time:"",status:3,time:[]}),this.$set(this.pagination,"current",1),this.getDataList({})},createActivity:function(){this.$router.push({path:"/merchant/merchant.life_tools/scenicToolsLimitEdit",query:{}})},editActivity:function(t,e){2==e?this.$router.push({path:"/merchant/merchant.life_tools/scenicToolsLimitLook",query:{store_id:this.store_id,id:t}}):this.$router.push({path:"/merchant/merchant.life_tools/scenicToolsLimitEdit",query:{store_id:this.store_id,id:t}})},changeActivityState:function(t){var e=this;this.$confirm({title:"是否将活动失效，失效的活动将无法恢复！",centered:!0,onOk:function(){e.request(n["a"].limitedChangeState,{id:t}).then((function(t){e.$message.success("操作成功！"),e.submitForm()}))},onCancel:function(){}})},removeActivity:function(t){var e=this;this.$confirm({title:"是否确定删除该活动?",centered:!0,onOk:function(){e.request(n["a"].removeLimited,{id:t}).then((function(t){e.$message.success("操作成功！"),e.submitForm()}))},onCancel:function(){}})}}},f=c,d=i("2877"),m=Object(d["a"])(f,o,s,!1,null,"be5af3b2",null);e["default"]=m.exports},"4d95":function(t,e,i){"use strict";var o={getTicketList:"life_tools/merchant.LifeToolsTicket/getList",getTicketDetail:"life_tools/merchant.LifeToolsTicket/getDetail",ticketDel:"life_tools/merchant.LifeToolsTicket/del",TicketEdit:"life_tools/merchant.LifeToolsTicket/addOrEdit",getLifeToolsList:"life_tools/merchant.LifeTools/getInformationList",setLifeToolsAttrs:"life_tools/merchant.LifeTools/setLifeToolsAttrs",getSportsOrderList:"/life_tools/merchant.SportsOrder/getOrderList",exportToolsOrder:"/life_tools/merchant.SportsOrder/exportToolsOrder",getSportsOrderDetail:"/life_tools/merchant.SportsOrder/getOrderDetail",agreeSportsOrderRefund:"/life_tools/merchant.SportsOrder/agreeRefund",refuseSportsOrderRefund:"/life_tools/merchant.SportsOrder/refuseRefund",getEditInfo:"life_tools/merchant.LifeToolsTicket/getEditInfo",getCategoryList:"life_tools/merchant.LifeToolsCategory/getCategoryList",getMapConfig:"life_tools/merchant.LifeTools/getMapConfig",getAddressList:"life_tools/merchant.LifeTools/getAddressList",addEditLifeTools:"life_tools/merchant.LifeTools/addEditLifeTools",getLifeToolsDetail:"life_tools/merchant.LifeTools/getLifeToolsDetail",delLifeTools:"life_tools/merchant.LifeTools/delLifeTools",getReplyList:"/life_tools/merchant.LifeToolsReply/searchReply",isShowReply:"/life_tools/merchant.LifeToolsReply/isShowReply",getReplyDetails:"/life_tools/merchant.LifeToolsReply/getReplyDetails",delReply:"/life_tools/merchant.LifeToolsReply/delReply",subReply:"/life_tools/merchant.LifeToolsReply/subReply",getReplyContent:"/life_tools/merchant.LifeToolsReply/getReplyContent",getCardList:"/life_tools/merchant.EmployeeCard/getCardList",editCard:"/life_tools/merchant.EmployeeCard/editCard",saveCard:"/life_tools/merchant.EmployeeCard/saveCard",delCard:"/life_tools/merchant.EmployeeCard/delCard",getSportsVerifyList:"/life_tools/merchant.SportsOrder/getVerifyList",exportVerifyRecord:"/life_tools/merchant.SportsOrder/exportVerifyRecord",getLimitedList:"/life_tools/merchant.LifeScenicLimitedAct/getLimitedList",updateLimited:"/life_tools/merchant.LifeScenicLimitedAct/addLimited",limitedChangeState:"/life_tools/merchant.LifeScenicLimitedAct/changeState",removeLimited:"/life_tools/merchant.LifeScenicLimitedAct/del",getLimitedInfo:"/life_tools/merchant.LifeScenicLimitedAct/edit",getMerchantSort:"/life_tools/merchant.LifeToolsTicket/getMerchantSort",getLifeToolsTicket:"/life_tools/merchant.LifeToolsTicket/getLifeToolsTicket",getToolsCardList:"/life_tools/merchant.LifeTools/getToolsCardList",AddOrEditToolsCard:"/life_tools/merchant.LifeTools/AddOrEditToolsCard",getToolsCardEdit:"/life_tools/merchant.LifeTools/getToolsCardEdit",delToolsCard:"/life_tools/merchant.LifeTools/delToolsCard",getAllToolsList:"/life_tools/merchant.LifeTools/getAllToolsList",getToolsCardRecord:"/life_tools/merchant.LifeTools/getToolsCardRecord",getCardOrderList:"/life_tools/merchant.LifeTools/getCardOrderList",getCardOrderDetail:"/life_tools/merchant.LifeTools/getCardOrderDetail",agreeCardOrderRefund:"/life_tools/merchant.LifeTools/agreeCardOrderRefund",refuseCardOrderRefund:"/life_tools/merchant.LifeTools/refuseCardOrderRefund",getSportsActivityList:"/life_tools/merchant.LifeToolsSportsActivity/getSportsActivityList",updateSportsActivityStatus:"/life_tools/merchant.LifeToolsSportsActivity/updateSportsActivityStatus",getSportsActivityOrderList:"/life_tools/merchant.LifeToolsSportsActivity/getSportsActivityOrderList",addSportsActivity:"/life_tools/merchant.LifeToolsSportsActivity/addSportsActivity",editSportsActivity:"/life_tools/merchant.LifeToolsSportsActivity/editSportsActivity",getTravelList:"/life_tools/merchant.LifeToolsGroupTravelAgency/getTravelList",agencyAudit:"/life_tools/merchant.LifeToolsGroupTravelAgency/audit",getStaffList:"/life_tools/merchant.LifeToolsTicket/getStaffList",getAppointList:"life_tools/merchant.LifeToolsAppoint/getList",getAppointMsg:"life_tools/merchant.LifeToolsAppoint/getToolAppointMsg",saveAppoint:"life_tools/merchant.LifeToolsAppoint/saveToolAppoint",lookAppointUser:"life_tools/merchant.LifeToolsAppoint/lookAppointUser",closeAppoint:"life_tools/merchant.LifeToolsAppoint/closeAppoint",exportAppointUserOrder:"life_tools/merchant.LifeToolsAppoint/exportUserOrder",delAppoint:"life_tools/merchant.LifeToolsAppoint/delAppoint",getSeatMap:"/life_tools/merchant.LifeToolsAppoint/getSeatMap",getAppointOrderDetail:"life_tools/merchant.LifeToolsAppoint/getAppointOrderDetail",auditRefund:"life_tools/merchant.LifeToolsAppoint/auditRefund",suspend:"life_tools/merchant.LifeToolsAppoint/suspend",getSportsSecondsKillList:"/life_tools/merchant.LifeToolsSportsSecondsKill/getSecondsKillList",saveSportsSecondsKill:"/life_tools/merchant.LifeToolsSportsSecondsKill/saveSecondsKill",ChangeSportsSecondsKill:"/life_tools/merchant.LifeToolsSportsSecondsKill/ChangeSportsSecondsKill",delSportsSecondsKill:"/life_tools/merchant.LifeToolsSportsSecondsKill/delSecondsKill",getSportsSecondsKillDetail:"/life_tools/merchant.LifeToolsSportsSecondsKill/getSecondsKillDetail",getGroupTicketList:"life_tools/merchant.group/getGroupTicketList",getGroupLifeToolsTicket:"life_tools/merchant.LifeToolsTicket/getLifeToolsTicket",addGroupTicket:"life_tools/merchant.group/addGroupTicket",delGroupTicket:"life_tools/merchant.group/delGroupTicket",editSettingData:"life_tools/merchant.group/editSettingData",editGroupTicket:"life_tools/merchant.group/editGroupTicket",getSettingDataDetail:"life_tools/merchant.group/getSettingDataDetail",getStatisticsData:"life_tools/merchant.LifeToolsGroupOrder/getStatisticsData",getOrderList:"life_tools/merchant.LifeToolsGroupOrder/getOrderList",getOrderAuditList:"/life_tools/merchant.LifeToolsGroupOrder/getAuditGroupOrderList",orderAudit:"/life_tools/merchant.LifeToolsGroupOrder/audit",groupOrderRefand:"life_tools/merchant.LifeToolsGroupOrder/groupOrderRefand",editDistributionPrice:"life_tools/merchant.LifeToolsDistribution/editDistributionPrice",getDistributionSettingDataDetail:"/life_tools/merchant.LifeToolsDistribution/getSettingDataDetail",getDistributionSettingeditSetting:"/life_tools/merchant.LifeToolsDistribution/editSetting",getAtatisticsInfo:"/life_tools/merchant.LifeToolsDistribution/getAtatisticsInfo",getDistributorList:"/life_tools/merchant.LifeToolsDistribution/getDistributorList",getLowerLevel:"/life_tools/merchant.LifeToolsDistribution/getLowerLevel",audit:"/life_tools/merchant.LifeToolsDistribution/audit",getDistributionOrderList:"/life_tools/merchant.LifeToolsDistribution/getDistributionOrderList",editDistributionOrderNote:"/life_tools/merchant.LifeToolsDistribution/editDistributionOrderNote",delDistributor:"/life_tools/merchant.LifeToolsDistribution/delDistributor",addStatement:"/life_tools/merchant.LifeToolsDistribution/addStatement",getStatementList:"/life_tools/merchant.LifeToolsDistribution/getStatement",getStatementDetail:"/life_tools/merchant.LifeToolsDistribution/getStatementDetail",lifeToolsAudit:"/life_tools/platform.LifeTools/lifeToolsAudit",auditTicket:"/life_tools/platform.LifeToolsTicket/auditTicket",getMapCity:"/g=Index&c=Map&a=suggestion",getCarParkList:"/life_tools/merchant.LifeToolsCarPark/getCarParkList",addCarPark:"/life_tools/merchant.LifeToolsCarPark/addCarPark",showCarPark:"/life_tools/merchant.LifeToolsCarPark/showCarPark",getToolsList:"/life_tools/merchant.LifeToolsCarPark/getToolsList",deleteCarPark:"/life_tools/merchant.LifeToolsCarPark/deleteCarPark",statusCarPark:"/life_tools/merchant.LifeToolsCarPark/statusCarPark",wifiList:"life_tools/merchant.LifeToolsWifi/wifiList",wifiAdd:"life_tools/merchant.LifeToolsWifi/wifiAdd",wifiShow:"life_tools/merchant.LifeToolsWifi/wifiShow",wifiStatusChange:"life_tools/merchant.LifeToolsWifi/wifiStatusChange",wifiDelete:"life_tools/merchant.LifeToolsWifi/wifiDelete",scenicMapSave:"/life_tools/merchant.LifeToolsScenicMap/saveMap",scenicMapPlaceList:"/life_tools/merchant.LifeToolsScenicMap/mapPlaceList",scenicMapPlaceSave:"/life_tools/merchant.LifeToolsScenicMap/saveMapPlace",scenicMapPlaceDel:"/life_tools/merchant.LifeToolsScenicMap/mapPlaceDel",scenicMapLineList:"/life_tools/merchant.LifeToolsScenicMap/mapLineList",scenicMapLineSave:"/life_tools/merchant.LifeToolsScenicMap/saveMapLine",scenicMapLineDel:"/life_tools/merchant.LifeToolsScenicMap/mapLineDel",scenicMapScenicList:"/life_tools/merchant.LifeToolsScenicMap/scenicList",scenicMapPlaceCatList:"/life_tools/merchant.LifeToolsScenicMap/categoryList",scenicMapPlaceCategoryDel:"/life_tools/merchant.LifeToolsScenicMap/categoryDel",scenicMapPlaceCategorySave:"/life_tools/merchant.LifeToolsScenicMap/saveCategory",scenicMapList:"/life_tools/merchant.LifeToolsScenicMap/mapList",scenicMapDel:"/life_tools/merchant.LifeToolsScenicMap/mapDel",scenicMapStatusSave:"/life_tools/merchant.LifeToolsScenicMap/saveMapStatus",changeCloseStatus:"life_tools/merchant.LifeTools/changeCloseStatus",getAddEditCardMerchantInfo:"/life_tools/merchant.LifeTools/getAddEditCardMerchantInfo"};e["a"]=o}}]);