(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a3cb8b6"],{"8e4c":function(e,t,a){"use strict";var r={getLists:"/merchant/merchant.MerchantShopManagement/storeList",getStoreMsg:"/merchant/merchant.MerchantShopManagement/storeMsg",getStaffList:"/merchant/merchant.MerchantShopManagement/staffManagement",staffEdit:"/merchant/merchant.MerchantShopManagement/staffEdit",staffSet:"/merchant/merchant.MerchantShopManagement/staffSet",staffDel:"/merchant/merchant.MerchantShopManagement/staffDelete",storeDiscount:"/merchant/merchant.MerchantShopManagement/discount",discountMsg:"/merchant/merchant.MerchantShopManagement/discountMsg",discountDel:"/merchant/merchant.MerchantShopManagement/discountDelete",discountAdd:"/merchant/merchant.MerchantShopManagement/discountAdd",storeSliderList:"/merchant/merchant.MerchantShopManagement/storeSlider",storeSliderEdit:"/merchant/merchant.MerchantShopManagement/storeSliderAdd",storeSliderDel:"/merchant/merchant.MerchantShopManagement/sliderDel",storeSliderMsg:"/merchant/merchant.MerchantShopManagement/storeSliderMsg",storeAuthEdit:"/merchant/merchant.MerchantShopManagement/authEdit",storeAuthMsg:"/merchant/merchant.MerchantShopManagement/authMsg",storeEdit:"/merchant/merchant.MerchantShopManagement/storeEdit",storeEditSave:"/merchant/merchant.MerchantShopManagement/saveStoreEdit",storeAddSave:"/merchant/merchant.MerchantShopManagement/addStoreEdit",getUrlencode:"/merchant/merchant.MerchantShopManagement/getUrlencode",storeDel:"/merchant/merchant.MerchantShopManagement/storeDel",getStreet:"/merchant/merchant.MerchantShopManagement/getStreet",jobList:"/merchant/merchant.JobPerson/jobList",delJob:"/merchant/merchant.JobPerson/delJob",selJob:"/merchant/merchant.JobPerson/selJob",resJob:"/merchant/merchant.JobPerson/resJob",addJob:"/merchant/merchant.JobPerson/addJob",authentica:"/merchant/merchant.JobPerson/authentica",editJob:"/merchant/merchant.JobPerson/editJob",updateJob:"/merchant/merchant.JobPerson/updateJob",getPersonList:"/merchant/merchant.StoreMarketingPerson/getPersonList",regPhone:"/merchant/merchant.StoreMarketingPerson/regPhone",editPerson:"/merchant/merchant.StoreMarketingPerson/editPerson",addPerson:"/merchant/merchant.StoreMarketingPerson/addPerson",savePerson:"/merchant/merchant.StoreMarketingPerson/savePerson",delPerson:"/merchant/merchant.StoreMarketingPerson/delPerson",storeMarketingRecord:"/store_marketing/merchant.StoreMarketingPerson/storeMarketingRecord",getCircleList:"/merchant/merchant.MerchantShopManagement/getCircleList",getPickAddress:"/merchant/merchant.MerchantShopManagement/getPickAddress"};t["a"]=r},ddaa:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:e.title,width:640,visible:e.visible,confirmLoading:e.confirmLoading},on:{cancel:e.handleCancel,ok:e.handleSubmit}},[a("div",[a("a-form-model",[a("a-form-model-item",{attrs:{label:"用户id",required:"true",hasFeedback:e.memberFormData.uid,validateStatus:e.memberFormData.uid>0?"success":"error",help:e.msg,labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{attrs:{placeholder:"请输入手机号"},on:{blur:function(t){return e.findRight()}},model:{value:e.memberFormData.phone,callback:function(t){e.$set(e.memberFormData,"phone",t)},expression:"memberFormData.phone"}})],1),a("a-form-model-item",{attrs:{label:"抽成设置",required:"true",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-radio-group",{model:{value:e.memberFormData.ratio_type,callback:function(t){e.$set(e.memberFormData,"ratio_type",t)},expression:"memberFormData.ratio_type"}},[a("a-radio",{attrs:{value:1}},[e._v(" 统一比例 ")]),a("a-radio",{attrs:{value:2}},[e._v(" 商品比例 ")])],1)],1),1==e.memberFormData.ratio_type?a("a-form-model-item",[a("a-row",[a("a-col",{attrs:{span:6}}),a("a-col",{attrs:{span:18}},[a("a-input-number",{attrs:{placeholder:"请输入",min:0,max:100},model:{value:e.memberFormData.ratio,callback:function(t){e.$set(e.memberFormData,"ratio",t)},expression:"memberFormData.ratio"}}),a("span",{staticClass:"ml-10"},[e._v("% 为改分销员抽取所有商品的统一抽成比例")])],1)],1)],1):e._e()],1)],1)])},n=[],o=(a("b0c0"),a("c1df")),m=a.n(o),s=a("8e4c"),i=a("290c"),c=a("da05"),h=/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/,d={name:"addStoreMarketingPerson",components:{ACol:c["b"],ARow:i["a"]},data:function(){return{title:"添加分销员",msg:"",visible:!1,confirmLoading:!1,memberFormData:{store_id:0,name:"",uid:0,phone:"",ratio_type:"",ratio:""},memberFormRules:{ratio_type:[{required:!0,message:"请选择抽成设置",trigger:"blur"}],uid:[{required:!0,message:"请输入用户id",trigger:"blur"},{pattern:h,message:"手机号格式错误",trigger:"blur"}]},labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}}}},methods:{moment:m.a,add:function(e){this.msg="",this.memberFormData={store_id:e,name:"",uid:0,phone:"",ratio_type:"",ratio:""},this.visible=!0},handleCancel:function(){this.visible=!1},findRight:function(){var e=this;this.request(s["a"].regPhone,{phone:this.memberFormData.phone,store_id:this.memberFormData.store_id}).then((function(t){1==t.status?(e.memberFormData.uid=t.data.uid,e.memberFormData.name=t.data.nickname,e.msg="用户昵称："+e.memberFormData.name):2==t.status?(e.memberFormData.uid=0,e.msg=e.L("此用户id已经是分销员,不可以再次添加")):3==t.status?(e.memberFormData.uid=0,e.msg=e.L("请输入手机号")):(e.memberFormData.uid=0,e.msg=e.L("用户不存在"))})).catch((function(t){e.confirmLoading=!1}))},handleSubmit:function(){var e=this;if(0==this.memberFormData.uid)return!1;this.confirmLoading=!0,this.request(s["a"].addPerson,this.memberFormData).then((function(t){t&&e.$message.success(e.L("添加成功")),e.$emit("handleUpdate",{}),setTimeout((function(){e.visible=!1,e.confirmLoading=!1,e.$emit("ok","")}),1500)})).catch((function(t){e.confirmLoading=!1}))}}},l=d,g=a("2877"),u=Object(g["a"])(l,r,n,!1,null,"b91fdb30",null);t["default"]=u.exports}}]);