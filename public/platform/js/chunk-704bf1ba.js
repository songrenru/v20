(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-704bf1ba","chunk-2090b902","chunk-0731176e"],{"26cb":function(t,e,o){},"2a269":function(t,e,o){"use strict";o("26cb")},5083:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t._self._c;return e("div",[e("componentDesc",{attrs:{content:t.desc}}),e("div",{staticClass:"content"},[e("div",{staticClass:"sub-title flex align-center justify-between"},[e("span",[t._v(t._s(t.L("自定义页面模块：")))]),t.formData&&!t.formData.id?e("a-button",{attrs:{type:"primary",ghost:""},on:{click:function(e){return t.indexSetOpt()}}},[e("span",{staticStyle:{padding:"0 10px"}},[t._v(t._s(t.L("添加")))])]):t._e()],1),t.formData&&t.formData.id?e("div",{staticClass:"select-page flex align-center justify-between"},[e("span",{staticClass:"text-els",staticStyle:{"max-width":"300px"}},[t._v(t._s(t.formData.page_title))]),e("span",[e("a-icon",{attrs:{type:"edit"},on:{click:function(e){return t.indexSetOpt()}}}),e("a-icon",{attrs:{type:"delete"},on:{click:function(e){return t.delCueMod()}}})],1)]):t._e()]),e("selectCustomPage",{ref:"selectCustomPage",attrs:{isCustomModule:!0},on:{getIndexPageOpt:t.getIndexPageOpt}})],1)},n=[],s=o("a2f8"),i=o("da20"),c={components:{componentDesc:s["default"],selectCustomPage:i["default"]},props:{formContent:{type:[String,Object],default:""}},data:function(){return{desc:{title:this.L("自定义模块")},formData:""}},computed:{sourceInfo:function(){return this.$store.state.customPage.sourceInfo},pageInfo:function(){return this.$store.state.customPage.pageInfo}},watch:{formData:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t)}}},mounted:function(){if(this.formContent)for(var t in this.formData={},this.formContent)this.$set(this.formData,t,this.formContent[t])},methods:{getIndexPageOpt:function(t){var e=t.current||"";e&&(this.$set(this.formData,"page_title",e.page_title||0==e.page_title?e.page_title:""),this.$set(this.formData,"id",e.id||""))},indexSetOpt:function(){this.$refs.selectCustomPage.openModal({id:this.formData.id,sourceInfo:this.sourceInfo})},delCueMod:function(){this.formData={}}}},r=c,d=(o("62bb"),o("2877")),u=Object(d["a"])(r,a,n,!1,null,"51a11c33",null);e["default"]=u.exports},"62bb":function(t,e,o){"use strict";o("74aa")},"74aa":function(t,e,o){},"7fe1":function(t,e,o){},9686:function(t,e,o){"use strict";var a={getMicroPageList:"/common/common.DecoratePage/getMicroPageList",getpersonalDec:"/common/common.DecoratePage/getpersonalDec",delMicroPage:"/common/common.DecoratePage/delMicroPage",setHomePage:"/common/common.DecoratePage/setHomePage",addOrEditpersonalDec:"/common/common.DecoratePage/addOrEditpersonalDec",getNavBottomDec:"/common/common.DecoratePage/getNavBottomDec",addOrEditNavBottom:"/common/common.DecoratePage/addOrEditNavBottom",getSuspendedWindow:"/common/common.DecoratePage/getSuspendedWindow",addOrEditSuspendedWindow:"/common/common.DecoratePage/addOrEditSuspendedWindow",getIndexPage:"/common/common.DecoratePage/getIndexPage",getEditMicoPage:"/common/common.DecoratePage/getEditMicoPage",getCoupons:"/common/common.DecoratePage/getCoupons",getActInfo:"/common/common.DecoratePage/getActInfo",getMallActInfo:"/common/common.DecoratePage/getMallActInfo",getMallGoods:"/common/common.DecoratePage/getMallGoods",getMallGoodsGroup:"/common/common.DecoratePage/getMallGoodsGroup",getShopGoodsGroup:"/common/common.DecoratePage/getShopGoodsGroup",getShopGoods:"/common/common.DecoratePage/getShopGoods",addOrEditMicroPage:"/common/common.DecoratePage/addOrEditMicroPage",getMerchantStoreMsg:"/common/common.DecoratePage/getMerchantStoreMsg",getDiypageModel:"/common/platform.diypage/getDiypageModel",getDiypageDetail:"/common/platform.diypage/getDiypageDetail",getFeedCategoryList:"/common/platform.diypage/getFeedCategoryList",getSearchHotList:"/common/platform.diypage/getSearchHotList",saveDiypage:"/common/platform.diypage/saveDiypage",getMerchantCategoryChildList:"/common/platform.diypage/getMerchantCategoryChildList",getStoreList:"/common/common.DecoratePage/getStore"};e["a"]=a},a2f8:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t._self._c;return t.content?e("div",{staticClass:"wrap",class:{borderNone:t.borderNone}},[e("div",{staticClass:"title"},[t._v(t._s(t.L(t.content.title)))]),e("div",{staticClass:"desc"},[t._v(t._s(t.L(t.content.desc)))])]):t._e()},n=[],s={props:{content:{type:[String,Object],default:""},borderNone:{type:Boolean,default:!1}}},i=s,c=(o("f0ca"),o("2877")),r=Object(c["a"])(i,a,n,!1,null,"9947987e",null);e["default"]=r.exports},da20:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t._self._c;return e("a-modal",{attrs:{title:t.L("微页面"),visible:t.visible,destroyOnClose:!0,width:"60%",cancelText:t.L("取消"),okText:t.L("确定")},on:{ok:t.handleOk,cancel:t.handleCancel}},[e("a-row",{staticClass:"mb-20",attrs:{type:"flex",justify:"space-between"}},[e("a-col",[e("a-button",{staticClass:"mr-20",on:{click:function(e){return t.addCustomPageOpt()}}},[t._v(" "+t._s(t.L("新建")))]),e("a-button",{on:{click:function(e){return t.refreshOpt()}}},[t._v(" "+t._s(t.L("刷新")))])],1)],1),e("a-table",{attrs:{"row-selection":{selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange,type:"radio"},columns:t.columns,rowKey:"id",scroll:{y:442},customRow:t.customRow,pagination:t.pagination,"data-source":t.dataList},scopedSlots:t._u([{key:"page_title",fn:function(o,a){return e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.stopPropagation(),t.previewOpt(a)}}},[t._v(" "+t._s(o)+" ")])}}])})],1)},n=[],s=(o("4de4"),o("d3b7"),o("9686")),i={props:{isCustomModule:{type:Boolean,default:!1}},data:function(){var t=this;return{visible:!1,dataList:[],selectedRowKeys:[],columns:[{title:this.L("标题"),dataIndex:"page_title",key:"page_title",scopedSlots:{customRender:"page_title"}},{title:this.L("创建时间"),dataIndex:"create_time",key:"create_time"}],pagination:{current:1,pageSize:10,total:0,"show-total":function(e){return!!e&&t.L("共 X1 条记录",{X1:e})},"show-size-changer":!0,"show-quick-jumper":!0,onChange:this.onPageChange,onShowSizeChange:this.onPageSizeChange},pageId:"",sourceInfo:""}},computed:{current:function(){var t=this,e="";return this.dataList.length&&this.selectedRowKeys.length&&(e=this.dataList.filter((function(e){if(e.id==t.selectedRowKeys[0])return e}))[0]||""),e}},methods:{openModal:function(t){this.pageId=t.id||"",this.pageId&&(this.selectedRowKeys=[this.pageId]),this.sourceInfo=t.sourceInfo||"",this.visible=!0,this.getCustomPageList()},getCustomPageList:function(){var t=this,e={source:this.sourceInfo.source,source_id:this.sourceInfo.source_id,keyword:"",page:this.pagination.current,pageSize:this.pagination.pageSize};this.request(s["a"].getMicroPageList,e).then((function(e){t.dataList=e.list||[],!t.selectedRowKeys.length&&t.dataList.length&&(t.selectedRowKeys=t.dataList[0].id?[t.dataList[0].id]:[]),t.$set(t.pagination,"total",e.total)}))},onPageChange:function(t,e){this.$set(this.pagination,"current",t),this.getCustomPageList()},onPageSizeChange:function(t,e){this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",e),this.getCustomPageList()},onSelectChange:function(t){console.log(t,"selectedRowKeys"),this.selectedRowKeys=t},customRow:function(t,e){var o=this;return{on:{click:function(e){o.selectedRowKeys=[t.id]}}}},handleOk:function(){var t=this;if(this.isCustomModule)return this.handleCancel(),void this.$emit("getIndexPageOpt",{current:this.current});var e={id:this.selectedRowKeys[0],source:this.sourceInfo.source,source_id:this.sourceInfo.source_id};this.request(s["a"].setHomePage,e).then((function(e){t.handleCancel()}))},handleCancel:function(){this.visible=!1,this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",10)},refreshOpt:function(){this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",10),this.getCustomPageList()},addCustomPageOpt:function(){var t=this.$store.state.customPage["".concat(this.sourceInfo.source,"CustomPage")],e=this.$router.resolve({path:t,query:{source:this.sourceInfo.source,source_id:this.sourceInfo.source_id}});window.open(e.href,"_blank")},previewOpt:function(t){var e=t.link_url||"";e&&window.open(e)}}},c=i,r=(o("2a269"),o("2877")),d=Object(r["a"])(c,a,n,!1,null,"fcb9b41a",null);e["default"]=d.exports},f0ca:function(t,e,o){"use strict";o("7fe1")}}]);