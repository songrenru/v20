(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7129c72d","chunk-6b219d7c"],{"0180":function(t,o,e){"use strict";e("6638")},6638:function(t,o,e){},9686:function(t,o,e){"use strict";var a={getMicroPageList:"/common/common.DecoratePage/getMicroPageList",getpersonalDec:"/common/common.DecoratePage/getpersonalDec",delMicroPage:"/common/common.DecoratePage/delMicroPage",setHomePage:"/common/common.DecoratePage/setHomePage",addOrEditpersonalDec:"/common/common.DecoratePage/addOrEditpersonalDec",getNavBottomDec:"/common/common.DecoratePage/getNavBottomDec",addOrEditNavBottom:"/common/common.DecoratePage/addOrEditNavBottom",getSuspendedWindow:"/common/common.DecoratePage/getSuspendedWindow",addOrEditSuspendedWindow:"/common/common.DecoratePage/addOrEditSuspendedWindow",getIndexPage:"/common/common.DecoratePage/getIndexPage",getEditMicoPage:"/common/common.DecoratePage/getEditMicoPage",getCoupons:"/common/common.DecoratePage/getCoupons",getActInfo:"/common/common.DecoratePage/getActInfo",getMallActInfo:"/common/common.DecoratePage/getMallActInfo",getMallGoods:"/common/common.DecoratePage/getMallGoods",getMallGoodsGroup:"/common/common.DecoratePage/getMallGoodsGroup",getShopGoodsGroup:"/common/common.DecoratePage/getShopGoodsGroup",getShopGoods:"/common/common.DecoratePage/getShopGoods",addOrEditMicroPage:"/common/common.DecoratePage/addOrEditMicroPage",getMerchantStoreMsg:"/common/common.DecoratePage/getMerchantStoreMsg",getDiypageModel:"/common/platform.diypage/getDiypageModel",getDiypageDetail:"/common/platform.diypage/getDiypageDetail",getFeedCategoryList:"/common/platform.diypage/getFeedCategoryList",getSearchHotList:"/common/platform.diypage/getSearchHotList",saveDiypage:"/common/platform.diypage/saveDiypage",getMerchantCategoryChildList:"/common/platform.diypage/getMerchantCategoryChildList",getStoreList:"/common/common.DecoratePage/getStore"};o["a"]=a},a2f8:function(t,o,e){"use strict";e.r(o);var a=function(){var t=this,o=t.$createElement,e=t._self._c||o;return t.content?e("div",{staticClass:"wrap",class:{borderNone:t.borderNone}},[e("div",{staticClass:"title"},[t._v(t._s(t.L(t.content.title)))]),e("div",{staticClass:"desc"},[t._v(t._s(t.L(t.content.desc)))])]):t._e()},s=[],n={props:{content:{type:[String,Object],default:""},borderNone:{type:Boolean,default:!1}}},i=n,c=(e("f0ca"),e("0c7c")),r=Object(c["a"])(i,a,s,!1,null,"9947987e",null);o["default"]=r.exports},e063:function(t,o,e){},ed0d:function(t,o,e){"use strict";e.r(o);var a=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("componentDesc",{attrs:{content:t.desc}}),e("div",{staticClass:"content"},[e("div",{staticClass:"map-set flex align-center justify-between"},[e("span",[t._v(t._s(t.L("地图设置：")))]),t.formData&&t.formData.list?e("span",{staticClass:"flex-1 address-name no-wrap"},[t._v(t._s(t.formData.list.site))]):t._e(),e("a-button",{attrs:{type:"primary"},on:{click:t.showMapModal}},[e("span",[t._v(t._s(t.L("切换位置")))])])],1)]),e("a-modal",{attrs:{width:"1000px",title:t.L("地图"),destroyOnClose:!0},on:{ok:t.handleOk,cancel:t.handleCancel},model:{value:t.visible,callback:function(o){t.visible=o},expression:"visible"}},[e("div",{staticClass:"flex flex-wrap justify-between"},[e("div",{staticClass:"flex",staticStyle:{width:"260px"}},[e("a-input",{staticStyle:{"margin-right":"6px"},attrs:{placeholder:t.L("城市名称")},on:{change:t.showPanelInput},model:{value:t.cityKeyword,callback:function(o){t.cityKeyword=o},expression:"cityKeyword"}}),e("a-input",{staticStyle:{width:"200px"},attrs:{placeholder:t.L("请输入关键字")},on:{change:t.showPanelInput},model:{value:t.addressKeyword,callback:function(o){t.addressKeyword=o},expression:"addressKeyword"}})],1),e("div",{staticClass:"flex-1 ml-40"},[e("baidu-map",{staticClass:"bm-view",attrs:{zoom:t.zoom,center:t.postionMap,"scroll-wheel-zoom":!0},on:{click:t.getLocationPoint}},[e("bm-navigation",{attrs:{anchor:"BMAP_ANCHOR_TOP_LEFT"}}),e("bm-map-type",{attrs:{"map-types":["BMAP_NORMAL_MAP","BMAP_SATELLITE_MAP"],anchor:"BMAP_ANCHOR_TOP_RIGHT"}}),e("bm-local-search",{staticClass:"searchRes",attrs:{keyword:t.addressKeyword,location:t.cityKeyword,zoom:t.zoom,"auto-viewport":!0,panel:t.showPanel},on:{infohtmlset:t.infohtmlset}}),e("bm-marker",{attrs:{position:t.postionMap,dragging:!0}})],1)],1)])])],1)},s=[],n=(e("a9e3"),e("b0c0"),e("d81d"),e("a2f8")),i=e("9686"),c={components:{componentDesc:n["default"]},props:{formContent:{type:[String,Object],default:""}},data:function(){return{desc:{title:this.L("地图")},formData:"",source:this.$route.query.source||"",storeInfo:[],visible:!1,showPanel:!1,zoom:12.8,postionMap:{lng:116.405994,lat:39.91737},addressKeyword:"",cityKeyword:"",add:{}}},computed:{sourceInfo:function(){return this.$store.state.customPage.sourceInfo}},mounted:function(){if(this.formContent)for(var t in this.formData={},this.formContent)this.$set(this.formData,t,this.formContent[t]);this.source&&"store"==this.source&&(this.formData&&this.formData.list&&!this.formData.list.customAddress||!this.formData||this.formData&&!this.formData.list)&&this.getStoreInfo()},methods:{getStoreInfo:function(){var t=this,o={source_id:this.sourceInfo.source_id};this.request(i["a"].getMerchantStoreMsg,o).then((function(o){t.storeInfo=o||[],t.postionMap.lng=Number(t.storeInfo.store.long),t.postionMap.lat=Number(t.storeInfo.store.lat),t.add.lng=Number(t.storeInfo.store.long),t.add.lat=Number(t.storeInfo.store.lat),t.add.siteName=t.storeInfo.store.name,t.add.site=t.storeInfo.store.adress,t.$set(t.formData,"list",t.add),t.$emit("updatePageInfo",t.formData)}))},showMapModal:function(){this.visible=!0},handleOk:function(){this.visible=!1,this.$emit("updatePageInfo",this.formData)},handleCancel:function(){this.visible=!1},infohtmlset:function(t){t&&(this.postionMap.lng=t.point.lng,this.postionMap.lat=t.point.lat,this.add.siteName=t.title,this.add.site=t.address,this.add.lng=t.point.lng,this.add.lat=t.point.lat,this.addressKeyword=t.title,this.$set(this.add,"customAddress",!0)),this.$set(this.formData,"list",this.add)},showPanelInput:function(){this.showPanel=!this.showPanel},getLocationPoint:function(t){var o=this;this.postionMap.lng=t.point.lng,this.postionMap.lat=t.point.lat,this.add.lng=t.point.lng,this.add.lat=t.point.lat,this.zoom=t.target.getZoom(),this.$set(this.add,"customAddress",!0);var e=new BMap.Geocoder;e.getLocation(t.point,(function(t){o.add.site=t.address,t.surroundingPois&&t.surroundingPois.map((function(t){t&&(o.add.siteName=t.title,o.addressKeyword=t.title)}))})),this.$set(this.formData,"list",this.add)}}},r=c,d=(e("0180"),e("0c7c")),m=Object(d["a"])(r,a,s,!1,null,"74a35bdc",null);o["default"]=m.exports},f0ca:function(t,o,e){"use strict";e("e063")}}]);