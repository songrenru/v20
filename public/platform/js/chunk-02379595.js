(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02379595","chunk-509a7fd1"],{"1a83":function(e,t,i){"use strict";var r={passwordEdit:"/community/house_meter.AdminUser/passwordEdit",adminUserList:"/community/house_meter.AdminUser/adminUserList",adminUserAdd:"/community/house_meter.AdminUser/adminUserAdd ",adminUserEdit:"/community/house_meter.AdminUser/adminUserEdit",adminUserInfo:"/community/house_meter.AdminUser/adminUserInfo",adminUserDelete:"/community/house_meter.AdminUser/adminUserDelete",areaList:"/community/house_meter.AdminUser/areaList",villageBindList:"/community/house_meter.Power/villageBindList",meterVillageAdd:"/community/house_meter.Power/meterVillageAdd",meterVillageAddll:"/community/house_meter.Power/meterVillageAddll",meterVillageDelete:"/community/house_meter.Power/meterVillageDelete",getVillageInfo:"/community/house_meter.Power/getVillageInfo",meterElectricList:"/community/house_meter.MeterElectric/meterElectricList",meterElectricInfo:"/community/house_meter.MeterElectric/meterElectricInfo",meterElectricAdd:"/community/house_meter.MeterElectric/meterElectricAdd",meterElectricEdit:"/community/house_meter.MeterElectric/meterElectricEdit",meterElectricDelete:"/community/house_meter.MeterElectric/meterElectricDelete",getMeasureList:"/community/house_meter.MeterElectric/getMeasureList",switch:"/community/house_meter.MeterElectric/switch",meterReading:"/community/house_meter.MeterElectric/now_reading_electric",meterElectricGroupList:"/community/house_meter.MeterElectricGroup/meterElectricGroupList",meterElectricGroupAdd:"/community/house_meter.MeterElectricGroup/meterElectricGroupAdd",meterElectricGroupEdit:"/community/house_meter.MeterElectricGroup/meterElectricGroupEdit",meterElectricGroupInfo:"/community/house_meter.MeterElectricGroup/meterElectricGroupInfo",meterElectricSetInfo:"/community/house_meter.MeterElectric/meterElectricSetInfo",meterElectricSetEdit:"/community/house_meter.MeterElectric/meterElectricSetEdit",MeterReadingList:"/community/house_meter.MeterElectric/getMeterReadingList",getAreaList:"/community/house_meter.MeterElectricPrice/getAreaList",getAreaPriceList:"/community/house_meter.MeterElectricPrice/getAreaPriceList",meterElectricPriceAdd:"/community/house_meter.MeterElectricPrice/meterElectricPriceAdd",meterElectricPriceEdit:"/community/house_meter.MeterElectricPrice/meterElectricPriceEdit",payorderList:"/community/house_meter.MeterUserPayorder/payorderList",payorderPrint:"/community/house_meter.MeterUserPayorder/payorderPrint",getAreasList:"/community/house_meter.MeterElectric/getAreaList",getCommunityList:"/community/house_meter.MeterElectric/getCommunityList",getVillageList:"/community/house_meter.MeterElectric/getVillageList",getSingleList:"/community/house_meter.MeterElectric/getSingleList",getFloorList:"/community/house_meter.MeterElectric/getFloorList",getLayerList:"/community/house_meter.MeterElectric/getLayerList",getVacancyList:"/community/house_meter.MeterElectric/getVacancyList",uploadFile:"/community/house_meter.MeterElectric/uploadFile",getTongjiCount:"/community/house_meter.DataStatistics/getTongjiCount",getEleWarnList:"/community/house_meter.DataStatistics/getEleWarnList",powerConsumptionAnalysis:"/community/house_meter.DataStatistics/powerConsumptionAnalysis",deviceManage:"/community/house_meter.DataStatistics/deviceManage",powerConsumptionFeeAnalysis:"/community/house_meter.DataStatistics/powerConsumptionFeeAnalysis",getTongjiCountByCity:"/community/house_meter.DataStatistics/getTongjiCountByCity"};t["a"]=r},"36df":function(e,t,i){"use strict";i("b9cb")},"5d70":function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a-modal",{attrs:{title:e.title,width:900,visible:e.visible,maskClosable:!1,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[i("a-spin",{attrs:{spinning:e.confirmLoading,height:800}},[i("a-form",{attrs:{form:e.form}},[i("a-form-item",{attrs:{label:"类目名称",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[i("a-col",{attrs:{span:18}},[i("a-input",{attrs:{placeholder:"请输入类目名称",disabled:e.disabled},model:{value:e.group.name,callback:function(t){e.$set(e.group,"name",t)},expression:"group.name"}})],1),i("a-col",{attrs:{span:6}})],1),i("a-form-item",{attrs:{label:"背景色",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[i("a-col",{attrs:{span:14}},[i("a-input",{attrs:{placeholder:"请输入背景色"},model:{value:e.group.color,callback:function(t){e.$set(e.group,"color",t)},expression:"group.color"}})],1),i("a-col",{attrs:{span:2}}),i("a-col",{attrs:{span:6}},[i("colorPicker",{on:{change:e.headleChangeColor},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1)],1),i("a-form-item",{attrs:{label:"状态",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[i("a-col",{attrs:{span:18}},[i("a-radio-group",{model:{value:e.group.status,callback:function(t){e.$set(e.group,"status",t)},expression:"group.status"}},[i("a-radio",{attrs:{value:1}},[e._v(" 开启 ")]),i("a-radio",{attrs:{value:2}},[e._v(" 关闭 ")])],1)],1),i("a-col",{attrs:{span:6}})],1)],1)],1)],1)},o=[],s=(i("b0c0"),i("a0e0")),a=i("a9f5"),c=i.n(a),n=i("8bbf"),l=i.n(n);l.a.use(c.a);var u={data:function(){return{title:"添加",labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},disabled:!1,value:null,color:"",visible:!1,confirmLoading:!1,form:this.$form.createForm(this),group:{id:0,name:"",color:"",status:1},id:0}},methods:{add:function(){this.title="添加",this.visible=!0,this.disabled=!1,this.group={id:0,name:"",color:"",status:1}},edit:function(e){this.visible=!0,this.id=e,this.getSubjectInfo(),console.log(this.id),this.id>0?this.title="编辑":this.title="添加"},getSubjectInfo:function(){var e=this;this.request(s["a"].getSubjectInfo,{id:this.id}).then((function(t){e.group.id=t.id,e.group.status=t.status,e.group.name=t.subject_name,e.group.color=t.color,e.color=t.color,1==t.flag?e.disabled=!0:e.disabled=!1,console.log("group",e.group)}))},headleChangeColor:function(e){console.log("color",e),this.group.color=e},handleSubmit:function(){var e=this;this.confirmLoading=!0,this.id>0?(this.group.id=this.id,this.request(s["a"].editSubject,this.group).then((function(t){t?e.$message.success("编辑成功"):e.$message.success("编辑失败"),setTimeout((function(){e.form=e.$form.createForm(e),e.visible=!1,e.confirmLoading=!1,e.$emit("ok")}),1500)})).catch((function(t){e.confirmLoading=!1}))):this.request(s["a"].addSubject,this.group).then((function(t){t?e.$message.success("添加成功"):e.$message.success("添加失败"),setTimeout((function(){e.form=e.$form.createForm(e),e.visible=!1,e.confirmLoading=!1,e.$emit("ok")}),1500)})).catch((function(t){e.confirmLoading=!1}))},handleCancel:function(){var e=this;this.visible=!1,setTimeout((function(){e.id="0",e.form=e.$form.createForm(e)}),500)}}},m=u,d=(i("7127"),i("2877")),g=Object(d["a"])(m,r,o,!1,null,"82dfa078",null);t["default"]=g.exports},7127:function(e,t,i){"use strict";i("be6b")},b56d:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=this,i=t.$createElement,r=t._self._c||i;return r("div",{staticClass:"package-list ant-pro-page-header-wrap-children-content",staticStyle:{margin:"24px 0 0"}},[r("a-card",{attrs:{bordered:!1}},[r("div",{staticClass:"table-operator"},[r("a-alert",{staticStyle:{"margin-top":"-10px","margin-bottom":"10px"},attrs:{message:"工单类目，即物业日常管理事务中涉及到业主提交工单的场景，例如报修、投诉建议等，物业可根据实际需要创建工单类目用以工单流转管理",type:"info"}}),r("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(e){return t.$refs.createModalsss.add()}}},[t._v("添加")])],1),r("a-table",{attrs:{columns:t.columns,"data-source":t.list,pagination:t.pagination,rowKey:"id",expandIcon:function(t){return e.customExpandIcon(t)}},on:{change:t.tableChange},scopedSlots:t._u([{key:"action",fn:function(e,i){return r("span",{},[r("a",{on:{click:function(e){return t.$refs.createModalsss.edit(i.id)}}},[t._v("编辑")]),1==i.status1?r("a-divider",{attrs:{type:"vertical"}}):t._e(),1==i.status1?r("router-link",{staticStyle:{color:"#1890ff"},attrs:{to:{name:"house_repaircategorylist_"+i.id}}},[t._v("管理")]):t._e()],1)}},{key:"status",fn:function(e,i){return r("span",{},[r("div",{class:"开启"===e?"txt-green":"txt-red"},[t._v(" "+t._s(e)+" ")])])}},{key:"name",fn:function(e){return[t._v(" "+t._s(e.first)+" "+t._s(e.last))]}}])})],1),r("group-info",{ref:"createModalsss",attrs:{height:800,width:1500},on:{ok:t.handleOks}})],1)},o=[],s=i("a0e0"),a=i("5d70"),c=(i("1a83"),[{title:"类目名称",dataIndex:"subject_name",key:"group_name"},{title:"状态",dataIndex:"status",key:"status",scopedSlots:{customRender:"status"}},{title:"操作",key:"action",dataIndex:"",scopedSlots:{customRender:"action"}}]),n={name:"repairSubjectList",components:{groupInfo:a["default"]},data:function(){return{list:[],sortedInfo:null,pagination:{pageSize:10,total:10},search:{page:1},page:1,search_data:[],id:0,columns:c}},mounted:function(){this.getSubjectList()},created:function(){},methods:{getSubjectList:function(){var e=this;this.request(s["a"].getSubjectList,{page:this.page}).then((function(t){console.log("res",t),e.list=t.list,e.pagination.total=t.count?t.count:0,e.pagination.pageSize=t.total_limit?t.total_limit:10}))},tableChange:function(e){e.current&&e.current>0&&(this.page=e.current,this.getSubjectList())},cancel:function(){},handleOks:function(){this.getSubjectList()}}},l=n,u=(i("36df"),i("2877")),m=Object(u["a"])(l,r,o,!1,null,"ae26fd1e",null);t["default"]=m.exports},b9cb:function(e,t,i){},be6b:function(e,t,i){}}]);