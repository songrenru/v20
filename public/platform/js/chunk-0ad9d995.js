(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ad9d995"],{2447:function(t,i,a){},"71ee":function(t,i,a){"use strict";a("2447")},9987:function(t,i,a){"use strict";a.r(i);var n=function(){var t=this,i=t._self._c;return i("div",{staticClass:"mt-10 mb-20 pt-20 pl-20 pr-20 pb-20 bg-ff br-10 list"},[i("div",{staticClass:"btn-wrap mt-20"},[i("a-button",{attrs:{type:"primary",disabled:!t.pagination.total},on:{click:function(i){return t.handleRead("",1)}}},[t._v(t._s(t.L("全部已读")))])],1),i("div",{staticClass:"mt-20 list"},[i("a-collapse",{attrs:{bordered:!1,expandIconPosition:"right"},on:{change:t.listChange}},t._l(t.list,(function(a){return i("a-collapse-panel",{key:a.pigcms_id,class:[{"is-read":1==a.is_read}]},[i("span",{staticClass:"flex-1 text-wrap",attrs:{slot:"header"},slot:"header"},[t._v(t._s(a.title))]),i("span",{staticClass:"cr-gray ml-20 mr-10",attrs:{slot:"extra"},slot:"extra"},[t._v(t._s(a.create_time))]),i("div",{staticClass:"flex"},[i("div",{staticClass:"msg-content text-wrap cr-gray",domProps:{innerHTML:t._s(a.content)}}),a.pcUrl?i("a",{staticClass:"router-link-exact-active router-link-active ml-20 mr-20",attrs:{href:a.pcUrl}},[t._v(t._s(t.L("前往")))]):t._e()])])})),1)],1),0==t.pagination.total?i("a-empty",{attrs:{description:t.L("暂无消息")}}):t._e(),i("div",{staticClass:"mt-20 pagination-wrap mb-20"},[i("a-pagination",{attrs:{total:t.pagination.total,"show-less-items":"","show-quick-jumper":"",pageSize:t.pagination.pageSize,showTotal:t.pagination.showTotal,hideOnSinglePage:""},on:{change:t.pagination.onChange,showSizeChange:t.pagination.onShowSizeChange},model:{value:t.pagination.current,callback:function(i){t.$set(t.pagination,"current",i)},expression:"pagination.current"}})],1)],1)},e=[],s=(a("c5cb"),a("08c7"),a("5079"),a("3c7c")),o={data:function(){return{list:[],pagination:{current:1,total:0,pageSize:10,showSizeChanger:!0,showQuickJumper:!0,onChange:this.onPageChange,onShowSizeChange:this.onPageSizeChange,showTotal:function(t){return"共 ".concat(t," 条记录")}}}},mounted:function(){this.getList()},beforeRouteLeave:function(t,i,a){this.$destroy(),a()},methods:{getList:function(){var t=this,i={page:this.pagination.current,pageSize:this.pagination.pageSize};this.request(s["a"].getNoticeList,i).then((function(i){t.list=i.data||[],t.pagination.total=i.total||0}))},onPageChange:function(t,i){this.$set(this.pagination,"current",t),this.getList()},onPageSizeChange:function(t,i){this.$set(this.pagination,"pageSize",i),this.getList()},listChange:function(t){var i=this;t.length&&this.list.forEach((function(a){1!=a.is_read&&-1!=t.findIndex((function(t){return t==a.pigcms_id}))&&i.handleRead(a.pigcms_id)}))},handleRead:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={id:i,is_all:a};this.request(s["a"].msgRead,n).then((function(n){if(1==a)t.getList();else{var e=t.list.findIndex((function(t){return t.pigcms_id==i}));t.$set(t.list[e],"is_read",1)}}))}}},r=o,c=(a("71ee"),a("0b56")),l=Object(c["a"])(r,n,e,!1,null,"b543b0e6",null);i["default"]=l.exports}}]);