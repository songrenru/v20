(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f2249da4"],{"04f61":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=this,a=e.$createElement,n=e._self._c||a;return n("div",{staticClass:"package-list ant-pro-page-header-wrap-children-content",staticStyle:{margin:"24px 0 0"}},[n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"search-box",staticStyle:{"margin-bottom":"10px"}},[n("a-row",{attrs:{gutter:48}},[n("span",{staticClass:"span_box"},[n("label",{staticStyle:{"margin-top":"5px"}},[e._v("任务名称：")]),n("a-input",{staticStyle:{width:"70%"},model:{value:e.search.title,callback:function(t){e.$set(e.search,"title",t)},expression:"search.title"}})],1),n("span",{staticClass:"span_box"},[n("label",{staticStyle:{"margin-top":"5px"}},[e._v("完成时间：")]),n("a-range-picker",{attrs:{allowClear:!0},on:{change:e.dateOnChange},model:{value:e.search_data,callback:function(t){e.search_data=t},expression:"search_data"}},[n("a-icon",{attrs:{slot:"suffixIcon",type:"calendar"},slot:"suffixIcon"})],1)],1),n("span",{staticClass:"span_box",staticStyle:{width:"210px","margin-left":"20px",padding:"0 !important"}},[n("a-button",{staticStyle:{"margin-right":"15px"},attrs:{type:"primary",icon:"search"},on:{click:function(t){return e.searchList()}}},[e._v("查询")]),n("a-button",{on:{click:function(t){return e.resetList()}}},[e._v("重置")])],1)])],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(t){return e.$refs.EditModel.add()}}},[e._v("添加")])],1),n("a-table",{attrs:{columns:e.columns,"data-source":e.list,pagination:e.pagination,expandIcon:function(e){return t.customExpandIcon(e)},loading:e.loading},on:{change:e.tableChange},scopedSlots:e._u([{key:"tags",fn:function(t){return n("span",{},e._l(t,(function(t){return n("a-tag",{staticStyle:{"margin-bottom":"5px"},attrs:{color:"#FCBE79"}},[e._v(" "+e._s(t)+" ")])})),1)}},{key:"complete_qk",fn:function(t,a){return n("span",{},[n("a",{on:{click:function(t){return e.$refs.RecordModel.getList(a.title,a.id)}}},[e._v("查看")])])}},{key:"action",fn:function(t,a){return n("span",{},[n("a",{on:{click:function(t){return e.$refs.EditModel.edit(a.title,a.id)}}},[e._v("编辑")]),n("a-popconfirm",{staticClass:"ant-dropdown-link",attrs:{title:"确认删除?(操作后可能不能恢复！)","ok-text":"是","cancel-text":"否"},on:{confirm:function(t){return e.deleteConfirm(a.id)},cancel:e.delCancel}},[e._v(" | "),n("a",{attrs:{href:"#"}},[e._v("删除")])])],1)}},{key:"name",fn:function(t){return[e._v(" "+e._s(t.first)+" "+e._s(t.last)+" ")]}}])}),n("Info",{ref:"EditModel",on:{ok:e.info}}),n("Record",{ref:"RecordModel",on:{ok:e.info}})],1)],1)},i=[],o=(a("ac1f"),a("841c"),a("567c")),s=a("6a47"),c=a("1a29"),r=[{title:"任务名称",dataIndex:"title",key:"title"},{title:"完成时间",dataIndex:"complete_time",key:"complete_time",width:"12%"},{title:"完成数量",dataIndex:"complete_num",key:"complete_num",width:"8%"},{title:"任务内容",dataIndex:"content",key:"content"},{title:"分配人员",dataIndex:"work_name",key:"work_name",scopedSlots:{customRender:"tags"}},{title:"创建时间",dataIndex:"add_time",key:"add_time",width:"12%"},{title:"完成情况",dataIndex:"complete_qk",key:"complete_qk",scopedSlots:{customRender:"complete_qk"},width:"8%"},{title:"操作",key:"action",dataIndex:"",scopedSlots:{customRender:"action"},width:"10%"}],l={name:"taskRelease",components:{Info:s["default"],Record:c["default"]},data:function(){return{list:[],visible:!1,loading:!1,sortedInfo:null,pagination:{current:1,pageSize:10,total:10},search:{title:"",date:[],page:1},page:1,area_type:1,search_data:[]}},mounted:function(){this.getList()},computed:{columns:function(){var t=this.sortedInfo;return t=t||{},r}},created:function(){},methods:{getList:function(){var t=this;this.loading=!0,this.search["page"]=this.pagination.current,this.request(o["a"].getTaskReleaseList,this.search).then((function(e){t.loading=!1,console.log("res",e),t.list=e.list,t.pagination.total=e.count?e.count:0,t.pagination.pageSize=e.total_limit?e.total_limit:10,t.area_type=e.area_type}))},tableChange:function(t){var e=this;t.current&&t.current>0&&(e.pagination.current=t.current,e.getList())},info:function(t){this.getList()},handleOks:function(){this.getList()},dateOnChange:function(t,e){this.search.date=e,console.log("search",e,this.search.date)},searchList:function(){this.tableChange({current:1,pageSize:10,total:10})},resetList:function(){this.search={title:"",date:[],page:1},this.search_data=[],this.tableChange({current:1,pageSize:10,total:10})},deleteConfirm:function(t){var e=this;this.request(o["a"].taskReleaseDel,{id:t}).then((function(t){e.getList(),e.$message.success("删除成功")}))},delCancel:function(){}}},d=l,u=(a("4cf6"),a("2877")),h=Object(u["a"])(d,n,i,!1,null,"5af5904a",null);e["default"]=h.exports},"1a29":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{title:t.title,width:1200,footer:null,visible:t.visible,maskClosable:!1,confirmLoading:t.confirmLoading},on:{cancel:t.handleCancel}},[a("a-table",{staticClass:"components-table-demo-nested",attrs:{columns:t.columns,"data-source":t.data,pagination:t.pagination,loading:t.loading},on:{change:t.table_change}})],1)},i=[],o=(a("ac1f"),a("841c"),a("567c")),s=[{title:"上报人",dataIndex:"work_name",key:"work_name"},{title:"上报时间",dataIndex:"add_time",key:"add_time"},{title:"任务数量",dataIndex:"complete_num",key:"complete_num"},{title:"完成数量",dataIndex:"complete_num_u",key:"complete_num_u"},{title:"上报内容",dataIndex:"complete_num",key:"complete_num"},{title:"状态",dataIndex:"status",key:"status"}],c=[],r={name:"balanceList",filters:{},components:{},data:function(){return{reply_content:"",pagination:{current:1,pageSize:10,total:10},search:{uid:"",keyword:"",page:1},form:this.$form.createForm(this),visible:!1,loading:!1,data:c,columns:s,title:"",confirmLoading:!1,id:""}},methods:{getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.loading=!0,e&&(this.title="查看【"+e+"】"),a>0&&(this.$set(this.pagination,"current",1),this.id=a,this.search["id"]=this.id),this.search["page"]=this.pagination.current,this.request(o["a"].getTaskReleaseRecord,this.search).then((function(e){t.pagination.total=e.count?e.count:0,t.pagination.pageSize=e.total_limit?e.total_limit:10,t.data=e.list,t.loading=!1,t.confirmLoading=!0,t.visible=!0}))},handleCancel:function(){var t=this;this.visible=!1,setTimeout((function(){t.id="0",t.form=t.$form.createForm(t)}),500)},cancel:function(){},table_change:function(t){var e=this;console.log("e",t),t.current&&t.current>0&&(e.pagination.current=t.current,e.getList())},searchList:function(){console.log("search",this.search),this.table_change({current:1,pageSize:10,total:10})},resetList:function(){this.search.keyword="",this.search.page=1,this.table_change({current:1,pageSize:10,total:10})}}},l=r,d=(a("609f"),a("2877")),u=Object(d["a"])(l,n,i,!1,null,"27d2e03a",null);e["default"]=u.exports},"4cf6":function(t,e,a){"use strict";a("6695b")},"609f":function(t,e,a){"use strict";a("6ee3")},"6695b":function(t,e,a){},"6ee3":function(t,e,a){}}]);