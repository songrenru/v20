(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ccdde9f2","chunk-3d2e8134"],{1042:function(e,t,a){"use strict";a.r(t);a("b0c0");var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"shop_list"},[t("div",{staticClass:"header_search"},[t("div",{staticClass:"search_item"},[t("label",{staticClass:"label_title"},[e._v("提现单号：")]),t("a-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入提现单号"},model:{value:e.pageInfo.order_id,callback:function(t){e.$set(e.pageInfo,"order_id",t)},expression:"pageInfo.order_id"}})],1),t("div",{staticClass:"search_item"},[t("label",{staticClass:"label_title"},[e._v("申请人：")]),t("a-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入申请人"},model:{value:e.pageInfo.name,callback:function(t){e.$set(e.pageInfo,"name",t)},expression:"pageInfo.name"}})],1),t("div",{staticClass:"search_item"},[t("label",{staticClass:"label_title"},[e._v("手机号：")]),t("a-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入手机号"},model:{value:e.pageInfo.phone,callback:function(t){e.$set(e.pageInfo,"phone",t)},expression:"pageInfo.phone"}})],1),e.clearTime?t("div",{staticClass:"search_item",staticStyle:{"margin-left":"20px"}},[t("label",{staticClass:"label_title"},[e._v("申请时间：")]),t("a-range-picker",{on:{change:e.ondateChange}})],1):e._e(),t("div",{staticClass:"search_item",staticStyle:{"margin-left":"10px"}},[t("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.queryThis()}}},[e._v("查询")]),t("a-button",{staticStyle:{"margin-left":"10px"},on:{click:function(t){return e.clearThis()}}},[e._v("清空")])],1)]),t("div",{staticClass:"table_content"},[t("a-table",{attrs:{columns:e.columns,"row-key":function(e){return e.m_id},pagination:e.pageInfo,loading:e.tableLoadding,"data-source":e.withdrawalList},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"refuse_account",fn:function(a,i){return t("span",{},[e._v(" "+e._s(1==i.refundType?"微信":"平台余额")+" ")])}},{key:"action",fn:function(a,i){return t("span",{},[t("a",{on:{click:function(t){return e.lookRecord(i)}}},[e._v("查看")]),2==i.status?t("a-divider",{attrs:{type:"vertical"}}):e._e(),2==i.status?t("a",{on:{click:function(t){return e.examineThis(i)}}},[e._v("审核")]):e._e()],1)}}])})],1),t("withdrawalModal",{attrs:{visible:e.withdrawalVisible,title:e.modalTitle,id:e.withdrawal_id},on:{close:e.closeWithdrawal}})],1)},n=[],l=a("ade3"),o=(a("a0e0"),a("fbd5")),r=[{title:"提现单号",dataIndex:"id",key:"id"},{title:"申请人",dataIndex:"name",key:"name"},{title:"真实姓名",dataIndex:"true_name",key:"true_name"},Object(l["a"])({title:"手机号",key:"phone"},"key","phone"),{title:"申请时间",dataIndex:"add_time",key:"add_time"},{title:"申请金额",dataIndex:"refund_money",key:"refund_money"},{title:"退款账号",dataIndex:"refund_account",key:"refund_account",scopedSlots:{customRender:"refuse_account"}},{title:"退款理由",dataIndex:"refund_reason",key:"refund_reason"},{title:"状态",dataIndex:"status_txt",key:"status_txt"},{title:"操作",key:"action",scopedSlots:{customRender:"action"}}],s={data:function(){return{columns:r,pageInfo:{current:1,page:1,pageSize:10,total:10,date:"",m_name:"",showSizeChanger:!0,pageSizeOptions:["10","20","50","100"]},tableLoadding:!1,withdrawal:[],frequency:!1,clearTime:!0,withdrawal_id:"",withdrawalList:[],withdrawalVisible:!1,modalTitle:""}},components:{withdrawalModal:o["default"]},activated:function(){this.getWithdrawalList()},methods:{queryThis:function(){var e=this;if(this.frequency)this.$message.warn("请求频繁，请稍后再试");else{this.frequency=!0;var t=setTimeout((function(){e.frequency=!1,clearTimeout(t)}),2e3);this.pageInfo.page=1,this.getWithdrawalList()}},clearThis:function(){var e=this;this.clearTime=!1;var t=setTimeout((function(){e.clearTime=!0,clearTimeout(t)}),10);this.pageInfo={page:1,current:1,limit:10,pageSize:10,total:0,status:"",name:"",phone:"",order_id:"",start_time:"",end_time:""},this.getWithdrawalList()},onTableChange:function(e,t){this.pageInfo.current=e,this.pageInfo.page=e,this.pageInfo.pageSize=t,this.getWithdrawalList()},handleTableChange:function(e,t,a){this.pageInfo.current=e.current,this.pageInfo.page=e.current,this.getWithdrawalList()},getWithdrawalList:function(){var e=this;e.tableLoadding=!0,e.request("/community/village_api.Pile/getWithdrawList",e.pageInfo).then((function(t){e.withdrawalList=t.list,e.pageInfo.total=t.count,e.tableLoadding=!1})).catch((function(t){e.tableLoadding=!1}))},ondateChange:function(e,t){this.pageInfo.start_time=[0],this.pageInfo.end_time=[1],console.log(e,t)},lookRecord:function(e){this.withdrawal_id=e.id+"",this.modalTitle="查看",this.withdrawalVisible=!0},examineThis:function(e){this.withdrawal_id=e.id+"",this.modalTitle="审核",this.withdrawalVisible=!0},closeWithdrawal:function(e){this.withdrawalVisible=!1,e&&this.getWithdrawalList()}}},d=s,c=(a("4215"),a("2877")),u=Object(c["a"])(d,i,n,!1,null,"0d271a54",null);t["default"]=u.exports},4215:function(e,t,a){"use strict";a("6756b")},"65ad":function(e,t,a){"use strict";a("a01b")},"6756b":function(e,t,a){},a01b:function(e,t,a){},fbd5:function(e,t,a){"use strict";a.r(t);a("b0c0");var i=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{title:e.title,visible:e.visible,width:700,footer:"审核"==e.title?void 0:null},on:{ok:e.handleOk,cancel:e.handleCancel}},[t("a-form-model",{ref:"ruleForm",attrs:{model:e.formObj,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[t("a-form-model-item",{attrs:{label:"提现单号"}},[t("a-input",{attrs:{disabled:!0,placeholder:"请输入"},model:{value:e.formObj.id,callback:function(t){e.$set(e.formObj,"id",t)},expression:"formObj.id"}})],1),t("a-form-model-item",{attrs:{label:"申请人"}},[t("a-input",{attrs:{disabled:!0,placeholder:"请输入"},model:{value:e.formObj.name,callback:function(t){e.$set(e.formObj,"name",t)},expression:"formObj.name"}})],1),t("a-form-model-item",{attrs:{label:"真实姓名"}},[t("a-input",{attrs:{disabled:!0,placeholder:""},model:{value:e.formObj.true_name,callback:function(t){e.$set(e.formObj,"true_name",t)},expression:"formObj.true_name"}})],1),t("a-form-model-item",{attrs:{label:"手机号"}},[t("a-input",{attrs:{disabled:!0,placeholder:"请输入"},model:{value:e.formObj.phone,callback:function(t){e.$set(e.formObj,"phone",t)},expression:"formObj.phone"}})],1),t("a-form-model-item",{attrs:{label:"申请时间"}},[t("a-input",{attrs:{disabled:!0,placeholder:"请输入"},model:{value:e.formObj.add_time,callback:function(t){e.$set(e.formObj,"add_time",t)},expression:"formObj.add_time"}})],1),t("a-form-model-item",{attrs:{label:"申请金额"}},[t("a-input",{attrs:{disabled:!0,placeholder:"请输入"},model:{value:e.formObj.refund_money,callback:function(t){e.$set(e.formObj,"refund_money",t)},expression:"formObj.refund_money"}})],1),t("a-form-model-item",{attrs:{label:"申请提现理由"}},[t("a-textarea",{staticStyle:{padding:"5px width:200px",height:"100px",resize:"none"},attrs:{disabled:!0,placeholder:"请输入"},model:{value:e.formObj.refund_reason,callback:function(t){e.$set(e.formObj,"refund_reason",t)},expression:"formObj.refund_reason"}})],1),t("a-form-model-item",{attrs:{label:"提现至"}},[t("a-select",{attrs:{disabled:!0,value:e.formObj.refundType},on:{change:e.selectChange}},e._l(e.typeList,(function(a,i){return t("a-select-option",{key:i,attrs:{value:a.value}},[e._v(" "+e._s(a.label)+" ")])})),1)],1),"查看"==e.title?t("a-form-model-item",{attrs:{label:"审核结果"}},[3==e.formObj.status?t("span",{staticStyle:{color:"green"}},[e._v("审核通过")]):e._e(),4==e.formObj.status?t("span",{staticStyle:{color:"red"}},[e._v("审核拒绝")]):e._e()]):e._e(),"审核"==e.title?t("a-form-model-item",{attrs:{label:"拒绝原因"}},[t("a-textarea",{staticStyle:{padding:"5px width:200px",height:"100px",resize:"none"},attrs:{placeholder:"请输入"},model:{value:e.formObj.reason,callback:function(t){e.$set(e.formObj,"reason",t)},expression:"formObj.reason"}})],1):e._e(),"审核"==e.title?t("a-form-model-item",{attrs:{label:"状态"}},[t("a-radio-group",{attrs:{name:"radioGroup"},model:{value:e.formObj.status,callback:function(t){e.$set(e.formObj,"status",t)},expression:"formObj.status"}},[t("a-radio",{attrs:{value:3}},[e._v("同意")]),t("a-radio",{attrs:{value:4}},[e._v("拒绝")])],1)],1):e._e()],1)],1)},n=[],l=(a("a9e3"),{data:function(){return{formObj:{id:"",name:"",phone:"",add_time:"",refund_money:"",refund_reason:"",refundType:"",status:3,true_name:""},labelCol:{span:6},wrapperCol:{span:14},typeList:[{label:"微信",value:1},{label:"平台余额",value:2}]}},props:{visible:{type:Boolean,default:!1},id:{type:[String,Number],default:0},title:{type:String,default:""}},watch:{visible:{handler:function(e){e&&this.getDetail(this.id)},immediate:!0}},methods:{getDetail:function(e){var t=this;t.request("/community/village_api.Pile/getWithdrawInfo ",{id:e}).then((function(e){t.formObj=e}))},handleOk:function(){var e=this;e.$refs.ruleForm.validate((function(t){t&&(e.formObj.id=e.id,e.request("/community/village_api.Pile/checkWithdraw",e.formObj).then((function(t){e.$message.success("审核成功！"),e.$emit("close",!0)})))}))},handleCancel:function(){var e=this;e.$refs.ruleForm.resetFields(),e.formObj={id:"",name:"",phone:"",add_time:"",refund_money:"",refund_reason:"",refundType:"",status:3,true_name:""},e.$emit("close",!1)},selectChange:function(e){this.formObj.refundType=e,this.$forceUpdate()}}}),o=l,r=(a("65ad"),a("2877")),s=Object(r["a"])(o,i,n,!1,null,"e524f08c",null);t["default"]=s.exports}}]);