(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-336fc2e9"],{"1cb1":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"message-suggestions-list-box"},[i("div",{staticClass:"search-box"},[i("a-row",{attrs:{gutter:48}},[i("a-col",{attrs:{md:8,sm:24}},[i("a-row",{attrs:{type:"flex",justify:"center",align:"middle"}},[i("a-col",{staticStyle:{"text-align":"center"},attrs:{span:6}},[t._v(" 志愿者姓名： ")]),i("a-col",{attrs:{span:18}},[i("a-input",{attrs:{placeholder:"请输入志愿者姓名"},model:{value:t.search.join_name,callback:function(e){t.$set(t.search,"join_name",e)},expression:"search.join_name"}})],1)],1)],1),i("a-col",{attrs:{md:8,sm:24}},[i("a-row",{attrs:{type:"flex",justify:"center",align:"middle"}},[i("a-col",{staticStyle:{"text-align":"center"},attrs:{span:6}},[t._v(" 联系方式： ")]),i("a-col",{attrs:{span:18}},[i("a-input",{attrs:{placeholder:"请输入联系方式"},model:{value:t.search.join_phone,callback:function(e){t.$set(t.search,"join_phone",e)},expression:"search.join_phone"}})],1)],1)],1),i("a-col",{attrs:{md:2,sm:24}},[i("a-button",{attrs:{type:"primary",icon:"search"},on:{click:function(e){return t.searchList()}}},[t._v(" 查询 ")])],1),i("a-col",{attrs:{md:2,sm:24}},[i("a-button",{on:{click:function(e){return t.resetList()}}},[t._v("重置")])],1)],1)],1),i("a-table",{staticClass:"components-table-demo-nested",attrs:{columns:t.columns,"data-source":t.data,pagination:t.pagination},on:{change:t.table_change},scopedSlots:t._u([{key:"join_status",fn:function(e,a){return i("span",{},[i("a-badge",{attrs:{status:t._f("statusFilter")(a.join_status),text:e}})],1)}},{key:"action",fn:function(e,a){return i("span",{},[i("a",{on:{click:function(e){return t.$refs.createModal.edit(a.join_name,a.join_id,a.activity_id)}}},[t._v("编辑")]),i("a-divider",{attrs:{type:"vertical"}}),i("a",{on:{click:function(e){return t.delInfo(a)}}},[t._v("删除")])],1)}}])}),i("a-modal",{attrs:{title:"查看编辑"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[i("a-form",{attrs:{form:t.form}},[i("a-form-item",[i("a-row",{attrs:{align:"middle"}},[i("a-col",{staticClass:"modal_box_title",attrs:{span:5}},[i("span",{staticStyle:{color:"#F5242E"}},[t._v("*")]),t._v(" 报名姓名 ")]),i("a-col",{attrs:{span:19}},[i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["join_name",{initialValue:t.detail.join_name,rules:[{required:!0,message:"请填写报名者姓名!"}]}],expression:"[\n                    `join_name`,\n                    {\n                    initialValue: detail.join_name,\n                      rules: [\n                        {\n                          required: true,\n                          message: '请填写报名者姓名!',\n                        },\n                      ],\n                    },\n                  ]"}],attrs:{placeholder:"请填写报名者姓名"}})],1)],1)],1),i("a-form-item",[i("a-row",{attrs:{align:"middle"}},[i("a-col",{staticClass:"modal_box_title",attrs:{span:5}},[i("span",{staticStyle:{color:"#F5242E"}},[t._v("*")]),t._v(" 报名手机号 ")]),i("a-col",{attrs:{span:19}},[i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["join_phone",{initialValue:t.detail.join_phone,rules:[{required:!0,message:"请填写报名手机号!"}]}],expression:"[\n                  `join_phone`,\n                  {\n                  initialValue: detail.join_phone,\n                    rules: [\n                      {\n                        required: true,\n                        message: '请填写报名手机号!',\n                      },\n                    ],\n                  },\n                ]"}],attrs:{placeholder:"请填写报名手机号"}})],1)],1)],1),i("a-form-item",[i("a-row",{attrs:{align:"middle"}},[i("a-col",{staticClass:"modal_box_title",attrs:{span:5}},[1==t.detail.active_is_need?i("span",{staticStyle:{color:"#F5242E"}},[t._v("*")]):t._e(),t._v(" 报名身份证 ")]),i("a-col",{attrs:{span:19}},[i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["join_id_card",{initialValue:t.detail.join_id_card}],expression:"[\n                  `join_id_card`,\n                  {\n                    initialValue: detail.join_id_card,\n                  },\n                ]"}],attrs:{placeholder:"请填写报名身份证"}})],1)],1)],1),i("a-form-item",[i("a-row",{attrs:{align:"middle"}},[i("a-col",{staticClass:"modal_box_title",attrs:{span:5}},[t._v(" 所属活动 ")]),i("a-col",{attrs:{span:19}},[t._v(" "+t._s(t.detail.active_name)+" ")])],1)],1),i("a-form-item",[i("a-row",{attrs:{align:"middle"}},[i("a-col",{staticClass:"modal_box_title",attrs:{md:5}},[t._v(" 备注 ")]),i("a-col",{attrs:{md:19}},[i("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["join_remark",{initialValue:t.detail.join_remark}],expression:"[\n                  `join_remark`,\n                  {\n                    initialValue: detail.join_remark,\n                  },\n                ]"}],attrs:{placeholder:"请输入备注内容"}})],1)],1)],1),i("a-form-item",[i("a-row",{attrs:{align:"middle"}},[i("a-col",{staticClass:"modal_box_title",attrs:{span:5}},[i("span",{staticStyle:{color:"#F5242E"}},[t._v("*")]),t._v(" 报名状态 ")]),i("a-col",{attrs:{span:19}},[i("a-radio-group",{attrs:{name:"join_status"},model:{value:t.detail.join_status,callback:function(e){t.$set(t.detail,"join_status",e)},expression:"detail.join_status"}},[i("a-radio",{attrs:{value:1}},[t._v(" 开启 ")]),i("a-radio",{attrs:{value:2}},[t._v(" 关闭 ")])],1)],1)],1)],1)],1),i("div",{style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right",zIndex:1}},[i("a-button",{style:{marginRight:"8px"},on:{click:t.onClose}},[t._v(" 取消 ")]),i("a-button",{attrs:{type:"primary"},on:{click:t.onSubmitSave}},[t._v(" 确认 ")])],1)],1),i("signVolunteerInfo",{ref:"createModal",on:{ok:t.handleOks}})],1)},n=[],o=(i("ac1f"),i("841c"),i("567c")),s=i("7fde"),r=[{title:"姓名",dataIndex:"join_name",key:"join_name"},{title:"联系电话",dataIndex:"join_phone",key:"join_phone"},{title:"身份证明",dataIndex:"join_id_card",key:"join_id_card"},{title:"报名时间",dataIndex:"join_add_time_txt",key:"join_add_time_txt"},{title:"状态",dataIndex:"join_status_txt",key:"join_status_txt",scopedSlots:{customRender:"join_status"}},{title:"操作",dataIndex:"operation",key:"operation",scopedSlots:{customRender:"action"}}],c=[],l={name:"signVolunteerActivitiesList",components:{signVolunteerInfo:s["default"]},filters:{statusFilter:function(t){var e=["error","success","error"];return e[t]}},data:function(){return{reply_content:"",pagination:{pageSize:10,total:10},search_data:[],search:{join_name:"",join_phone:"",page:1},form:this.$form.createForm(this),visible:!1,data:c,columns:r,page:1,detail:{join_name:"",join_phone:"",join_id_card:"",join_remark:"",join_status:1,activity_id:1,active_name:"",active_is_need:0},join_id:0,loadPost:!1}},mounted:function(){console.log("router",1),console.log("router",this.$route.query.activity_id);var t=this.$route.query.activity_id;t&&(this.search.activity_id=t),this.getActiveJoinList()},activated:function(){console.log("router",1),console.log("router",this.$route.query.activity_id);var t=this.$route.query.activity_id;t&&(this.search.activity_id=t),this.getActiveJoinList()},methods:{handleOks:function(){this.getActiveJoinList()},getActiveJoinList:function(){var t=this;if(this.loadPost)return!1;this.loadPost=!0,this.search["page"]=this.page,this.request(o["a"].getActiveJoinList,this.search).then((function(e){t.loadPost=!1,console.log("res",e),t.pagination.total=e.count?e.count:0,t.data=e.list}))},getMessageSuggestionsDetail:function(t){var e=this;this.request(o["a"].messageSuggestionsDetail,{suggestions_id:t}).then((function(t){console.log("res",t),e.detail=t.info}))},saveMessageSuggestionsReplyInfo:function(){var t=this;this.request(o["a"].saveMessageSuggestionsReplyInfo,{suggestions_id:this.detail.suggestions_id,reply_content:this.reply_content}).then((function(e){console.log("res",e),t.visible=!1,t.reply_content="",t.$notification.success({message:"回复成功"}),t.getMessageSuggestionsList()}))},onSubmitSave:function(){this.handleSubmit()},handleSubmit:function(){var t=this,e=this.form.validateFields;this.confirmLoading=!0,e((function(e,i){e?t.confirmLoading=!1:(console.log("rerererere",i),i.join_id=t.join_id,i.join_status=t.detail.join_status,t.request(o["a"].subActiveJoin,i).then((function(e){t.$message.success("编辑成功"),t.getActiveJoinList(),setTimeout((function(){t.form=t.$form.createForm(t),t.visible=!1,t.confirmLoading=!1,t.$emit("ok",i)}),1500)})).catch((function(e){t.confirmLoading=!1})),console.log("values",i))}))},lookEdit:function(t){console.log("e",t),this.visible=!0,this.detail=t,this.join_id=t.join_id,this.active_is_need=t.active_is_need},delInfo:function(t){var e=this;this.$confirm({title:"你确定要删除该报名信息?",content:"该报名信息一旦删除不可恢复",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){e.request(o["a"].delActivityJoin,{activity_id:t.activity_id,join_id:t.join_id}).then((function(t){e.$message.success("删除成功！"),e.getActiveJoinList()}))},onCancel:function(){console.log("Cancel")}})},table_change:function(t){console.log("e",t),t.current&&t.current>0&&(this.page=t.current,this.getActiveJoinList())},onClose:function(){this.visible=!1},dateOnChange:function(t,e){this.search.date=e,console.log("search",this.search)},searchList:function(){console.log("search",this.search),this.getActiveJoinList()},resetList:function(){console.log("search",this.search),console.log("search_data",this.search_data),this.search.join_name="",this.search.join_phone="",this.search.page=1,this.search_data=[],this.getActiveJoinList()}}},d=l,u=(i("5ce7"),i("2877")),_=Object(u["a"])(d,a,n,!1,null,"1a6c1ba2",null);e["default"]=_.exports},4379:function(t,e,i){},"5ce7":function(t,e,i){"use strict";i("4379")}}]);