(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dc7a7e7c"],{"4d95":function(e,t,i){"use strict";var o={getTicketList:"life_tools/merchant.LifeToolsTicket/getList",getTicketDetail:"life_tools/merchant.LifeToolsTicket/getDetail",ticketDel:"life_tools/merchant.LifeToolsTicket/del",TicketEdit:"life_tools/merchant.LifeToolsTicket/addOrEdit",getLifeToolsList:"life_tools/merchant.LifeTools/getInformationList",setLifeToolsAttrs:"life_tools/merchant.LifeTools/setLifeToolsAttrs",getSportsOrderList:"/life_tools/merchant.SportsOrder/getOrderList",exportToolsOrder:"/life_tools/merchant.SportsOrder/exportToolsOrder",getSportsOrderDetail:"/life_tools/merchant.SportsOrder/getOrderDetail",agreeSportsOrderRefund:"/life_tools/merchant.SportsOrder/agreeRefund",refuseSportsOrderRefund:"/life_tools/merchant.SportsOrder/refuseRefund",getEditInfo:"life_tools/merchant.LifeToolsTicket/getEditInfo",getCategoryList:"life_tools/merchant.LifeToolsCategory/getCategoryList",getMapConfig:"life_tools/merchant.LifeTools/getMapConfig",getAddressList:"life_tools/merchant.LifeTools/getAddressList",addEditLifeTools:"life_tools/merchant.LifeTools/addEditLifeTools",getLifeToolsDetail:"life_tools/merchant.LifeTools/getLifeToolsDetail",delLifeTools:"life_tools/merchant.LifeTools/delLifeTools",getReplyList:"/life_tools/merchant.LifeToolsReply/searchReply",isShowReply:"/life_tools/merchant.LifeToolsReply/isShowReply",getReplyDetails:"/life_tools/merchant.LifeToolsReply/getReplyDetails",delReply:"/life_tools/merchant.LifeToolsReply/delReply",subReply:"/life_tools/merchant.LifeToolsReply/subReply",getReplyContent:"/life_tools/merchant.LifeToolsReply/getReplyContent",getCardList:"/life_tools/merchant.EmployeeCard/getCardList",editCard:"/life_tools/merchant.EmployeeCard/editCard",saveCard:"/life_tools/merchant.EmployeeCard/saveCard",delCard:"/life_tools/merchant.EmployeeCard/delCard",getSportsVerifyList:"/life_tools/merchant.SportsOrder/getVerifyList",exportVerifyRecord:"/life_tools/merchant.SportsOrder/exportVerifyRecord",getLimitedList:"/life_tools/merchant.LifeScenicLimitedAct/getLimitedList",updateLimited:"/life_tools/merchant.LifeScenicLimitedAct/addLimited",limitedChangeState:"/life_tools/merchant.LifeScenicLimitedAct/changeState",removeLimited:"/life_tools/merchant.LifeScenicLimitedAct/del",getLimitedInfo:"/life_tools/merchant.LifeScenicLimitedAct/edit",getMerchantSort:"/life_tools/merchant.LifeToolsTicket/getMerchantSort",getLifeToolsTicket:"/life_tools/merchant.LifeToolsTicket/getLifeToolsTicket",getToolsCardList:"/life_tools/merchant.LifeTools/getToolsCardList",AddOrEditToolsCard:"/life_tools/merchant.LifeTools/AddOrEditToolsCard",getToolsCardEdit:"/life_tools/merchant.LifeTools/getToolsCardEdit",delToolsCard:"/life_tools/merchant.LifeTools/delToolsCard",getAllToolsList:"/life_tools/merchant.LifeTools/getAllToolsList",getToolsCardRecord:"/life_tools/merchant.LifeTools/getToolsCardRecord",getCardOrderList:"/life_tools/merchant.LifeTools/getCardOrderList",getCardOrderDetail:"/life_tools/merchant.LifeTools/getCardOrderDetail",agreeCardOrderRefund:"/life_tools/merchant.LifeTools/agreeCardOrderRefund",refuseCardOrderRefund:"/life_tools/merchant.LifeTools/refuseCardOrderRefund",getSportsActivityList:"/life_tools/merchant.LifeToolsSportsActivity/getSportsActivityList",updateSportsActivityStatus:"/life_tools/merchant.LifeToolsSportsActivity/updateSportsActivityStatus",getSportsActivityOrderList:"/life_tools/merchant.LifeToolsSportsActivity/getSportsActivityOrderList",addSportsActivity:"/life_tools/merchant.LifeToolsSportsActivity/addSportsActivity",editSportsActivity:"/life_tools/merchant.LifeToolsSportsActivity/editSportsActivity",getTravelList:"/life_tools/merchant.LifeToolsGroupTravelAgency/getTravelList",agencyAudit:"/life_tools/merchant.LifeToolsGroupTravelAgency/audit",getStaffList:"/life_tools/merchant.LifeToolsTicket/getStaffList",getAppointList:"life_tools/merchant.LifeToolsAppoint/getList",getAppointMsg:"life_tools/merchant.LifeToolsAppoint/getToolAppointMsg",saveAppoint:"life_tools/merchant.LifeToolsAppoint/saveToolAppoint",lookAppointUser:"life_tools/merchant.LifeToolsAppoint/lookAppointUser",closeAppoint:"life_tools/merchant.LifeToolsAppoint/closeAppoint",exportAppointUserOrder:"life_tools/merchant.LifeToolsAppoint/exportUserOrder",delAppoint:"life_tools/merchant.LifeToolsAppoint/delAppoint",getSeatMap:"/life_tools/merchant.LifeToolsAppoint/getSeatMap",getAppointOrderDetail:"life_tools/merchant.LifeToolsAppoint/getAppointOrderDetail",auditRefund:"life_tools/merchant.LifeToolsAppoint/auditRefund",suspend:"life_tools/merchant.LifeToolsAppoint/suspend",getSportsSecondsKillList:"/life_tools/merchant.LifeToolsSportsSecondsKill/getSecondsKillList",saveSportsSecondsKill:"/life_tools/merchant.LifeToolsSportsSecondsKill/saveSecondsKill",ChangeSportsSecondsKill:"/life_tools/merchant.LifeToolsSportsSecondsKill/ChangeSportsSecondsKill",delSportsSecondsKill:"/life_tools/merchant.LifeToolsSportsSecondsKill/delSecondsKill",getSportsSecondsKillDetail:"/life_tools/merchant.LifeToolsSportsSecondsKill/getSecondsKillDetail",getGroupTicketList:"life_tools/merchant.group/getGroupTicketList",getGroupLifeToolsTicket:"life_tools/merchant.LifeToolsTicket/getLifeToolsTicket",addGroupTicket:"life_tools/merchant.group/addGroupTicket",delGroupTicket:"life_tools/merchant.group/delGroupTicket",editSettingData:"life_tools/merchant.group/editSettingData",editGroupTicket:"life_tools/merchant.group/editGroupTicket",getSettingDataDetail:"life_tools/merchant.group/getSettingDataDetail",getStatisticsData:"life_tools/merchant.LifeToolsGroupOrder/getStatisticsData",getOrderList:"life_tools/merchant.LifeToolsGroupOrder/getOrderList",getOrderAuditList:"/life_tools/merchant.LifeToolsGroupOrder/getAuditGroupOrderList",orderAudit:"/life_tools/merchant.LifeToolsGroupOrder/audit",groupOrderRefand:"life_tools/merchant.LifeToolsGroupOrder/groupOrderRefand",editDistributionPrice:"life_tools/merchant.LifeToolsDistribution/editDistributionPrice",getDistributionSettingDataDetail:"/life_tools/merchant.LifeToolsDistribution/getSettingDataDetail",getDistributionSettingeditSetting:"/life_tools/merchant.LifeToolsDistribution/editSetting",getAtatisticsInfo:"/life_tools/merchant.LifeToolsDistribution/getAtatisticsInfo",getDistributorList:"/life_tools/merchant.LifeToolsDistribution/getDistributorList",getLowerLevel:"/life_tools/merchant.LifeToolsDistribution/getLowerLevel",audit:"/life_tools/merchant.LifeToolsDistribution/audit",getDistributionOrderList:"/life_tools/merchant.LifeToolsDistribution/getDistributionOrderList",editDistributionOrderNote:"/life_tools/merchant.LifeToolsDistribution/editDistributionOrderNote",delDistributor:"/life_tools/merchant.LifeToolsDistribution/delDistributor",addStatement:"/life_tools/merchant.LifeToolsDistribution/addStatement",getStatementList:"/life_tools/merchant.LifeToolsDistribution/getStatement",getStatementDetail:"/life_tools/merchant.LifeToolsDistribution/getStatementDetail",lifeToolsAudit:"/life_tools/platform.LifeTools/lifeToolsAudit",auditTicket:"/life_tools/platform.LifeToolsTicket/auditTicket",getMapCity:"/g=Index&c=Map&a=suggestion",getCarParkList:"/life_tools/merchant.LifeToolsCarPark/getCarParkList",addCarPark:"/life_tools/merchant.LifeToolsCarPark/addCarPark",showCarPark:"/life_tools/merchant.LifeToolsCarPark/showCarPark",getToolsList:"/life_tools/merchant.LifeToolsCarPark/getToolsList",deleteCarPark:"/life_tools/merchant.LifeToolsCarPark/deleteCarPark",statusCarPark:"/life_tools/merchant.LifeToolsCarPark/statusCarPark",wifiList:"life_tools/merchant.LifeToolsWifi/wifiList",wifiAdd:"life_tools/merchant.LifeToolsWifi/wifiAdd",wifiShow:"life_tools/merchant.LifeToolsWifi/wifiShow",wifiStatusChange:"life_tools/merchant.LifeToolsWifi/wifiStatusChange",wifiDelete:"life_tools/merchant.LifeToolsWifi/wifiDelete",scenicMapSave:"/life_tools/merchant.LifeToolsScenicMap/saveMap",scenicMapPlaceList:"/life_tools/merchant.LifeToolsScenicMap/mapPlaceList",scenicMapPlaceSave:"/life_tools/merchant.LifeToolsScenicMap/saveMapPlace",scenicMapPlaceDel:"/life_tools/merchant.LifeToolsScenicMap/mapPlaceDel",scenicMapLineList:"/life_tools/merchant.LifeToolsScenicMap/mapLineList",scenicMapLineSave:"/life_tools/merchant.LifeToolsScenicMap/saveMapLine",scenicMapLineDel:"/life_tools/merchant.LifeToolsScenicMap/mapLineDel",scenicMapScenicList:"/life_tools/merchant.LifeToolsScenicMap/scenicList",scenicMapPlaceCatList:"/life_tools/merchant.LifeToolsScenicMap/categoryList",scenicMapPlaceCategoryDel:"/life_tools/merchant.LifeToolsScenicMap/categoryDel",scenicMapPlaceCategorySave:"/life_tools/merchant.LifeToolsScenicMap/saveCategory",scenicMapList:"/life_tools/merchant.LifeToolsScenicMap/mapList",scenicMapDel:"/life_tools/merchant.LifeToolsScenicMap/mapDel",scenicMapStatusSave:"/life_tools/merchant.LifeToolsScenicMap/saveMapStatus",changeCloseStatus:"life_tools/merchant.LifeTools/changeCloseStatus",getAddEditCardMerchantInfo:"/life_tools/merchant.LifeTools/getAddEditCardMerchantInfo"};t["a"]=o},c336:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mt-10 mb-20 pt-20 pl-20 pr-20 pb-20 bg-ff br-10"},[i("a-row",{attrs:{type:"flex",justify:"space-between"}},[i("a-col",{staticClass:"flex flex-1",attrs:{flex:"auto"}},[i("a-form-model",{attrs:{model:e.searchFormData,layout:"inline"}},[i("a-form-model-item",{attrs:{label:"地图名称"}},[i("a-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入地图名称",allowClear:!0},on:{pressEnter:function(t){return e.getList(!0)}},model:{value:e.searchFormData.name,callback:function(t){e.$set(e.searchFormData,"name",t)},expression:"searchFormData.name"}})],1)],1),i("a-button",{staticClass:"mr-20",staticStyle:{"margin-top":"4px"},attrs:{type:"primary"},on:{click:function(t){return e.getList(!0)}}},[e._v("搜索")]),i("a-button",{staticStyle:{"margin-top":"4px"},attrs:{type:"primary"},on:{click:function(t){return e.$router.push({path:"/merchant/merchant.life_tools/ScenicMapPlaceCategory"})}}},[e._v("标记分类管理")])],1),i("a-col",{staticStyle:{"margin-top":"4px"},attrs:{flex:"30%"}},[e.selectedRowKeys.length?i("a-button",{attrs:{type:"danger"},on:{click:function(t){return e.delScenicMap()}}},[e._v("删除")]):e._e(),i("a-button",{staticClass:"ml-20",attrs:{type:"primary"},on:{click:function(t){return e.editScenicMap()}}},[e._v("新建")])],1)],1),i("a-table",{staticClass:"mt-20",attrs:{rowKey:"id","row-selection":{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange},columns:e.columns,"data-source":e.list,pagination:e.pagination},scopedSlots:e._u([{key:"mapInfo",fn:function(t,o){return i("span",{},[i("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.mapInfoUpdate(o.id)}}},[e._v("编辑")])])}},{key:"status",fn:function(t,o){return i("span",{},[i("a-switch",{attrs:{"checked-children":"开","un-checked-children":"关",checked:1==o.status},on:{change:function(t){return e.updateStatus(t,o)}}})],1)}},{key:"action",fn:function(t,o,s){return i("span",{},[i("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.delScenicMap(s)}}},[e._v("删除")]),i("a",{staticClass:"ml-20",attrs:{href:"javascript:;"},on:{click:function(t){return e.editScenicMap(o)}}},[e._v("编辑")])])}}])}),i("a-modal",{attrs:{title:e.modalTitle,visible:e.modalVisible,maskClosable:!1,width:"40%",destroyOnClose:!0,bodyStyle:{maxHeight:"400px",overflowY:"auto"}},on:{ok:e.modalHandleOk,cancel:e.modalHandleCancel}},[e.formData?i("a-form-model",{attrs:{"label-col":e.labelCol,"wrapper-col":e.wrapperCol,model:e.formData}},[i("a-form-model-item",{attrs:{label:"地图名称",required:!0}},[i("a-input",{attrs:{placeholder:"请输入地图名称"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),i("a-form-model-item",{attrs:{label:"绑定景区",required:!0}},[i("a-select",{attrs:{placeholder:"请选择景区",options:e.scenicOptions,showSearch:!0},model:{value:e.formData.scenic_id,callback:function(t){e.$set(e.formData,"scenic_id",t)},expression:"formData.scenic_id"}})],1),i("a-form-model-item",{attrs:{label:"状态"}},[i("a-switch",{attrs:{"checked-children":"开","un-checked-children":"关",checked:1==e.formData.status},on:{change:function(t){return e.formData.status=t?1:0}}})],1)],1):e._e()],1)],1)},s=[],a=i("5530"),l=(i("b0c0"),i("c740"),i("d81d"),i("99af"),i("4d95")),r={name:"ScenicMapList",data:function(){var e=this;return{labelCol:{span:5},wrapperCol:{span:16},modalVisible:!1,modalTitle:"",formData:null,scenicOptions:[],searchFormData:{name:""},list:[],columns:[{title:"地图名称",dataIndex:"name"},{title:"绑定景区",dataIndex:"scenic_name"},{title:"地图标注/推荐路线",dataIndex:"mapInfo",scopedSlots:{customRender:"mapInfo"},align:"center"},{title:"状态",dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"}}],pagination:{current:1,total:0,pageSize:10,showSizeChanger:!0,onChange:this.onPageChange,onShowSizeChange:this.onPageSizeChange,showTotal:function(t){return e.L("共X1条",{X1:t})}},selectedRowKeys:[]}},mounted:function(){this.getList()},methods:{getList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&this.$set(this.pagination,"current",1);var i={page:this.pagination.current,page_size:this.pagination.pageSize,name:this.searchFormData.name};this.request(l["a"].scenicMapList,i).then((function(t){var i=t.total,o=void 0===i?0:i,s=t.data,a=void 0===s?[]:s;e.list=a,e.$set(e.pagination,"total",o)}))},onSelectChange:function(e){this.selectedRowKeys=e},onPageChange:function(e,t){this.$set(this.pagination,"current",e),this.getList()},onPageSizeChange:function(e,t){this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",t),this.getList()},delScenicMap:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.$confirm({title:"是否确定删除地图?",centered:!0,onOk:function(){var i={map_ids:-1!=t?[e.list[t]["id"]]:e.selectedRowKeys};e.request(l["a"].scenicMapDel,i).then((function(t){e.getList(!0),e.$message.success("操作成功")}))},onCancel:function(){}})},editScenicMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.modalVisible=!0,this.modalTitle=e?"编辑地图":"新建地图",this.formData=e?{id:e.id,name:e.name,scenic_id:e.scenic_id,status:e.status}:{name:"",scenic_id:void 0,status:1},this.getScenicList(e)},updateStatus:function(e,t){var i=this,o={map_id:t.id,status:e?1:0};this.request(l["a"].scenicMapStatusSave,o).then((function(e){var s=i.list.findIndex((function(e){return e.id==t.id}));i.$set(i.list[s],"status",o.status),i.$message.success("操作成功")}))},getScenicList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.request(l["a"].scenicMapScenicList,{}).then((function(i){var o=[];t&&(o=[{value:t.scenic_id,label:t.scenic_name}]),i&&i.length&&(i=i.map((function(e){return{value:e.id,label:e.name}}))),e.scenicOptions=i&&i.length?o.concat(i):o}))},modalHandleOk:function(){var e=this;if(this.formData.name)if(this.formData.scenic_id){var t=Object(a["a"])(Object(a["a"])({},this.formData),{},{scenic_id:this.formData.scenic_id||""});this.request(l["a"].scenicMapSave,t).then((function(t){e.$message.success("操作成功",1,(function(){e.modalHandleCancel(),e.getList(!0)}))}))}else this.$message.error("请选择要绑定的景区");else this.$message.error("请输入地图名称")},modalHandleCancel:function(){this.modalVisible=!1,this.modalTitle=""},mapInfoUpdate:function(e){this.$router.push({path:"/merchant/merchant.life_tools/ScenicMapAdd",query:{id:e}})}}},n=r,c=i("2877"),f=Object(c["a"])(n,o,s,!1,null,null,null);t["default"]=f.exports}}]);