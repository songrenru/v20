(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c90fa5c","chunk-2d0b3786"],{"1d1a":function(e,t,a){"use strict";a("98ac")},2909:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a("6b75");function n(e){if(Array.isArray(e))return Object(i["a"])(e)}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function l(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var o=a("06c5");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(e){return n(e)||l(e)||Object(o["a"])(e)||s()}},"39cc":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form",{staticClass:"project_info",attrs:{form:e.form}},[a("a-tabs",{attrs:{"default-active-key":"1"}},[a("a-tab-pane",{key:"1",attrs:{tab:"基本信息"}},[a("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol,label:"用户编号"}},[a("span",[e._v(e._s(e.bind_number))])]),a("a-form-item",{attrs:{label:"业主名称",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{attrs:{id:"user_name"},model:{value:e.post.name,callback:function(t){e.$set(e.post,"name",t)},expression:"post.name"}})],1),a("a-form-item",{attrs:{label:"手机号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{attrs:{id:"phone"},model:{value:e.post.phone,callback:function(t){e.$set(e.post,"phone",t)},expression:"post.phone"}})],1),a("a-form-item",{attrs:{label:"身份证号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{attrs:{id:"id_card"},model:{value:e.post.id_card,callback:function(t){e.$set(e.post,"id_card",t)},expression:"post.id_card"}})],1),a("a-form-item",{attrs:{label:"IC卡号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{attrs:{id:"ic_card"},model:{value:e.post.ic_card,callback:function(t){e.$set(e.post,"ic_card",t)},expression:"post.ic_card"}})],1),a("a-form-item",{attrs:{label:"住址",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("span",[e._v(e._s(e.room_diy_name))])]),a("a-form-item",{attrs:{label:"房子平方",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("span",[e._v(e._s(e.housesize)+" ㎡")])]),a("a-form-item",{attrs:{label:"备注",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{attrs:{id:"memo"},model:{value:e.post.memo,callback:function(t){e.$set(e.post,"memo",t)},expression:"post.memo"}})],1),a("a-form-item",{attrs:{label:"房屋类型",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("span",[e._v(e._s(e.house_type_name))])]),a("a-form-item",{attrs:{label:"车位信息",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[0!==e.positionList.length?a("a-table",{staticClass:"components-table-demo-nested",attrs:{columns:e.positionColumns,"data-source":e.positionList,rowKey:"id"}}):a("span",[e._v("无")])],1),a("a-form-item",{attrs:{label:"车辆信息",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[0!==e.carList.length?a("a-table",{staticClass:"components-table-demo-nested",attrs:{columns:e.carColumns,"data-source":e.carList,rowKey:"id"}}):a("span",[e._v("无")])],1)],1),a("a-tab-pane",{key:"2",attrs:{tab:"业主资料","force-render":""}},e._l(e.dataList,(function(t,i){return a("a-form-item",{key:i,attrs:{label:t.title,value:i,labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:1*t.is_must==1}},[1===t.type?a("a-input",{attrs:{id:t.key},model:{value:e.authentication_field[t.key]["value"],callback:function(a){e.$set(e.authentication_field[t.key],"value",a)},expression:"authentication_field[item.key]['value']"}}):2===t.type?a("a-select",{staticStyle:{width:"120px"},attrs:{"show-search":""},model:{value:e.authentication_field[t.key]["value"],callback:function(a){e.$set(e.authentication_field[t.key],"value",a)},expression:"authentication_field[item.key]['value']"}},e._l(t.use_field,(function(t,i){return a("a-select-option",{key:i,attrs:{value:t}},[e._v(e._s(t))])})),1):3===t.type?a("div",[a("a-select",{staticStyle:{width:"120px"},attrs:{"default-value":e.authentication_field[t.key]["province_name"]},on:{change:e.handleChangeProvince}},e._l(e.province_list,(function(t,i){return a("a-select-option",{key:i,attrs:{value:t["id"]}},[e._v(e._s(t["name"]))])})),1),0!==e.city_list.length?a("a-select",{staticStyle:{width:"120px","margin-left":"20px"},on:{change:e.handleChange},model:{value:e.secondCity,callback:function(t){e.secondCity=t},expression:"secondCity"}},e._l(e.city_list,(function(t,i){return a("a-select-option",{key:i,attrs:{value:t["id"]}},[e._v(e._s(t["name"]))])})),1):e._e()],1):4===t.type?a("a-date-picker",{attrs:{name:t.key,"default-value":e.moment(e.getDate(t.key),e.dateFormat)},on:{change:function(a,i){return e.onDateChange(a,i,t.key)}}}):e._e()],1)})),1),a("a-tab-pane",{key:"3",staticClass:"owner_msg",attrs:{tab:"信息标注"}},e._l(e.mark_list,(function(t,i){return a("div",{key:i,staticClass:"label_con"},[a("div",{staticClass:"title"},[e._v(e._s(t.label)+"：")]),1==t.type?a("div",{staticClass:"choose_con",staticStyle:{display:"flex","align-items":"center"}},[a("a-radio-group",{model:{value:e.mark_list[i].data.value,callback:function(t){e.$set(e.mark_list[i].data,"value",t)},expression:"mark_list[index].data.value"}},e._l(t.value,(function(t,i){return a("a-radio",{attrs:{value:t.label}},[e._v(e._s(t.value))])})),1),1==e.mark_list[i].data.value?a("a-select",{staticStyle:{width:"200px","margin-left":"5px"},attrs:{placeholder:"请选择党支部"},on:{change:e.selectOwnerChange},model:{value:e.partyId,callback:function(t){e.partyId=t},expression:"partyId"}},e._l(t.data.street_party_branch,(function(t,i){return a("a-select-option",{attrs:{value:t.id}},[e._v(e._s(t.name))])})),1):e._e()],1):e._e(),0==t.type?a("div",{staticClass:"choose_con"},[a("a-checkbox-group",{model:{value:e.mark_list[i].data.value,callback:function(t){e.$set(e.mark_list[i].data,"value",t)},expression:"mark_list[index].data.value"}},e._l(t.value,(function(t,i){return a("a-checkbox",{attrs:{value:t.label+""}},[e._v(e._s(t.value))])})),1)],1):e._e()])})),0),a("a-tab-pane",{key:"4",staticClass:"user_label",attrs:{tab:"用户标签"}},e._l(e.label_list.list,(function(t,i){return a("div",{key:i,staticClass:"label_con"},[a("div",{staticClass:"title"},[e._v(e._s(t.name)+"：")]),a("div",{staticClass:"radio_con"},[a("a-checkbox-group",{on:{change:e.radioUserLabelChange},model:{value:e.label_list.list[i].value,callback:function(t){e.$set(e.label_list.list[i],"value",t)},expression:"label_list.list[index].value"}},e._l(t.children,(function(t,i){return a("a-checkbox",{key:t.id,attrs:{value:1*t.id}},[e._v(e._s(t.name))])})),1)],1)])})),0)],1),a("a-form-item",{staticStyle:{"margin-top":"35px"},attrs:{"wrapper-col":{span:12,offset:12}}},[a("a-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v(" 保存 ")])],1)],1)],1)},n=[],l=a("2909"),o=(a("a9e3"),a("d81d"),a("99af"),a("b0c0"),a("a0e0")),s=a("c1df"),r=a.n(s),c=[{title:"ID",dataIndex:"id",key:"id"},{title:"车位",dataIndex:"position_num",key:"position_num"},{title:"车牌号",dataIndex:"province",key:"province"},{title:"停车卡号",dataIndex:"car_stop_num",key:"car_stop_num"},{title:"车主姓名",dataIndex:"car_user_name",key:"car_user_name"},{title:"车主手机号",dataIndex:"car_user_phone",key:"car_user_phone"}],u=[],d=[{title:"ID",dataIndex:"bind_id",key:"bind_id"},{title:"车库",dataIndex:"garage_num",key:"garage_num"},{title:"车位编号",dataIndex:"position_num",key:"position_num"},{title:"车位面积",dataIndex:"position_area",key:"position_area"},{title:"备注",dataIndex:"position_note",key:"position_note"}],p=[],_={name:"ownerInformation",data:function(){return{title:"",dateFormat:"YYYY-MM-DD",form:this.$form.createForm(this),labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},bind_number:"",room_diy_name:"",housesize:"",disabled:!0,dataList:"",authentication_field:{key:{value:""}},house_type_name:"",secondCity:"",is_secondCity:!1,user_label_data:{care_object:[{id:0,name:""}]},province_list:[{id:0,name:""}],city_list:[{id:0,name:""}],political_outlook:0,special_population:[],key_population:[],care_object:[],positionList:p,carList:u,positionColumns:d,carColumns:c,result:!1,mark_list:[],label_list:[],partyId:"",post:{name:0,phone:"",id_card:"",ic_card:"",memo:""}}},props:{pigcmsId:{type:Number,default:0},usernum:{type:String,default:""}},created:function(){var e={pigcms_id:this.pigcmsId,usernum:this.usernum};this.getUserInfo(e)},methods:{getDate:function(e){return this.authentication_field[e]["value"]},moment:r.a,handleSubmit:function(){var e=this,t=[];this.label_list.list.map((function(e){t=[].concat(Object(l["a"])(t),Object(l["a"])(e.value))}));var a={};this.mark_list.map((function(e,t){a[e.field]=e.data.value})),1==a.user_political_affiliation?a["user_party_id"]=this.partyId:a["user_party_id"]=0;var i={pigcms_id:this.pigcmsId,post:this.post,authentication_field:this.authentication_field,user_label_arr:t,mark_list_arr:a},n=!1;for(var s in this.authentication_field){var r=this.authentication_field[s];if(console.log("item",r),(1==r.is_must||"1"==r.is_must)&&(!r.value||""==r.value||"0"==r.value||0==r.value)){this.$message.error("【"+r.title+"】为必填项，请填写或选择！"),n=!0;break}}if(n)return!1;this.request(o["a"].editUserInfo,i).then((function(t){console.log(t),e.$notification.open({message:"修改成功",description:"业主信息修改成功."})}))},onDateChange:function(e,t,a){console.log("date",e),console.log("dateSting",t),this.authentication_field[a]["value"]=t},getUserInfo:function(e){var t=this;this.request(o["a"].getUserInfo,e).then((function(e){t.title="业主信息",t.bind_number=e.info.bind_number?e.info.bind_number:t.usernum,t.post={name:e.info.name,phone:e.info.phone,id_card:e.info.id_card,ic_card:e.info.ic_card,memo:e.info.memo},t.room_diy_name=e.info.address,t.housesize=e.info.housesize,t.house_type_name=e.info.house_type_name,t.dataList=e.dataList,t.authentication_field=e.info.authentication_field,t.user_label_data=e.user_label_data,t.positionList=e.position_list,t.carList=e.car_list,t.visible=!0,void 0!==t.authentication_field["native_place"]&&(t.getProvinceCity("province",0),t.getProvinceCity("city",t.authentication_field["native_place"]["province_idss"]),t.secondCity=t.authentication_field["native_place"]["city_name"]),t.mark_list=t.user_label_data.mark_list,t.label_list=t.user_label_data.label_list}))},selectOwnerChange:function(e){console.log("value===>",e)},radioUserLabelChange:function(e){console.log("value===>",e)},handleChangeProvince:function(e){this.is_secondCity=!0,this.authentication_field["native_place"]["province_idss"]=e,this.getProvinceCity("city",e)},getProvinceCity:function(e,t){var a=this,i={type:e,id:t};this.request(o["a"].getProvinceCity,i).then((function(t){"province"===e?a.province_list=t:(a.city_list=t,0!==a.city_list.length&&a.is_secondCity&&(a.secondCity=a.city_list[0]["name"]))}))},getCheckedVlaue:function(e){var t=[];return e.map((function(e){e.is_checked&&t.push(e.id)})),t},handleChange:function(e,t){this.authentication_field["native_place"]["city_idss"]=e}}},m=_,f=(a("1d1a"),a("49d7"),a("0c7c")),b=Object(f["a"])(m,i,n,!1,null,"18908095",null);t["default"]=b.exports},"49d7":function(e,t,a){"use strict";a("f179")},"98ac":function(e,t,a){},f179:function(e,t,a){}}]);