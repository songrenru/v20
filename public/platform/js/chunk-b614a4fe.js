(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b614a4fe","chunk-56d6b50b","chunk-2d0b3786"],{"0f316":function(e,t,a){"use strict";a("9003")},"19bb":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["text"==e.type?a("a-form-item",{attrs:{label:e.title,labelCol:e.labelCol,wrapperCol:e.wrapperCol,extra:e.tips}},[a("a-row",{attrs:{gutter:8}},[a("a-col",{attrs:{span:12}},[e.number?a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name,{initialValue:e.value,rules:[{required:e.required,message:e.requiredMessage}]}],expression:"[name, { initialValue: value, rules: [{ required: required, message: requiredMessage }] }]"}],key:e.name,staticStyle:{width:"100%"},attrs:{precision:e.digits?0:e.precision,min:e.min,max:e.max,name:e.name,disabled:e.disabled,placeholder:e.placeholder}}):e.url?a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name,{initialValue:e.value,rules:[{type:"url",message:"请输入正确的url地址"},{required:e.required,message:e.requiredMessage}]}],expression:"[\n            name,\n            {\n              initialValue: value,\n              rules: [\n                {\n                  type: 'url',\n                  message: '请输入正确的url地址',\n                },\n                { required: required, message: requiredMessage },\n              ],\n            },\n          ]"}],key:e.name,attrs:{disabled:e.disabled,name:e.name,placeholder:e.placeholder}}):a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name,{initialValue:e.value,rules:[{required:e.required,message:e.requiredMessage}]}],expression:"[name, { initialValue: value, rules: [{ required: required, message: requiredMessage }] }]"}],key:e.name,attrs:{disabled:e.disabled,name:e.name,placeholder:e.placeholder}})],1)],1)],1):e._e(),"textarea"===e.type?a("a-form-item",{attrs:{label:e.title,labelCol:e.labelCol,disabled:e.disabled,wrapperCol:e.wrapperCol,extra:e.tips}},[a("a-row",{attrs:{gutter:8}},[a("a-col",{attrs:{span:12}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name,{initialValue:e.value,rules:[{required:e.required,message:e.requiredMessage}]}],expression:"[name, { initialValue: value, rules: [{ required: required, message: requiredMessage }] }]"}],key:e.name,attrs:{rows:e.rows,name:e.name,placeholder:e.placeholder}})],1)],1)],1):e._e(),"switch"===e.type?a("a-form-item",{attrs:{label:e.title,disabled:e.disabled,labelCol:e.labelCol,wrapperCol:e.wrapperCol,extra:e.tips}},[a("a-row",{attrs:{gutter:8}},[a("a-col",{attrs:{span:22}},[a("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name,{initialValue:"1"==e.value,valuePropName:"checked"}],expression:"[name, { initialValue: value == '1' ? true : false, valuePropName: 'checked' }]"}],key:e.name,attrs:{"checked-children":e.switchCheckedText,"un-checked-children":e.switchUncheckedText}})],1)],1)],1):e._e(),"radio"===e.type?a("a-form-item",{attrs:{label:e.title,disabled:e.disabled,labelCol:e.labelCol,wrapperCol:e.wrapperCol,extra:e.tips}},[a("a-row",{attrs:{gutter:8}},[a("a-col",{attrs:{span:12}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name,{initialValue:e.value,rules:[{required:e.required,message:e.requiredMessage}]}],expression:"[name, { initialValue: value, rules: [{ required: required, message: requiredMessage }] }]"}],key:e.name,attrs:{name:e.name,options:e.selectArray}})],1)],1)],1):e._e(),"select"===e.type?a("a-form-item",{attrs:{disabled:e.disabled,label:e.title,labelCol:e.labelCol,wrapperCol:e.wrapperCol,extra:e.tips}},[a("a-row",{attrs:{gutter:8}},[a("a-col",{attrs:{span:12}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name,{initialValue:e.value,rules:[{required:e.required,message:e.requiredMessage}]}],expression:"[name, { initialValue: value, rules: [{ required: required, message: requiredMessage }] }]"}],key:e.name,attrs:{name:e.name,placeholder:e.placeholder}},e._l(e.selectArray,(function(t){return a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1)],1):e._e(),"time"===e.type?a("a-form-item",{attrs:{label:e.title,labelCol:e.labelCol,disabled:e.disabled,wrapperCol:e.wrapperCol,extra:e.tips}},[a("a-row",{attrs:{gutter:8}},[a("a-col",{attrs:{span:12}},[a("a-time-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name,{initialValue:""==e.value?null:e.moment(e.value,e.timeFormat),rules:[{required:e.required,message:e.requiredMessage}]}],expression:"[\n            name,\n            {\n              initialValue: value == '' ? null : moment(value, timeFormat),\n              rules: [{ required: required, message: requiredMessage }],\n            },\n          ]"}],key:e.name,staticStyle:{width:"100%"},attrs:{name:e.name,format:e.timeFormat}})],1)],1)],1):e._e(),"date"===e.type?a("a-form-item",{attrs:{format:e.dateFormat,label:e.title,disabled:e.disabled,labelCol:e.labelCol,wrapperCol:e.wrapperCol,extra:e.tips}},[a("a-row",{attrs:{gutter:8}},[a("a-col",{attrs:{span:12}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name,{initialValue:""==e.value?null:e.moment(e.value,e.dateFormat),rules:[{required:e.required,message:e.requiredMessage}]}],expression:"[\n            name,\n            {\n              initialValue: value == '' ? null : moment(value, dateFormat),\n              rules: [{ required: required, message: requiredMessage }],\n            },\n          ]"}],key:e.name,staticStyle:{width:"100%"},attrs:{name:e.name}})],1)],1)],1):e._e(),"file"===e.type?a("a-form-item",{attrs:{label:e.title,disabled:e.disabled,labelCol:e.labelCol,wrapperCol:e.wrapperCol,extra:e.tips}},[a("a-row",{attrs:{gutter:8}},[a("a-col",{attrs:{span:12}},[a("a-upload",{staticClass:"file-upload",attrs:{name:"file",action:"/v20/public/index.php/common/common.UploadFile/uploadFile?upload_dir=file","file-list":e.fileList,multiple:!1},on:{change:e.handleChange,preview:e.handlePreview}},[a("a-button",[a("a-icon",{attrs:{type:"upload"}}),e._v("上传文件 ")],1)],1)],1)],1)],1):e._e(),"image"===e.type?a("a-form-item",{attrs:{label:e.title,labelCol:e.labelCol,disabled:e.disabled,wrapperCol:e.wrapperCol,extra:e.tips}},[a("a-row",{attrs:{gutter:8}},[a("a-col",{attrs:{span:12}},[a("a-upload",{attrs:{name:"img",action:"/v20/public/index.php/common/platform.system.config/upload","file-list":e.fileList,multiple:!1},on:{change:e.handleChange}},[a("a-button",[a("a-icon",{attrs:{type:"upload"}}),e._v("上传图片 ")],1)],1)],1)],1)],1):e._e()],1)},n=[],i=a("2909"),s=(a("a9e3"),a("b0c0"),a("fb6a"),a("d81d"),a("c1df")),l=a.n(s),o=a("7a6b");function u(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}var c={name:"FormItem",components:{CustomTooltip:o["a"]},props:{labelCol:{type:Object,default:function(){return{lg:{span:6},sm:{span:7}}}},wrapperCol:{type:Object,default:function(){return{lg:{span:14},sm:{span:17}}}},title:{type:String,default:"标题"},name:{type:String,default:"name"},required:{type:Boolean,default:!1},requiredMessage:{type:String,default:"此项必填"},tips:{type:String,default:""},type:{type:String,default:"text"},number:{type:Boolean,default:!1},digits:{type:Boolean,default:!1},precision:{type:Number,default:2},url:{type:Boolean,default:!1},max:{type:Number},min:{type:Number},selectArray:{type:Array,default:function(){return[]}},rows:{type:Number,default:4},placeholder:{type:String,default:""},value:{type:[Object,String,Array,Boolean,Number],default:null},tipsSize:{type:String,default:"18px"},tipsColor:{type:String,default:"#c5c5c5"},disabled:{type:Boolean,default:!1},fileUploadUrl:{type:String,default:""},imgUploadUrl:{type:String,default:""},switchCheckedText:{type:String,default:"开启"},switchUncheckedText:{type:String,default:"关闭"}},data:function(){return{timeFormat:"HH:mm",dateFormat:"YYYY-MM-DD",headers:{authorization:"authorization-text"},loading:!1,imageUrl:"",fileList:[]}},mounted:function(){"image"!=this.type&&"file"!=this.type||(console.log("----------------",this.type,this.name,this.value),this.value&&(this.fileList=[{uid:"1",name:this.value,status:"done",url:this.value}]))},watch:{fileList:function(e){this.$emit("uploadChange",{name:this.name,type:this.type,value:e})}},methods:{moment:l.a,handleChange:function(e){var t=this,a=Object(i["a"])(e.fileList);a=a.slice(-1);a=a.map((function(e){return e.response&&(1e3==e.response.status?(e.url=e.response.data,!0):(e.name=t.value,e.url=t.value,t.$message.error(e.response.msg))),e})),this.fileList=a},handlePreview:function(e){return!1},normFile:function(e){return console.log("Upload event:",e),Array.isArray(e)?e:"done"!=e.file.status?e.fileList:"1000"==e.file.response.status?e.file.response.data:void this.$message.error("上传失败！")},imgFile:function(e){var t=this;return console.log("Upload event:",e),u(e.file.originFileObj,(function(e){t.imageUrl=e})),"done"!=e.file.status?e.fileList:"1000"==e.file.response.status?(this.fileList=[e.file.response.data],console.log(22222,this.fileList),this.fileList):void this.$message.error("上传失败！")}}},d=c,p=(a("0f316"),a("0c7c")),m=Object(p["a"])(d,r,n,!1,null,"a127712e",null);t["a"]=m.exports},2627:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-header-index-wide pay-channel-box"},[a("a-card",{style:{height:"100%"},attrs:{bordered:!1,bodyStyle:{padding:"16px 0",height:"100%"}}},[a("div",{staticClass:"account-settings-info-main",class:e.device},[a("div",{staticClass:"account-settings-info-left"},[a("a-menu",{style:{border:"0",width:"mobile"==e.device?"560px":"auto"},attrs:{mode:"mobile"==e.device?"horizontal":"inline",type:"inner","selected-keys":e.selectedKeys}},e._l(e.channels,(function(t){return a("a-menu-item",{key:t.id,on:{click:function(a){return e.changeChannel(t.id)}}},[e._v(" "+e._s(t.channel_name)+" ")])})),1)],1),a("div",{staticClass:"account-settings-info-right"},[a("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[e._l(e.formData,(function(t,r){return a("form-item",{key:t.name+"_"+e.current_channelid,attrs:{title:t.title,name:t.name,type:t.type,required:t.required,value:t.value,tips:t.tips,url:t.url,max:t.max,min:t.min,rows:t.rows,placeholder:t.placeholder,selectArray:t.selectArray},on:{uploadChange:e.uploadChange}})})),a("a-form-item",{staticStyle:{"text-align":"center"},attrs:{wrapperCol:{span:24}}},[a("a-button",{attrs:{htmlType:"submit",type:"primary"}},[e._v("提交")])],1)],2)],1)])])],1)},n=[],i=a("5530"),s=(a("b0c0"),a("a9e3"),a("ac0d")),l=a("19bb"),o=a("c6fe"),u=a("85f8"),c=a("8386"),d={components:{FormItem:l["a"]},mixins:[s["c"]],props:{code:{type:String,default:""},env:{type:String,default:""},isSystem:{type:String,default:""}},data:function(){return{form:this.$form.createForm(this),formData:[],channels:[],selectedKeys:[1],openKeys:[],current_channelid:0}},methods:{uploadChange:function(e){console.log("-------------success",e);var t=e.name,a="";if(e.value.length){var r=e.value[0];a=r.response.data}this.form.getFieldDecorator(t,{initialValue:a})},getChannel:function(e){var t=this;console.log("-------------getChannel",this.isSystem);var a=o["a"].getChannels;0==this.isSystem||"0"==this.isSystem?a=u["a"].getChannels:2!=this.isSystem&&"2"!=this.isSystem||(a=c["a"].getChannels,console.log("-------------getChannelsUrl",a)),e&&this.request(a,{code:this.code,env:e}).then((function(e){console.log("-------------res",e),t.selectedKeys=[],t.channels=e.channels,t.selectedKeys.push(Number(e.default_channel)),t.getChannelInfo(e.default_channel)}))},getChannelInfo:function(e){var t=this,a=o["a"].getChannelInfo;0==this.isSystem||"0"==this.isSystem?a=u["a"].getChannelInfo:2!=this.isSystem&&"2"!=this.isSystem||(a=c["a"].getChannelInfo),this.current_channelid=e,this.request(a,{channel_id:e}).then((function(e){t.formData=e}))},changeChannel:function(e){this.selectedKeys=[],this.selectedKeys.push(Number(e)),this.getChannelInfo(e)},handleSubmit:function(e){var t=this,a=o["a"].setChannelParams;0==this.isSystem||"0"==this.isSystem?a=u["a"].setChannelParams:2!=this.isSystem&&"2"!=this.isSystem||(a=c["a"].setChannelParams),e.preventDefault(),this.form.validateFields((function(e,r){if(!e){var n=Object(i["a"])({},r);t.request(a,{channel_id:t.current_channelid,formData:n},"post",(function(e){t.$message.success(e)})).then((function(e,t){console.log(e),console.log(t)}))}}))}},mounted:function(){this.getChannel(this.env)},watch:{env:{handler:function(e){console.log(e),this.getChannel(e)}}}},p=d,m=(a("417a"),a("0c7c")),h=Object(m["a"])(p,r,n,!1,null,"7f673f04",null);t["default"]=h.exports},2909:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a("6b75");function n(e){if(Array.isArray(e))return Object(r["a"])(e)}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function i(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var s=a("06c5");function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e){return n(e)||i(e)||Object(s["a"])(e)||l()}},"417a":function(e,t,a){"use strict";a("b365")},"50bf":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-header-index-wide page-header-wrapper-grid-content-main"},[e.basicInfo.icon&&e.basicInfo.text?a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{md:24,lg:7}},[a("a-card",{attrs:{bordered:!1}},[a("div",{staticClass:"account-center-avatarHolder"},[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:e.basicInfo.icon}})]),a("div",{staticClass:"username"},[e._v(e._s(e.basicInfo.text))])])])],1),a("a-col",{attrs:{md:24,lg:17}},[a("a-card",{staticStyle:{width:"100%"},attrs:{bordered:!1,tabList:e.tabListNoTitle,activeTabKey:e.noTitleKey},on:{tabChange:function(t){return e.handleTabChange(t)}}},[a("Channel",{attrs:{env:e.noTitleKey,code:e.code,isSystem:e.isSystem}})],1)],1)],1):a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{md:24,lg:24}},[a("a-card",{staticStyle:{width:"100%"},attrs:{bordered:!1,tabList:e.tabListNoTitle,activeTabKey:e.noTitleKey},on:{tabChange:function(t){return e.handleTabChange(t)}}},[a("Channel",{attrs:{env:e.noTitleKey,code:e.code,isSystem:e.isSystem}})],1)],1)],1)],1)},n=[],i=a("2627"),s=a("c6fe"),l=a("85f8"),o=a("8386"),u={components:{Channel:i["default"]},data:function(){return{basicInfo:{icon:"",text:""},tabListNoTitle:[],noTitleKey:"",aliKey:"",wxKey:"",code:"",isSystem:"1",getPayTypeInfoUrl:s["a"].getPayTypeInfo}},watch:{"$route.query.code":function(e){e&&(this.code=e,this.getInfo())}},mounted:function(){-1!=this.$route.path.indexOf("merchant")?(this.getPayTypeInfoUrl=l["a"].getPayTypeInfo,this.isSystem="0"):-1!=this.$route.path.indexOf("property")?(this.getPayTypeInfoUrl=o["a"].getPayTypeInfo,this.isSystem="2"):(this.getPayTypeInfoUrl=s["a"].getPayTypeInfo,this.isSystem="1"),console.log(this.getPayTypeInfoUrl,"this.getPayTypeInfoUrl"),console.log(this.isSystem,"this.isSystem"),this.code=this.$route.query.code,this.getInfo()},methods:{getInfo:function(){var e=this;this.request(this.getPayTypeInfoUrl,{code:this.code}).then((function(t){e.basicInfo.icon=t.basic.icon,e.basicInfo.text=t.basic.text,e.tabListNoTitle=t.all_group_channel,e.getKey(t.all_group_channel[0]["key"])}))},getKey:function(e){switch(this.code){case"wechat":this.wxKey||(this.wxKey=e),this.noTitleKey=this.wxKey;break;case"alipay":this.aliKey||(this.aliKey=e),this.noTitleKey=this.aliKey;break;default:this.noTitleKey=e;break}},handleTabChange:function(e){switch(this.code){case"wechat":this.wxKey=e;break;case"alipay":this.aliKey=e;break;default:this.noTitleKey=e;break}this.noTitleKey=e}}},c=u,d=(a("b057"),a("0c7c")),p=Object(d["a"])(c,r,n,!1,null,"031ad3a6",null);t["default"]=p.exports},"7f9c":function(e,t,a){},8386:function(e,t,a){"use strict";var r={getPayTypes:"/pay/property.pay/getPayTypes",getPayTypeInfo:"/pay/property.pay/getPayTypeInfo",getChannels:"/pay/property.pay/getChannels",getChannelInfo:"/pay/property.pay/getChannelInfo",setChannelParams:"/pay/property.pay/setChannelParams"};t["a"]=r},"85f8":function(e,t,a){"use strict";var r={getPayTypes:"/pay/merchant.pay/getPayTypes",getPayTypeInfo:"/pay/merchant.pay/getPayTypeInfo",getChannels:"/pay/merchant.pay/getChannels",getChannelInfo:"/pay/merchant.pay/getChannelInfo",setChannelParams:"/pay/merchant.pay/setChannelParams"};t["a"]=r},9003:function(e,t,a){},b057:function(e,t,a){"use strict";a("7f9c")},b365:function(e,t,a){},c6fe:function(e,t,a){"use strict";var r={getPayTypes:"/pay/platform.pay/getPayTypes",getPayTypeInfo:"/pay/platform.pay/getPayTypeInfo",getChannels:"/pay/platform.pay/getChannels",getChannelInfo:"/pay/platform.pay/getChannelInfo",setChannelParams:"/pay/platform.pay/setChannelParams"};t["a"]=r}}]);