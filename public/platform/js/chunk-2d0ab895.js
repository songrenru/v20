(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab895"],{1660:function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"mt-10 mb-20 pt-20 pl-20 pr-20 pb-20 bg-ff br-10"},[e("h3",[e("a",[t._v(t._s(t.typeMap[t.type]))])]),e("a-divider",{staticStyle:{"margin-top":"10px"}}),e("a-row",{staticStyle:{"margin-top":"20px"}},[e("a-input-search",{staticStyle:{width:"200px"},attrs:{placeholder:"搜索资讯"},on:{search:t.onSearch}}),e("a-button",{staticStyle:{margin:"10px 10px"},attrs:{type:"primary"},on:{click:function(i){return t.$refs.informationEditModel.addEditInformation(0,t.type)}}},[t._v(" "+t._s(t.L("添加资讯"))+" ")])],1),e("a-table",{staticStyle:{background:"#ffffff"},attrs:{columns:t.columns,rowKey:"pigcms_id","data-source":t.dataList,pagination:t.pagination},on:{change:t.changePage},scopedSlots:t._u([{key:"show_type",fn:function(i,n){return e("span",{},[t._v(" "+t._s(1==i?"永久显示":n.start_time_text+" ~ "+n.end_time_text)+" ")])}},{key:"action",fn:function(i){return e("span",{},[e("a",{staticClass:"inline-block",staticStyle:{"margin-right":"10px"},on:{click:function(e){return t.$refs.informationEditModel.addEditInformation(i,t.type)}}},[t._v(t._s(t.L("编辑")))]),e("a",{staticClass:"inline-block",on:{click:function(e){return t.delInformation(i)}}},[t._v(t._s(t.L("删除")))])])}}])}),e("information-edit",{ref:"informationEditModel",on:{loadRefresh:t.getInformationList}})],1)},a=[],o=e("f9e9"),s=e("e178"),r={components:{InformationEdit:s["default"]},data:function(){return{dataList:[],type:"sports",pagination:{pageSize:10,total:0,current:1,page:1},queryParams:{page_size:0,page:1,keywords:"",type:"sports"},typeMap:{sports:"体育资讯",scenic:"景区资讯"},columns:[{title:this.L("编号"),dataIndex:"id",width:80},{title:this.L("标题"),dataIndex:"title"},{title:this.L("内容"),dataIndex:"cont"},{title:this.L("显示时间"),dataIndex:"show_type",key:"show_type",width:200,scopedSlots:{customRender:"show_type"}},{title:this.L("浏览量"),dataIndex:"view_count",width:80},{title:this.L("添加时间"),dataIndex:"add_time_text",width:160},{title:this.L("操作"),dataIndex:"pigcms_id",key:"pigcms_id",width:100,scopedSlots:{customRender:"action"}}]}},watch:{},created:function(){},mounted:function(){this.$route.query.type&&(this.type=this.$route.query.type),this.getInformationList()},methods:{getInformationList:function(){var t=this;this.queryParams.page_size=this.pagination.pageSize,this.queryParams.page=this.pagination.current,this.queryParams.type=this.type,this.request(o["a"].getInformationList,this.queryParams).then((function(i){t.dataList=i.data,t.pagination.total=i.total}))},changePage:function(t,i){this.pagination.current=t.current,this.getInformationList()},onSearch:function(t){this.queryParams.keywords=t,this.getInformationList()},delInformation:function(t){var i=this;this.$confirm({title:"确定删除吗？",centered:!0,onOk:function(){i.request(o["a"].delInformation,{pigcms_id:t}).then((function(t){i.$message.success(i.L("操作成功！")),i.getInformationList()}))},onCancel:function(){}})}}},c=r,d=e("2877"),p=Object(d["a"])(c,n,a,!1,null,null,null);i["default"]=p.exports}}]);