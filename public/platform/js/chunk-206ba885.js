(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-206ba885"],{"4b77":function(e,t,o){"use strict";var a,r=o("ade3"),s=(a={addLabel:"/group/merchant.goods/addLabel",getLabelList:"/group/merchant.goods/getLabelList",getMerchantStoreList:"/group/merchant.goods/getMerchantStoreList",getAllArea:"/common/common.area/getAllArea",getGoodsCashingDetail:"/group/merchant.goods/getGoodsCashingDetail",getGroupEditInfo:"/group/merchant.goods/getGroupEditInfo"},Object(r["a"])(a,"getGoodsCashingDetail","/group/merchant.goods/getGoodsCashingDetail"),Object(r["a"])(a,"saveCashingGoods","/group/merchant.goods/submitCashing"),Object(r["a"])(a,"saveNomalGoods","/group/merchant.goods/saveNomalGoods"),Object(r["a"])(a,"getGoodsNormalDetail","/group/merchant.goods/getGoodsNormalDetail"),Object(r["a"])(a,"getGoodsList","/group/merchant.goods/getGoodsList"),Object(r["a"])(a,"courseAppoint","/group/merchant.Goods/courseAppoint"),Object(r["a"])(a,"getCourseAppointDetail","/group/merchant.Goods/getCourseAppointDetail"),Object(r["a"])(a,"setStoreRecommend","/group/merchant.goods/setStoreRecommend"),Object(r["a"])(a,"getStoreRecommend","/group/merchant.goods/getStoreRecommend"),Object(r["a"])(a,"getGoodsOrderList","/group/merchant.goods/getGoodsOrderList"),Object(r["a"])(a,"saveBookingAppoint","/group/merchant.Goods/saveBookingAppoint"),Object(r["a"])(a,"showBookingAppoint","/group/merchant.Goods/showBookingAppoint"),Object(r["a"])(a,"getStoreList","/group/merchant.AppointManage/getStoreList"),Object(r["a"])(a,"getGiftMsg","/group/merchant.AppointManage/getGiftMsg"),Object(r["a"])(a,"updateAppointGift","/group/merchant.AppointManage/updateAppointGift"),Object(r["a"])(a,"getAppointArriveList","/group/merchant.AppointManage/getAppointArriveList"),Object(r["a"])(a,"updateAppointArriveStatus","/group/merchant.AppointManage/updateAppointArriveStatus"),Object(r["a"])(a,"getGoodsOrderDetail","/group/merchant.goods/getGoodsOrderDetail"),Object(r["a"])(a,"orderExportUrl","/group/merchant.goods/exportOrder"),Object(r["a"])(a,"noteInfo","/group/merchant.goods/noteInfo"),Object(r["a"])(a,"orderDetail","/group/merchant.goods/orderDetail"),Object(r["a"])(a,"updateOrderNote","/group/merchant.goods/updateOrderNote"),Object(r["a"])(a,"getRatioList","/group/merchant.goods/getRatioList"),Object(r["a"])(a,"getGoodsCouponList","/group/merchant.goods/getGoodsCouponList"),Object(r["a"])(a,"couponDetail","/group/merchant.goods/couponDetail"),Object(r["a"])(a,"couponVerify","/group/merchant.goods/couponVerify"),Object(r["a"])(a,"exportGoodsCouponList","/group/merchant.goods/exportGoodsCouponList"),Object(r["a"])(a,"groupPackageLists","/group/merchant.goods/groupPackageLists"),Object(r["a"])(a,"showGroupPackage","/group/merchant.goods/showGroupPackage"),Object(r["a"])(a,"saveGroupPackage","/group/merchant.goods/saveGroupPackage"),Object(r["a"])(a,"delGroupPackage","/group/merchant.goods/delGroupPackage"),Object(r["a"])(a,"delPackageBindGroup","/group/merchant.goods/delPackageBindGroup"),a);t["a"]=s},"9e17":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("a-modal",{attrs:{visible:e.dialogVisible,title:"选择店铺",centered:"",maskClosable:!1,width:600},on:{ok:e.chooseStoreOk,cancel:e.chooseStoreCancel}},[[o("a-form-model",{attrs:{layout:"inline",model:e.modalSearchForm,"label-col":{span:2},"wrapper-col":{span:22}}},[o("a-row",[o("a-col",{staticClass:"mr-10",attrs:{span:10}},[o("a-cascader",{attrs:{"field-names":{label:"area_name",value:"area_id",children:"children"},options:e.areaList,placeholder:"请选择省市区"},on:{change:e.onAreaChange},model:{value:e.searchForm.areaList,callback:function(t){e.$set(e.searchForm,"areaList",t)},expression:"searchForm.areaList"}})],1),o("a-col",{staticClass:"mr-20",attrs:{span:10}},[o("a-input",{attrs:{placeholder:"输入店铺名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.selectStoreList()}},model:{value:e.modalSearchForm.keyword,callback:function(t){e.$set(e.modalSearchForm,"keyword",t)},expression:"modalSearchForm.keyword"}})],1),o("a-col",{attrs:{span:2}},[o("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.selectStoreList()}}},[e._v(" 查询 ")])],1)],1)],1),o("a-table",{staticClass:"mt-20",attrs:{"row-selection":{selectedRowKeys:e.modalSelectedRowKeys,onChange:e.onModalSelectChange},columns:e.columns,scroll:{y:400},"data-source":e.modalTableData,"row-key":"store_id"}},[o("template",{slot:"name"},[o("span",[e._v("店铺名称")])])],2)]],2)],1)},r=[],s=(o("a9e3"),o("c740"),o("d3b7"),o("159b"),o("4b77")),i={props:{visible:{type:Boolean,default:!1},storeIdArr:{type:[Array,Object],default:function(){}},groupId:{type:Number,default:0}},watch:{visible:function(e,t){this.dialogVisible=e,this.modalSearchForm.group_id=this.groupId,this.modalSelectedRowKeys=this.storeIdArr,this.storeIds=this.storeIdArr,this.modalSearchForm.keyword="",this.modalSearchForm.city_id="",this.modalSearchForm.area_id="",this.modalSearchForm.province_id="",this.modalSearchForm.page=1,this.getAllArea(),this.selectStoreList()}},mounted:function(){this.dialogVisible=this.visible,this.modalSelectedRowKeys=this.storeIds,this.getAllArea(),this.selectStoreList()},data:function(){return{dialogVisible:!1,areaList:[],searchForm:{storeIdArray:[],areaList:[]},storeIds:this.storeIdArr||[],modalSearchForm:{province_id:"",city_id:"",area_id:"",keyword:"",page:1},columns:[{dataIndex:"name",slots:{title:"name"},align:"center"}],modalTableData:[],curStoreList:[],modalSelectedRowKeys:[]}},methods:{selectStoreList:function(){var e=this;this.modalTableData=[],this.request(s["a"].getMerchantStoreList,this.modalSearchForm).then((function(t){e.modalTableData=t.list||[]}))},getAllArea:function(){var e=this;this.request(s["a"].getAllArea).then((function(t){e.areaList=t}))},onAreaChange:function(e){this.modalSearchForm.province_id=e[0],this.modalSearchForm.city_id=e[1],this.modalSearchForm.area_id=e[2],this.selectStoreList()},onExpandedRowChange:function(e,t){var o=t.store_id,a=this.storeIds.findIndex((function(e){return e.store_id==o}));a>-1?this.storeIds[a].package_id=curPackageId:this.storeIds.push({curStoreId:o})},chooseStoreOk:function(){var e=this;this.$set(this.searchForm,"storeIdArray",this.modalSelectedRowKeys),this.curStoreList=[],this.modalSelectedRowKeys.forEach((function(t){e.modalTableData.forEach((function(o){t==o.store_id&&e.curStoreList.push(o)}))})),this.$emit("submit",{storeIds:this.storeIds})},chooseStoreCancel:function(){this.modalTableData=[],this.dialogVisible=!1,this.$emit("update:visible",this.dialogVisible)},onModalSelectChange:function(e){var t=this;this.storeIds=[],this.modalSelectedRowKeys=e,this.modalSelectedRowKeys.forEach((function(e){t.storeIds.push(e)}))}}},n=i,c=o("2877"),d=Object(c["a"])(n,a,r,!1,null,"feb2e9ae",null);t["default"]=d.exports}}]);