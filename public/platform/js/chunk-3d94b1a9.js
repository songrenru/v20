(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d94b1a9"],{"126e":function(e,a,t){"use strict";var n={regionalAgencyList:"/new_marketing/platform.RegionalAgency/regionalAgencyList",findArea:"/new_marketing/platform.RegionalAgency/findArea",findRight:"/new_marketing/platform.RegionalAgency/findRight",findRightEdit:"/new_marketing/platform.RegionalAgency/findRightEdit",addRegionalAgency:"/new_marketing/platform.RegionalAgency/addRegionalAgency",editRegionalAgency:"/new_marketing/platform.RegionalAgency/editRegionalAgency",saveRegionalAgency:"/new_marketing/platform.RegionalAgency/saveRegionalAgency",delRegionalAgency:"/new_marketing/platform.RegionalAgency/delRegionalAgency",reduceWin:"/new_marketing/platform.RegionalAgency/reduceWin",addReduce:"/new_marketing/platform.RegionalAgency/addReduce",getTeamList1:"/new_marketing/platform.RegionalAgency/getTeamList",updatePercent:"/new_marketing/platform.RegionalAgency/updatePercent",getMarketingArtisanList:"/new_marketing/platform.MarketingArtisan/getMarketingArtisanList",getMarketingArtisanCreate:"/new_marketing/platform.MarketingArtisan/getMarketingArtisanCreate",getMarketingArtisanInfo:"/new_marketing/platform.MarketingArtisan/getMarketingArtisanInfo",getMarketingArtisanDir:"/new_marketing/platform.MarketingArtisan/getMarketingArtisanDir",getDirectorList:"/new_marketing/platform.MarketingArtisan/getDirectorList",getMarketingArtisanDel:"/new_marketing/platform.MarketingArtisan/getMarketingArtisanDel",getMarketingDirectorList:"/new_marketing/platform.MarketingDirector/getMarketingDirectorList",getMarketingDirectorCreate:"/new_marketing/platform.MarketingDirector/getMarketingDirectorCreate",getMarketingDirectorInfo:"/new_marketing/platform.MarketingDirector/getMarketingDirectorInfo",getMarketingDirectorDel:"/new_marketing/platform.MarketingDirector/getMarketingDirectorDel",getMarketingDirectorRemove:"/new_marketing/platform.MarketingDirector/getMarketingDirectorRemove",getMarketingDirectorArtisan:"/new_marketing/platform.MarketingDirector/getMarketingDirectorArtisan",getManagerList:"/new_marketing/platform.ServiceManager/serviceManagerList",addManager:"/new_marketing/platform.ServiceManager/addServiceManager",editManager:"/new_marketing/platform.ServiceManager/saveServiceManager",delNoTeamManager:"/new_marketing/platform.ServiceManager/doDelManager",getTeamMemberList:"/new_marketing/platform.ServiceManager/getTeamPerson",upgradeManager:"/new_marketing/platform.ServiceManager/doUpLevel",deleteManager:"/new_marketing/platform.ServiceManager/doDelServiceManager",demoteManager:"/new_marketing/platform.ServiceManager/doDownLevel",getAreaList:"/new_marketing/platform.Region/regionList",getClassifyPriceList:"/new_marketing/platform.Region/classPriceList",saveAreaPriceForm:"/new_marketing/platform.Region/addRegion",saveClassifyPriceForm:"/new_marketing/platform.Region/addClassPrice",deleteAreaPriceForm:"/new_marketing/platform.Region/delRegion",getAreaMealList:"/new_marketing/platform.MarketingPackage/getAreaSearchList",saveAreaMealForm:"/new_marketing/platform.MarketingPackage/editAreaPost",saveAreaMealStatus:"/new_marketing/platform.MarketingPackage/setAreaStatus",getStoreTypeList:"/new_marketing/platform.MarketingPackage/getStoreTypeList",addMeal:"/new_marketing/platform.MarketingPackage/add",getMealList:"/new_marketing/platform.MarketingPackage/getSearchList",deleteMeal:"/new_marketing/platform.MarketingPackage/del",editMeal:"/new_marketing/platform.MarketingPackage/editPost",getCommissionSearchData:"/new_marketing/platform.MarketingPersonSettle/getSearchData",getCommissionList:"/new_marketing/platform.MarketingPersonSettle/getSearchList",teamManagementList:"/new_marketing/platform.TeamManagement/teamManagementList",teamPerformance:"/new_marketing/platform.TeamManagement/teamPerformance",serviceManagerList:"/new_marketing/platform.TeamManagement/serviceManagerList",serviceManagerNoList:"/new_marketing/platform.TeamManagement/serviceManagerNoList",regionalAgentList:"/new_marketing/platform.TeamManagement/regionalAgentList",artisanList:"/new_marketing/platform.TeamManagement/artisanList",teamManagementAdd:"/new_marketing/platform.TeamManagement/teamManagementAdd",teamManagementBasic:"/new_marketing/platform.TeamManagement/teamManagementBasic",teamManagementReplace:"/new_marketing/platform.TeamManagement/teamManagementReplace",teamManagementUpgrade:"/new_marketing/platform.TeamManagement/teamManagementUpgrade",teamBusinessList:"/new_marketing/platform.TeamManagement/teamBusinessList",teamManagementDel:"/new_marketing/platform.TeamManagement/teamManagementDel",teamManagementTransfer:"/new_marketing/platform.TeamManagement/teamManagementTransfer",teamManagementDiss:"/new_marketing/platform.TeamManagement/teamManagementDiss",teamMemberAdd:"/new_marketing/platform.TeamManagement/teamMemberAdd",teamManagementEdit:"/new_marketing/platform.TeamManagement/teamManagementEdit",teamMemberEdit:"/new_marketing/platform.TeamManagement/teamMemberEdit",teamMemberCode:"/new_marketing/platform.TeamManagement/teamMemberCode",teamManagementSavage:"/new_marketing/platform.TeamManagement/teamManagementSavage",teamManagementMerchantList:"/new_marketing/platform.TeamManagement/teamManagementMerchantList",teamManagementSavageDetail:"/new_marketing/platform.TeamManagement/teamManagementSavageDetail",getCommunityOrderDetail:"/new_marketing/platform.TeamManagement/getCommunityOrderDetail",positionReviewList:"/new_marketing/platform.PositionReview/positionReviewList",getTeamList:"/new_marketing/platform.PositionReview/getTeamList",reviewAgree:"/new_marketing/platform.PositionReview/reviewAgree",reviewDisagree:"/new_marketing/platform.PositionReview/reviewDisagree",getOrderList:"/new_marketing/platform.OrderInfo/orderList",getAreaUidByProvince:"/new_marketing/platform.OrderInfo/getAreaUidByProvince",getTeamIdByAreaUid:"/new_marketing/platform.OrderInfo/getTeamIdByAreaUid",getOrderDetail:"/new_marketing/platform.OrderInfo/getOrderInfo",teamManagementMerchantTransferList:"/new_marketing/platform.TeamManagement/teamManagementMerchantTransferList",teamManagementMerchantTransferCreate:"/new_marketing/platform.TeamManagement/teamManagementMerchantTransferCreate",getMerchantList:"/new_marketing/platform.Merchant/getMerchantList",getMerchantStoreList:"/new_marketing/platform.Merchant/getMerchantStoreList",teamMembeInfo:"/new_marketing/platform.TeamManagement/teamMembeInfo",getPropertyList:"/new_marketing/platform.MarketingProperty/getPropertyList",villageTransferBusiness:"/new_marketing/platform.MarketingProperty/transferBusiness",teamMerchantOrderList:"/new_marketing/platform.TeamManagement/teamMerchantOrderList",getHousePropertyList:"/new_marketing/platform.HouseProperty/getHousePropertyList",getHousePropertyDetail:"/new_marketing/platform.HouseProperty/getHousePropertyDetail"};a["a"]=n},"7916b":function(e,a,t){"use strict";t("a7c5")},a7c5:function(e,a,t){},d143:function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"bg-ff wrap"},[t("div",{staticClass:"page-title"},[e._v("团队列表")]),t("div",{staticClass:"content"},[t("a-form-model",{attrs:{model:e.searchForm,layout:"inline",labelCol:{span:5},wrapperCol:{span:19}}},[t("a-row",{attrs:{type:"flex",align:"middle"}},[t("a-col",{attrs:{span:10}},[t("a-form-model-item",[t("a-input-group",[t("a-select",{attrs:{placeholder:"请选择"},model:{value:e.searchForm.type,callback:function(a){e.$set(e.searchForm,"type",a)},expression:"searchForm.type"}},[t("a-select-option",{attrs:{value:"1"}},[e._v(" 团队名称 ")]),t("a-select-option",{attrs:{value:"2"}},[e._v(" 业务经理姓名 ")])],1),t("span",[e._v("：")]),t("a-input",{attrs:{placeholder:"1"==e.searchForm.type?"请输入团队名称":"请输入业务经理姓名"},model:{value:e.searchForm.name,callback:function(a){e.$set(e.searchForm,"name",a)},expression:"searchForm.name"}})],1)],1)],1),t("a-col",{attrs:{span:10}},[t("a-form-model-item",{attrs:{label:"区域"}},[t("a-cascader",{attrs:{options:e.areaList,placeholder:"请选择省市区"},on:{change:function(a){return e.handleChange(a,"search","area")}},model:{value:e.searchForm.area,callback:function(a){e.$set(e.searchForm,"area",a)},expression:"searchForm.area"}})],1)],1),t("a-col",{attrs:{span:4}},[t("a-button",{staticClass:"mr-10",attrs:{type:"primary"},on:{click:function(a){return e.getList(!0)}}},[e._v("查询")]),t("a-button",{on:{click:function(a){return e.resetBtn()}}},[e._v("重置")])],1)],1),t("a-row",{attrs:{type:"flex"}},[t("a-col",{attrs:{span:10}},[t("a-form-model-item",{attrs:{label:"区域代理"}},[t("a-select",{attrs:{placeholder:"请选择区域代理",allowClear:""},model:{value:e.searchForm.area_uid,callback:function(a){e.$set(e.searchForm,"area_uid",a)},expression:"searchForm.area_uid"}},e._l(e.regionalAgentListSearch,(function(a){return t("a-select-option",{key:a.id,attrs:{value:a.id}},[e._v(" "+e._s(a.name)+" ")])})),1)],1)],1),t("a-col",{attrs:{span:10}},[t("a-form-model-item",{attrs:{label:"创建时间"}},[t("a-range-picker",{attrs:{ranges:{"今日":[e.moment(),e.moment()],"近7天":[e.moment(),e.moment().add(7,"days")],"近15天":[e.moment(),e.moment().add(15,"days")],"近30天":[e.moment(),e.moment().add(30,"days")]},value:e.createTime,format:"YYYY-MM-DD"},on:{change:e.onDateRangeChange}},[t("a-icon",{attrs:{slot:"suffixIcon",type:"calendar"},slot:"suffixIcon"})],1)],1)],1)],1)],1),t("a-row",{staticClass:"mt-20"},[t("a-col",[t("a-button",{attrs:{type:"primary"},on:{click:function(a){return e.addTeamBtn()}}},[e._v("创建团队")])],1)],1),e.selectedRowKeys.length?t("div",{staticClass:"total-performance"},[t("span",{},[e._v("已选择"),t("span",{staticClass:"cr-primary"},[e._v(e._s(e.selectedRowKeys.length))]),e._v("项")]),t("span",{staticClass:"mr-10 ml-10 cr-f1"},[e._v("|")]),t("span",[e._v("总业绩："),t("span",{staticClass:"fw-bold"},[e._v(e._s(e.totalAchievement))])]),t("a-button",{attrs:{type:"link"},on:{click:function(a){return e.clearOpt()}}},[e._v("清空")])],1):e._e(),t("a-table",{staticClass:"mt-20",attrs:{columns:e.columns,"data-source":e.list,pagination:e.pagination,rowKey:"id","row-selection":{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},scopedSlots:e._u([{key:"team_count",fn:function(a){return t("span",{},[e._v(" "+e._s(a||"0")+" ")])}},{key:"team_artisan",fn:function(a){return t("span",{},[e._v(" "+e._s(a||"-")+" ")])}},{key:"area_name",fn:function(a){return t("span",{},[e._v(" "+e._s(a||"-")+" ")])}},{key:"action",fn:function(a,n){return t("span",{},[t("a-button",{attrs:{type:"link"},on:{click:function(a){return e.actionBtn(n,"edit")}}},[e._v("编辑详情")]),t("a-button",{attrs:{type:"link"},on:{click:function(a){return e.actionBtn(n,"del")}}},[e._v("解散")])],1)}}])})],1),t("a-modal",{attrs:{title:e.modalTitle,visible:e.modalVisible,maskClosable:!1,okText:"addTeam"==e.modalType?"提交":"delTeam"==e.modalType?"解除":"确定",width:"50%",bodyStyle:{maxHeight:"600px",overflowY:"auto"}},on:{ok:e.handleOk,cancel:e.handleCancel}},["addTeam"==e.modalType?t("div",[t("a-form-model",{ref:"addTeamForm",attrs:{model:e.addTeamForm,"label-col":{span:6},"wrapper-col":{span:14},rules:e.rules}},[t("a-form-model-item",{attrs:{label:"团队名称",prop:"name"}},[t("a-input",{attrs:{placeholder:"请输入名称"},model:{value:e.addTeamForm.name,callback:function(a){e.$set(e.addTeamForm,"name",a)},expression:"addTeamForm.name"}})],1),t("a-form-model-item",{attrs:{label:"选择区域代理"}},[t("a-row",{attrs:{type:"flex"}},[t("a-col",{attrs:{span:16}},[t("a-cascader",{attrs:{options:e.areaList,placeholder:"请选择省市区"},on:{change:function(a){return e.handleChange(a,"addTeam","area")}},model:{value:e.addTeamForm.area,callback:function(a){e.$set(e.addTeamForm,"area",a)},expression:"addTeamForm.area"}})],1),t("a-col",{attrs:{span:7,offset:1}},[t("a-select",{attrs:{placeholder:"区域代理",allowClear:""},on:{change:function(a){return e.handleChange(a,"addTeam","area_uid")}},model:{value:e.addTeamForm.area_uid,callback:function(a){e.$set(e.addTeamForm,"area_uid",a)},expression:"addTeamForm.area_uid"}},e._l(e.regionalAgentListAddTeam,(function(a){return t("a-select-option",{key:a.id,attrs:{value:a.id}},[e._v(" "+e._s(a.name)+" ")])})),1)],1)],1)],1),t("a-form-model-item",{attrs:{label:"选择业务经理",prop:"manager_uid"}},[t("a-select",{attrs:{placeholder:"请选择业务经理"},model:{value:e.addTeamForm.manager_uid,callback:function(a){e.$set(e.addTeamForm,"manager_uid",a)},expression:"addTeamForm.manager_uid"}},e._l(e.serviceManagerNoList,(function(a){return t("a-select-option",{key:a.id,attrs:{value:a.id}},[e._v(" "+e._s(a.name)+" ")])})),1)],1),t("a-divider"),t("div",{staticClass:"fs-16 fw-bold mb-10"},[e._v("店铺业务设置")]),t("a-form-model-item",{attrs:{label:"业务经理抽成比例",prop:"manager_percent",help:"业务经理按团队总业绩进行抽取分成"}},[t("a-input-number",{attrs:{min:0,max:100,placeholder:"请输入"},model:{value:e.addTeamForm.manager_percent,callback:function(a){e.$set(e.addTeamForm,"manager_percent",a)},expression:"addTeamForm.manager_percent"}}),t("span",{staticClass:"ml-10"},[e._v("%")])],1),t("a-form-model-item",{attrs:{label:"业务员提成比例",prop:"personnel_percent",help:"团队业务员默认提成比例"}},[t("a-input-number",{attrs:{min:0,max:100,placeholder:"请输入"},model:{value:e.addTeamForm.personnel_percent,callback:function(a){e.$set(e.addTeamForm,"personnel_percent",a)},expression:"addTeamForm.personnel_percent"}}),t("span",{staticClass:"ml-10"},[e._v("%")])],1),t("a-form-model-item",{attrs:{label:"绑定技术人员"}},[t("a-select",{staticStyle:{width:"100%"},attrs:{mode:"multiple",placeholder:"请选择技术人员"},model:{value:e.addTeamForm.artisan,callback:function(a){e.$set(e.addTeamForm,"artisan",a)},expression:"addTeamForm.artisan"}},e._l(e.artisanList,(function(a){return t("a-select-option",{key:a.id},[e._v(" "+e._s(a.name)+" ")])})),1)],1),t("a-form-model-item",{attrs:{label:"技术人员提成比例"}},[t("a-input-number",{attrs:{min:0,max:100,placeholder:"请输入"},model:{value:e.addTeamForm.technology_percent,callback:function(a){e.$set(e.addTeamForm,"technology_percent",a)},expression:"addTeamForm.technology_percent"}}),t("span",{staticClass:"ml-10"},[e._v("%")])],1),t("a-divider"),t("div",{staticClass:"fs-16 fw-bold mb-10"},[e._v("社区业务设置")]),t("a-form-model-item",{attrs:{label:"业务经理抽成比例",prop:"village_manager_percent",help:"业务经理按团队总业绩进行抽取分成"}},[t("a-input-number",{attrs:{min:0,max:100,placeholder:"请输入"},model:{value:e.addTeamForm.village_manager_percent,callback:function(a){e.$set(e.addTeamForm,"village_manager_percent",a)},expression:"addTeamForm.village_manager_percent"}}),t("span",{staticClass:"ml-10"},[e._v("%")])],1),t("a-form-model-item",{attrs:{label:"业务员提成比例",prop:"village_personnel_percent",help:"团队业务员默认提成比例"}},[t("a-input-number",{attrs:{min:0,max:100,placeholder:"请输入"},model:{value:e.addTeamForm.village_personnel_percent,callback:function(a){e.$set(e.addTeamForm,"village_personnel_percent",a)},expression:"addTeamForm.village_personnel_percent"}}),t("span",{staticClass:"ml-10"},[e._v("%")])],1)],1)],1):e._e(),"delTeam"==e.modalType?t("div",[t("div",{staticClass:"ant-form-explain"},[e._v("该团队下已有成员，不可直接解散，需为成员选择新团队")]),t("a-row",{staticClass:"mt-10 align-center",attrs:{type:"flex"}},[t("a-col",{staticClass:"flex align-center",attrs:{span:3}},[e._v("选择团队：")]),t("a-col",{attrs:{span:12}},[t("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},on:{popupScroll:e.popupScroll},model:{value:e.teamId,callback:function(a){e.teamId=a},expression:"teamId"}},e._l(e.teamList,(function(a){return t("a-select-option",{key:a.id,attrs:{value:a.id}},[e._v(" "+e._s(a.name)+" ")])})),1)],1)],1)],1):e._e()])],1)},r=[],i=t("5530"),o=(t("a9e3"),t("7db0"),t("d3b7"),t("b680"),t("99af"),t("4de4"),t("c1df")),m=t.n(o),s=t("126e"),l=1,g={data:function(){return{areaList:[],serviceManagerList:[],regionalAgentListSearch:[],regionalAgentListAddTeam:[],artisanList:[],serviceManagerNoList:[],createTime:[],searchForm:{type:"1",area:[],name:"",area_uid:void 0,begin_time:"",end_time:""},columns:[{title:"团队名称",dataIndex:"name",align:"center",width:"12%"},{title:"团队人数",dataIndex:"team_count",scopedSlots:{customRender:"team_count"},align:"center"},{title:"业务经理",dataIndex:"manager_name",align:"center",width:"12%"},{title:"技术人员",dataIndex:"team_artisan",scopedSlots:{customRender:"team_artisan"},align:"center",width:"12%"},{title:"区域代理",dataIndex:"area_name",scopedSlots:{customRender:"area_name"},align:"center",width:"12%"},{title:"创建时间",dataIndex:"add_time",align:"center",sortDirections:["descend","ascend"],sorter:function(e,a){return m()(e.add_time).unix()-m()(a.add_time).unix()}},{title:"团队总业绩",dataIndex:"achievement",sortDirections:["descend","ascend"],sorter:function(e,a){return Number(e.achievement)-Number(a.achievement)},align:"center"},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},align:"center"}],list:[],pagination:{current:1,total:0,pageSize:10,showSizeChanger:!0,showQuickJumper:!0,onChange:this.onPageChange,onShowSizeChange:this.onPageSizeChange,showTotal:function(e){return"共 ".concat(e," 条记录")}},selectedRowKeys:[],modalTitle:"",modalVisible:!1,modalType:"",addTeamForm:{name:"",area:[],area_uid:void 0,manager_uid:void 0,manager_percent:"",personnel_percent:"",artisan:[],technology_percent:"",village_manager_percent:"",village_personnel_percent:""},rules:{name:[{required:!0,message:"请输入团队名称",trigger:"blur"}],manager_uid:[{required:!0,message:"请选择业务经理",trigger:"blur"}],manager_percent:[{required:!0,message:"请输入店铺业务经理抽成比例",trigger:"blur"}],personnel_percent:[{required:!0,message:"请输入店铺业务员提成比例",trigger:"blur"}],village_manager_percent:[{required:!0,message:"请输入社区业务经理抽成比例",trigger:"blur"}],village_personnel_percent:[{required:!0,message:"请输入社区业务员提成比例",trigger:"blur"}]},currentData:"",teamId:void 0,totalAchievement:"",teamList:[]}},mounted:function(){this.getOptionsList(),this.getList()},activated:function(){var e=localStorage.getItem("updateTeamManageList")||"";e&&(localStorage.removeItem("updateTeamManageList"),this.getList())},methods:{moment:m.a,onDateRangeChange:function(e,a){this.$set(this,"createTime",[e[0],e[1]]),this.$set(this.searchForm,"begin_time",a[0]),this.$set(this.searchForm,"end_time",a[1])},onPageChange:function(e,a){this.$set(this.pagination,"current",e),this.getList()},onPageSizeChange:function(e,a){this.$set(this.pagination,"pageSize",a),this.getList()},getOptionsList:function(){var e=this;this.request(s["a"].serviceManagerList,{}).then((function(a){e.serviceManagerList=a||[]})),this.getRegionalAgentList(),this.request(s["a"].artisanList,{}).then((function(a){e.artisanList=a||[]})),this.request(s["a"].findArea,{}).then((function(a){e.areaList=a||[]})),this.getServiceManagerNoList()},getRegionalAgentList:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.request(s["a"].regionalAgentList,{area:a}).then((function(a){"search"==t?(e.regionalAgentListSearch=a||[],e.regionalAgentListSearch.length&&(e.regionalAgentListSearch.find((function(a){return a.id==e.searchForm.area_uid}))||e.$set(e.searchForm,"area_uid",void 0))):"addTeam"==t?(e.regionalAgentListAddTeam=a||[],e.regionalAgentListAddTeam.length&&(e.regionalAgentListAddTeam.find((function(a){return a.id==e.addTeamForm.area_uid}))||e.$set(e.addTeamForm,"area_uid",void 0))):(e.regionalAgentListSearch=a||[],e.regionalAgentListAddTeam=a||[])}))},getServiceManagerNoList:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.request(s["a"].serviceManagerNoList,{area_uid:a}).then((function(a){e.serviceManagerNoList=a||[],e.serviceManagerNoList.length&&(e.serviceManagerNoList.find((function(a){return a.id==e.addTeamForm.manager_uid}))||e.$set(e.addTeamForm,"manager_uid",void 0))}))},handleChange:function(e,a,t){var n=e;"area"==t?this.getRegionalAgentList(n,a):"addTeam"==a&&"area_uid"==t&&this.getServiceManagerNoList(n)},getList:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a&&(this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",10));var t=Object(i["a"])({page:this.pagination.current,pageSize:this.pagination.pageSize},this.searchForm);t.area_uid=t.area_uid||"",this.request(s["a"].teamManagementList,t).then((function(a){e.list=a.list||[],e.pagination.total=a.count}))},resetBtn:function(){this.searchForm=this.$options.data().searchForm,this.createTime=[],this.getRegionalAgentList(),this.getList(!0)},onSelectChange:function(e){var a=this;this.selectedRowKeys=e,this.selectedRowKeys.length&&this.request(s["a"].teamPerformance,{id:this.selectedRowKeys}).then((function(e){e.total_achievement&&(e.total_achievement=Number(e.total_achievement)>1e4?(Number(e.total_achievement)/1e3).toFixed(2)+"万":e.total_achievement.toFixed(2)),a.totalAchievement=e.total_achievement||"0"}))},actionBtn:function(e,a){"edit"==a?this.$router.push({path:"/new_marketing/platform/teamDetail",query:{id:e.id}}):"del"==a&&(this.currentData=e,this.modalType="delTeam",this.modalTitle="解散团队",this.modalVisible=!0,l=1,this.getTeamList())},clearOpt:function(){this.selectedRowKeys=[],this.totalAchievement=""},addTeamBtn:function(){this.modalTitle="创建团队",this.modalType="addTeam",this.addTeamForm=this.$options.data().addTeamForm,this.getRegionalAgentList(this.addTeamForm.area,"addTeam"),this.getServiceManagerNoList(),this.modalVisible=!0},handleOk:function(){"addTeam"==this.modalType?this.addTeam():"delTeam"==this.modalType&&this.delTeam(this.currentData)},handleCancel:function(){"addTeam"==this.modalType&&this.$refs.addTeamForm.clearValidate(),this.modalVisible=!1,this.modalTitle="",this.modalType="",this.currentData="",this.teamId=void 0,this.teamList=[]},addTeam:function(){var e=this;this.$refs.addTeamForm.validate((function(a){if(!a)return console.log("error submit!!"),!1;console.log("校验通过");var t=Object(i["a"])(Object(i["a"])({},e.addTeamForm),{},{area_uid:e.addTeamForm.area_uid||"",manager_uid:e.addTeamForm.manager_uid||""});e.request(s["a"].teamManagementAdd,t).then((function(a){e.$message.success("创建团队成功"),e.modalVisible&&e.handleCancel(),e.resetBtn()}))}))},getTeamList:function(){var e=this,a={name:"",area:[],manager_uid:"",area_uid:"",begin_time:"",end_time:"",page:l,pageSize:10};this.request(s["a"].teamManagementList,a).then((function(a){var t=e.teamList.concat(a.list)||[];e.teamList=t.filter((function(a){return a.id!=e.currentData.id}))}))},popupScroll:function(){this.teamList.length<Number(this.pagination.total)&&(l++,this.getTeamList())},delTeam:function(){var e=this;!this.currentData.team_count||0==this.currentData.team_count||this.teamId?this.$confirm({title:"你确定要解散该团队吗?",icon:function(e){return e("a-icon",{props:{type:"close-circle",theme:"filled"},style:{color:"#f50f50"}})},onOk:function(){var a={id:e.currentData.id,team_id:e.teamId||""};e.request(s["a"].teamManagementDiss,a).then((function(a){e.$message.success("解散团队成功"),e.modalVisible&&e.handleCancel(),e.getList(!0)}))}}):this.$message.error("请选择新团队")}}},c=g,d=(t("7916b"),t("2877")),p=Object(d["a"])(c,n,r,!1,null,"73214b76",null);a["default"]=p.exports}}]);