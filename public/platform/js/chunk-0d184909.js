(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d184909"],{"567c":function(t,e,i){"use strict";var n={config:"/community/street_community.config/index",addIndex:"/community/street_community.config/addIndex",streetUpload:"/community/street_community.config/upload",messageSuggestionsList:"/community/street_community.MessageSuggestionsList/getList",messageSuggestionsDetail:"/community/street_community.MessageSuggestionsList/detail",saveMessageSuggestionsReplyInfo:"/community/street_community.MessageSuggestionsList/saveMessageSuggestionsReplyInfo",deleteMessageSuggestionsReplyInfo:"/community/street_community.MessageSuggestionsList/deleteMessageSuggestionsReplyInfo",volunteerActivityList:"/community/street_community.VolunteerActivity/getList",volunteerActivityInfo:"/community/street_community.VolunteerActivity/getVolunteerActiveJoinDetail",uploadImgApi:"/community/street_community.volunteerActivity/uploadImgApi",subActiveJoin:"/community/street_community.volunteerActivity/subActiveJoin",addVolunteerActivity:"/community/street_community.VolunteerActivity/addVolunteerActivity",getVolunteerDetail:"/community/street_community.VolunteerActivity/getVolunteerDetail",delVolunteerActivity:"/community/street_community.VolunteerActivity/delVolunteerActivity",getActiveJoinList:"/community/street_community.VolunteerActivity/getActiveJoinList",delActivityJoin:"/community/street_community.VolunteerActivity/delActivityJoin",getVolunteerActiveJoinInfo:"/community/street_community.VolunteerActivity/getVolunteerActiveJoinInfo",getStreetShowUrl:"/community/street_community.Visualization/getStreetShowUrl",getBannerList:"/community/street_community.Visualization/bannerList",getBannerInfo:"/community/street_community.Visualization/getBannerInfo",addBanner:"/community/street_community.Visualization/addBanner",getApplication:"/community/street_community.Visualization/getApplication",bannerDel:"/community/street_community.Visualization/del",upload:"/community/street_community.Visualization/upload",getStreetNavList:"/community/street_community.StreetNav/getStreetNavList",addStreetNav:"/community/street_community.StreetNav/addStreetNav",getStreetNavInfo:"/community/street_community.StreetNav/getStreetNavInfo",streetNavDel:"/community/street_community.StreetNav/del",getPartyBranch:"/community/street_community.PartyBranch/getList",getCommunity:"/community/street_community.PartyBranch/getCommunity",addPartyBranch:"/community/street_community.PartyBranch/addPartyBranch",getPartyInfo:"/community/street_community.PartyBranch/getPartyInfo",getPartyBranchType:"/community/street_community.PartyBranch/getPartyType",delPartyBranch:"/community/street_community.PartyBranch/delPartyBranch",getPartyLocation:"/community/street_community.PartyBranch/getPartyLocation",getPartyBranchAll:"/community/street_community.PartyMember/getPartyBranchAll",getPartyMember:"/community/street_community.PartyMember/getList",getPartyMemberInfo:"/community/street_community.PartyMember/getPartyMemberInfo",getPartyUpload:"/community/street_community.PartyMember/upload",subPartyMember:"/community/street_community.PartyMember/editPartyMember",getProvinceList:"/merchant/merchant.system.area/getProvinceList",getCity:"/merchant/merchant.system.area/getCityList",getPartyMemberRoomInfo:"/community/street_community.PartyMember/getPartyMemberRoomInfo",getLessonsClassList:"/community/street_community.MeetingLesson/getLessonClassList",getLessonsClassInfo:"/community/street_community.MeetingLesson/getClassInfo",subLessonsClass:"/community/street_community.MeetingLesson/subLessonClass",delLessonsClass:"/community/street_community.MeetingLesson/delLessonClass",getMeetingList:"/community/street_community.MeetingLesson/getMeetingList",getMeetingInfo:"/community/street_community.MeetingLesson/getMeetingInfo",subMeeting:"/community/street_community.MeetingLesson/subMeeting",uploadMeeting:"/community/street_community.MeetingLesson/upload",delMeeting:"/community/street_community.MeetingLesson/delMeeting",subWeChatNotice:"/community/street_community.MeetingLesson/weChatNotice",getReplyList:"/community/street_community.MeetingLesson/getReplyList",actionReply:"/community/street_community.MeetingLesson/actionReply",openReplySwitch:"/community/street_community.MeetingLesson/isOpenReplySwitch",getMeetingBranchType:"/community/street_community.MeetingLesson/getPartyType",getPartyActivityList:"/community/street_community.PartyActivities/getPartyActivityList",getPartyActivityInfo:"/community/street_community.PartyActivities/getPartyActivityInfo",activityUpload:"/community/street_community.PartyActivities/upload",subPartyActivity:"/community/street_community.PartyActivities/subPartyActivity",delPartyActivity:"/community/street_community.PartyActivities/delPartyActivity",getApplyList:"/community/street_community.PartyActivities/getApplyList",getApplyInfo:"/community/street_community.PartyActivities/getApplyInfo",subApply:"/community/street_community.PartyActivities/subApply",delApply:"/community/street_community.PartyActivities/delApply",getPartyBuildList:"/community/street_community.PartyBuild/getPartyBuildLists",getPartyBuildInfo:"/community/street_community.PartyBuild/PartyBuildDetail",getPartyBuildCategoryInfo:"/community/street_community.PartyBuild/PartyBuildCategoryDetail",getPartyBuildCategoryList:"/community/street_community.PartyBuild/getPartyBuildCategoryLists",getPartyBuildReply:"/community/street_community.PartyBuild/getPartyBuildReplyLists",delPartyBuildCategory:"/community/street_community.PartyBuild/delPartyBuildCategory",addPartyBuildCategory:"/community/street_community.PartyBuild/addPartyBuildCategory",savePartyBuildCategory:"/community/street_community.PartyBuild/savePartyBuildCategory",addPartyBuild:"/community/street_community.PartyBuild/addPartyBuild",savePartyBuild:"/community/street_community.PartyBuild/savePartyBuild",delPartyBuild:"/community/street_community.PartyBuild/delPartyBuild",changeReplyStatus:"/community/street_community.PartyBuild/changeReplyStatus",isSwitch:"/community/street_community.PartyBuild/isSwitch",partyWeChatNotice:"/community/street_community.PartyBuild/weChatNotice",userVulnerableGroupsLists:"/community/street_community.SpecialGroupManage/getUserVulnerableGroupsList",getSpecialGroupsRecordList:"/community/street_community.SpecialGroupManage/getSpecialGroupsRecordList",addSpecialGroupsRecord:"/community/street_community.SpecialGroupManage/addSpecialGroupsRecord",delSpecialGroupsRecord:"/community/street_community.SpecialGroupManage/delSpecialGroupsRecord",getRecordDetail:"/community/street_community.SpecialGroupManage/getRecordDetail",getGroupDetail:"/community/street_community.SpecialGroupManage/getGroupDetail",getUserLabel:"/community/street_community.SpecialGroupManage/getUserLabel",gridCustomList:"/community/street_community.GridCustom/getGridCustomList",addGridCustom:"/community/street_community.GridCustom/addGridCustom",saveGridCustom:"/community/street_community.GridCustom/saveGridCustom",getGridCustomDetail:"/community/street_community.GridCustom/getGridCustomDetail",getStreetAreaInfo:"/community/street_community.GridCustom/getStreetDetail",addGridRange:"/community/street_community.GridCustom/addGridRange",getGridRange:"/community/street_community.GridCustom/getGridRange",delGridRange:"/community/street_community.GridCustom/delGridRange",getAreaList:"/community/street_community.GridCustom/getAreaList",getVillageList:"/community/street_community.GridCustom/getVillageList",getSingleList:"/community/street_community.GridCustom/getSingleList",getGridMember:"/community/street_community.GridCustom/getGridMember",getBindType:"/community/street_community.GridCustom/getBindType",getZoomLastGrid:"/community/street_community.GridCustom/getZoomLastGrid",getNowType:"/community/street_community.GridCustom/getNowType",showInfo:"/community/street_community.GridCustom/showInfo",getFloorInfo:"/community/street_community.GridCustom/getFloorInfo",getOpenDoorList:"/community/street_community.GridCustom/getOpenDoorList",getSingleInfo:"/community/street_community.GridCustom/getSingleInfo",getLayerInfo:"/community/street_community.GridCustom/getLayerInfo",getRoomUserList:"/community/street_community.GridCustom/getRoomUserList",getInOutRecord:"/community/street_community.GridCustom/getInOutRecord",getUserInfo:"/community/street_community.GridCustom/getUserInfo",saveRange:"/community/street_community.GridCustom/saveRange",delGridCustom:"/community/street_community.GridCustom/delGridCustom",getWorkers:"/community/street_community.GridEvent/getWorkers",getMemberList:"/community/street_community.OrganizationStreet/getMemberList",delWorker:"/community/street_community.OrganizationStreet/delWorker",saveStreetWorker:"/community/street_community.OrganizationStreet/saveStreetWorker",getGridRangeInfo:"/community/street_community.GridCustom/getGridRangeInfo",getMatterCategoryList:"/community/street_community.Matter/getCategoryList",getMatterCategoryDetail:"/community/street_community.Matter/getCategoryDetail",handleCategory:"/community/street_community.Matter/handleCategory",delCategory:"/community/street_community.Matter/delCategory",getMatterList:"/community/street_community.Matter/getMatterList",getMatterInfo:"/community/street_community.Matter/getMatterInfo",subMatter:"/community/street_community.Matter/subMatter",delMatter:"/community/street_community.Matter/delMatter",getClassifyNav:"/community/street_community.FixedAssets/getClassifyNav",operateClassifyNav:"/community/street_community.FixedAssets/operateClassifyNav",getClassifyNavInfo:"/community/street_community.FixedAssets/getClassifyNavInfo",delClassifyNav:"/community/street_community.FixedAssets/delClassifyNav",getClassifyList:"/community/street_community.FixedAssets/getClassifyList",subAssets:"/community/street_community.FixedAssets/subAssets",delAssets:"/community/street_community.FixedAssets/delAssets",getAssetsInfo:"/community/street_community.FixedAssets/getAssetsInfo",getAssetsList:"/community/street_community.FixedAssets/getAssetsList",subLedRent:"/community/street_community.FixedAssets/subLedRent",subTakeBack:"/community/street_community.FixedAssets/subTakeBack",getRecordList:"/community/street_community.FixedAssets/getRecordList",getMaintainList:"/community/street_community.FixedAssets/getMaintainList",getMaintainInfo:"/community/street_community.FixedAssets/getMaintainInfo",subMaintain:"/community/street_community.FixedAssets/subMaintain",uploadStreet:"/community/street_community.FixedAssets/uploadStreet",weditorUpload:"/community/street_community.config/weditorUpload",getTissueNav:"/community/street_community.OrganizationStreet/getTissueNav",getBranchInfo:"/community/street_community.OrganizationStreet/getBranchInfo",subBranch:"/community/street_community.OrganizationStreet/addOrganization",delBranch:"/community/street_community.OrganizationStreet/delBranch",getMemberInfo:"/community/street_community.OrganizationStreet/getMemberInfo",subMemberBranch:"/community/street_community.OrganizationStreet/subMemberBranch",getTissueNavList:"/community/street_community.OrganizationStreet/getTissueNavList",getEventCategoryList:"/community/street_community.GridEvent/getEventCategoryList",addEventCategory:"/community/street_community.GridEvent/addEventCategory",editEventCategory:"/community/street_community.GridEvent/editEventCategory",todayEventCount:"/community/street_community.GridEvent/todayEventCount",eventData:"/community/street_community.GridEvent/eventData",getCategoryList:"/community/street_community.GridEvent/getCategoryList",getWorkerOrderLists:"/community/street_community.GridEvent/getWorkerOrderLists",getWorkerEventDetail:"/community/street_community.GridEvent/getWorkerEventDetail",allocationWorker:"/community/street_community.GridEvent/allocationWorker",getWorkersPage:"/community/street_community.GridEvent/getWorkersPage",delWorkerOrder:"/community/street_community.GridEvent/delWorkerOrder",getGridEventOrg:"/community/street_community.GridEvent/getGridEventOrg",getStreetCommunityUserList:"/community/street_community.User/getUerList",getStreetCommunityAll:"/community/street_community.User/getCommunityAll",getStreetVillageAll:"/community/street_community.User/getVillageAll",getStreetSingleAll:"/community/street_community.User/getSingleAll",addCoordinatefloor:"/community/village_api.Aockpit/addCoordinatefloor",addAreaSingle:"/community/village_api.Aockpit/addAreaSingle",getAreaCoordinate:"/community/village_api.Aockpit/getAreaCoordinate",getSingleAreaCoordinate:"/community/village_api.Aockpit/getSingleAreaCoordinate",delArea:"/community/village_api.Aockpit/delArea",getTaskReleaseListColumns:"/community/street_community.TaskRelease/getTaskReleaseListColumns",getTaskReleaseList:"/community/street_community.TaskRelease/getTaskReleaseList",getTaskReleaseOne:"/community/street_community.TaskRelease/getTaskReleaseOne",taskReleaseAdd:"/community/street_community.TaskRelease/taskReleaseAdd",taskReleaseSub:"/community/street_community.TaskRelease/taskReleaseSub",taskReleaseDel:"/community/street_community.TaskRelease/taskReleaseDel",getTaskReleaseRecord:"/community/street_community.TaskRelease/getTaskReleaseRecord",getTaskReleaseType:"/community/street_community.TaskRelease/getTaskReleaseType",getCommunityCareType:"/community/street_community.TaskRelease/getCommunityCareType",getCommunityCareList:"/community/street_community.TaskRelease/getCommunityCareList",communityCareAdd:"/community/street_community.TaskRelease/communityCareAdd",communityCareOne:"/community/street_community.TaskRelease/communityCareOne",communityCareSub:"/community/street_community.TaskRelease/communityCareSub",communityCareDel:"/community/street_community.TaskRelease/communityCareDel",getEpidemicPreventSeriesList:"/community/street_community.TaskRelease/getEpidemicPreventSeriesList",epidemicPreventSeriesAdd:"/community/street_community.TaskRelease/epidemicPreventSeriesAdd",epidemicPreventSeriesOne:"/community/street_community.TaskRelease/epidemicPreventSeriesOne",epidemicPreventSeriesSub:"/community/street_community.TaskRelease/epidemicPreventSeriesSub",epidemicPreventSeriesDel:"/community/street_community.TaskRelease/epidemicPreventSeriesDel",getEpidemicPreventTypeList:"/community/street_community.TaskRelease/getEpidemicPreventTypeList",epidemicPreventTypeAdd:"/community/street_community.TaskRelease/epidemicPreventTypeAdd",epidemicPreventTypeOne:"/community/street_community.TaskRelease/epidemicPreventTypeOne",epidemicPreventTypeSub:"/community/street_community.TaskRelease/epidemicPreventTypeSub",epidemicPreventTypeDel:"/community/street_community.TaskRelease/epidemicPreventTypeDel",getEpidemicPreventParamAll:"/community/street_community.TaskRelease/getEpidemicPreventParamAll",getEpidemicPreventRecordList:"/community/street_community.TaskRelease/getEpidemicPreventRecordList",epidemicPreventRecordAdd:"/community/street_community.TaskRelease/epidemicPreventRecordAdd",epidemicPreventRecordOne:"/community/street_community.TaskRelease/epidemicPreventRecordOne",epidemicPreventRecordSub:"/community/street_community.TaskRelease/epidemicPreventRecordSub",epidemicPreventRecordDel:"/community/street_community.TaskRelease/epidemicPreventRecordDel",getStreetCommunityTissueNav:"/community/street_community.TaskRelease/getTissueNav",getTaskReleaseTissueNav:"/community/street_community.TaskRelease/getTaskReleaseTissueNav",getIndex:"/community/street_community.CommunityCommittee/getIndex",getAreaStreetWorkersOrder:"/community/street_community.CommunityCommittee/getAreaStreetWorkersOrder",getPartyBuilding:"/community/street_community.CommunityCommittee/getPartyBuilding",getStreetPartyActivity:"/community/street_community.CommunityCommittee/getPartyActivity",getEventAnaly:"/community/street_community.CommunityCommittee/getEventAnaly",getPopulationAnaly:"/community/street_community.CommunityCommittee/getPopulationAnaly",getPartyMemberStatistics:"/community/street_community.CommunityCommittee/getPartyMemberStatistics",getEpidemicPrevent:"/community/street_community.CommunityCommittee/getEpidemicPrevent",getPartyOrgStatistics:"/community/street_community.CommunityCommittee/getPartyOrgStatistics",getPartyMeetingStatistics:"/community/street_community.CommunityCommittee/getPartyMeetingStatistics",getPartySeekStatistics:"/community/street_community.CommunityCommittee/getPartySeekStatistics",getPartyNewsStatistics:"/community/street_community.CommunityCommittee/getPartyNewsStatistics",getPopulationPersonStatistics:"/community/street_community.CommunityCommittee/getPopulationPersonStatistics",getPopulationSexStatistics:"/community/street_community.CommunityCommittee/getPopulationSexStatistics",getPopulationAgeStatistics:"/community/street_community.CommunityCommittee/getPopulationAgeStatistics",getPopulationUserLabelStatistics:"/community/street_community.CommunityCommittee/getPopulationUserLabelStatistics",getPopulationEducateStatistics:"/community/street_community.CommunityCommittee/getPopulationEducateStatistics",getPopulationMarriageStatistics:"/community/street_community.CommunityCommittee/getPopulationMarriageStatistics",getEventReportStatistics:"/community/street_community.CommunityCommittee/getEventReportStatistics",getEventCareStatistics:"/community/street_community.CommunityCommittee/getEventCareStatistics",getEventVirtualStatistics:"/community/street_community.CommunityCommittee/getEventVirtualStatistics",getEventVideo1Statistics:"/community/street_community.CommunityCommittee/getEventVideo1Statistics",getEventVideo2Statistics:"/community/street_community.CommunityCommittee/getEventVideo2Statistics",getStreetVillages:"/community/street_community.OrganizationStreet/getStreetXillages",getProvinceCityAreas:"/community/street_community.OrganizationStreet/getProvinceCityAreas",getStreetRolePermission:"/community/street_community.OrganizationStreet/getStreetRolePermission",saveStreetRolePermission:"/community/street_community.OrganizationStreet/saveStreetRolePermission",getPartyBranchPosition:"/community/street_community.CommunityCommittee/getPartyBranchPosition",getStreetLibraryClass:"/community/street_community.Visualization/getStreetLibraryClass",getStreetWorkRecognition:"/community/street_community.OrganizationStreet/getRecognition",checkStreetWorkRecognition:"/community/street_community.OrganizationStreet/checkWorker",cancelStreetWorkRecognition:"/community/street_community.OrganizationStreet/cancelWorkerBind"};e["a"]=n},"845c":function(t,e,i){"use strict";i("cbee")},"933d":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.coverImg?i("div",{ref:"canvas_con",staticClass:"workshop_canvas",on:{click:t.selectPoint,contextmenu:function(e){return e.preventDefault(),t.rightClick.apply(null,arguments)}}},[i("div",{staticClass:"draw_btn",class:0==t.pointArr.length?"":"grey",on:{click:function(e){return e.stopPropagation(),t.startDraw.apply(null,arguments)}}},[t._v(t._s(t.isDraw?"保存":"绘制"))]),t.isDraw?i("div",{staticClass:"reset_btn",class:0==t.pointArr.length?"grey":"",on:{click:function(e){return e.stopPropagation(),t.reset.apply(null,arguments)}}},[t._v("撤销")]):t._e(),i("div",{staticClass:"draw_desc"},[i("a-popover",{attrs:{title:"操作说明",placement:"topRight"}},[i("a-button",{attrs:{type:"primary"}},[t._v(" 查看提示信息 ")]),i("template",{slot:"content"},[i("span",{staticClass:"desc_content"},[t._v(" 在“小区楼盘底图”点击上传图片，选择想要上传的图片、并确定保存，上传成功后，在“绘制区域”对上传的“小区楼盘底图”可以绘制楼栋区域，绘制楼栋范围功能 ")]),i("span",{staticClass:"desc_content"},[t._v(" 点击绘制按钮开启绘制功能，在小区楼盘底图绘制楼栋的范围，绘制成功后进行保存（需要多点连接绘制成面），对绘制好的楼栋点击鼠标右键，展示编辑、删除按钮，点击编辑弹窗显示小区的所有楼栋名称，对绘制的楼栋跟楼栋名称进行绑定操作，绑定成功后，楼栋变更为已绑定状态颜色；点击删除按钮，对绘制的楼栋进行删除操作，删除后需要重新进行绘制。 ")])])],2)],1),i("img",{staticClass:"back_image",attrs:{src:t.coverImg}}),i("canvas",{staticClass:"my_canvas",attrs:{id:"myCanvas",width:t.canvasProp.width,height:t.canvasProp.height}}),t.showMenu?i("div",{staticClass:"menu_con",style:{left:t.menuPosition.left,top:t.menuPosition.top}},t._l(t.menu_list,(function(e,n){return i("div",{key:n,staticClass:"menu_item",on:{click:function(i){return t.menuClick(e)}}},[i("aIcon",{tag:"component",style:{color:e.color},attrs:{type:e.icon_type}}),i("div",{staticClass:"menu_name",style:{color:e.color}},[t._v(t._s(e.name))])],1)})),0):t._e(),i("a-modal",{attrs:{title:"绑定楼栋",visible:t.visible},on:{ok:t.handleOk,cancel:t.handleCancel}},[i("div",{staticClass:"select_container"},[t._v(" 选择楼栋： "),t.visible?i("a-select",{staticStyle:{width:"200px"},attrs:{value:t.single_id,disabled:t.haveDefaultSingle,placeholder:"请选择楼栋"},on:{change:t.handleChange}},t._l(t.singleList,(function(e,n){return i("a-select-option",{attrs:{value:e.id}},[t._v(" "+t._s(e.single_name)+" ")])})),1):t._e()],1)])],1):t._e()},m=[],o=(i("d81d"),i("cb29"),i("b0c0"),i("a434"),i("a0e0")),s=i("567c"),r={data:function(){return{canvasProp:{width:0,height:0},coverImg:"https://hf.pigcms.com/static/wxapp/images/builds_back_img_white.png",pointArr:[],singleArr:[],isDraw:!1,menu_list:[{name:"删除",color:"red",icon_type:"delete"},{name:"编辑",color:"#409EFF",icon_type:"edit"}],menuPosition:{left:"",top:""},showMenu:!1,currentIndex:-1,single_id:-1,visible:!1,singleList:[],pageParams:{},haveDefaultSingle:!1,hasBind:!1}},created:function(){this.$route.query&&1*this.$route.query.single_id>0?(this.single_id=1*this.$route.query.single_id,this.haveDefaultSingle=!0):(this.single_id="",this.haveDefaultSingle=!1),this.getSingleList(),this.getVillageArea()},mounted:function(){var t=this;t.$nextTick((function(){var e=t.$refs.canvas_con.clientWidth,i=t.$refs.canvas_con.clientHeight;t.canvasProp.width=e,t.canvasProp.height=i,t.pageParams.floor_photo_coordinate={top:0,left:0},t.pageParams.floor_photo_size={width:e,height:i},t.getAreaList()}))},methods:{getVillageArea:function(){var t=this;t.request(o["a"].getVillageArea,{},"post").then((function(e){t.coverImg=e.village_floor}))},getSingleList:function(){var t=this;t.request(o["a"].getSingleList,{},"post").then((function(e){t.singleList=e}))},getAreaList:function(){var t=this;t.request(s["a"].getAreaCoordinate,t.pageParams,"post").then((function(e){t.singleArr=e||[],t.reset()}))},handleChange:function(t){this.single_id=t},selectPoint:function(t){var e=this;if(e.isDraw)if(e.haveDefaultSingle&&1==e.singleArr.length)e.$message.warn("指定楼栋只能绑定一处区域");else{var i=t.x,n=t.y,m={x:i,y:n};if(e.pointArr.push(m),e.pointArr.length>1){var o=e.pointArr[e.pointArr.length-1],s=e.pointArr[e.pointArr.length-2];e.drawLine(o,s)}if(e.drawPoint(i,n),e.checkNum(e.pointArr[0].x,m.x)&&e.checkNum(e.pointArr[0].y,m.y)&&e.pointArr.length>3){e.pointArr.push(m);var r=e.pointArr[e.pointArr.length-1],a=e.pointArr[e.pointArr.length-2];e.drawLine(r,a),e.singleArr.push({pointArr:e.pointArr}),e.drawPoint(i,n),e.reset(),e.pointArr=[]}}else e.showMenu=!1},drawBack:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=document.getElementById("myCanvas"),m=n.getContext("2d");m.beginPath(),t.map((function(t,e){0==e?m.moveTo(t.x,t.y):m.lineTo(t.x,t.y)})),m.closePath(),m.strokeStyle=i,m.stroke(),m.fillStyle=e,m.fill()},drawPoint:function(t,e){var i=document.getElementById("myCanvas"),n=i.getContext("2d");n.fillStyle="RGBA(177, 6, 29, 1)",n.fillRect(t-1.5,e-1.5,3,3)},drawLine:function(t,e){var i=document.getElementById("myCanvas"),n=i.getContext("2d");n.lineWidth=1,n.strokeStyle="RGBA(177, 6, 29, 1)",n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke()},startDraw:function(){var t=this;t.pointArr.length>0?t.$message.warn("区域未绘制完成不能保存"):0==t.singleArr.length&&t.isDraw?t.$message.warn("至少绘制一个楼栋"):t.isDraw?t.$confirm({title:"提示",content:"确定保存当前配置吗？",onOk:function(){t.pageParams.singleArr=t.singleArr,t.request(s["a"].addCoordinatefloor,t.pageParams,"post").then((function(e){t.$message.success("保存成功！"),t.getAreaList(),t.isDraw=!1}))},onCancel:function(){}}):t.isDraw=!0},checkNum:function(t,e){var i=t+8,n=t-8;if(e>n&&e<i)return!0},clearCanvas:function(){var t=document.getElementById("myCanvas");t.width=this.canvasProp.width,t.height=this.canvasProp.height},reset:function(){var t=this;t.clearCanvas(),t.pointArr=[],0!=t.singleArr.length&&t.$nextTick((function(){t.singleArr.map((function(e,i){e.pointArr.map((function(i,n){t.drawPoint(i.x,i.y),0!=n&&t.drawLine(e.pointArr[n-1],e.pointArr[n])}));var n="RGBA(177, 6, 29, .3)";e.single_id&&(n="RGBA(0, 255, 255, .3)"),t.drawBack(e.pointArr,n)}))}))},rightClick:function(t){var e=this;if(!e.isDraw){e.menuPosition.left=t.x+"px",e.menuPosition.top=t.y+"px";var i={x:t.x,y:t.y};e.showMenu=!1,e.singleArr.map((function(t,n){e.calculationExtremum(t.pointArr,i)&&(e.showMenu=!0,e.currentIndex=n,e.area_id=t.area_id,t.single_id?e.hasBind=!0:e.hasBind=!1,e.haveDefaultSingle||(e.single_id=t.single_id||""))}))}},calculate:function(t,e){for(var i=t.length,n=!1,m=0,o=i-1;m<i;m++){var s=t[m],r=t[o];(s.x<e.x&&r.x>=e.x||r.x<e.x&&s.x>=e.x)&&(e.x-s.x)/(r.x-s.x)*(r.y-s.y)+s.y<e.y&&(n=!n),o=m}return n},calculationExtremum:function(t,e){var i=this,n=!0,m=[],o=[];t.map((function(t){m.push(t.x),o.push(t.y)}));var s=Math.min.apply(Math,m),r=Math.max.apply(Math,m),a=Math.min.apply(Math,o),c=Math.max.apply(Math,o);return(e.x<s||e.x>r||e.y<a||e.y>c)&&(n=!1),n&&(n=i.calculate(t,e)),n},menuClick:function(t){var e=this;"删除"==t.name?(e.singleArr.splice(e.currentIndex,1),e.request(s["a"].delArea,{area_id:e.area_id},"post").then((function(t){e.$message.success("删除成功！"),e.getAreaList(),e.isDraw=!1})),e.showMenu=!1):"编辑"==t.name&&(e.hasBind?e.$message.warn("该区域已绑定楼栋"):e.visible=!0)},handleOk:function(){var t=this;if(t.single_id){var e={single_id:t.single_id,area_id:t.area_id};t.request(s["a"].addAreaSingle,e,"post").then((function(e){t.getSingleList(),t.getAreaList(),t.visible=!1,t.$message.success("绑定成功！")}))}else t.$message.warn("请选择一个楼栋")},handleCancel:function(){this.visible=!1}}},a=r,c=(i("845c"),i("0c7c")),u=Object(c["a"])(a,n,m,!1,null,"62d6bb6c",null);e["default"]=u.exports},cbee:function(t,e,i){}}]);