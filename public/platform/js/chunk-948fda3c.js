(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-948fda3c"],{"6cb8":function(e,o,a){"use strict";a.r(o);var t=function(){var e=this,o=e.$createElement,a=e._self._c||o;return a("a-modal",{attrs:{title:e.title,width:640,visible:e.visible,maskClosable:!1,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{label:"房间套餐名称",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["room_title",{initialValue:e.detail.room_title,rules:[{required:!0,message:"请输入套餐名称！"}]}],expression:"['room_title', {initialValue:detail.room_title,rules: [{required: true, message: '请输入套餐名称！'}]}]"}]})],1),a("a-form-item",{attrs:{label:"房间数量",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["room_count",{initialValue:e.detail.room_count,rules:[{required:!0,message:"请输入房间数量！"}]}],expression:"['room_count', {initialValue:detail.room_count,rules: [{required: true, message: '请输入房间数量！'}]}]"}]})],1),a("a-form-item",{attrs:{label:"套餐价格",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["room_price",{initialValue:e.detail.room_price,rules:[{required:!0,message:"请输入套餐价格！"}]}],expression:"['room_price', {initialValue:detail.room_price,rules: [{required: true, message: '请输入套餐价格！'}]}]"}]})],1),a("a-form-item",{attrs:{label:"排序值",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["sort",{initialValue:e.detail.sort}],expression:"['sort',{initialValue:detail.sort}]"}]})],1),a("a-form-item",{attrs:{label:"状态",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{initialValue:0==e.detail.status,valuePropName:"checked"}],expression:"['status',{initialValue:detail.status==0 ? true : false,valuePropName: 'checked'}]"}],attrs:{"checked-children":"开启","un-checked-children":"关闭"}})],1)],1)],1)],1)},i=[],r=a("df93"),l={data:function(){return{title:"添加套餐",labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this),property:[],community:[],showMethod:[],detail:{room_id:0,room_title:"",room_count:"",room_price:"",package_limit_num:"",txt_des:"",room_num:"",status:0,sort:0},room_id:"",value:[]}},mounted:function(){},methods:{add:function(){this.title="添加套餐",this.visible=!0,this.room_id="0",this.detail={room_id:0,room_title:"",room_count:"",room_price:"",package_limit_num:"",txt_des:"",room_num:"",status:0,sort:0}},edit:function(e){this.visible=!0,this.room_id=e,this.getEditInfo(),console.log(this.room_id),this.room_id>0?this.title="编辑套餐":this.title="添加套餐",console.log(this.title)},handleSubmit:function(){var e=this,o=this.form.validateFields;this.confirmLoading=!0,o((function(o,a){o?e.confirmLoading=!1:(a.room_id=e.room_id,a.status?a.status=0:a.status=1,e.request(r["a"].addRoomPackage,a).then((function(o){e.room_id>0?e.$message.success("编辑成功"):e.$message.success("添加成功"),setTimeout((function(){e.form=e.$form.createForm(e),e.visible=!1,e.confirmLoading=!1,e.$emit("ok",a)}),1500)})).catch((function(o){e.confirmLoading=!1})),console.log("values",a))}))},handleCancel:function(){var e=this;this.visible=!1,setTimeout((function(){e.room_id="0",e.form=e.$form.createForm(e)}),500)},getEditInfo:function(){var e=this;this.request(r["a"].detailRoomPackage,{room_id:this.room_id}).then((function(o){console.log(o),e.detail=o,console.log("detail",e.detail)}))}}},m=l,s=a("2877"),n=Object(s["a"])(m,t,i,!1,null,null,null);o["default"]=n.exports},df93:function(e,o,a){"use strict";var t={packageList:"/community/platform.PrivilegePackage/getList",getEditInfo:"/community/platform.PrivilegePackage/detailPrivilegePackage",getFunctionApp:"/community/platform.PrivilegePackage/getFunctionApplication",delPackage:"/community/platform.PrivilegePackage/delPrivilegePackage",addPackage:"/community/platform.PrivilegePackage/addPrivilegePackage",packageOrderList:"/community/platform.PackageOrder/getList",packageOrderInfo:"/community/platform.PackageOrder/getInfo",roomPackageList:"/community/platform.RoomPackage/getList",addRoomPackage:"/community/platform.RoomPackage/addRoomPackage",detailRoomPackage:"/community/platform.RoomPackage/getDetails",delRoomPackage:"/community/platform.RoomPackage/delRoomPackage",packageRoomOrderList:"/community/platform.PackageRoomOrder/getList",packageRoomOrderInfo:"/community/platform.PackageRoomOrder/getInfo"};o["a"]=t}}]);