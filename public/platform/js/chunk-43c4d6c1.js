(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43c4d6c1","chunk-2d0b6a79","chunk-2d0b6a79","chunk-2d0b3786","chunk-2d22e13d"],{"151e":function(e,t,o){},"1da1":function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));o("d3b7");function a(e,t,o,a,i,l,r){try{var s=e[l](r),n=s.value}catch(m){return void o(m)}s.done?t(n):Promise.resolve(n).then(a,i)}function i(e){return function(){var t=this,o=arguments;return new Promise((function(i,l){var r=e.apply(t,o);function s(e){a(r,i,l,s,n,"next",e)}function n(e){a(r,i,l,s,n,"throw",e)}s(void 0)}))}}},2909:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));var a=o("6b75");function i(e){if(Array.isArray(e))return Object(a["a"])(e)}o("a4d3"),o("e01a"),o("d3b7"),o("d28b"),o("3ca3"),o("ddb0"),o("a630");function l(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var r=o("06c5");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e){return i(e)||l(e)||Object(r["a"])(e)||s()}},"9d30":function(e,t,o){"use strict";o("151e")},a4f2:function(e,t,o){"use strict";o.r(t);var a=o("5530"),i=(o("4e82"),function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{title:e.title,width:"60%",visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancelModel}},[t("a-spin",{attrs:{spinning:e.confirmLoading}},[t("a-form",{staticStyle:{"max-height":"600px","overflow-y":"scroll"},attrs:{form:e.formData}},[t("a-form-item",{attrs:{label:"活动名称",labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:!0}},[t("a-input",{attrs:{placeholder:"请输入活动名称"},model:{value:e.formData.title,callback:function(t){e.$set(e.formData,"title",t)},expression:"formData.title"}})],1),t("a-form-item",{attrs:{label:"参赛类型",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{attrs:{placeholder:"请输入参赛类型"},model:{value:e.formData.member_type,callback:function(t){e.$set(e.formData,"member_type",t)},expression:"formData.member_type"}})],1),t("a-form-item",{attrs:{label:"活动主办方联系方式",labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:!0}},[t("a-input",{attrs:{placeholder:"请输活动主办方联系方式"},model:{value:e.formData.phone,callback:function(t){e.$set(e.formData,"phone",t)},expression:"formData.phone"}})],1),t("a-form-model-item",{attrs:{label:"活动起止时间",labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:!0}},[t("a-form-model-item",{style:{display:"inline-block"}},[t("a-date-picker",{attrs:{"show-time":e.showTime,format:e.dateFormat,"disabled-date":e.disabledStartDate,placeholder:"请选择活动开始时间"},on:{change:e.onDateStartChange},model:{value:e.start_time,callback:function(t){e.start_time=t},expression:"start_time"}})],1),t("span",{style:{display:"inline-block",width:"24px",textAlign:"center"}},[e._v(" - ")]),t("a-form-model-item",{style:{display:"inline-block"}},[t("a-date-picker",{attrs:{"show-time":e.showTime,format:e.dateFormat,"disabled-date":e.disabledEndDate,placeholder:"请选择活动结束时间",getCalendarContainer:function(e){return e.parentNode}},on:{change:e.onDateEndChange},model:{value:e.end_time,callback:function(t){e.end_time=t},expression:"end_time"}})],1)],1),t("a-form-item",{attrs:{label:"报名费用",labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:!0}},[t("a-input-number",{staticStyle:{width:"410px"},attrs:{placeholder:"请输入报名费用",min:0},model:{value:e.formData.price,callback:function(t){e.$set(e.formData,"price",t)},expression:"formData.price"}})],1),t("a-form-item",{attrs:{label:"提前几天通知",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input-number",{staticStyle:{width:"410px"},attrs:{placeholder:"请输入提前几天通知"},model:{value:e.formData.send_notice_days,callback:function(t){e.$set(e.formData,"send_notice_days",t)},expression:"formData.send_notice_days"}})],1),t("a-form-item",{attrs:{label:"地址经纬度",required:!0,labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-row",[t("a-col",{attrs:{span:6}},[t("a-button",{on:{click:e.showMapModel}},[e._v(" 点击选取经纬度 ")])],1),t("a-col",{attrs:{span:2}}),t("a-col",{attrs:{span:12}},[e._v(" "+e._s(e.formData.long)+","+e._s(e.formData.lat)+" ")])],1)],1),t("a-form-item",{attrs:{label:"所在省市区",labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:!0}},[t("a-cascader",{attrs:{options:e.formData.areas,placeholder:"选择省市区",value:e.sel_areas},on:{change:e.onChangeArea}})],1),t("a-form-item",{attrs:{label:"详细地址",required:!0,labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{attrs:{placeholder:"请输入详细地址"},model:{value:e.formData.address,callback:function(t){e.$set(e.formData,"address",t)},expression:"formData.address"}})],1),t("a-form-item",{attrs:{label:"活动大图",labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:!0}},[t("a-input",{attrs:{hidden:""},model:{value:e.formData.image_big,callback:function(t){e.$set(e.formData,"image_big",t)},expression:"formData.image_big"}}),[t("div",{staticClass:"clearfix"},[t("a-upload",{attrs:{action:e.action,name:e.uploadName,data:{upload_dir:e.upload_dir},"list-type":"picture-card","file-list":e.image_big_fileList},on:{preview:e.handlePreview,change:function(t){return e.handleChange(t,"image_big")}}},[t("a-icon",{attrs:{type:"plus"}}),t("div",{staticClass:"ant-upload-text"},[e._v("上传图片")])],1)],1),t("div",{staticStyle:{position:"absolute","z-index":"100",top:"100px",width:"400px"}},[e._v(" 推荐尺寸375px*181px ")])]],2),t("a-form-item",{attrs:{label:"活动小图",labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:!0}},[t("a-input",{attrs:{hidden:""},model:{value:e.formData.image_small,callback:function(t){e.$set(e.formData,"image_small",t)},expression:"formData.image_small"}}),[t("div",{staticClass:"clearfix"},[t("a-upload",{attrs:{action:e.action,name:e.uploadName,data:{upload_dir:e.upload_dir},"list-type":"picture-card","file-list":e.image_small_fileList},on:{preview:e.handlePreview,change:function(t){return e.handleChange(t,"image_small")}}},[t("a-icon",{attrs:{type:"plus"}}),t("div",{staticClass:"ant-upload-text"},[e._v("上传图片")])],1)],1),t("div",{staticStyle:{position:"absolute","z-index":"100",top:"100px",width:"400px"}},[e._v(" 推荐尺寸107px*105px ")])]],2),t("a-form-item",{attrs:{label:"号码规则",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-row",[t("a-radio-group",{attrs:{disabled:!!e.competition_id,name:"radioGroup","default-value":1},model:{value:e.formData.number_rule_type,callback:function(t){e.$set(e.formData,"number_rule_type",t)},expression:"formData.number_rule_type"}},[t("a-radio",{attrs:{value:1}},[e._v(" 数字 ")]),t("a-radio",{attrs:{value:2}},[e._v(" 字母+数字 ")])],1)],1),1==e.formData.number_rule_type?t("a-row",{staticClass:"mt-10"},[t("span",[e._v("数字位数：")]),t("a-input-number",{staticStyle:{width:"110px"},attrs:{disabled:!!e.competition_id,min:0,max:8,placeholder:"请输入"},model:{value:e.formData.number_count,callback:function(t){e.$set(e.formData,"number_count",t)},expression:"formData.number_count"}}),t("span",[e._v("   注：列如设置3位，号码显示001,数字位数最多8位")])],1):e._e(),2==e.formData.number_rule_type?t("a-row",{staticClass:"mt-10"},[t("span",{staticStyle:{"margin-right":"10px"}},[t("span",[e._v("开头字母：")]),t("a-input",{staticStyle:{width:"100px"},attrs:{disabled:!!e.competition_id,placeholder:"请输入"},model:{value:e.formData.number_prefix_letter,callback:function(t){e.$set(e.formData,"number_prefix_letter",t)},expression:"formData.number_prefix_letter"}})],1),t("span",[t("span",[e._v("数字位数：")]),t("a-input-number",{staticStyle:{width:"100px"},attrs:{min:0,max:8,disabled:!!e.competition_id,placeholder:"请输入"},model:{value:e.formData.number_count,callback:function(t){e.$set(e.formData,"number_count",t)},expression:"formData.number_count"}}),t("span",[e._v("   注：列如设置3位，号码显示001,数字位数最多8位")])],1)]):e._e(),t("span",[e._v("添加赛事后,将不可编辑")])],1),t("a-form-item",{attrs:{label:"人数限制",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-select",{model:{value:e.formData.limit_type,callback:function(t){e.$set(e.formData,"limit_type",t)},expression:"formData.limit_type"}},[t("a-select-option",{attrs:{value:0}},[e._v(" 不限制 ")]),t("a-select-option",{attrs:{value:1}},[e._v(" 限制 ")])],1)],1),e.formData.limit_type?t("a-form-item",{attrs:{label:"参与人数",required:!0,labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input-number",{staticStyle:{width:"410px"},attrs:{placeholder:"请输入参与人数",min:e.formData.limit_num},model:{value:e.formData.limit_num,callback:function(t){e.$set(e.formData,"limit_num",t)},expression:"formData.limit_num"}})],1):e._e(),t("a-form-item",{attrs:{label:"是否开启自定义申请模板",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-row",[t("a-radio-group",{attrs:{disabled:!!e.competition_id,name:"radioGroup","default-value":0},model:{value:e.formData.is_custom,callback:function(t){e.$set(e.formData,"is_custom",t)},expression:"formData.is_custom"}},[t("a-radio",{attrs:{value:0}},[e._v(" 不开启 ")]),t("a-radio",{attrs:{value:1}},[e._v(" 开启 ")])],1)],1),1==e.formData.is_custom?t("a-row",{staticClass:"mt-10"},[t("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.addCustomFormList()}}},[e._v("添加")])],1):e._e()],1),1==e.formData.is_custom&&e.formData.custom_form&&e.formData.custom_form.length?t("a-form-item",{attrs:{label:"  ",colon:!1,labelCol:Object(a["a"])(Object(a["a"])({},e.labelCol),{},{sm:{span:4,offset:3}}),wrapperCol:Object(a["a"])(Object(a["a"])({},e.wrapperCol),{},{sm:{span:14}})}},e._l(e.formData.custom_form,(function(o,a){return t("div",{key:a,staticClass:"customFormWrap",class:0!=a?"mt-20":""},[t("div",{staticClass:"flex-1 mr-20"},[t("a-form-item",{attrs:{label:"标题名称",labelCol:{span:6},wrapperCol:{span:16}}},[t("a-input",{attrs:{placeholder:"请输入标题名称"},model:{value:o.title,callback:function(t){e.$set(o,"title",t)},expression:"item.title"}})],1),t("a-form-item",{attrs:{label:"排序值",labelCol:{span:6},wrapperCol:{span:16}}},[t("a-input",{attrs:{placeholder:"请输入排序值",type:"number",min:0},model:{value:o.sort,callback:function(t){e.$set(o,"sort",t)},expression:"item.sort"}})],1),t("a-form-item",{attrs:{label:"选择表单控件",labelCol:{span:6},wrapperCol:{span:16}}},[t("a-select",{attrs:{placeholder:"请选择表单控件",options:e.customFormOptions},on:{change:function(t){return e.selectChange(t,a)}},model:{value:o.type,callback:function(t){e.$set(o,"type",t)},expression:"item.type"}})],1),"image"==o.type?t("a-form-item",{attrs:{label:"数量限制",labelCol:{span:6},wrapperCol:{span:16}}},[t("a-input",{attrs:{placeholder:"请输入图片最大上传数量",type:"number",min:0},model:{value:o.image_max_num,callback:function(t){e.$set(o,"image_max_num",t)},expression:"item.image_max_num"}})],1):e._e(),"select"==o.type?t("a-form-item",{attrs:{label:"枚举值",labelCol:{span:6},wrapperCol:{span:16}}},[t("a-input",{attrs:{placeholder:"选择值之间用','隔开"},model:{value:o.content,callback:function(t){e.$set(o,"content",t)},expression:"item.content"}})],1):e._e(),t("a-form-item",{attrs:{label:"是否为必填",labelCol:{span:6},wrapperCol:{span:16}}},[t("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否",checked:0!=o.is_must},on:{change:function(t){return e.customFormSwitchChange(t,a,"is_must")}}})],1),t("a-form-item",{attrs:{label:"状态",labelCol:{span:6},wrapperCol:{span:16}}},[t("a-switch",{attrs:{"checked-children":"开","un-checked-children":"关",checked:0!=o.status},on:{change:function(t){return e.customFormSwitchChange(t,a,"status")}}})],1)],1),t("div",[t("a-button",{attrs:{type:"danger"},on:{click:function(t){return e.delItem(a,"custom_form")}}},[e._v("删除控件")])],1)])})),0):e._e(),t("a-form-item",{attrs:{label:"是否开启审核",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-row",[t("a-radio-group",{attrs:{disabled:!!e.competition_id,name:"radioGroup","default-value":0},model:{value:e.formData.is_audit,callback:function(t){e.$set(e.formData,"is_audit",t)},expression:"formData.is_audit"}},[t("a-radio",{attrs:{value:0}},[e._v(" 不开启 ")]),t("a-radio",{attrs:{value:1}},[e._v(" 开启 ")])],1)],1),1==e.formData.is_audit?t("a-row",{staticClass:"mt-10"},[t("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.addVerifyUserList()}}},[e._v("添加")])],1):e._e()],1),1==e.formData.is_audit&&e.formData.audit_user&&e.formData.audit_user.length?t("a-form-item",{attrs:{label:"  ",colon:!1,labelCol:e.labelCol,wrapperCol:e.wrapperCol,help:"绑定管理员审核，顺序值越大，排序第一，第一位审核"}},e._l(e.formData.audit_user,(function(o,a){return t("div",{key:a,staticClass:"flex"},[t("a-form-item",{staticClass:"flex-1",attrs:{label:"审核人",labelCol:{span:6},wrapperCol:{span:18},labelAlign:"left"}},[t("a-select",{staticStyle:{width:"80%"},attrs:{options:e.getVerifyUserOptions(o.admin_id),placeholder:"请选择",allowClear:"",showSearch:""},model:{value:o.admin_id,callback:function(t){e.$set(o,"admin_id",t)},expression:"item.admin_id"}})],1),t("a-form-item",{staticClass:"flex-1",attrs:{label:"顺序值",labelCol:{span:6},wrapperCol:{span:18},labelAlign:"left"}},[t("a-input-number",{attrs:{min:0},model:{value:o.sort,callback:function(t){e.$set(o,"sort",t)},expression:"item.sort"}})],1)],1)})),0):e._e(),t("a-form-item",{attrs:{label:"上传证书底图",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-row",[t("a-upload",{attrs:{action:e.action,name:e.uploadName,data:{upload_dir:e.upload_dir},"list-type":"picture-card","file-list":e.formData.certificate_bgimg},on:{preview:e.handlePreview,change:e.handleChanges}},[t("a-icon",{attrs:{type:"plus"}}),t("div",{staticClass:"ant-upload-text"},[e._v("上传图片")])],1)],1)],1),t("a-form-item",{attrs:{label:"挑战成绩公示",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("rich-text",{attrs:{info:e.formData.content},on:{"update:info":function(t){return e.$set(e.formData,"content",t)}}})],1),t("a-modal",{attrs:{width:"1000px",title:"地图",destroyOnClose:!0},on:{ok:e.handleOk,cancel:e.handleCancelMap},model:{value:e.visible_map,callback:function(t){e.visible_map=t},expression:"visible_map"}},[t("div",{staticClass:"flex flex-wrap justify-between"},[t("div",{staticClass:"flex",staticStyle:{width:"260px"}},[t("a-input",{attrs:{placeholder:"请输入关键字"},on:{change:e.showPanelInput},model:{value:e.addressKeyword,callback:function(t){e.addressKeyword=t},expression:"addressKeyword"}})],1),t("div",{staticClass:"flex-1 ml-40"},[t("baidu-map",{staticClass:"bm-view",attrs:{zoom:e.zoom,center:e.postionMap,"scroll-wheel-zoom":!0},on:{click:e.getLocationPoint}},[t("bm-navigation",{attrs:{anchor:"BMAP_ANCHOR_TOP_LEFT"}}),t("bm-map-type",{attrs:{"map-types":["BMAP_NORMAL_MAP","BMAP_SATELLITE_MAP"],anchor:"BMAP_ANCHOR_TOP_RIGHT"}}),t("bm-local-search",{staticClass:"searchRes",attrs:{keyword:e.addressKeyword,zoom:e.zoom,"auto-viewport":!0,panel:e.showPanel},on:{infohtmlset:e.infohtmlset}}),t("bm-marker",{attrs:{position:e.postionMap,dragging:!0}})],1)],1)])])],1)],1),t("a-modal",{attrs:{visible:e.previewVisible,footer:null},on:{cancel:e.handleCancel}},[t("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:e.previewImage}})])],1)}),l=[],r=o("2909"),s=o("1da1"),n=(o("96cf"),o("d3b7"),o("159b"),o("498a"),o("4de4"),o("c740"),o("d81d"),o("b0c0"),o("a434"),o("7db0"),o("f9e9")),m=o("884f"),f=o("c1df"),p=o.n(f);o("5c3a");function c(e){return new Promise((function(t,o){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return o(e)}}))}p.a.locale("zh-cn");var d={name:"editPlatformSports",props:{upload_dir:{type:String,default:""}},components:{richText:m["a"]},data:function(){return{title:"添加赛事活动",start_time:null,end_time:null,formData:{areas:[],competition_id:0,title:"",content:"",label:"",phone:"",member_type:"",start_time:"",end_time:"",price:0,send_notice_days:0,address:"",long:0,lat:0,province_id:0,city_id:0,area_id:0,image_big:"",image_small:"",limit_type:0,limit_num:"",is_custom:0,custom_form:[],is_audit:0,audit_user:[],number_rule_type:1,number_prefix_letter:"",number_count:"",certificate_bgimg:[]},visible:!1,visible_map:!1,previewVisible:!1,confirmLoading:!1,previewImage:"",showPanel:!1,zoom:12.8,radioStyle:{display:"block",height:"30px",lineHeight:"30px"},postionMap:{lng:117.217433,lat:31.838546},addressKeyword:"",add:{siteName:"",site:"",jd:"",wd:""},action:"/v20/public/index.php/common/common.UploadFile/uploadPictures",uploadName:"reply_pic",labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},sel_areas:[],showTime:{format:"HH:mm"},dateFormat:"YYYY-MM-DD HH:mm",customFormOptions:[{label:"输入框",value:"text"},{label:"区域",value:"area"},{label:"选择框",value:"select"},{label:"上传图片",value:"image"},{label:"姓名",value:"name"},{label:"身份证号",value:"idcard"},{label:"手机号",value:"phone"},{label:"邮箱",value:"email"}],verifyUserListOptions:[],certificate_bgimg_fileList:[],image_big_fileList:[],image_small_fileList:[],competition_id:null}},methods:{moment:p.a,edit:function(e){var t=this;this.request(n["a"].getToolCompetitionMsg,{competition_id:e}).then((function(o){if(Object.assign(t.$data,t.$options.data.call(t)),t.confirmLoading=!1,t.visible=!0,t.fileList1=[],t.fileList=[],t.sel_areas=[],t.getAuditAdminList(),o.competition_id){if(t.competition_id=o.competition_id,o.province_id&&o.city_id&&o.area_id&&(t.sel_areas=[o.province_id,o.city_id,o.area_id]),t.start_time=p()(o.start_time),t.end_time=p()(o.end_time),o.image_big){var a={uid:"image_big_logo",name:"image_big_logo_1",status:"done",url:o.image_big};t.image_big_fileList.push(a)}if(o.image_small){var i={uid:"image_small_logo",name:"image_small_logo_1",status:"done",url:o.image_small};t.image_small_fileList.push(i)}if(t.formData.areas=o.areas,o.is_custom=o.is_custom||0,o.custom_form=o.custom_form||[],o.is_audit=o.is_audit||0,o.audit_user=o.audit_user||[],o.certificate_bgimg=o.certificate_bgimg||"",o.certificate_bgimg&&o.certificate_bgimg.length>0){var l=[];o.certificate_bgimg.forEach((function(e,t){l.push({uid:"".concat(t,"_logo"),name:"".concat(t,"_logo_1"),status:"done",url:e})})),t.$set(t.formData,"certificate_bgimg",l)}o.long&&o.lat&&(t.postionMap={lng:o.long-0,lat:o.lat-0}),t.$set(t,"formData",o)}0==e&&(t.competition_id=null,t.formData={areas:o.areas,competition_id:0,title:"",content:"",label:"",phone:"",member_type:"",start_time:"",end_time:"",price:0,send_notice_days:0,address:"",long:0,lat:0,province_id:0,city_id:0,area_id:0,image_big:"",image_small:"",limit_type:0,limit_num:"",is_custom:0,custom_form:[],is_audit:0,audit_user:[],number_rule_type:1,number_prefix_letter:"",number_count:"",certificate_bgimg:[]})}))},disabledStartDate:function(e){return e<p()().add(-1,"d")},disabledEndDate:function(e){var t=this.start_time;return t?t.valueOf()>=e.valueOf():e<p()().add(-1,"d")},onDateStartChange:function(e,t){this.$set(this.formData,"start_time",t)},onDateEndChange:function(e,t){var o=p()(this.formData.start_time).valueOf(),a=p()(t).valueOf();a<=o?this.$message.error("活动结束时间必须大于活动开始时间！"):this.$set(this.formData,"end_time",t)},onChangeArea:function(e){this.sel_areas=[e[0],e[1],e[2]],this.formData.province_id=e[0],this.formData.city_id=e[1],this.formData.area_id=e[2]},showMapModel:function(){var e=this;this.addressKeyword="",this.formData.competition_id||this.request(n["a"].getMapConfig).then((function(t){e.addressKeyword=t.detault_city?t.detault_city:"北京",console.log("map_config",t)})),this.visible_map=!0},showPanelInput:function(){this.showPanel=!this.showPanel},handleOk:function(){this.visible_map=!1},handleCancelMap:function(){this.visible_map=!1},infohtmlset:function(e){e&&(this.formData.long=e.point.lng,this.formData.lat=e.point.lat,this.postionMap.lng=e.point.lng,this.postionMap.lat=e.point.lat)},getLocationPoint:function(e){this.formData.long=e.point.lng,this.formData.lat=e.point.lat,this.postionMap.lng=e.point.lng,this.postionMap.lat=e.point.lat,this.zoom=e.target.getZoom(),this.$set(this.formData,"long",e.point.lng),this.$set(this.formData,"lat",e.point.lat),this.$set(this.postionMap,"lat",e.point.lat),this.$set(this.postionMap,"long",e.point.lng)},handlePreview:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(e.url||e.preview){o.next=4;break}return o.next=3,c(e.originFileObj);case 3:e.preview=o.sent;case 4:t.previewImage=e.url||e.preview,t.previewVisible=!0;case 6:case"end":return o.stop()}}),o)})))()},handleCancel:function(){this.previewVisible=!1},handleSubmit:function(){var e=this;if(""==this.formData.title)return this.$message.error("活动名称必填"),!1;if(""==this.formData.start_time||""==this.formData.end_time)return this.$message.error("活动时间必填"),!1;if(this.formData.price<0)return this.$message.error("报名费必填"),!1;if(""==this.formData.address)return this.$message.error("详细地址必填"),!1;if(1*this.formData.long<=0||1*this.formData.lat<=0)return this.$message.error("经纬度必须选"),!1;if(1*this.formData.province_id==0||1*this.formData.city_id==0||1*this.formData.area_id==0)return this.$message.error("省市区必须选"),!1;if(""==this.formData.image_big||""==this.formData.image_small)return this.$message.error("图片必须上传"),!1;if(1*this.formData.limit_type==1&&0==this.formData.limit_num)return this.$message.error("人数限制必须填写限制人数"),!1;if(1==this.formData.is_custom){if(!this.formData.custom_form.length)return this.$message.error("请添加自定义模板控件"),!1;try{this.formData.custom_form.forEach((function(e){if(""==e.title.trim())throw new Error("请输入自定义表单控件标题");if("select"==e.type&&""==e.content.trim())throw new Error("请输入选择框枚举值")}))}catch(l){if(l.message)return this.$message.error(l.message),!1}}var t=[];if(1==this.formData.is_audit&&!this.formData.audit_user.length)return this.$message.error("请添加审核人"),!1;this.formData.audit_user&&this.formData.audit_user.length&&(t=this.formData.audit_user.filter((function(e){return e.admin_id})));var o=[];this.formData.certificate_bgimg.length>0&&this.formData.certificate_bgimg.forEach((function(e){"done"==e.status&&e.response&&e.response.status&&e.response.data?o.push(e.response.data):"done"==e.status&&e.url&&o.push(e.url)}));var i=Object(a["a"])(Object(a["a"])({},this.formData),{},{audit_user:t,certificate_bgimg:o});this.$delete(i,"areas"),this.request(n["a"].saveToolCompetition,i).then((function(t){e.$message.success("成功"),e.visible=!1,e.$emit("getSportList")}))},handleCancelModel:function(){this.visible=!1,this.$emit("getSportList")},addCustomFormList:function(){var e={title:"",sort:0,type:"text",content:"",is_must:0,status:1,image_max_num:0},t=this.formData.custom_form||[];t.push(e),this.$set(this.formData,"custom_form",t)},customFormSwitchChange:function(e,t,o){this.$set(this.formData.custom_form[t],o,e?1:0)},delItem:function(e,t){this.$delete(this.formData[t],e)},getAuditAdminList:function(){var e=this;this.request(n["a"].getAuditAdminList,{}).then((function(t){e.verifyUserListOptions=t||[]}))},addVerifyUserList:function(){var e={admin_id:void 0,sort:0},t=this.formData.audit_user||[];t.push(e),this.$set(this.formData,"audit_user",t)},getVerifyUserOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(r["a"])(this.formData.audit_user)||[],o=Object(r["a"])(this.verifyUserListOptions)||[],a=[];return o.length&&(t.length?o.forEach((function(o){-1==t.findIndex((function(e){return e.admin_id==o.admin_id}))&&a.push(o),e==o.admin_id&&a.push(o)})):a=o),a.length&&(a=a.map((function(e){return e.value=e.admin_id,e.label=e.name,e}))),a},handleChange:function(e,t){var o=e.fileList;if(this["".concat(t,"_fileList")]=o,o.length>0){var a=o.length-1;if("done"==this["".concat(t,"_fileList")][a].status){var i=this["".concat(t,"_fileList")][a].response.data;this.$set(this.formData,t,i),this["".concat(t,"_fileList")][0].uid="".concat(t,"_logo"),this["".concat(t,"_fileList")][0].name="".concat(t,"_logo_1"),this["".concat(t,"_fileList")][0].status="done",this["".concat(t,"_fileList")][0].url=i,o.length>1&&this["".concat(t,"_fileList")].splice(0,a)}}else this.$set(this.formData,t,"")},handleChanges:function(e){console.log(e);var t=Object(r["a"])(e.fileList);if(t.length){var o=[];t=t.map((function(e){if("image"==e.name&&e.url){var t=e.url;o.push(t)}if(e.response&&"done"==e.status&&1e3==e.response.status){var a=e.response.data;o.push(a)}return e})),this.$set(this.formData,"certificate_bgimg",t)}else this.$set(this.formData,"certificate_bgimg",[])},selectChange:function(e,t){var o=this.customFormOptions.find((function(t){return t.value==e}));"name"!=o.value&&"idcard"!=o.value&&"phone"!=o.value&&"email"!=o.value||this.$set(this.formData.custom_form[t],"title",o.label)}}},u=d,_=(o("9d30"),o("2877")),g=Object(_["a"])(u,i,l,!1,null,"2fd94826",null);t["default"]=g.exports},f9e9:function(e,t,o){"use strict";var a={recDisplay:"life_tools/platform.HomeDecorate/recDisplay",getUrlAndRecSwitch:"life_tools/platform.HomeDecorate/getUrlAndRecSwitch",getUrlAndRecSwitchSport:"life_tools/platform.HomeDecorate/getUrlAndRecSwitchSport",getUrlAndRecSwitchTicket:"life_tools/platform.HomeDecorate/getUrlAndRecSwitchTicket",getList:"life_tools/platform.HomeDecorate/getList",getDel:"life_tools/platform.HomeDecorate/getDel",getEdit:"life_tools/platform.HomeDecorate/getEdit",getAllArea:"/life_tools/platform.HomeDecorate/getAllArea",addOrEditDecorate:"life_tools/platform.HomeDecorate/addOrEdit",getRecEdit:"life_tools/platform.HomeDecorate/getRecEdit",getRecList:"life_tools/platform.HomeDecorate/getRecList",delRecAdver:"life_tools/platform.HomeDecorate/delRecAdver",addOrEditRec:"life_tools/platform.HomeDecorate/addOrEditRec",delOne:"/life_tools/platform.HomeDecorate/delOne",getRelatedList:"life_tools/platform.HomeDecorate/getRelatedList",saveRelatedSort:"/life_tools/platform.HomeDecorate/saveRelatedSort",addRelatedCate:"life_tools/platform.HomeDecorate/addRelatedCate",getCateList:"life_tools/platform.HomeDecorate/getCateList",getRelatedInfoList:"life_tools/platform.HomeDecorate/getRelatedInfoList",getInfoList:"life_tools/platform.HomeDecorate/getInfoList",addRelatedInfo:"life_tools/platform.HomeDecorate/addRelatedInfo",delInfo:"/life_tools/platform.HomeDecorate/delInfo",saveRelatedInfoSort:"/life_tools/platform.HomeDecorate/saveRelatedInfoSort",getRelatedCourseList:"life_tools/platform.HomeDecorate/getRelatedCourseList",getCourseList:"life_tools/platform.HomeDecorate/getCourseList",getScenicList:"life_tools/platform.HomeDecorate/getScenicList",addRelatedCourse:"life_tools/platform.HomeDecorate/addRelatedCourse",addRelatedScenic:"life_tools/platform.HomeDecorate/addRelatedScenic",delCourse:"/life_tools/platform.HomeDecorate/delCourse",saveRelatedCourseSort:"/life_tools/platform.HomeDecorate/saveRelatedCourseSort",saveRelatedScenicSort:"/life_tools/platform.HomeDecorate/saveRelatedScenicSort",delScenic:"/life_tools/platform.HomeDecorate/delScenic",getRelatedToolsList:"life_tools/platform.HomeDecorate/getRelatedToolsList",getRelatedScenicList:"life_tools/platform.HomeDecorate/getRelatedScenicList",getToolsList:"life_tools/platform.HomeDecorate/getToolsList",addRelatedTools:"life_tools/platform.HomeDecorate/addRelatedTools",delTools:"/life_tools/platform.HomeDecorate/delTools",saveRelatedToolsSort:"/life_tools/platform.HomeDecorate/saveRelatedToolsSort",setToolsName:"/life_tools/platform.HomeDecorate/setToolsName",getRelatedCompetitionList:"life_tools/platform.HomeDecorate/getRelatedCompetitionList",getCompetitionList:"life_tools/platform.HomeDecorate/getCompetitionList",addRelatedCompetition:"life_tools/platform.HomeDecorate/addRelatedCompetition",delCompetition:"/life_tools/platform.HomeDecorate/delCompetition",saveRelatedCompetitionSort:"/life_tools/platform.HomeDecorate/saveRelatedCompetitionSort",getReplyList:"/life_tools/platform.LifeToolsReply/searchReply",isShowReply:"/life_tools/platform.LifeToolsReply/isShowReply",getReplyDetails:"/life_tools/platform.LifeToolsReply/getReplyDetails",delReply:"/life_tools/platform.LifeToolsReply/delReply",subReply:"/life_tools/platform.LifeToolsReply/subReply",getReplyContent:"/life_tools/platform.LifeToolsReply/getReplyContent",getSportsOrderList:"/life_tools/platform.SportsOrder/getOrderList",exportToolsOrder:"/life_tools/platform.SportsOrder/exportToolsOrder",getSportList:"life_tools/platform.LifeToolsCompetition/getList",getToolCompetitionMsg:"life_tools/platform.LifeToolsCompetition/getToolCompetitionMsg",saveToolCompetition:"life_tools/platform.LifeToolsCompetition/saveToolCompetition",lookCompetitionUser:"life_tools/platform.LifeToolsCompetition/lookCompetitionUser",closeCompetition:"life_tools/platform.LifeToolsCompetition/closeCompetition",exportUserOrder:"life_tools/platform.LifeToolsCompetition/exportUserOrder",delSport:"life_tools/platform.LifeToolsCompetition/delSport",getSportsOrderDetail:"/life_tools/platform.SportsOrder/getOrderDetail",getInformationList:"life_tools/platform.LifeToolsInformation/getInformationList",addEditInformation:"life_tools/platform.LifeToolsInformation/addEditInformation",getInformationDetail:"life_tools/platform.LifeToolsInformation/getInformationDetail",getAllScenic:"life_tools/platform.LifeTools/getAllScenic",delInformation:"life_tools/platform.LifeToolsInformation/delInformation",loginMer:"/life_tools/platform.SportsOrder/loginMer",getCategoryList:"life_tools/platform.LifeToolsCategory/getList",getCategoryDetail:"life_tools/platform.LifeToolsCategory/getDetail",categoryDel:"life_tools/platform.LifeToolsCategory/del",categoryEdit:"life_tools/platform.LifeToolsCategory/addOrEdit",categorySortEdit:"life_tools/platform.LifeToolsCategory/editSort",getLifeToolsList:"life_tools/platform.LifeTools/getList",setLifeToolsAttrs:"life_tools/platform.LifeTools/setLifeToolsAttrs",getHelpNoticeList:"life_tools/platform.LifeToolsHelpNotice/getHelpNoticeList",delHelpNotice:"life_tools/platform.LifeToolsHelpNotice/delHelpNotice",getHelpNoticeDetail:"life_tools/platform.LifeToolsHelpNotice/getHelpNoticeDetail",getComplaintAdviceList:"life_tools/platform.LifeToolsComplaintAdvice/getComplaintAdviceList",changeComplaintAdviceStatus:"life_tools/platform.LifeToolsComplaintAdvice/changeComplaintAdviceStatus",delComplaintAdvice:"life_tools/platform.LifeToolsComplaintAdvice/delComplaintAdvice",getComplaintAdviceDetail:"life_tools/platform.LifeToolsComplaintAdvice/getComplaintAdviceDetail",changeHelpNoticeStatus:"life_tools/platform.LifeToolsHelpNotice/changeHelpNoticeStatus",getRecGoodsList:"life_tools/platform.IndexRecommend/getRecList",delRecGoods:"life_tools/platform.IndexRecommend/delRecGoods",updateRec:"life_tools/platform.IndexRecommend/updateRec",getGoodsList:"life_tools/platform.IndexRecommend/getGoodsList",addRecGoods:"life_tools/platform.IndexRecommend/addRecGoods",updateRecGoods:"life_tools/platform.IndexRecommend/updateRecGoods",addEditKefu:"life_tools/platform.LifeToolsKefu/addEditKefu",getKefuList:"life_tools/platform.LifeToolsKefu/getKefuList",getKefuDetail:"life_tools/platform.LifeToolsKefu/getKefuDetail",delKefu:"life_tools/platform.LifeToolsKefu/delKefu",getMapConfig:"life_tools/platform.LifeTools/getMapConfig",getAppointList:"life_tools/platform.LifeToolsAppoint/getList",getAppointMsg:"life_tools/platform.LifeToolsAppoint/getToolAppointMsg",saveAppoint:"life_tools/platform.LifeToolsAppoint/saveToolAppoint",lookAppointUser:"life_tools/platform.LifeToolsAppoint/lookAppointUser",closeAppoint:"life_tools/platform.LifeToolsAppoint/closeAppoint",exportAppointUserOrder:"life_tools/platform.LifeToolsAppoint/exportUserOrder",delAppoint:"life_tools/platform.LifeToolsAppoint/delAppoint",getHousesFloorList:"life_tools/platform.LifeToolsHousesList/getHousesFloorList",updateHousesFloorStatus:"life_tools/platform.LifeToolsHousesList/updateHousesFloorStatus",getHousesFloorMsg:"life_tools/platform.LifeToolsHousesList/getHousesFloorMsg",editHouseFloor:"life_tools/platform.LifeToolsHousesList/editHouseFloor",getChildList:"life_tools/platform.LifeToolsHousesList/getChildList",getHousesFloorPlanMsg:"life_tools/platform.LifeToolsHousesList/getHousesFloorPlanMsg",editHouseFloorPlan:"life_tools/platform.LifeToolsHousesList/editHouseFloorPlan",updateHousesFloorPlanStatus:"life_tools/platform.LifeToolsHousesList/updateHousesFloorPlanStatus",getSportsIndexHotRecommond:"/life_tools/platform.HomeDecorate/getSportsIndexHotRecommond",getSportsHotRecommendList:"/life_tools/platform.HomeDecorate/getSportsHotRecommendList",addSportsHotRecommendList:"/life_tools/platform.HomeDecorate/addSportsHotRecommendList",getSportsHotRecommendSelectedList:"/life_tools/platform.HomeDecorate/getSportsHotRecommendSelectedList",delSportsHotRecommendList:"/life_tools/platform.HomeDecorate/delSportsHotRecommendList",saveSportsHotRecommendSort:"/life_tools/platform.HomeDecorate/saveSportsHotRecommendSort",getScenicIndexHotRecommond:"/life_tools/platform.HomeDecorate/getScenicIndexHotRecommond",getScenicHotRecommendList:"/life_tools/platform.HomeDecorate/getScenicHotRecommendList",addScenicHotRecommendList:"/life_tools/platform.HomeDecorate/addScenicHotRecommendList",getScenicHotRecommendSelectedList:"/life_tools/platform.HomeDecorate/getScenicHotRecommendSelectedList",delScenicHotRecommendList:"/life_tools/platform.HomeDecorate/delScenicHotRecommendList",saveScenicHotRecommendSort:"/life_tools/platform.HomeDecorate/saveScenicHotRecommendSort",getAtatisticsInfo:"/life_tools/platform.LifeToolsTicketSystem/getAtatisticsInfo",ticketSystemExport:"/life_tools/platform.LifeToolsTicketSystem/ticketSystemExport",orderList:"/life_tools/platform.LifeToolsTicketSystem/orderList",getOrderDetail:"/life_tools/platform.LifeToolsTicketSystem/getOrderDetail",orderVerification:"/life_tools/platform.LifeToolsTicketSystem/orderVerification",orderBack:"/life_tools/platform.LifeToolsTicketSystem/orderBack",getCardOrderList:"/life_tools/platform.CardSystem/getCardOrderList",getCardOrderDetail:"/life_tools/platform.CardSystem/getCardOrderDetail",CardOrderBack:"/life_tools/platform.CardSystem/CardOrderBack",cardSystemExport:"/life_tools/platform.CardSystem/cardSystemExport",lifeToolsAuditList:"/life_tools/platform.LifeTools/lifeToolsAuditList",lifeToolsAudit:"/life_tools/platform.LifeTools/lifeToolsAudit",getAuditTicketList:"/life_tools/platform.LifeToolsTicket/getAuditTicketList",auditTicket:"/life_tools/platform.LifeToolsTicket/auditTicket",getNotAuditNum:"/life_tools/platform.LifeToolsTicket/getNotAuditNum",getAuditAdminList:"/life_tools/platform.LifeToolsCompetition/getAuditAdminList",getMyAuditList:"/life_tools/platform.LifeToolsCompetition/getMyAuditList",getMyAuditCount:"/life_tools/platform.LifeToolsCompetition/getMyAuditCount",getMyAuditInfo:"/life_tools/platform.LifeToolsCompetition/getMyAuditInfo",audit:"/life_tools/platform.LifeToolsCompetition/audit"};t["a"]=a}}]);