(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f94a1d6","chunk-2329674a"],{"8aa8":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ant-pro-page-header-wrap-children-content",staticStyle:{margin:"24px 0 0"}},[a("a-button",{staticStyle:{"margin-left":"15px"},attrs:{type:"primary"},on:{click:function(t){return e.$refs.createModal.add()}}},[a("a-icon",{attrs:{type:"plus"}}),e._v("新增")],1),a("a-form-model",{staticStyle:{float:"right","margin-bottom":"30px"},attrs:{layout:"inline",model:e.searchForm}},[a("a-form-model-item",{attrs:{label:""}},[a("a-input",{staticStyle:{width:"180px"},attrs:{placeholder:"输入Hr信息搜索"},model:{value:e.searchForm.cont,callback:function(t){e.$set(e.searchForm,"cont",t)},expression:"searchForm.cont"}})],1),a("a-form-model-item",[a("a-button",{staticClass:"ml-20",attrs:{type:"primary",icon:"search"},on:{click:function(t){return e.submitForm(!0)}}},[e._v(" 查询")])],1)],1),a("div",{staticStyle:{height:"30px"}}),a("a-card",{attrs:{bordered:!1}},[a("a-table",{attrs:{columns:e.columns,"data-source":e.hrList,pagination:e.pagination,rowKey:"id"},on:{change:e.handleChange},scopedSlots:e._u([{key:"last_name",fn:function(t,i){return a("span",{},[a("span",[e._v(e._s(i.first_name))]),a("span",[e._v(e._s(i.last_name))])])}},{key:"sex",fn:function(t,i){return a("span",{},[1==i.sex?a("span",[e._v("男")]):e._e(),2==i.sex?a("span",[e._v("女")]):e._e()])}},{key:"release",fn:function(t,i){return a("span",{},[0==t?a("span",[e._v("无")]):a("router-link",{attrs:{to:{path:"/recruit/merchant.recruit/MerchantJobList",query:{author:i.uid}}}},[a("a",{staticClass:"label-sm-1 blue"},[e._v(e._s(t))])])],1)}},{key:"action",fn:function(t,i){return a("span",{},[a("a",{on:{click:function(t){return e.$refs.createModal.edit(i.id)}}},[e._v("修改")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.del(i.id)}}},[e._v("移除")])],1)}}])}),a("recruit-hr-create",{ref:"createModal",attrs:{id:e.id},on:{ok:e.handleOk}}),a("atlas-special-list",{ref:"specialModel"})],1)],1)},r=[],n=a("5530"),l=a("dcd5"),s=a("ddd3"),o={name:"RecruitHrList",components:{RecruitHrCreate:s["default"]},data:function(){return{hrList:[],searchForm:{cont:""},columns:[{title:"姓名",dataIndex:"last_name",key:"last_name",scopedSlots:{customRender:"last_name"}},{title:"性别",dataIndex:"sex",key:"sex",scopedSlots:{customRender:"sex"}},{title:"登录手机号",dataIndex:"phone",key:"phone"},{title:"微信号",dataIndex:"wechat",key:"wechat"},{title:"邮箱",dataIndex:"email",key:"email"},{title:"QQ号",dataIndex:"qq",key:"qq"},{title:"固定电话",dataIndex:"tel",key:"tel"},{title:"发布职位",dataIndex:"release",key:"release",scopedSlots:{customRender:"release"}},{title:"职位",dataIndex:"position",key:"position"},{title:"最后登录时间",dataIndex:"last_time",key:"last_time"},{title:"操作",dataIndex:"",key:"x",scopedSlots:{customRender:"action"}}],pagination:{current:1,total:0,pageSize:10,showSizeChanger:!0,onChange:this.onPageChange,onShowSizeChange:this.onPageSizeChange,showTotal:function(e){return"共 ".concat(e," 条记录")}}}},mounted:function(){this.getRecruitHrList({is_search:!1})},methods:{submitForm:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(n["a"])({},this.searchForm);delete t.time,t.is_search=e,this.getRecruitHrList(t)},getRecruitHrList:function(e){var t=this,a=Object(n["a"])({},this.searchForm);delete a.time,1==e.is_search&&console.log(this.pagination.pageSize),1==e.is_search?(a.page=1,this.$set(this.pagination,"current",1)):(a.page=this.pagination.current,this.$set(this.pagination,"current",this.pagination.current)),a.pageSize=this.pagination.pageSize,this.request(l["a"].getRecruitHrList,a).then((function(e){t.hrList=e.list,t.$set(t.pagination,"total",e.count)}))},onPageChange:function(e,t){this.$set(this.pagination,"current",e),this.submitForm()},onPageSizeChange:function(e,t){this.$set(this.pagination,"pageSize",t),this.submitForm()},handleChange:function(e,t,a){this.filteredInfo=t,this.sortedInfo=a},add:function(){},getView:function(e,t){this.$refs.specialModel.getAtlastSpecial(e,t)},handleOk:function(){this.getRecruitHrList({is_search:!1})},del:function(e){var t=this;this.$confirm({title:"提示",content:"移除人员后，其发布的职位也将一并删除，是否确移除该人员？",onOk:function(){t.request(l["a"].getRecruitHrDel,{id:e}).then((function(e){t.getRecruitHrList({is_search:!1}),t.$message.success("删除成功")}))},onCancel:function(){}})}}},c=o,u=a("2877"),d=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=d.exports},dcd5:function(e,t,a){"use strict";var i={getRecruitHrList:"/recruit/merchant.NewRecruitHr/getRecruitHrList",getRecruitHrCreate:"/recruit/merchant.NewRecruitHr/getRecruitHrCreate",getRecruitHrInfo:"/recruit/merchant.NewRecruitHr/getRecruitHrInfo",getRecruitHrDel:"/recruit/merchant.NewRecruitHr/getRecruitHrDel",getJobList:"/recruit/merchant.RecruitMerchant/getJobList",updateJob:"/recruit/merchant.RecruitMerchant/updateJob",delJob:"/recruit/merchant.RecruitMerchant/delJob",getJobSearch:"/recruit/merchant.RecruitMerchant/getJobSearch",getJobDetail:"/recruit/merchant.RecruitMerchant/getJobDetail",industryTree:"/recruit/merchant.Company/industryTree",getInfo:"/recruit/merchant.Company/getInfo",saveInfo:"/recruit/merchant.Company/saveInfo",getRecruitWelfareLabelList:"/recruit/merchant.Company/getRecruitWelfareLabelList",getRecruitWelfareLabelCreate:"/recruit/merchant.Company/getRecruitWelfareLabelCreate",getRecruitWelfareLabelInfo:"/recruit/merchant.Company/getRecruitWelfareLabelInfo",getList:"/recruit/merchant.TalentManagement/getList",getLibMsgLIst:"/recruit/merchant.TalentManagement/getLibMsgLIst",getResumeMsg:"/recruit/merchant.TalentManagement/getResumeMsg"};t["a"]=i},ddd3:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:e.title,width:640,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{label:"姓",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["first_name",{initialValue:e.detail.first_name,rules:[{required:!0,message:"请输入姓"}]}],expression:"['first_name', {initialValue:detail.first_name,rules: [{required: true, message: '请输入姓'}]}]"}],staticStyle:{width:"130px",float:"left"}})],1),a("a-form-item",{attrs:{label:"名",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["last_name",{initialValue:e.detail.last_name,rules:[{required:!0,message:"请输入名"}]}],expression:"['last_name', {initialValue:detail.last_name,rules: [{required: true, message: '请输入名'}]}]"}],staticStyle:{width:"130px",float:"left"}})],1),a("a-form-item",{attrs:{label:"性别",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["sex",{initialValue:e.detail.sex,rules:[{required:!0,message:"请选择性别"}]}],expression:"['sex', {initialValue:detail.sex,rules: [{required: true, message: '请选择性别'}]}]"}],staticStyle:{width:"130px"}},[a("a-select-option",{attrs:{value:1}},[e._v(" 男")]),a("a-select-option",{attrs:{value:2}},[e._v(" 女")])],1)],1),a("a-form-item",{attrs:{label:"登录手机号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone",{initialValue:e.detail.phone,rules:[{required:!0,message:"请输入登录手机号"},{validator:e.phoneCheck.bind(this)}]}],expression:"['phone', {initialValue:detail.phone,rules: [{required: true, message: '请输入登录手机号'},{validator:phoneCheck.bind(this)}]}]"}]})],1),a("a-form-item",{attrs:{label:"职位",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["position",{initialValue:e.detail.position,rules:[{required:!0,message:"请输入职位"}]}],expression:"['position', {initialValue:detail.position,rules: [{required: true, message: '请输入职位'}]}]"}]})],1),a("a-form-item",{attrs:{label:"微信号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["wechat",{initialValue:e.detail.wechat,rules:[{required:!1},{validator:e.weixinCheck.bind(this)}]}],expression:"['wechat', {initialValue:detail.wechat,rules: [{required: false},{validator:weixinCheck.bind(this)}]}]"}]})],1),a("a-form-item",{attrs:{label:"邮箱",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{initialValue:e.detail.email,rules:[{required:!1},{validator:e.emailCheck.bind(this)}]}],expression:"['email', {initialValue:detail.email,rules: [{required: false},{validator:emailCheck.bind(this)}]}]"}]})],1),a("a-form-item",{attrs:{label:"QQ号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["qq",{initialValue:e.detail.qq,rules:[{required:!1}]}],expression:"['qq', {initialValue:detail.qq,rules: [{required: false}]}]"}],staticStyle:{width:"320px"}})],1),a("a-form-item",{attrs:{label:"固定电话",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["tel",{initialValue:e.detail.tel,rules:[{required:!1},{validator:e.dianhuaCheck.bind(this)}]}],expression:"['tel', {initialValue:detail.tel,rules: [{required: false},{validator:dianhuaCheck.bind(this)}]}]"}]})],1)],1)],1)],1)},r=[],n=(a("ac1f"),a("dcd5")),l={data:function(){return{title:"Hr信息新增",labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this),detail:{id:0,sex:1,first_name:"",last_name:"",position:"",phone:"",email:"",qq:"",tel:"",wechat:""},id:0,sex:1}},mounted:function(){this.getEditInfo()},methods:{edit:function(e){this.visible=!0,this.id=e,console.log("++++++++++++++++",this.id),this.getEditInfo(),this.id>0?this.title="Hr信息编辑":this.title="Hr信息新增"},add:function(){this.title="Hr信息新增",this.visible=!0,this.id=0,this.detail.sex=1,this.initData()},initData:function(){this.detail={id:0,sex:1,first_name:"",last_name:"",position:"",phone:"",email:"",qq:"",tel:"",wechat:""}},handleSubmit:function(){var e=this,t=this.form.validateFields;this.confirmLoading=!0,t((function(t,a){t?e.confirmLoading=!1:(a.id=e.id,e.request(n["a"].getRecruitHrCreate,a).then((function(t){e.id>0?e.$message.success("编辑成功"):e.$message.success("添加成功"),setTimeout((function(){e.form=e.$form.createForm(e),e.visible=!1,e.confirmLoading=!1,e.$emit("ok",a)}),1500)})).catch((function(t){e.confirmLoading=!1})))}))},phoneCheck:function(e,t,a){var i=/^[1][3,4,5,6,7,8,9][0-9]{9}$/;i.test(t)?a():a("请输入正确手机号码")},weixinCheck:function(e,t,a){var i=/[u4E00-u9FA5]/g;if(""===t);else if(!i.test(t))return void a("请输入正确微信号");a()},emailCheck:function(e,t,a){var i=/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/;if(""===t);else if(!i.test(t))return void a("请输入正确邮箱");a()},dianhuaCheck:function(e,t,a){var i=/^((0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$/;if(""===t);else if(!i.test(t))return void a("请输入正确固定电话");a()},handleCancel:function(){var e=this;this.visible=!1,setTimeout((function(){e.id="0",e.form=e.$form.createForm(e)}),500)},getEditInfo:function(){var e=this;console.log("-------------",this.id),this.request(n["a"].getRecruitHrInfo,{id:this.id}).then((function(t){e.detail={id:0,sex:1,first_name:"",last_name:"",position:"",phone:"",email:"",qq:"",tel:"",wechat:""},t&&(e.detail=t,console.log(t))}))}}},s=l,o=a("2877"),c=Object(o["a"])(s,i,r,!1,null,null,null);t["default"]=c.exports}}]);