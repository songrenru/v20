(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-391277aa"],{"3f37":function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"fee-summary-list-box"},[e("a-collapse",{staticStyle:{display:"none"},attrs:{accordion:""}},[e("a-collapse-panel",{key:"1",attrs:{header:"相关说明"}},[e("div",{staticClass:"fee-summary-list-tip-box"},[e("a-alert",{staticStyle:{display:"none"},attrs:{message:"",type:"info"}},[e("div",{attrs:{slot:"description"},slot:"description"},[e("div",[a._v("1、【合计应收费用】：已经付款和还没有付款的总的应收费用；")]),e("div",[a._v("2、【免收费用】：是指在给房间/业主生成欠费账单时，所有优惠的金额 "),e("div",{staticStyle:{"margin-left":"77px"}},[a._v("场景："),e("br"),a._v(" 1、对房间生成的账单未进行修改；"),e("br"),a._v(" 2、对房间生成的账单进行修改（且修改的费用小于应收费用）；"),e("br"),a._v(" 3、对房间生成的账单进行修改（且修改的费用大于应收费用）；"),e("br")])]),e("div",[a._v("3、【已收费用】：已收费用是统计用户实际支付的金额费用 "),e("div",{staticStyle:{"margin-left":"77px"}},[a._v("场景"),e("br"),a._v(" 1、对房间生成的账单未进行修改；"),e("br"),a._v(" 2、对房间生成的账单进行修改（且修改的费用小于应收费用）；"),e("br"),a._v(" 3、对房间生成的账单进行修改（且修改的费用大于应收费用）；")])]),e("div",[a._v("4、【应收费用】：还没有付款的待缴账单金额；")]),e("div",[a._v(" 5、【缴费率】：【已收费用】除以【应收费用-免收费用】的物业费，再乘以100%，就是物业费缴费率，不考虑退款；")])])])],1)])],1),e("div",{staticClass:"search-box"},[e("a-row",{attrs:{gutter:48}},[e("a-col",{staticStyle:{"padding-right":"0px"},attrs:{md:4,sm:24}},[e("label",{staticStyle:{"margin-top":"5px"}},[a._v("收费类别：")]),e("a-select",{staticStyle:{width:"160px"},attrs:{placeholder:"请选择收费类别"},on:{change:a.handleChargeTypeChange},model:{value:a.search.charge_type,callback:function(t){a.$set(a.search,"charge_type",t)},expression:"search.charge_type"}},a._l(a.chargeType,(function(t){return e("a-select-option",{key:t.key},[a._v(a._s(t.value))])})),1)],1),e("a-col",{staticStyle:{"padding-right":"1px"},attrs:{md:5,sm:24}},[e("label",{staticStyle:{"margin-top":"5px"}},[a._v("收费项目：")]),e("a-select",{staticStyle:{width:"210px"},attrs:{placeholder:"请选择收费项目"},model:{value:a.search.charge_project_id,callback:function(t){a.$set(a.search,"charge_project_id",t)},expression:"search.charge_project_id"}},a._l(a.chargeProject,(function(t){return e("a-select-option",{key:t.id},[a._v(a._s(t.name))])})),1)],1),e("a-col",{staticStyle:{"padding-left":"12px","padding-right":"10px"},attrs:{md:4,sm:12}},[e("label",{staticStyle:{"margin-top":"5px"}},[a._v("收费标准：")]),e("a-input",{staticStyle:{width:"170px"},attrs:{placeholder:"请输入收费标准名称"},model:{value:a.search.rule_name,callback:function(t){a.$set(a.search,"rule_name",t)},expression:"search.rule_name"}})],1),e("a-col",{staticStyle:{"padding-left":"5px","padding-right":"1px",width:"430px"},attrs:{md:8,sm:24}},[e("label",{staticStyle:{"margin-top":"5px"}},[a._v("计费时间：")]),e("a-range-picker",{staticStyle:{width:"325px"},attrs:{allowClear:!0},on:{change:a.dateOnChange},model:{value:a.search_data,callback:function(t){a.search_data=t},expression:"search_data"}},[e("a-icon",{attrs:{slot:"suffixIcon",type:"calendar"},slot:"suffixIcon"})],1)],1),e("a-col",{staticStyle:{"padding-left":"25px","padding-right":"1px",width:"90px"},attrs:{md:6,sm:24}},[e("a-button",{attrs:{type:"primary",icon:"search"},on:{click:function(t){return a.searchList()}}},[a._v(" 查询 ")])],1),e("a-col",{staticStyle:{"padding-left":"25px","padding-right":"1px",width:"90px"},attrs:{md:6,sm:24}},[e("a-button",{staticClass:"ml-20",attrs:{icon:"refresh"},on:{click:a.resetList}},[a._v(" 重置")])],1)],1)],1),e("div",{staticClass:"fee-summary-page-summary-box"},[e("a-row",{attrs:{type:"flex",justify:"start"}},[e("a-col",{attrs:{span:4}},[e("span",{staticClass:"page-title-box"},[a._v(" 总收应收费用： ")]),e("span",{staticClass:"page-number-box"},[e("span",{staticClass:"pageRmbSymbol"},[a._v("¥")]),a._v(a._s(a.pageSummaryInfo["summaryTotalMoney"])+" ")])]),e("a-col",{attrs:{span:4}},[e("span",{staticClass:"page-title-box"},[a._v(" 免收费用： ")]),e("span",{staticClass:"page-number-box"},[e("span",{staticClass:"pageRmbSymbol"},[a._v("¥")]),a._v(a._s(a.pageSummaryInfo["discountTotalMoney"])+" ")])]),e("a-col",{attrs:{span:4}},[e("span",{staticClass:"page-title-box"},[a._v(" 已收费用： ")]),e("span",{staticClass:"page-number-box"},[e("span",{staticClass:"pageRmbSymbol"},[a._v("¥")]),a._v(a._s(a.pageSummaryInfo["summaryPayMoney"])+" ")])]),e("a-col",{attrs:{span:4}},[e("span",{staticClass:"page-title-box"},[a._v(" 应收费用： ")]),e("span",{staticClass:"page-number-box"},[a._v(" "+a._s(a.pageSummaryInfo["noPayTotalMoney"])+" ")])]),e("a-col",{attrs:{span:4}},[e("span",{staticClass:"page-title-box"},[a._v(" 缴费率： ")]),e("span",{staticClass:"page-number-box"},[a._v(" "+a._s(a.pageSummaryInfo["moneyTotalRate"])+" ")])])],1)],1),e("a-table",{staticClass:"components-table-demo-nested",attrs:{columns:a.columns,"data-source":a.data,pagination:a.pagination,"row-key":function(a){return a.order_id},loading:a.loading,bordered:""},on:{change:a.table_change}})],1)},n=[],i=(e("ac1f"),e("841c"),e("a0e0")),r=[{title:"收费类别",dataIndex:"order_name",key:"order_name"},{title:"收费项目",dataIndex:"project_name",key:"project_name"},{title:"收费标准",dataIndex:"rule_name",key:"rule_name"},{title:"总收应收费用",dataIndex:"summaryTotalMoney",key:"summaryTotalMoney"},{title:"免收费用",dataIndex:"discountTotalMoney",key:"discountTotalMoney"},{title:"已收费用",dataIndex:"summaryPayMoney",key:"summaryPayMoney"},{title:"应收费用",dataIndex:"noPayTotalMoney",key:"noPayTotalMoney"},{title:"缴费率",dataIndex:"summaryMoneyRate",key:"summaryMoneyRate"}],o=[],c={name:"HousePropertyFeeSummary",data:function(){var a=this;return{pagination:{current:1,pageSize:10,total:10,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],showTotal:function(a){return"共 ".concat(a," 条")},onShowSizeChange:function(t,e){return a.onTableChange(t,e)},onChange:function(t,e){return a.onTableChange(t,e)}},search:{charge_type:"",charge_project_id:"",rule_name:""},form:this.$form.createForm(this),visible:!1,loading:!1,data:o,columns:r,page:1,chargeType:[],chargeProject:[],search_data:null,summaryInfo:{},pageSummaryInfo:{}}},mounted:function(){this.getList(),this.getChargeTypeList()},methods:{onTableChange:function(a,t){this.page=a,this.pagination.current=a,this.pagination.pageSize=t,this.getList(),console.log("onTableChange==>",a,t)},getList:function(){var a=this;this.loading=!0,this.search["page"]=this.page,this.search["limit"]=this.pagination.pageSize,this.request(i["a"].getSummaryByRuleList,this.search).then((function(t){a.pagination.total=t.count?t.count:0,a.pagination.pageSize=t.total_limit?t.total_limit:10,a.data=t.list,a.summaryInfo=t.summaryInfo,a.pageSummaryInfo=t.pageSummaryInfo,a.loading=!1}))},table_change:function(a){console.log("e",a),a.current&&a.current>0&&(this.pagination.current=a.current,this.page=a.current,this.getList())},dateOnChange:function(a,t){this.search.date=t,console.log("search",this.search)},searchList:function(){console.log("search",this.search),this.page=1;var a={current:1};this.table_change(a)},getChargeTypeList:function(){var a=this;this.request(i["a"].getChargeTypeList).then((function(t){t&&(a.chargeType=t)}))},handleChargeTypeChange:function(a){var t=this;this.search.charge_project_id="请选择收费项目",this.request(i["a"].getChargeProjectByTypeList,{charge_type_key:a}).then((function(a){a&&(t.chargeProject=a)}))},resetList:function(){this.search={charge_type:"",charge_project_id:"",rule_name:""},this.search_data=null,this.getList()}}},l=c,p=(e("c44b"),e("2877")),h=Object(p["a"])(l,s,n,!1,null,"250ecc30",null);t["default"]=h.exports},"7b3b6":function(a,t,e){},c44b:function(a,t,e){"use strict";e("7b3b6")}}]);