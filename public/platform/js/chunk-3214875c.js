(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3214875c","chunk-2d0b6a79","chunk-2d0b6a79","chunk-2d0b3786"],{"1da1":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a("d3b7");function n(e,t,a,n,s,i,r){try{var o=e[i](r),c=o.value}catch(l){return void a(l)}o.done?t(c):Promise.resolve(c).then(n,s)}function s(e){return function(){var t=this,a=arguments;return new Promise((function(s,i){var r=e.apply(t,a);function o(e){n(r,s,i,o,c,"next",e)}function c(e){n(r,s,i,o,c,"throw",e)}o(void 0)}))}}},2909:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("6b75");function s(e){if(Array.isArray(e))return Object(n["a"])(e)}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function i(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var r=a("06c5");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return s(e)||i(e)||Object(r["a"])(e)||o()}},"7e2e":function(e,t,a){},"8ee8":function(e,t,a){"use strict";a("7e2e")},fdbe:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fee-summary-list-box"},[a("a-collapse",{attrs:{accordion:""}},[a("a-collapse-panel",{key:"1",attrs:{header:"相关说明"}},[a("div",{staticClass:"fee-summary-list-tip-box"},[a("a-alert",{attrs:{message:"",type:"info"}},[a("div",{attrs:{slot:"description"},slot:"description"},[a("div",[e._v("以下所有统计数据均只统计已经支付过的账单（包含退款，不包含作废的账单）；")]),a("div",[e._v("1、【应收费用】：已经支付的账单应收金额统计（包含已经退款的，不包含作废的账单）；")]),a("div",[e._v("2、【实收费用】：已经支付的账单实际用户支付金额统计（包含已经退款的，不包含作废的账单）；")]),a("div",[e._v("3、【退款费用】：已经支付的账单退款金额统计；")]),a("div",[e._v("4、【缴费率】：【实收费用】除以【应收费用】的物业费，再乘以100%，就是物业费缴费率，不考虑退款；")]),a("div",[e._v("5、日期筛选：按已支付的时间计算；")]),a("div",[e._v("6、搜索条件上的统计是包含所有已经支付的且未作废的账单，不受搜索条件影响；")]),a("div",[e._v("7、搜索条件下的统计是按照房屋进行整合显示,展示的姓名和手机号是以取到的缴费记录中的姓名手机号为准；")]),a("div",[e._v("8、搜索条件下的统计可按条件筛选，根据查询变更；")])])])],1)])],1),a("div",{staticClass:"fee-summary-list-summary-box"},[a("a-row",{attrs:{type:"flex",justify:"space-between",align:"bottom"}},[a("a-col",{staticStyle:{"background-color":"#3399cc"},attrs:{span:4}},[a("div",{staticClass:"title-box"},[e._v(" 应收费用 ")]),a("div",{staticClass:"summary_number-box"},[a("span",{staticClass:"rmbSymbol"},[e._v("¥")]),e._v(e._s(e.summaryInfo["summaryTotalMoney"])+" ")])]),a("a-col",{staticStyle:{"background-color":"#1890ff"},attrs:{span:4}},[a("div",{staticClass:"title-box"},[e._v(" 实收费用 ")]),a("div",{staticClass:"summary_number-box"},[a("span",{staticClass:"rmbSymbol"},[e._v("¥")]),e._v(e._s(e.summaryInfo["summaryPayMoney"])+" ")])]),a("a-col",{staticStyle:{"background-color":"#ff9900"},attrs:{span:4}},[a("div",{staticClass:"title-box"},[e._v(" 退款费用 ")]),a("div",{staticClass:"summary_number-box"},[a("span",{staticClass:"rmbSymbol"},[e._v("¥")]),e._v(e._s(e.summaryInfo["summaryRefundMoney"])+" ")])]),a("a-col",{staticStyle:{"background-color":"#975fe4"},attrs:{span:4}},[a("div",{staticClass:"title-box"},[e._v(" 缴费率 ")]),a("div",{staticClass:"summary_number-box"},[e._v(" "+e._s(e.summaryInfo["summaryMoneyRate"])+" ")])]),a("a-col",{attrs:{span:4}})],1)],1),a("div",{staticClass:"search-box"},[a("a-row",{attrs:{gutter:48}},[a("a-col",{staticStyle:{"padding-right":"0px",width:"16.7%"},attrs:{md:8,sm:24}},[a("label",{staticStyle:{"margin-top":"5px"}},[e._v("房间：")]),a("a-cascader",{staticClass:"cascader_style margin_left_10",attrs:{options:e.options,"load-data":e.loadDataFunc,placeholder:"请选择房间","change-on-select":""},on:{change:e.setVisionsFunc},model:{value:e.search.vacancy,callback:function(t){e.$set(e.search,"vacancy",t)},expression:"search.vacancy"}})],1),a("a-col",{staticStyle:{width:"250px","padding-right":"1px"},attrs:{md:8,sm:24}},[a("a-input-group",{attrs:{compact:""}},[a("label",{staticStyle:{"margin-top":"5px"}},[e._v("业主：")]),e._v(" "),a("a-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入业主姓名"},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}})],1)],1),a("a-col",{staticStyle:{width:"250px","padding-right":"1px"},attrs:{md:8,sm:24}},[a("a-input-group",{attrs:{compact:""}},[a("label",{staticStyle:{"margin-top":"5px"}},[e._v("手机号：")]),e._v(" "),a("a-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入手机号"},model:{value:e.search.phone,callback:function(t){e.$set(e.search,"phone",t)},expression:"search.phone"}})],1)],1),a("a-col",{staticStyle:{"padding-left":"0px","padding-right":"1px",width:"425px"},attrs:{md:8,sm:24}},[a("label",{staticStyle:{"margin-top":"5px"}},[e._v("支付时间筛选：")]),a("a-range-picker",{staticStyle:{width:"325px"},attrs:{allowClear:!0},on:{change:e.dateOnChange},model:{value:e.search_data,callback:function(t){e.search_data=t},expression:"search_data"}},[a("a-icon",{attrs:{slot:"suffixIcon",type:"calendar"},slot:"suffixIcon"})],1)],1),a("a-col",{staticStyle:{width:"530px","padding-left":"20px","margin-top":"15px"},attrs:{md:8,sm:24}},[a("label",{staticStyle:{"margin-top":"5px"}},[e._v("计费时间筛选：")]),a("span",[a("a-date-picker",{attrs:{"disabled-date":e.disabledServiceStartDate,format:"YYYY-MM-DD",placeholder:"计费开始时间"},on:{change:e.serviceStartTimeChange,openChange:e.handleServiceStartOpenChange},model:{value:e.service_start_time,callback:function(t){e.service_start_time=t},expression:"service_start_time"}}),e._v(" ~ "),a("a-date-picker",{attrs:{"disabled-date":e.disabledServiceEndDate,format:"YYYY-MM-DD",placeholder:"计费结束时间",open:e.endServiceOpen},on:{change:e.serviceEndTimeChange,openChange:e.handleServiceEndOpenChange},model:{value:e.service_end_time,callback:function(t){e.service_end_time=t},expression:"service_end_time"}})],1)]),a("a-col",{staticStyle:{"padding-left":"25px","padding-right":"1px",width:"90px","margin-top":"15px"},attrs:{md:8,sm:24}},[a("a-button",{attrs:{type:"primary",icon:"search"},on:{click:function(t){return e.searchList()}}},[e._v(" 查询 ")])],1),a("a-col",{staticStyle:{"padding-left":"25px","padding-right":"1px",width:"90px","margin-top":"15px"},attrs:{md:8,sm:24}},[a("a-button",{staticClass:"ml-20",attrs:{icon:"refresh"},on:{click:e.resetList}},[e._v(" 重置")])],1)],1)],1),a("div",{staticClass:"fee-summary-page-summary-box"},[a("a-row",{attrs:{type:"flex",justify:"start"}},[a("a-col",{attrs:{span:4}},[a("span",{staticClass:"page-title-box"},[e._v(" 应收费用： ")]),a("span",{staticClass:"page-number-box"},[a("span",{staticClass:"pageRmbSymbol"},[e._v("¥")]),e._v(e._s(e.pageSummaryInfo["summaryTotalMoney"])+" ")])]),a("a-col",{attrs:{span:4}},[a("span",{staticClass:"page-title-box"},[e._v(" 实收费用： ")]),a("span",{staticClass:"page-number-box"},[a("span",{staticClass:"pageRmbSymbol"},[e._v("¥")]),e._v(e._s(e.pageSummaryInfo["summaryPayMoney"])+" ")])]),a("a-col",{attrs:{span:4}},[a("span",{staticClass:"page-title-box"},[e._v(" 退款费用： ")]),a("span",{staticClass:"page-number-box"},[a("span",{staticClass:"pageRmbSymbol"},[e._v("¥")]),e._v(e._s(e.pageSummaryInfo["summaryRefundMoney"])+" ")])]),a("a-col",{attrs:{span:4}},[a("span",{staticClass:"page-title-box"},[e._v(" 缴费率： ")]),a("span",{staticClass:"page-number-box"},[e._v(" "+e._s(e.pageSummaryInfo["summaryMoneyRate"])+" ")])])],1)],1),a("a-table",{staticClass:"components-table-demo-nested",attrs:{columns:e.columns,"data-source":e.data,pagination:e.pagination,loading:e.loading,bordered:""},on:{change:e.table_change}})],1)},s=[],i=a("2909"),r=a("1da1"),o=(a("96cf"),a("ac1f"),a("841c"),a("d81d"),a("b0c0"),a("d3b7"),a("7db0"),a("a0e0")),c=[{title:"房间号",dataIndex:"address",key:"address"},{title:"业主",dataIndex:"name",key:"name"},{title:"手机号",dataIndex:"phone",key:"phone"},{title:"应收费用",dataIndex:"summaryTotalMoney",key:"summaryTotalMoney"},{title:"实收费用",dataIndex:"summaryPayMoney",key:"summaryPayMoney"},{title:"退款费用",dataIndex:"summaryRefundMoney",key:"summaryRefundMoney"},{title:"实际费用",dataIndex:"summaryActualMoney",key:"summaryActualMoney"},{title:"缴费率",dataIndex:"summaryMoneyRate",key:"summaryMoneyRate"}],l=[],u={name:"feeSummaryList",data:function(){var e=this;return{reply_content:"",pagination:{current:1,pageSize:10,total:10,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],showTotal:function(e){return"共 ".concat(e," 条")},onShowSizeChange:function(t,a){return e.onTableChange(t,a)},onChange:function(t,a){return e.onTableChange(t,a)}},search:{name:"",phone:"",service_start_time:"",service_end_time:""},form:this.$form.createForm(this),visible:!1,loading:!1,data:l,columns:c,key_name:"请输入姓名",page:1,options:[],garage_list:[],project_list:[],search_data:"",summaryInfo:{},pageSummaryInfo:{},endServiceOpen:!1,service_start_time:null,service_end_time:null}},activated:function(){this.getList(),this.getSingleListByVillage()},methods:{onTableChange:function(e,t){this.page=e,this.pagination.current=e,this.pagination.pageSize=t,this.getList(),console.log("onTableChange==>",e,t)},getList:function(){var e=this;this.loading=!0,this.search["page"]=this.page,this.search["limit"]=this.pagination.pageSize,this.request(o["a"].feeSummaryList,this.search).then((function(t){e.pagination.total=t.count?t.count:0,e.pagination.pageSize=t.total_limit?t.total_limit:10,e.data=t.list,e.summaryInfo=t.summaryInfo,e.pageSummaryInfo=t.pageSummaryInfo,e.loading=!1}))},table_change:function(e){console.log("e",e),e.current&&e.current>0&&(this.pagination.current=e.current,this.page=e.current,this.getList())},dateOnChange:function(e,t){this.search.date=t,console.log("search",this.search)},searchList:function(){console.log("search",this.search),this.page=1;var e={current:1};console.log("searchList"),this.table_change(e)},getSingleListByVillage:function(){var e=this;this.request(o["a"].getSingleListByVillage).then((function(t){if(console.log("+++++++Single",t),t){var a=[];t.map((function(e){a.push({label:e.name,value:e.id,isLeaf:!1})})),e.options=a}}))},getFloorList:function(e){var t=this;return new Promise((function(a){t.request(o["a"].getFloorList,{pid:e}).then((function(e){console.log("+++++++Single",e),console.log("resolve",a),a(e)}))}))},getLayerList:function(e){var t=this;return new Promise((function(a){t.request(o["a"].getLayerList,{pid:e}).then((function(e){console.log("+++++++Single",e),e&&a(e)}))}))},getVacancyList:function(e){var t=this;return new Promise((function(a){t.request(o["a"].getVacancyList,{pid:e}).then((function(e){console.log("+++++++Single",e),e&&a(e)}))}))},loadDataFunc:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e[e.length-1],a.loading=!0,setTimeout((function(){a.loading=!1}),100);case 3:case"end":return t.stop()}}),t)})))()},setVisionsFunc:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,s,r,o,c,l,u,d,m,p,h,g;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(1!==e.length){a.next=12;break}return n=Object(i["a"])(t.options),a.next=4,t.getFloorList(e[0]);case 4:s=a.sent,console.log("res",s),r=[],s.map((function(e){return r.push({label:e.name,value:e.id,isLeaf:!1}),n["children"]=r,!0})),n.find((function(t){return t.value===e[0]}))["children"]=r,t.options=n,a.next=36;break;case 12:if(2!==e.length){a.next=24;break}return a.next=15,t.getLayerList(e[1]);case 15:o=a.sent,c=Object(i["a"])(t.options),l=[],o.map((function(e){return l.push({label:e.name,value:e.id,isLeaf:!1}),!0})),u=c.find((function(t){return t.value===e[0]})),u.children.find((function(t){return t.value===e[1]}))["children"]=l,t.options=c,a.next=36;break;case 24:if(3!==e.length){a.next=36;break}return a.next=27,t.getVacancyList(e[2]);case 27:d=a.sent,m=Object(i["a"])(t.options),p=[],d.map((function(e){return p.push({label:e.name,value:e.id,isLeaf:!0}),!0})),h=m.find((function(t){return t.value===e[0]})),g=h.children.find((function(t){return t.value===e[1]})),g.children.find((function(t){return t.value===e[2]}))["children"]=p,t.options=m,console.log("_this.options",t.options);case 36:case"end":return a.stop()}}),a)})))()},disabledServiceStartDate:function(e){var t=this.search.service_end_time;return!(!e||!t)&&e.valueOf()>t.valueOf()},serviceStartTimeChange:function(e,t){console.log("serviceStartTime",t),this.search.service_start_time=t},disabledServiceEndDate:function(e){var t=this.search.service_start_time;return!(!e||!t)&&t.valueOf()>=e.valueOf()},serviceEndTimeChange:function(e,t){console.log("serviceEndTime",t),this.search.service_end_time=t},handleServiceStartOpenChange:function(e){e||(this.endServiceOpen=!0)},handleServiceEndOpenChange:function(e){this.endServiceOpen=e},resetList:function(){this.search={name:"",phone:"",service_start_time:"",service_end_time:""},this.search_data="",this.service_start_time=null,this.service_end_time=null,this.getList()}}},d=u,m=(a("8ee8"),a("2877")),p=Object(m["a"])(d,n,s,!1,null,"82cdbe9a",null);t["default"]=p.exports}}]);