(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1355c13f","chunk-2d21d12f","chunk-2d0d67a1"],{5730:function(t,e,a){"use strict";a("59e1")},"59e1":function(t,e,a){},"735d":function(t,e,a){"use strict";a.r(e);a("b0c0");var s=function(){var t=this,e=t._self._c;return e("a-modal",{attrs:{title:t.title,width:600,visible:t.visible,maskClosable:!1,confirmLoading:t.confirmLoading},on:{ok:t.handleSubmit,cancel:t.handleCancel}},[e("a-spin",{attrs:{spinning:t.confirmLoading}},[e("a-form",{attrs:{form:t.form}},[e("a-form-item",{attrs:{label:"设备类型",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[e("a-col",{attrs:{span:24}},[e("a-input",{attrs:{placeholder:"请输入设备类型",disabled:!0},model:{value:t.post.ac_type,callback:function(e){t.$set(t.post,"ac_type",e)},expression:"post.ac_type"}})],1)],1),e("a-form-item",{attrs:{label:"设备编号",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[e("a-col",{attrs:{span:24}},[e("a-input",{attrs:{placeholder:"请输入设备编号",disabled:!0},model:{value:t.post.ac_num,callback:function(e){t.$set(t.post,"ac_num",e)},expression:"post.ac_num"}})],1)],1),e("a-form-item",{attrs:{label:"设备名称",labelCol:t.labelCol,wrapperCol:t.wrapperCol,required:!0}},[e("a-col",{attrs:{span:24}},[e("a-input",{attrs:{placeholder:"请输入设备名称"},model:{value:t.post.ac_name,callback:function(e){t.$set(t.post,"ac_name",e)},expression:"post.ac_name"}})],1)],1),e("a-form-item",{attrs:{label:"设备位置",labelCol:t.labelCol,wrapperCol:t.wrapperCol,required:!0}},[e("a-col",{attrs:{span:10}},[e("a-select",{staticStyle:{width:"120px"},attrs:{"default-value":"1",placeholder:"请选择楼栋或公共区域"},on:{change:function(e){return t.getAreaList1()}},model:{value:t.post.area_type,callback:function(e){t.$set(t.post,"area_type",e)},expression:"post.area_type"}},[e("a-select-option",{attrs:{value:"1"}},[t._v(" 公共区域 ")]),e("a-select-option",{attrs:{value:"2"}},[t._v(" 楼栋 ")])],1)],1),e("a-col",{attrs:{span:10}},[e("a-select",{staticStyle:{width:"175px"},attrs:{"default-value":"0",placeholder:"请输入位置"},model:{value:t.post.ac_area,callback:function(e){t.$set(t.post,"ac_area",e)},expression:"post.ac_area"}},t._l(t.area_list,(function(a,s){return e("a-select-option",{key:s,attrs:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),1)],1)],1),e("a-form-item",{attrs:{label:"启用时间",labelCol:t.labelCol,wrapperCol:t.wrapperCol,required:!0}},[e("a-col",{attrs:{span:24}},[e("a-date-picker",{staticStyle:{width:"300px"},attrs:{format:"YYYY-MM-DD",allowClear:!1,placeholder:"请选择日期",value:t.moment(t.post.use_time,"YYYY-MM-DD")},on:{change:t.dayOnChange}})],1)],1),e("a-form-item",{attrs:{label:"备注",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[e("a-col",{attrs:{span:24}},[e("a-textarea",{attrs:{maxLength:200,placeholder:"请输入备注,文字不超过200个字"},model:{value:t.post.remark,callback:function(e){t.$set(t.post,"remark",e)},expression:"post.remark"}})],1)],1)],1)],1)],1)},l=[],o=a("a0e0"),i=a("c1df"),r=a.n(i),n={data:function(){return{title:"新建",labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},area_list:[],confirmLoading:!1,form:this.$form.createForm(this),visible:!1,post:{id:0,ac_type:"无线AP",ac_name:"",ac_num:"",ac_area:"",area_type:"1",use_time:"",last_time:"",remark:""}}},methods:{moment:r.a,dayOnChange:function(t,e){console.log("date",t),console.log("dateString",e),null==t&&(this.post.use_time="0"),this.post.use_time=e,this.$forceUpdate()},add:function(){this.title="添加",this.visible=!0,this.post={id:0,ac_type:"无线AP",ac_name:"",ac_num:"",ac_area:"",area_type:"1",use_time:"",last_time:"",remark:""},this.getAreaList1()},edit:function(t){this.title="修改",this.visible=!0,this.post={id:0,ac_type:"无线AP",ac_name:"",ac_num:"",ac_area:"",area_type:"1",use_time:"",last_time:"",remark:""},this.getAreaList(t),this.getInfo(t)},getInfo:function(t){var e=this;this.request(o["a"].getDeviceInfo,{id:t}).then((function(t){t&&(console.log("res",t),e.post=t)}))},getAreaList:function(t){var e=this;this.request(o["a"].getAddressList,{id:t}).then((function(t){t&&(console.log("res11111",t),e.area_list=t.list)}))},getAreaList1:function(){var t=this;this.post.ac_area="",console.log("area_type",this.post.area_type),this.request(o["a"].getAddressList,{type:this.post.area_type}).then((function(e){e&&(console.log("res11111",e),t.area_list=e.list)}))},handleSubmit:function(){var t=this;if(this.post.id>0){var e=this;this.request(o["a"].editDevice,this.post).then((function(a){a&&(e.$message.success("编辑成功"),t.visible=!1,t.form=t.$form.createForm(t),t.$emit("ok"))}))}},handleCancel:function(){var t=this;this.visible=!1,setTimeout((function(){t.post.id="0",t.form=t.$form.createForm(t)}),500)}}},c=n,p=a("2877"),u=Object(p["a"])(c,s,l,!1,null,"398b978f",null);e["default"]=u.exports},d06c:function(t,e,a){"use strict";a.r(e);a("b0c0");var s=function(){var t=this,e=t._self._c;return e("a-modal",{attrs:{title:t.title,width:600,visible:t.visible,maskClosable:!1,confirmLoading:t.confirmLoading},on:{ok:t.handleSubmit,cancel:t.handleCancel}},[e("a-spin",{attrs:{spinning:t.confirmLoading}},[e("a-form",{attrs:{form:t.form}},[e("a-form-item",{attrs:{label:"设备类型",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[e("a-col",{attrs:{span:24}},[e("a-input",{attrs:{placeholder:"请输入设备类型",disabled:!0},model:{value:t.post.ac_type,callback:function(e){t.$set(t.post,"ac_type",e)},expression:"post.ac_type"}})],1)],1),e("a-form-item",{attrs:{label:"设备编号",labelCol:t.labelCol,wrapperCol:t.wrapperCol,required:!0}},[e("a-col",{attrs:{span:24}},[e("a-select",{staticStyle:{width:"300px"},attrs:{"default-value":"0",placeholder:"请选择设备编号"},model:{value:t.post.ac_num,callback:function(e){t.$set(t.post,"ac_num",e)},expression:"post.ac_num"}},t._l(t.device_list,(function(a,s){return e("a-select-option",{key:s,attrs:{value:a.id}},[t._v(" "+t._s(a.ac_series)+" ")])})),1)],1)],1),e("a-form-item",{attrs:{label:"设备名称",labelCol:t.labelCol,wrapperCol:t.wrapperCol,required:!0}},[e("a-col",{attrs:{span:24}},[e("a-input",{attrs:{placeholder:"请输入设备名称"},model:{value:t.post.ac_name,callback:function(e){t.$set(t.post,"ac_name",e)},expression:"post.ac_name"}})],1)],1),e("a-form-item",{attrs:{label:"设备位置",labelCol:t.labelCol,wrapperCol:t.wrapperCol,required:!0}},[e("a-col",{attrs:{span:10}},[e("a-select",{staticStyle:{width:"120px"},attrs:{"default-value":"1",placeholder:"请选择楼栋或公共区域"},on:{change:function(e){return t.getAreaList()}},model:{value:t.post.area_type,callback:function(e){t.$set(t.post,"area_type",e)},expression:"post.area_type"}},[e("a-select-option",{attrs:{value:"1"}},[t._v(" 公共区域 ")]),e("a-select-option",{attrs:{value:"2"}},[t._v(" 楼栋 ")])],1)],1),e("a-col",{attrs:{span:10}},[e("a-select",{staticStyle:{width:"175px"},attrs:{"default-value":"0",placeholder:"请输入位置"},model:{value:t.post.ac_area,callback:function(e){t.$set(t.post,"ac_area",e)},expression:"post.ac_area"}},t._l(t.area_list,(function(a,s){return e("a-select-option",{key:s,attrs:{value:a.id}},[t._v(" "+t._s(a.name)+" ")])})),1)],1)],1),e("a-form-item",{attrs:{label:"启用时间",labelCol:t.labelCol,wrapperCol:t.wrapperCol,required:!0}},[e("a-col",{attrs:{span:24}},[t.visible?e("a-date-picker",{staticStyle:{width:"300px"},attrs:{format:"YYYY-MM-DD",placeholder:"请选择日期"},on:{change:t.dayOnChange}}):t._e()],1)],1),e("a-form-item",{attrs:{label:"备注",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[e("a-col",{attrs:{span:24}},[e("a-textarea",{attrs:{maxLength:200,placeholder:"请输入备注,文字不超过200个字"},model:{value:t.post.remark,callback:function(e){t.$set(t.post,"remark",e)},expression:"post.remark"}})],1)],1)],1)],1)],1)},l=[],o=a("a0e0"),i=a("c1df"),r=a.n(i),n={data:function(){return{title:"新建",labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},area_list:[],device_list:[],confirmLoading:!1,form:this.$form.createForm(this),visible:!1,post:{id:0,ac_type:"无线AP",ac_name:"",ac_num:"",ac_area:"",area_type:"1",use_time:"",last_time:"",remark:""}}},methods:{moment:r.a,dayOnChange:function(t,e){console.log("date",t),console.log("dateString",e),null==t&&(this.post.use_time=""),this.post.use_time=e,this.$forceUpdate()},add:function(){this.title="添加",this.visible=!0,this.post={id:0,ac_type:"无线AP",ac_name:"",ac_num:"",ac_area:"",area_type:"1",use_time:"",last_time:"",remark:""},this.getAreaList(),this.getAddDeviceList()},getAddDeviceList:function(){var t=this;this.request(o["a"].getAddDeviceList).then((function(e){e&&(console.log("Addres11111",e),t.device_list=e)}))},getAreaList:function(){var t=this;console.log("area_type",this.post.area_type),this.request(o["a"].getAddressList,{type:this.post.area_type}).then((function(e){e&&(console.log("res11111",e),t.area_list=e.list,t.post.ac_area="")}))},handleSubmit:function(){var t=this,e=this;this.request(o["a"].addDevice,this.post).then((function(a){a&&(e.$message.success("添加成功"),t.visible=!1,t.form=t.$form.createForm(t),t.$emit("ok"))}))},handleCancel:function(){var t=this;this.visible=!1,setTimeout((function(){t.post.id="0",t.form=t.$form.createForm(t)}),500)}}},c=n,p=a("2877"),u=Object(p["a"])(c,s,l,!1,null,"41d51502",null);e["default"]=u.exports},e3e68:function(t,e,a){"use strict";a.r(e);a("ac1f"),a("841c");var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"message-suggestions-list-box"},[e("div",{staticClass:"search-box"},[e("a-row",{staticStyle:{"margin-bottom":"20px","margin-left":"20px"},attrs:{gutter:48}},[e("a-col",{attrs:{md:6,sm:18}},[e("a-input-group",{attrs:{compact:""}},[e("label",{staticStyle:{"margin-top":"5px"}},[t._v("设备编号：")]),t._v(" "),e("a-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入设备编号"},model:{value:t.search.ac_num,callback:function(e){t.$set(t.search,"ac_num",e)},expression:"search.ac_num"}})],1)],1),e("a-col",{attrs:{md:6,sm:18}},[e("a-input-group",{attrs:{compact:""}},[e("label",{staticStyle:{"margin-top":"5px"}},[t._v("设备名称：")]),t._v(" "),e("a-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入设备名称"},model:{value:t.search.ac_name,callback:function(e){t.$set(t.search,"ac_name",e)},expression:"search.ac_name"}})],1)],1),e("a-col",{attrs:{md:6,sm:24}},[e("label",{staticStyle:{"margin-top":"5px"}},[t._v("设备状态：")]),e("a-select",{staticStyle:{width:"170px"},attrs:{placeholder:"请选择设备状态"},model:{value:t.search.status,callback:function(e){t.$set(t.search,"status",e)},expression:"search.status"}},[e("a-select-option",{attrs:{value:"0"}},[t._v(" 全部 ")]),e("a-select-option",{attrs:{value:"1"}},[t._v(" 在线 ")]),e("a-select-option",{attrs:{value:"2"}},[t._v(" 离线 ")])],1)],1),e("a-col",{staticClass:"suggestions_col_btn",attrs:{md:2,sm:24}},[e("a-button",{attrs:{type:"primary",icon:"search"},on:{click:function(e){return t.searchList()}}},[t._v(" 查询 ")])],1),e("a-col",{staticClass:"suggestions_col_btn",attrs:{md:2,sm:24}},[e("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.reset()}}},[t._v(" 重置 ")])],1)],1)],1),e("br"),e("a-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){return t.$refs.AddModel.add()}}},[t._v("添加设备")]),e("a-table",{staticClass:"components-table-demo-nested",attrs:{columns:t.columns,"data-source":t.data,pagination:t.pagination,loading:t.loading},on:{change:t.table_change},scopedSlots:t._u([{key:"action",fn:function(a,s){return e("span",{},[e("a",{on:{click:function(e){return t.$refs.OrderModel.edit(s.id)}}},[t._v("修改")]),e("a-divider",{attrs:{type:"vertical"}}),e("a-popconfirm",{attrs:{title:"确定要删除该项吗?","ok-text":"是","cancel-text":"否"},on:{confirm:function(e){return t.clear(s.id)}}},[e("a",{staticStyle:{color:"red"}},[t._v("删除")])])],1)}}])}),e("edit-ap-device",{ref:"OrderModel",on:{ok:t.editOk}}),e("add-ap-device",{ref:"AddModel",on:{ok:t.editOk}})],1)},l=[],o=a("a0e0"),i=a("735d"),r=a("d06c"),n=[{title:"设备编号",dataIndex:"ac_series",key:"ac_series"},{title:"设备名称",dataIndex:"ac_name",key:"ac_name"},{title:"设备类型",dataIndex:"ac_type",key:"ac_type"},{title:"设备位置",dataIndex:"address",key:"address"},{title:"设备状态",dataIndex:"status",key:"status"},{title:"启用时间",dataIndex:"use_time",key:"use_time"},{title:"最后修改时间",dataIndex:"last_time",key:"last_time"},{title:"操作",key:"action",width:"170px",dataIndex:"",scopedSlots:{customRender:"action"}}],c=[],p={name:"apDevice",filters:{},components:{EditApDevice:i["default"],AddApDevice:r["default"]},data:function(){return{pagination:{pageSize:10,total:10,current:1},search:{ac_num:"",ac_name:"",status:"0",page:1},form:this.$form.createForm(this),visible:!1,loading:!1,data:c,columns:n,page:1}},mounted:function(){this.getList()},computed:{},methods:{clear:function(t){var e=this;this.request(o["a"].delDevice,{id:t}).then((function(t){t&&(e.getList(),e.$message.success("刪除成功"))}))},editOk:function(){this.getList()},reset:function(){this.search={ac_num:"",ac_name:"",status:"0",page:1}},getList:function(){var t=this;this.loading=!0,this.search["page"]=this.page,this.request(o["a"].getApDeviceList,this.search).then((function(e){t.pagination.total=e.count?e.count:0,t.pagination.pageSize=e.total_limit?e.total_limit:10,t.data=e.list,t.loading=!1}))},searchList:function(){console.log("search",this.search),this.page=1;var t={current:1,pageSize:10,total:10};this.table_change(t)},table_change:function(t){console.log("e",t),t.current&&t.current>0&&(this.pagination.current=t.current,this.page=t.current,this.getList())}}},u=p,d=(a("5730"),a("2877")),m=Object(d["a"])(u,s,l,!1,null,"5c58145e",null);e["default"]=m.exports}}]);