(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a7892db"],{"148c":function(e,t,i){"use strict";var o={getActivityList:"/employee/platform.EmployeeActivity/getActivityList",delActivity:"/employee/platform.EmployeeActivity/delActivity",getActivityEdit:"/employee/platform.EmployeeActivity/getActivityEdit",employActivityAddOrEdit:"/employee/platform.EmployeeActivity/employActivityAddOrEdit",getActivityGoods:"/employee/platform.EmployeeActivity/getActivityGoods",getActivityAdverList:"/employee/platform.EmployeeActivity/getActivityAdverList",activityAdverDel:"/employee/platform.EmployeeActivity/activityAdverDel",getAllArea:"/employee/platform.EmployeeActivity/getAllArea",addOrEditActivityAdver:"/employee/platform.EmployeeActivity/addOrEditActivityAdver",getActivityAdver:"/employee/platform.EmployeeActivity/getActivityAdver",getShopGoodsList:"/employee/platform.EmployeeActivity/getShopGoodsList",addActivityShopGoods:"/employee/platform.EmployeeActivity/addActivityShopGoods",setActivityGoodsSort:"/employee/platform.EmployeeActivity/setActivityGoodsSort",delActivityGoods:"/employee/platform.EmployeeActivity/delActivityGoods",getlableAll:"/employee/platform.EmployeeActivity/getlableAll",getPickTimeSetting:"/employee/platform.EmployeeActivity/getPickTimeSetting",pickTimeSetting:"/employee/platform.EmployeeActivity/pickTimeSetting"};t["a"]=o},a618:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a-modal",{staticClass:"dialog",attrs:{title:e.titleName,width:"65%",centered:"",visible:e.dialogVisible,destroyOnClose:!0},on:{ok:e.handleOk,cancel:e.handleCancel}},[i("div",{staticStyle:{"margin-top":"5px",padding:"10px","background-color":"#fff"}},[i("a-form-model",{attrs:{layout:"inline",model:e.searchForm}},[i("a-form-model-item",{attrs:{label:"搜索"}},[i("a-select",{staticStyle:{width:"100px"},model:{value:e.searchForm.search_type,callback:function(t){e.$set(e.searchForm,"search_type",t)},expression:"searchForm.search_type"}},[i("a-select-option",{attrs:{value:"3"}},[e._v("商品名称")]),i("a-select-option",{attrs:{value:"1"}},[e._v("商家名称")]),i("a-select-option",{attrs:{value:"2"}},[e._v("店铺名称")])],1)],1),i("a-form-model-item",{attrs:{label:""}},[i("a-input",{attrs:{placeholder:"关键词"},model:{value:e.searchForm.keyword,callback:function(t){e.$set(e.searchForm,"keyword",t)},expression:"searchForm.keyword"}})],1),i("a-form-model-item",[i("a-button",{staticClass:"ml-20",attrs:{type:"primary"},on:{click:function(t){return e.submitForm(!0)}}},[e._v("搜索")])],1)],1),i("a-table",{attrs:{rowKey:"goods_id",columns:e.columns,"row-selection":{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange},"data-source":e.datalist,pagination:e.pagination,bordered:""}})],1)])},a=[],s=i("5530"),l=i("148c"),c=[{title:"商品名称",dataIndex:"goods_name",key:"goods_name"},{title:"商家名称",dataIndex:"mer_name",key:"mer_name"},{title:"店铺名称",dataIndex:"store_name",key:"store_name"},{title:"价格",dataIndex:"price",key:"price"},{title:"可见员工身份标签",dataIndex:"employee_lables",key:"employee_lables"}],n={onChange:function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t)}},r={name:"SelectShopGoods",data:function(){return{titleName:"选择商品",dialogVisible:!1,rowSelection:n,labelCol:{span:4},wrapperCol:{span:14},datalist:[],columns:c,addVisible:!1,editVisible:!1,recordVisible:!1,currentBtn:"",setVisible:!1,activity_id:0,searchForm:{search_type:"3",activity_id:0,keyword:""},selectedRowKeys:[],selectedRows:[],cat_id:"",pagination:{current:1,total:0,pageSize:10,showSizeChanger:!0,onChange:this.onPageChange,onShowSizeChange:this.onPageSizeChange,showTotal:function(e){return"共 ".concat(e," 条记录")}}}},methods:{onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t,console.log(e,"selectedRowKeys==selectedRowKeys"),console.log(t,"selectedRows==selectedRows")},openDialog:function(e){console.log(1111,e),this.dialogVisible=!0,this.activity_id=e,this.$set(this.searchForm,"activity_id",e),console.log(1111,this.searchForm),this.getDataList()},getDataList:function(e){var t=this,i=Object(s["a"])({},this.searchForm);!0===e?(i.page=1,i.keyWords=this.searchForm.title,this.$set(this.pagination,"current",1)):(i.page=this.pagination.current,this.$set(this.pagination,"current",this.pagination.current)),i.pageSize=this.pagination.pageSize,console.log(1111,i),this.request(l["a"].getShopGoodsList,i).then((function(e){t.datalist=e.data,t.$set(t.pagination,"total",e.total)}))},submitForm:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.getDataList(e)},resetForm:function(){this.$set(this,"searchForm",{name:"",status:-1}),this.$set(this.pagination,"current",1),this.getDataList()},onPageChange:function(e,t){this.$set(this.pagination,"current",e),this.submitForm()},onPageSizeChange:function(e,t){this.$set(this.pagination,"pageSize",t),this.submitForm()},confirm:function(e,t){this.onChange(e,t)},setCancel:function(){this.setVisible=!1},handleOk:function(){var e=this;this.selectedRowKeys.length?(this.request(l["a"].addActivityShopGoods,{goods_ids:this.selectedRowKeys,activity_id:this.activity_id}).then((function(t){e.$message.success("添加成功"),e.$emit("getTable")})),this.handleCancel()):this.$message.error("请选择")},handleCancel:function(){this.searchForm={search_type:"1",activity_id:0,keyword:""},this.selectedRowKeys=[],this.selectedRows=[],this.dialogVisible=!1}}},d=r,m=i("2877"),y=Object(m["a"])(d,o,a,!1,null,"354bcaeb",null);t["default"]=y.exports}}]);