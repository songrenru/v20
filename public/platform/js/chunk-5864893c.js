(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5864893c","chunk-40b04034","chunk-2d0a310a"],{"011d":function(t,e,a){"use strict";var l={getSearchHotList:"/mall/platform.MallSearchHot/getSearchHotList",getHotRecord:"/mall/platform.MallSearchHot/getHotRecord",addOrEditSearchHot:"/mall/platform.MallSearchHot/addOrEditSearchHot",getEditSearchHot:"/mall/platform.MallSearchHot/getEditSearchHot",delSearchHot:"/mall/platform.MallSearchHot/delSearchHot",saveSort:"/mall/platform.MallSearchHot/saveSort",getGoodsList:"/mall/platform.MallPlatformGoods/getGoodsList",getMerOrStoreList:"/mall/platform.MallPlatformGoods/getMerOrStoreList",goodsCategoryList:"/mall/platform.MallGoodsCategory/goodsCategoryList",goodsSetSort:"/mall/platform.MallPlatformGoods/setSort",getGoodsListByName:"/mall/platform.MallPlatformGoods/getGoodsListByName",exportGoods:"/mall/platform.MallPlatformGoods/exportGoods",goodsSetIntegral:"/mall/platform.MallPlatformGoods/setIntegral",goodsSetCommission:"/mall/platform.MallPlatformGoods/setCommission",goodsSetVirtual:"/mall/platform.MallPlatformGoods/setVirtual",goodsSetStatus:"/mall/platform.MallPlatformGoods/setStatus",goodsSetFirst:"/mall/platform.MallPlatformGoods/setFirst",merchantGoodsEdit:"/mall/platform.mallPlatformGoods/merchantGoodsEdit",getActivityRecommendList:"/mall/platform.MallActivityRecommend/getActivityRecommendList",getLimitedRecommendList:"/mall/platform.mallActivityRecommend/getLimitedRecommendList",getBargainRecommendList:"/mall/platform.mallActivityRecommend/getBargainRecommendList",getGroupRecommendList:"/mall/platform.mallActivityRecommend/getGroupRecommendList",editLimitedRecommend:"/mall/platform.mallActivityRecommend/editLimitedRecommend",editBargainRecommend:"/mall/platform.mallActivityRecommend/editBargainRecommend",editGroupRecommend:"/mall/platform.mallActivityRecommend/editGroupRecommend",setFirstLimited:"/mall/platform.mallActivityRecommend/setFirstLimited",setFirstBargain:"/mall/platform.mallActivityRecommend/setFirstBargain",setFirstGroup:"/mall/platform.mallActivityRecommend/setFirstGroup",setSortGroup:"/mall/platform.mallActivityRecommend/setSortGroup",setSortLimited:"/mall/platform.mallActivityRecommend/setSortLimited",setSortBargain:"/mall/platform.mallActivityRecommend/setSortBargain",bannerList:"/mall/platform.mallActivityRecommend/bannerList",addOrEditBanner:"/mall/platform.mallActivityRecommend/addOrEditBanner",delBanner:"/mall/platform.mallActivityRecommend/delBanner",getReplyList:"/mall/platform.MallPlatformReply/searchReply",getReplyDetails:"/mall/platform.MallPlatformReply/getReplyDetails",delReply:"/mall/platform.MallPlatformReply/delReply",getOrderList:"/mall/platform.MallOrder/searchOrders",getOrderDetails:"/mall/platform.MallOrder/getOrderDetails",getStores:"/mall/platform.MallOrder/getStores",getMers:"/mall/platform.MallOrder/getMers",loginMer:"/mall/platform.MallOrder/loginMer",loginStore:"/mall/platform.MallOrder/loginStore",getAllArea:"/mall/platform.MallOrder/getAllArea",getDiscount:"/mall/platform.MallOrder/getDiscount",getOrderLog:"/mall/platform.MallOrder/getOrderLog",exportOrder:"/mall/platform.MallOrder/exportOrder",getList:"mall/platform.MallHomeDecorate/getList",getDel:"mall/platform.MallHomeDecorate/getDel",getEdit:"mall/platform.MallHomeDecorate/getEdit",addOrEditDecorate:"mall/platform.MallHomeDecorate/addOrEdit",getSixList:"mall/platform.MallHomeDecorate/getSixList",getSixEdit:"mall/platform.MallHomeDecorate/getSixEdit",addOrEditSixAdver:"mall/platform.MallHomeDecorate/addOrEditSixAdver",delSixAdver:"mall/platform.MallHomeDecorate/delSixAdver",getRecList:"mall/platform.MallHomeDecorate/getRecList",addOrEditRec:"mall/platform.MallHomeDecorate/addOrEditRec",getRecEdit:"mall/platform.MallHomeDecorate/getRecEdit",delRecAdver:"mall/platform.MallHomeDecorate/delRecAdver",recDisplay:"mall/platform.MallHomeDecorate/recDisplay",getActGoods:"mall/platform.MallHomeDecorate/getActGoods",addRelatedGoods:"mall/platform.MallHomeDecorate/addRelatedGoods",getUrlAndRecSwitch:"mall/platform.MallHomeDecorate/getUrlAndRecSwitch",getRelatedList:"mall/platform.MallHomeDecorate/getRelatedList",saveRelatedSort:"/mall/platform.MallHomeDecorate/saveRelatedSort",delOne:"/mall/platform.MallHomeDecorate/delOne",viewLogistics:"/mall/platform.MallOrder/viewLogistics",getPeriodicList:"/mall/platform.MallOrder/getPeriodicList",setRecommend:"/mall/platform.MallPlatformGoods/setRecommend",cancelRecommend:"/mall/platform.MallPlatformGoods/cancelRecommend",isShowReply:"/mall/platform.MallPlatformReply/isShowReply",orderPrintTicket:"/mall/platform.MallOrder/printOrder"};e["a"]=l},3383:function(t,e,a){"use strict";a("3460")},3460:function(t,e,a){},"451f":function(t,e,a){},af49:function(t,e,a){"use strict";a("f497")},e7d6:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{title:t.title,width:900,height:640,visible:t.visible,footer:null},on:{cancel:t.handleCancel}},[a("div",[a("a-row",{staticClass:"mb-20"},[a("a-col",{attrs:{span:1}}),a("a-col",{attrs:{span:10}},[t._v(" 商家名称: "),a("span",[t._v(" "+t._s(t.detail.mer_name))])]),a("a-col",{attrs:{span:1}}),a("a-col",{attrs:{span:10}},[t._v(" 店铺名称: "),a("span",[t._v(" "+t._s(t.detail.store_name))])])],1),a("a-row",{staticClass:"mb-20"},[a("a-col",{attrs:{span:1}}),a("a-col",{attrs:{span:10}},[t._v(" 商品名称: "),a("span",[t._v(" "+t._s(t.detail.goods_name))])]),a("a-col",{attrs:{span:1}}),a("a-col",{attrs:{span:10}},[t._v(" 商品规格: "),a("span",[t._v(" "+t._s(t.detail.goods_sku_dec))])])],1),a("a-row",{staticClass:"mb-20"},[a("a-col",{attrs:{span:1}}),a("a-col",{attrs:{span:10}},[t._v(" 评论时间： "),a("span",[t._v(" "+t._s(t.detail.reply_time))])]),a("a-col",{attrs:{span:1}}),a("a-col",{attrs:{span:10}},[t._v(" 商品评价: "),[a("a-rate",{attrs:{disabled:""},model:{value:t.detail.goods_score,callback:function(e){t.$set(t.detail,"goods_score",e)},expression:"detail.goods_score"}})]],2)],1),a("a-row",{staticClass:"mb-20"},[a("a-col",{attrs:{span:1}}),a("a-col",{attrs:{span:10}},[t._v(" 物流服务: "),[a("a-rate",{attrs:{disabled:""},model:{value:t.detail.logistics_score,callback:function(e){t.$set(t.detail,"logistics_score",e)},expression:"detail.logistics_score"}})]],2),a("a-col",{attrs:{span:1}}),a("a-col",{attrs:{span:10}},[t._v(" 服务态度: "),[a("a-rate",{attrs:{disabled:""},model:{value:t.detail.service_score,callback:function(e){t.$set(t.detail,"service_score",e)},expression:"detail.service_score"}})]],2)],1),a("a-row",{staticClass:"mb-20"},[a("a-col",{attrs:{span:1}}),a("a-col",{attrs:{span:21}},[t._v(" 评论内容: "),a("span",[t._v(" "+t._s(t.detail.comment))])])],1),a("a-row",{staticClass:"mb-20"},[a("a-col",{attrs:{span:1}}),1==t.detail.reply_mv_nums?a("div",[a("a-col",{attrs:{span:10}},[a("video-player",{ref:"videoPlayer",staticClass:"video-player vjs-custom-skin",attrs:{playsinline:!0,options:t.detail.playerOption}})],1),a("a-col",{attrs:{span:11}},[a("viewer",{attrs:{images:t.detail.reply_pic}},t._l(t.detail.reply_pic,(function(t,e){return a("img",{key:e,attrs:{src:t}})})),0)],1)],1):t._e(),2==t.detail.reply_mv_nums?a("div",[a("a-col",{attrs:{span:21}},[a("viewer",{attrs:{images:t.detail.reply_pic}},t._l(t.detail.reply_pic,(function(t,e){return a("img",{key:e,attrs:{src:t}})})),0)],1)],1):t._e()],1),a("a-row",{staticClass:"mb-20"},[a("a-col",{attrs:{span:1}}),a("a-col",{attrs:{span:19}},[t._v(" 回复内容（"+t._s(t.detail.merchant_reply_time)+"）: "),a("a-textarea",{attrs:{placeholder:"请输入内容","auto-size":{minRows:6,maxRows:10},disabled:!0},model:{value:t.detail.merchant_reply_content,callback:function(e){t.$set(t.detail,"merchant_reply_content",e)},expression:"detail.merchant_reply_content"}})],1),a("a-col",{attrs:{span:2}})],1),a("a-row",{staticClass:"mb-20"},[a("a-col",{attrs:{span:1}}),a("a-col",{attrs:{span:21}},[t._v(" 用户回复 ("+t._s(t.detail.user_reply_merchant_time)+"): ")])],1),a("a-row",[a("a-col",{attrs:{span:1}}),a("a-col",{attrs:{span:21}},[a("span",[t._v(" "+t._s(t.detail.user_reply_merchant))])])],1)],1)])},o=[],s=a("011d"),r=(a("0808"),a("6944")),i=a.n(r),n=a("8bbf"),m=a.n(n),c=a("d6d3");a("fda2");m.a.use(i.a);var d={components:{videoPlayer:c["videoPlayer"]},data:function(){return{title:"查看详情",visible:!1,rpl_id:0,detail:{mer_name:"",store_name:"",reply_time:"",goods_name:"",goods_sku_dec:"",service_score:0,goods_score:0,logistics_score:0,comment:"",reply_pic:[],reply_mv_nums:2,playerOption:{},merchant_reply_content:"",merchant_reply_time:""}}},methods:{showReply:function(t){var e=this;this.visible=!0,this.rpl_id=t,this.request(s["a"].getReplyDetails,{rpl_id:this.rpl_id}).then((function(t){e.detail=t,console.log(e.detail)}))},handleCancel:function(){this.detail.reply_mv_nums=2,this.visible=!1}}},p=d,u=(a("3383"),a("0c7c")),f=Object(u["a"])(p,l,o,!1,null,"2d1f7c87",null);e["default"]=f.exports},eb90:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-10 mb-20 pt-20 pl-20 pr-20 pb-20 bg-ff br-10"},[a("a-form-model",{attrs:{layout:"inline",model:t.searchForm}},[a("a-form-model-item",{attrs:{label:"搜索"}},[a("a-select",{staticStyle:{width:"115px"},model:{value:t.searchForm.type,callback:function(e){t.$set(t.searchForm,"type",e)},expression:"searchForm.type"}},[a("a-select-option",{attrs:{value:1}},[t._v(" 店铺名称")]),a("a-select-option",{attrs:{value:2}},[t._v(" 商家名称")]),a("a-select-option",{attrs:{value:3}},[t._v(" 商品名称")])],1),a("a-input",{staticStyle:{width:"215px"},attrs:{placeholder:"请输入商品名称、店铺名称"},model:{value:t.searchForm.content,callback:function(e){t.$set(t.searchForm,"content",e)},expression:"searchForm.content"}})],1),a("a-form-model-item",{attrs:{label:"是否回复"}},[a("a-select",{staticStyle:{width:"115px"},model:{value:t.searchForm.status,callback:function(e){t.$set(t.searchForm,"status",e)},expression:"searchForm.status"}},[a("a-select-option",{attrs:{value:2}},[t._v(" 全部")]),a("a-select-option",{attrs:{value:0}},[t._v(" 未回复")]),a("a-select-option",{attrs:{value:1}},[t._v(" 已回复")])],1)],1),a("a-form-model-item",{attrs:{label:"评论时间"}},[a("a-range-picker",{attrs:{ranges:{"过去30天":[t.moment().subtract(30,"days"),t.moment()],"过去15天":[t.moment().subtract(15,"days"),t.moment()],"过去7天":[t.moment().subtract(7,"days"),t.moment()],"今日":[t.moment(),t.moment()]},value:t.searchForm.time,format:"YYYY-MM-DD"},on:{change:t.onDateRangeChange}})],1),a("a-form-model-item",[a("a-button",{staticClass:"ml-20",attrs:{type:"primary",icon:"search"},on:{click:function(e){return t.submitForm(!0)}}},[t._v(" 查询")])],1)],1),a("a-table",{staticClass:"mt-20",attrs:{rowKey:"rpl_id",columns:t.columns,"data-source":t.dataList,pagination:t.pagination},scopedSlots:t._u([{key:"comment",fn:function(e,l){return a("span",{},[a("div",[a("span",[t._v(" "+t._s(l.showCommentText&&!l.show?l.showCommentText:e)+" ")]),l.show?t._e():a("a-button",{attrs:{type:"link"},on:{click:function(e){return t.foldOpt(l,"unfold")}}},[t._v("展开")])],1),l.show&&(1==l.reply_mv_nums||l.reply_pic.length||l.showCommentText)?a("div",{staticClass:"showMore"},[1==l.reply_mv_nums?a("div",[a("video-player",{ref:"videoPlayer",staticClass:"video-player vjs-custom-skin",attrs:{playsinline:!0,options:l.playerOption}})],1):t._e(),a("viewer",{attrs:{images:l.reply_pic}},t._l(l.reply_pic,(function(t,e){return a("img",{key:e,attrs:{src:t,width:"80px",height:"80px"}})})),0),l.show?a("a-button",{staticClass:"fold",attrs:{type:"link"},on:{click:function(e){return t.foldOpt(l,"fold")}}},[t._v("收起")]):t._e()],1):t._e()])}},{key:"goods_name",fn:function(e,l){return a("span",{},[a("div",{staticClass:"product-info"},[a("div",[a("img",{attrs:{src:l.goods_image}})]),a("div",[a("div",[t._v(t._s(e))]),a("div",[t._v(t._s(l.goods_sku_dec))])])])])}},{key:"goodsScore",fn:function(e){return a("span",{},[[a("a-rate",{attrs:{"default-value":e,disabled:""}})],t._v(" "+t._s(e)+"星 ")],2)}},{key:"status",fn:function(e){return a("span",{},[0==e?a("a-badge",{attrs:{status:"default",text:"未回复"}}):t._e(),1==e?a("a-badge",{attrs:{status:"success",text:"已回复"}}):t._e()],1)}},{key:"is_show",fn:function(e,l){return a("span",{},[0==e?a("a",{staticClass:"ml-10 inline-block",on:{click:function(e){return t.displaySwitch(l.rpl_id)}}},[t._v("展示")]):t._e(),1==e?a("a",{staticClass:"ml-10 inline-block",on:{click:function(e){return t.displaySwitch(l.rpl_id)}}},[t._v("不展示")]):t._e()])}},{key:"action",fn:function(e){return a("span",{},[a("a",{staticClass:"ml-10 inline-block",on:{click:function(a){return t.$refs.replyModel.showReply(e)}}},[t._v("查看")]),a("a",{staticClass:"ml-10 inline-block",on:{click:function(a){return t.removeComment(e)}}},[t._v("删除")])])}}])},[a("span",{attrs:{slot:"goodsScoreTitle"},slot:"goodsScoreTitle"},[t._v(" 评价等级 "),a("a-tooltip",{attrs:{trigger:"hover"}},[a("template",{slot:"title"},[t._v("商品评星1-2星为差;3星为一般;4星为好;5星为非常好 ")]),a("a-icon",{staticClass:"ml-10",attrs:{type:"question-circle"}})],2)],1)]),a("reply-detail",{ref:"replyModel",on:{loadRefresh:t.getDataList}})],1)},o=[],s=a("5530"),r=(a("4de4"),a("d3b7"),a("159b"),a("c1df")),i=a.n(r),n=a("e7d6"),m=a("011d"),c=(a("0808"),a("6944")),d=a.n(c),p=a("8bbf"),u=a.n(p),f=a("d6d3");a("fda2"),a("451f");u.a.use(d.a);var g={name:"ReplyList",components:{ReplyDetail:n["default"],videoPlayer:f["videoPlayer"]},data:function(){return{searchForm:{content:"",type:1,time:[],begin_time:"",end_time:"",status:2},store_list:[],columns:[{title:"评论内容",dataIndex:"comment",scopedSlots:{customRender:"comment"},width:"350px"},{title:"商品信息",dataIndex:"goods_name",scopedSlots:{customRender:"goods_name"},width:"300px"},{title:"商家名称",dataIndex:"mer_name",key:"mer_name"},{title:"店铺名称",dataIndex:"store_name",key:"store_name"},{title:"评价时间",dataIndex:"create_time",key:"create_time",width:"160px"},{dataIndex:"goods_score",key:"goods_score",slots:{title:"goodsScoreTitle"},scopedSlots:{customRender:"goodsScore"}},{title:"是否回复",dataIndex:"status",key:"status",scopedSlots:{customRender:"status"},width:"100px"},{title:"是否展示",dataIndex:"is_show",key:"is_show",scopedSlots:{customRender:"is_show"},width:"100px"},{title:"操作",dataIndex:"rpl_id",key:"rpl_id",scopedSlots:{customRender:"action"}}],dataList:[],pagination:{current:1,total:0,pageSize:10,showSizeChanger:!0,onChange:this.onPageChange,onShowSizeChange:this.onPageSizeChange,showTotal:function(t){return"共 ".concat(t," 条记录")}}}},created:function(){this.getDataList({is_search:!1})},methods:{moment:i.a,getDataList:function(t){var e=this,a=Object(s["a"])({},this.searchForm);delete a.time,1==t.is_search?(a.page=1,this.$set(this.pagination,"current",1)):(a.page=this.pagination.current,this.$set(this.pagination,"current",this.pagination.current)),a.pageSize=this.pagination.pageSize,this.request(m["a"].getReplyList,a).then((function(t){e.dataList=t.list,e.$set(e.pagination,"total",t.count),e.dataList&&e.dataList.length&&(e.dataList=e.dataList.filter((function(t){return t.comment&&t.comment.length>32&&(t.showCommentText=t.comment.substring(0,32)+"..."),1==t.reply_mv_nums||t.reply_pic.length||t.showCommentText?t.show=!1:t.show=!0,t})))}))},onDateRangeChange:function(t,e){this.$set(this.searchForm,"time",[t[0],t[1]]),this.$set(this.searchForm,"begin_time",e[0]),this.$set(this.searchForm,"end_time",e[1])},submitForm:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=Object(s["a"])({},this.searchForm);delete e.time,e.is_search=t,console.log(e),this.getDataList(e)},onPageChange:function(t,e){this.$set(this.pagination,"current",t),this.submitForm()},onPageSizeChange:function(t,e){this.$set(this.pagination,"pageSize",e),this.submitForm()},resetForm:function(){this.$set(this,"searchForm",{content:"",begin_time:"",end_time:"",type:1,status:2}),this.$set(this.pagination,"current",1),this.getDataList({store_id:this.store_id,is_search:!1})},removeComment:function(t){var e=this;this.$confirm({title:"是否确定删除该评论?",centered:!0,onOk:function(){e.request(m["a"].delReply,{rpl_id:t}).then((function(t){e.$message.success("操作成功！"),e.getDataList()}))},onCancel:function(){}})},foldOpt:function(t,e){var a=this;this.dataList.forEach((function(l,o){l.rpl_id==t.rpl_id&&(l.show="unfold"==e,a.$set(a.dataList,o,l))}))},displaySwitch:function(t){var e=this;this.request(m["a"].isShowReply,{rpl_id:t}).then((function(t){e.$message.success("操作成功！"),e.getDataList({is_search:!1})}))}}},_=g,h=(a("af49"),a("0c7c")),v=Object(h["a"])(_,l,o,!1,null,"221f4882",null);e["default"]=v.exports},f497:function(t,e,a){}}]);