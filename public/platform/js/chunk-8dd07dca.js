(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8dd07dca","chunk-2d0c06af"],{"15a3":function(t,e,a){"use strict";a.r(e);a("54f8");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ant-pro-page-header-wrap-children-content",staticStyle:{margin:"24px 0 0"}},[e("a-card",{attrs:{bordered:!1}},[e("a-form",{staticClass:"form-content",attrs:{layout:"inline"}},[e("a-row",{attrs:{type:"flex",justify:"space-between"}},[e("a-col",[e("a-form-item",[e("a-select",{staticStyle:{width:"130px"},attrs:{"default-value":"queryParam.search_type"},on:{change:t.changeSearchType},model:{value:t.queryParam.search_type,callback:function(e){t.$set(t.queryParam,"search_type",e)},expression:"queryParam.search_type"}},t._l(t.catArr,(function(a){return e("a-select-option",{key:a.value,attrs:{value:a.value}},[t._v(t._s(a.name))])})),1),e("a-input",{staticStyle:{width:"235px"},attrs:{"allow-clear":"",placeholder:t.placeholder},model:{value:t.queryParam.keywords,callback:function(e){t.$set(t.queryParam,"keywords",e)},expression:"queryParam.keywords"}})],1),e("a-form-item",{attrs:{label:"产品类型"}},[e("a-select",{staticStyle:{width:"110px"},attrs:{"default-value":"queryParam.type"},model:{value:t.queryParam.type,callback:function(e){t.$set(t.queryParam,"type",e)},expression:"queryParam.type"}},t._l(t.typeArr,(function(a){return e("a-select-option",{key:a.value,attrs:{value:a.value}},[t._v(" "+t._s(a.name)+" ")])})),1)],1),e("a-form-item",{attrs:{label:"搜索小区"}},[e("a-select",{staticStyle:{width:"200px"},attrs:{"show-search":"",placeholder:"选择小区","option-filter-prop":"children","filter-option":t.filterOption},on:{focus:t.handleFocus,blur:t.handleBlur,change:t.handleVillageChange,popupScroll:t.handleVillageScroll}},t._l(t.villageList,(function(a){return e("a-select-option",{key:a.village_id,attrs:{value:a.village_id}},[t._v(" "+t._s(a.village_name)+" ")])})),1)],1)],1)],1),e("a-row",{attrs:{type:"flex",justify:"space-between"}},[e("a-col",[e("a-form-item",{attrs:{label:"申请时间"}},[e("a-range-picker",{attrs:{allowClear:!0},on:{change:t.onDateChange},model:{value:t.search_date,callback:function(e){t.search_date=e},expression:"search_date"}},[e("a-icon",{attrs:{slot:"suffixIcon",type:"calendar"},slot:"suffixIcon"})],1)],1),e("a-form-item",[e("a-button",{staticStyle:{"margin-right":"15px"},attrs:{type:"primary",icon:"search"},on:{click:function(e){return t.searchBtn()}}},[t._v("搜索")])],1)],1),e("a-col",[e("a-form-item",[e("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.$refs.ExportAddModal.exports()}}},[t._v("导出")])],1)],1)],1)],1),e("div",{staticClass:"message-suggestions-list-box"},[e("a-tabs",{attrs:{"default-active-key":""},on:{change:t.callback}},t._l(t.tabArr,(function(t){return e("a-tab-pane",{key:t.value,attrs:{tab:t.name+"（"+t.count+"）"}})})),1),e("a-table",{staticClass:"components-table-demo-nested",staticStyle:{"min-height":"700px"},attrs:{columns:t.columns,"data-source":t.data,rowKey:"apply_id",pagination:t.pagination},on:{change:t.tableChange},scopedSlots:t._u([{key:"banking_title",fn:function(a){return e("span",{},[e("a-tooltip",{attrs:{placement:"top",title:a}},[e("label",{staticClass:"user-address text-els"},[t._v(t._s(a))])])],1)}},{key:"company_name",fn:function(a){return e("span",{},[t._v(" "+t._s(a||"--")+" ")])}},{key:"industry",fn:function(a){return e("span",{},[t._v(" "+t._s(a||"--")+" ")])}},{key:"status_txt",fn:function(a,n){return e("span",{},[e("label",{class:3==n.status?"red":""},[t._v(t._s(a))])])}},{key:"address",fn:function(a){return e("span",{},[e("a-tooltip",{attrs:{placement:"top",title:a}},[e("label",{staticClass:"user-address text-els"},[t._v(t._s(a))])])],1)}},{key:"action",fn:function(a,n){return e("span",{},[4!=n.status?e("a-select",{staticStyle:{width:"110px"},attrs:{"default-value":n.status},on:{change:function(e){return t.changeStatus(e,n.apply_id)}}},t._l(n.status_arr,(function(a,n){return e("a-select-option",{key:n,attrs:{value:n}},[t._v(t._s(a))])})),1):t._e(),4==n.status?e("span",[t._v("--")]):t._e()],1)}}])},[e("span",{attrs:{slot:"addressTitle"},slot:"addressTitle"},[t._v(" 地址 "),e("a-tooltip",{attrs:{trigger:"hover"}},[e("template",{slot:"title"},[t._v("鼠标移至地址栏可查看完整地址信息")]),e("a-icon",{staticClass:"ml-10",attrs:{type:"question-circle"}})],2)],1),e("span",{attrs:{slot:"moneyTitle"},slot:"moneyTitle"},[t._v(" 金额 "),e("a-tooltip",{attrs:{trigger:"hover"}},[e("template",{slot:"title"},[t._v("包含存款金额、申请额度")]),e("a-icon",{staticClass:"ml-10",attrs:{type:"question-circle"}})],2)],1)])],1)],1),e("export-add",{ref:"ExportAddModal",attrs:{exportUrl:t.exportUrl,queryParam:t.queryParam}})],1)},i=[],l=(a("4868"),a("c5cb"),a("6e84"),a("b706")),s=a("2f42"),r=a.n(s),o=a("4261"),c=[],u=[{value:"-1",name:"全部",count:0},{value:"0",name:"待受理",count:0},{value:"1",name:"已受理",count:0},{value:"2",name:"申请成功",count:0},{value:"3",name:"已拒绝",count:0},{value:"4",name:"已撤销",count:0}],d=[{value:"",name:"全部"},{value:"personal_loans",name:"个人贷款"},{value:"company_loans",name:"企业贷款"},{value:"credit_card",name:"信用卡"},{value:"ecard",name:"E支付"},{value:"deposit",name:"存款"},{value:"public_deposit",name:"对公账户预约"}],p={name:"BankingList",components:{ExportAdd:o["default"]},data:function(){return{typeArr:d,tabValue:"",tabArr:u,search_date:[],exportUrl:l["a"].exportUrl,placeholder:"不限",catArr:[{value:"",name:"全部"},{value:"name",name:"申请人姓名"},{value:"phone",name:"申请人手机号"},{value:"title",name:"产品名称"}],queryParam:{search_type:"",type:"",start_time:"",end_time:"",status:-1},pagination:{pageSize:10,total:0,"show-total":function(t){return"共 ".concat(t," 条记录")},"show-quick-jumper":!0},villageList:[],villagePage:1,villageLoad:!0,page:1,columns:[{title:"产品名称",dataIndex:"title",scopedSlots:{customRender:"banking_title"}},{title:"产品类型",dataIndex:"type_txt"},{title:"申请人名称",dataIndex:"name"},{title:"申请人手机号",dataIndex:"phone"},{title:"企业名称",dataIndex:"company_name",scopedSlots:{customRender:"company_name"}},{dataIndex:"address",slots:{title:"addressTitle"},scopedSlots:{customRender:"address"}},{title:"申请人小区",dataIndex:"village_name"},{dataIndex:"money",slots:{title:"moneyTitle"}},{title:"行业",dataIndex:"industry",scopedSlots:{customRender:"industry"}},{title:"状态",dataIndex:"status_txt",scopedSlots:{customRender:"status_txt"}},{title:"申请时间",dataIndex:"add_time_txt"},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"}}],data:c}},mounted:function(){this.getList()},methods:{moment:r.a,getList:function(){var t=this;this.queryParam["page"]=this.page,this.request(l["a"].getApplyList,this.queryParam).then((function(e){t.data=e.data,t.pagination.total=e.total,e.tab_arr&&e.tab_arr.length&&(t.tabArr=JSON.parse(JSON.stringify(e.tab_arr))),console.log(t.data,"this.data")}))},searchBtn:function(){this.page=1,this.getList()},onDateChange:function(t,e){this.queryParam.start_time=e[0],this.queryParam.end_time=e[1]},tableChange:function(t,e,a){this.queryParam["pageSize"]=t.pageSize,this.queryParam["page"]=t.current,t.current&&t.current>0&&(this.page=t.current),this.getList()},changeSearchType:function(t){if(console.log(t,"changeLoansType"),""==t)this.placeholder="不限";else{var e=this.catArr.find((function(e,a,n){return e.value==t})).name;this.placeholder="请输入"+e}},getVillageList:function(){var t=this;this.villageLoad&&this.request(l["a"].getVillageList,{page:this.villagePage}).then((function(e){1==t.villagePage?t.villageList=[{village_id:0,village_name:"全部"}].concat(e):t.villageList=t.villageList.concat(e),0==e.length&&(t.villageLoad=!1)}))},handleFocus:function(t){console.log("handleFocus",t),this.villagePage=1,this.villageLoad=!0,this.getVillageList()},handleBlur:function(t){console.log("handleBlur",t),this.villagePage=1,this.villageLoad=!0,this.getVillageList()},handleVillageChange:function(t){this.queryParam.village_id=t,this.getList(),console.log("handleVillageChange",t)},handleVillageScroll:function(t){var e=t.target,a=e.scrollHeight,n=e.scrollTop,i=e.clientHeight;a-n===i&&(this.villagePage++,this.getVillageList())},filterOption:function(t,e){return e.componentOptions.children[0].text.toLowerCase().indexOf(t.toLowerCase())>=0},callback:function(t){this.tabValue=t,this.queryParam.status=t,this.page=1,this.getList()},changeStatus:function(t,e){var a=this;this.request(l["a"].changeStatus,{id:e,status:t}).then((function(t){a.$message.success("修改成功"),a.getList()}))}}},g=p,m=(a("b2b6"),a("0b56")),h=Object(m["a"])(g,n,i,!1,null,"c0fec76c",null);e["default"]=h.exports},"278a":function(t,e,a){},4261:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("a-button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"primary"}},[t._v(" Open the message box ")])},i=[],l={downloadExportFile:"/common/common.export/downloadExportFile"},s=l,r="updatable",o={props:{exportUrl:"",queryParam:{}},data:function(){return{file_date:"",file_url:""}},mounted:function(){},methods:{exports:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"加载中,请耐心等待,数量越多时间越长。";this.request(this.exportUrl,this.queryParam).then((function(a){t.$message.loading({content:e,key:r,duration:0}),console.log("添加导出计划任务成功"),t.file_url=s.downloadExportFile+"?id="+a.export_id,t.file_date=a,t.CheckStatus()}))},CheckStatus:function(){var t=this;this.request(this.file_url,{id:this.file_date.export_id}).then((function(e){0==e.error?(t.$message.success({content:"下载成功!",key:r,duration:2}),location.href=e.url):setTimeout((function(){t.CheckStatus(),console.log("重复请求")}),1e3)}))}}},c=o,u=a("0b56"),d=Object(u["a"])(c,n,i,!1,null,"dd2f8128",null);e["default"]=d.exports},b2b6:function(t,e,a){"use strict";a("278a")},b706:function(t,e,a){"use strict";var n={getBankingList:"/banking/platform.Banking/getList",getBankingDetail:"/banking/platform.Banking/getDetail",saveBanking:"/banking/platform.Banking/saveBanking",getBankingLogList:"/banking/platform.Banking/getLogList",delBanking:"/banking/platform.Banking/delBanking",getApplyList:"/banking/platform.BankingApply/getList",changeStatus:"/banking/platform.BankingApply/changeStatus",exportUrl:"/banking/platform.BankingApply/export",getVillageList:"/banking/platform.BankingApply/getVillageList",getBankingConfigList:"/banking/platform.Banking/getConfigDataList",editSeting:"/banking/platform.Banking/editSeting",getInformationList:"/banking/platform.Banking/getInformationList",delInformation:"/banking/platform.Banking/delInformation",getInformationData:"/banking/platform.Banking/getInformationData",editOrAddInformation:"/banking/platform.Banking/editOrAddInformation"};e["a"]=n}}]);