(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ae02ad0a"],{"3ccb":function(t,e,a){"use strict";a("cc8b")},cc8b:function(t,e,a){},d074:function(t,e,a){"use strict";a.r(e);a("54f8"),a("aa48"),a("8f7e");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"package-list ant-pro-page-header-wrap-children-content",staticStyle:{margin:"24px 0 0"}},[e("a-card",{attrs:{bordered:!1}},[e("div",{staticClass:"search-box",staticStyle:{"margin-bottom":"10px"}},[e("a-row",{attrs:{gutter:48}},[e("a-col",{attrs:{md:8,sm:24}},[e("a-input-group",{attrs:{compact:""}},[e("label",{staticStyle:{"margin-top":"5px"}},[t._v("活动名称：")]),e("a-input",{staticStyle:{width:"70%"},model:{value:t.search.name,callback:function(e){t.$set(t.search,"name",e)},expression:"search.name"}})],1)],1),e("a-col",{attrs:{md:2,sm:2}},[e("a-button",{attrs:{type:"primary",icon:"search"},on:{click:function(e){return t.searchList()}}},[t._v(" 查询 ")])],1),e("a-col",{attrs:{md:2,sm:2}},[e("a-button",{on:{click:function(e){return t.resetList()}}},[t._v("重置")])],1)],1)],1),e("div",{staticClass:"table-operator"},[e("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(e){return t.$refs.createModal.add()}}},[t._v("新建")])],1),e("a-table",{attrs:{columns:t.columns,"data-source":t.list,pagination:t.pagination},on:{change:t.tableChange},scopedSlots:t._u([{key:"action",fn:function(a,n){return e("span",{},[e("a",{on:{click:function(e){return t.$refs.createModal.edit(n.party_activity_id)}}},[t._v("编辑")]),e("a-divider",{attrs:{type:"vertical"}}),e("a-popconfirm",{staticClass:"ant-dropdown-link",attrs:{title:"确认删除?","ok-text":"是","cancel-text":"否"},on:{confirm:function(e){return t.deleteConfirm(n.party_activity_id)},cancel:t.cancel}},[e("a",{attrs:{href:"#"}},[t._v("删除")])]),e("a-divider",{attrs:{type:"vertical"}}),e("router-link",{staticStyle:{color:"#1890ff"},attrs:{to:{name:"ActivityApplyList",params:{id:n.party_activity_id}}}},[t._v("报名列表")])],1)}},{key:"status",fn:function(a){return e("span",{},[e("a-badge",{attrs:{status:t._f("statusTypeFilter")(a),text:t._f("statusFilter")(a)}})],1)}},{key:"name",fn:function(e){return[t._v(" "+t._s(e.first)+" "+t._s(e.last)+" ")]}}])}),e("activity-info",{ref:"createModal",attrs:{height:800,width:1200},on:{ok:t.handleOks}})],1)],1)},i=[],s=a("567c"),c=a("6317"),r={1:{status:"success",text:"开启"},2:{status:"default",text:"禁止"}},o={name:"PartyActivityList",components:{activityInfo:c["default"]},data:function(){return{list:[],visible:!1,confirmLoading:!1,sortedInfo:null,pagination:{pageSize:10,total:10},search:{page:1},page:1,search_data:[]}},mounted:function(){this.getMeeting()},filters:{statusFilter:function(t){return r[t].text},statusTypeFilter:function(t){return r[t].status}},computed:{columns:function(){var t=this.sortedInfo;t=t||{};var e=[{title:"标题",dataIndex:"name",key:"name"},{title:"添加时间",dataIndex:"add_time",key:"add_time"},{title:"最后修改时间",dataIndex:"last_time",key:"last_time"},{title:"总名额/剩余名额",dataIndex:"num",key:"num"},{title:"排序",dataIndex:"sort",key:"sort"},{title:"状态",dataIndex:"status",key:"status",scopedSlots:{customRender:"status"}},{title:"操作",key:"action",dataIndex:"",scopedSlots:{customRender:"action"}}];return e}},created:function(){},methods:{callback:function(t){console.log(t)},getMeeting:function(){var t=this;this.search["page"]=this.page,this.request(s["a"].getPartyActivityList,this.search).then((function(e){console.log("res",e),t.list=e.list,t.pagination.total=e.count?e.count:0,t.pagination.pageSize=e.total_limit?e.total_limit:10}))},tableChange:function(t){t.current&&t.current>0&&(this.page=t.current,this.getMeeting())},cancel:function(){},handleOks:function(){this.getMeeting()},searchList:function(){console.log("search",this.search),this.getMeeting()},resetList:function(){console.log("search",this.search),console.log("search_data",this.search_data),this.search={key_val:"name",value:"",status:"",date:[],page:1},this.search_data=[],this.getMeeting()},deleteConfirm:function(t){var e=this;this.request(s["a"].delPartyActivity,{id:t}).then((function(t){e.getMeeting(),e.$message.success("删除成功")}))}}},l=o,u=(a("3ccb"),a("0b56")),d=Object(u["a"])(l,n,i,!1,null,null,null);e["default"]=d.exports}}]);