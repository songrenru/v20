(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e739c4e","chunk-1c37ed08","chunk-8edfacdc"],{"0c16":function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"bg-ff homePage"},[o("componentDesc",{attrs:{content:e.desc}}),o("div",{staticClass:"content"},[o("div",{staticClass:"subTitle"},[e._v(" "+e._s(e.L("选择一个页面作为X1主页",{X1:"store"==e.sourceInfo.source?"店铺":"商家"}))+" ")]),e.formData?o("div",{staticClass:"selectPage flex align-center justify-between"},[o("span",[e._v(e._s(e.formData.page_title||e.L("微页面")))]),o("span",[o("a-button",{attrs:{type:"link"},on:{click:function(t){return e.decorateOpt()}}},[e._v(e._s(e.L("装修")))]),o("a-button",{attrs:{type:"link"},on:{click:function(t){return e.indexSetOpt()}}},[e._v(e._s(e.L("更换")))])],1)]):o("div",{staticClass:"mt-20"},[o("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.tabChangeOpt()}}},[e._v(e._s(e.L("选择")))])],1)]),o("selectCustomPage",{ref:"selectCustomPage",on:{getIndexPageOpt:e.getIndexPageOpt}})],1)},n=[],a=o("a2f8"),i=o("da20"),c=o("9686"),r={components:{componentDesc:a["default"],selectCustomPage:i["default"]},data:function(){return{desc:"",descStore:{title:"店铺主页设置",desc:"主页是用户看到店铺的第一印象，你可以用店铺装修中的组件自由组合，搭建个性化的店铺主页。"},descMerchant:{title:"商家主页设置",desc:"主页是用户看到商家的第一印象，你可以用商家装修中的组件自由组合，搭建个性化的商家主页。"},formData:""}},computed:{sourceInfo:function(){return this.$store.state.customPage.sourceInfo}},mounted:function(){"store"==this.sourceInfo.source?this.desc=this.descStore:this.desc=this.descMerchant,this.getIndexPageOpt()},methods:{getIndexPageOpt:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o={source:this.sourceInfo.source,source_id:this.sourceInfo.source_id,from:2,id:t&&t.current&&t.current.id?t.current.id:""};this.request(c["a"].getIndexPage,o).then((function(t){t&&"[]"!=JSON.stringify(t)&&"{}"!=JSON.stringify(t)&&(e.formData={page_title:t.page_title||"",id:t.id||""})}))},decorateOpt:function(){this.$router.push({path:this.$store.state.customPage["".concat(this.sourceInfo.source,"CustomPage")],query:{source:this.sourceInfo.source,source_id:this.sourceInfo.source_id,pageId:this.formData.id}}),this.$store.dispatch("updatePageInfo",""),this.$store.dispatch("updateComponentId","customPageIndex")},indexSetOpt:function(){this.$refs.selectCustomPage.openModal({id:this.formData.id,sourceInfo:this.sourceInfo})},tabChangeOpt:function(){this.$store.dispatch("updateActiveKey","2")}}},d=r,u=(o("c587"),o("2877")),g=Object(u["a"])(d,s,n,!1,null,"72e55c35",null);t["default"]=g.exports},1050:function(e,t,o){},"2a269":function(e,t,o){"use strict";o("1050")},9686:function(e,t,o){"use strict";var s={getMicroPageList:"/common/common.DecoratePage/getMicroPageList",getpersonalDec:"/common/common.DecoratePage/getpersonalDec",delMicroPage:"/common/common.DecoratePage/delMicroPage",setHomePage:"/common/common.DecoratePage/setHomePage",addOrEditpersonalDec:"/common/common.DecoratePage/addOrEditpersonalDec",getNavBottomDec:"/common/common.DecoratePage/getNavBottomDec",addOrEditNavBottom:"/common/common.DecoratePage/addOrEditNavBottom",getSuspendedWindow:"/common/common.DecoratePage/getSuspendedWindow",addOrEditSuspendedWindow:"/common/common.DecoratePage/addOrEditSuspendedWindow",getIndexPage:"/common/common.DecoratePage/getIndexPage",getEditMicoPage:"/common/common.DecoratePage/getEditMicoPage",getCoupons:"/common/common.DecoratePage/getCoupons",getActInfo:"/common/common.DecoratePage/getActInfo",getMallActInfo:"/common/common.DecoratePage/getMallActInfo",getMallGoods:"/common/common.DecoratePage/getMallGoods",getMallGoodsGroup:"/common/common.DecoratePage/getMallGoodsGroup",getShopGoodsGroup:"/common/common.DecoratePage/getShopGoodsGroup",getShopGoods:"/common/common.DecoratePage/getShopGoods",addOrEditMicroPage:"/common/common.DecoratePage/addOrEditMicroPage",getMerchantStoreMsg:"/common/common.DecoratePage/getMerchantStoreMsg",getDiypageModel:"/common/platform.diypage/getDiypageModel",getDiypageDetail:"/common/platform.diypage/getDiypageDetail",getFeedCategoryList:"/common/platform.diypage/getFeedCategoryList",getSearchHotList:"/common/platform.diypage/getSearchHotList",saveDiypage:"/common/platform.diypage/saveDiypage",getMerchantCategoryChildList:"/common/platform.diypage/getMerchantCategoryChildList",getStoreList:"/common/common.DecoratePage/getStore"};t["a"]=s},a2f8:function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.content?o("div",{staticClass:"wrap",class:{borderNone:e.borderNone}},[o("div",{staticClass:"title"},[e._v(e._s(e.L(e.content.title)))]),o("div",{staticClass:"desc"},[e._v(e._s(e.L(e.content.desc)))])]):e._e()},n=[],a={props:{content:{type:[String,Object],default:""},borderNone:{type:Boolean,default:!1}}},i=a,c=(o("f0ca"),o("2877")),r=Object(c["a"])(i,s,n,!1,null,"9947987e",null);t["default"]=r.exports},c587:function(e,t,o){"use strict";o("d33e")},d33e:function(e,t,o){},d743:function(e,t,o){},da20:function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("a-modal",{attrs:{title:e.L("微页面"),visible:e.visible,destroyOnClose:!0,width:"60%",cancelText:e.L("取消"),okText:e.L("确定")},on:{ok:e.handleOk,cancel:e.handleCancel}},[o("a-row",{staticClass:"mb-20",attrs:{type:"flex",justify:"space-between"}},[o("a-col",[o("a-button",{staticClass:"mr-20",on:{click:function(t){return e.addCustomPageOpt()}}},[e._v(" "+e._s(e.L("新建")))]),o("a-button",{on:{click:function(t){return e.refreshOpt()}}},[e._v(" "+e._s(e.L("刷新")))])],1)],1),o("a-table",{attrs:{"row-selection":{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange,type:"radio"},columns:e.columns,rowKey:"id",scroll:{y:442},customRow:e.customRow,pagination:e.pagination,"data-source":e.dataList},scopedSlots:e._u([{key:"page_title",fn:function(t,s){return o("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){return t.stopPropagation(),e.previewOpt(s)}}},[e._v(" "+e._s(t)+" ")])}}])})],1)},n=[],a=(o("4de4"),o("d3b7"),o("9686")),i={props:{isCustomModule:{type:Boolean,default:!1}},data:function(){var e=this;return{visible:!1,dataList:[],selectedRowKeys:[],columns:[{title:this.L("标题"),dataIndex:"page_title",key:"page_title",scopedSlots:{customRender:"page_title"}},{title:this.L("创建时间"),dataIndex:"create_time",key:"create_time"}],pagination:{current:1,pageSize:10,total:0,"show-total":function(t){return!!t&&e.L("共 X1 条记录",{X1:t})},"show-size-changer":!0,"show-quick-jumper":!0,onChange:this.onPageChange,onShowSizeChange:this.onPageSizeChange},pageId:"",sourceInfo:""}},computed:{current:function(){var e=this,t="";return this.dataList.length&&this.selectedRowKeys.length&&(t=this.dataList.filter((function(t){if(t.id==e.selectedRowKeys[0])return t}))[0]||""),t}},methods:{openModal:function(e){this.pageId=e.id||"",this.pageId&&(this.selectedRowKeys=[this.pageId]),this.sourceInfo=e.sourceInfo||"",this.visible=!0,this.getCustomPageList()},getCustomPageList:function(){var e=this,t={source:this.sourceInfo.source,source_id:this.sourceInfo.source_id,keyword:"",page:this.pagination.current,pageSize:this.pagination.pageSize};this.request(a["a"].getMicroPageList,t).then((function(t){e.dataList=t.list||[],!e.selectedRowKeys.length&&e.dataList.length&&(e.selectedRowKeys=e.dataList[0].id?[e.dataList[0].id]:[]),e.$set(e.pagination,"total",t.total)}))},onPageChange:function(e,t){this.$set(this.pagination,"current",e),this.getCustomPageList()},onPageSizeChange:function(e,t){this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",t),this.getCustomPageList()},onSelectChange:function(e){console.log(e,"selectedRowKeys"),this.selectedRowKeys=e},customRow:function(e,t){var o=this;return{on:{click:function(t){o.selectedRowKeys=[e.id]}}}},handleOk:function(){var e=this;if(this.isCustomModule)return this.handleCancel(),void this.$emit("getIndexPageOpt",{current:this.current});var t={id:this.selectedRowKeys[0],source:this.sourceInfo.source,source_id:this.sourceInfo.source_id};this.request(a["a"].setHomePage,t).then((function(t){e.handleCancel()}))},handleCancel:function(){this.visible=!1,this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",10)},refreshOpt:function(){this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",10),this.getCustomPageList()},addCustomPageOpt:function(){var e=this.$store.state.customPage["".concat(this.sourceInfo.source,"CustomPage")],t=this.$router.resolve({path:e,query:{source:this.sourceInfo.source,source_id:this.sourceInfo.source_id}});window.open(t.href,"_blank")},previewOpt:function(e){var t=e.link_url||"";t&&window.open(t)}}},c=i,r=(o("2a269"),o("2877")),d=Object(r["a"])(c,s,n,!1,null,"fcb9b41a",null);t["default"]=d.exports},f0ca:function(e,t,o){"use strict";o("d743")}}]);