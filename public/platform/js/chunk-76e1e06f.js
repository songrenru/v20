(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76e1e06f"],{"735a":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:e.modelTitle,width:900,visible:e.visible,"confirm-loading":e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleSubCancel}},[a("a-form-model",{ref:"ruleForm",attrs:{model:e.labelForm,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("div",{staticClass:"add_black"},[a("a-form-model-item",{attrs:{label:"分组名称",prop:"cat_id"}},[a("a-select",{attrs:{"show-search":"",placeholder:"请选择分组名称","filter-option":e.filterOption,value:e.labelForm.cat_id},on:{change:function(t){return e.handleSelectChange(t,"cat_id")}}},e._l(e.cateList,(function(t,l){return a("a-select-option",{attrs:{value:t.cat_id}},[e._v(" "+e._s(t.cat_name)+" ")])})),1)],1),"remove"==e.label_type?a("a-form-model-item",{attrs:{label:"标签名称"}},[a("a-input",{attrs:{disabled:!0},model:{value:e.select_names_str,callback:function(t){e.select_names_str=t},expression:"select_names_str"}})],1):a("a-form-model-item",{attrs:{label:"标签名称",prop:"label_name"}},[a("a-input",{attrs:{placeholder:"请输入标签名称"},model:{value:e.labelForm.label_name,callback:function(t){e.$set(e.labelForm,"label_name",t)},expression:"labelForm.label_name"}})],1)],1)])],1)},n=[],i=a("a0e0"),r={props:{visible:{type:Boolean,default:!1},modelTitle:{type:String,default:""},label_type:{type:String,default:"add"},label_id:{type:String,default:""},cat_id:{type:String,default:""},select_keys:{type:Array,default:function(){return[]}},select_names:{type:Array,default:function(){return[]}},select_names_str:{type:String,default:""}},watch:{label_id:{immediate:!0,handler:function(e){"edit"==this.label_type&&this.getLabelInfo()}},cat_id:{immediate:!0,handler:function(e){}}},data:function(){return{confirmLoading:!1,labelCol:{span:4},wrapperCol:{span:14},labelForm:{cat_id:""},rules:{cat_id:[{required:!0,message:"请选择分组",trigger:"blur"}],label_name:[{required:!0,message:"请输入标签名称",trigger:"blur"}]},cateList:[]}},mounted:function(){this.getLabelCatList()},methods:{clearForm:function(){this.labelForm={cat_id:""}},getLabelInfo:function(){var e=this;e.label_id&&e.request(i["a"].getLabelInfo,{label_id:e.label_id}).then((function(t){e.labelForm=t,e.labelForm.label_id=t.id}))},getLabelCatList:function(){var e=this;e.request(i["a"].getLabelCatList,{}).then((function(t){e.cateList=t}))},handleSubmit:function(e){var t=this;t.confirmLoading=!0,t.$refs.ruleForm.validate((function(e){if(!e)return t.confirmLoading=!1,!1;var a=i["a"].addLabel;"edit"==t.label_type&&(a=i["a"].editLabel),"remove"==t.label_type&&(a=i["a"].moveLabel,t.labelForm.label_id=t.select_keys),t.request(a,t.labelForm).then((function(e){"edit"==t.label_type?t.$message.success("编辑成功！"):"add"==t.label_type?t.$message.success("添加成功！"):"remove"==t.label_type&&t.$message.success("移动成功！"),t.$emit("closeLabel",!0),t.clearForm(),t.confirmLoading=!1})).catch((function(e){t.confirmLoading=!1}))}))},handleSubCancel:function(e){this.confirmLoading=!1,this.$emit("closeLabel"),"remove"!=this.label_type&&(this.clearForm(),this.$refs.ruleForm.resetFields())},handleSelectChange:function(e,t){this.labelForm[t]=e,this.$forceUpdate()},filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0}}},o=r,s=(a("ce80"),a("2877")),c=Object(s["a"])(o,l,n,!1,null,"749796f3",null);t["default"]=c.exports},ce80:function(e,t,a){"use strict";a("f790")},f790:function(e,t,a){}}]);