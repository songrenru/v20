(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-772d7741","chunk-754b8236"],{"1a83":function(e,t,i){"use strict";var r={passwordEdit:"/community/house_meter.AdminUser/passwordEdit",adminUserList:"/community/house_meter.AdminUser/adminUserList",adminUserAdd:"/community/house_meter.AdminUser/adminUserAdd ",adminUserEdit:"/community/house_meter.AdminUser/adminUserEdit",adminUserInfo:"/community/house_meter.AdminUser/adminUserInfo",adminUserDelete:"/community/house_meter.AdminUser/adminUserDelete",areaList:"/community/house_meter.AdminUser/areaList",villageBindList:"/community/house_meter.Power/villageBindList",meterVillageAdd:"/community/house_meter.Power/meterVillageAdd",meterVillageAddll:"/community/house_meter.Power/meterVillageAddll",meterVillageDelete:"/community/house_meter.Power/meterVillageDelete",getVillageInfo:"/community/house_meter.Power/getVillageInfo",meterElectricList:"/community/house_meter.MeterElectric/meterElectricList",meterElectricInfo:"/community/house_meter.MeterElectric/meterElectricInfo",meterElectricAdd:"/community/house_meter.MeterElectric/meterElectricAdd",meterElectricEdit:"/community/house_meter.MeterElectric/meterElectricEdit",meterElectricDelete:"/community/house_meter.MeterElectric/meterElectricDelete",getMeasureList:"/community/house_meter.MeterElectric/getMeasureList",switch:"/community/house_meter.MeterElectric/switch",meterReading:"/community/house_meter.MeterElectric/now_reading_electric",meterElectricGroupList:"/community/house_meter.MeterElectricGroup/meterElectricGroupList",meterElectricGroupAdd:"/community/house_meter.MeterElectricGroup/meterElectricGroupAdd",meterElectricGroupEdit:"/community/house_meter.MeterElectricGroup/meterElectricGroupEdit",meterElectricGroupInfo:"/community/house_meter.MeterElectricGroup/meterElectricGroupInfo",meterElectricSetInfo:"/community/house_meter.MeterElectric/meterElectricSetInfo",meterElectricSetEdit:"/community/house_meter.MeterElectric/meterElectricSetEdit",MeterReadingList:"/community/house_meter.MeterElectric/getMeterReadingList",getAreaList:"/community/house_meter.MeterElectricPrice/getAreaList",getAreaPriceList:"/community/house_meter.MeterElectricPrice/getAreaPriceList",meterElectricPriceAdd:"/community/house_meter.MeterElectricPrice/meterElectricPriceAdd",meterElectricPriceEdit:"/community/house_meter.MeterElectricPrice/meterElectricPriceEdit",payorderList:"/community/house_meter.MeterUserPayorder/payorderList",payorderPrint:"/community/house_meter.MeterUserPayorder/payorderPrint",getAreasList:"/community/house_meter.MeterElectric/getAreaList",getCommunityList:"/community/house_meter.MeterElectric/getCommunityList",getVillageList:"/community/house_meter.MeterElectric/getVillageList",getSingleList:"/community/house_meter.MeterElectric/getSingleList",getFloorList:"/community/house_meter.MeterElectric/getFloorList",getLayerList:"/community/house_meter.MeterElectric/getLayerList",getVacancyList:"/community/house_meter.MeterElectric/getVacancyList",uploadFile:"/community/house_meter.MeterElectric/uploadFile",getTongjiCount:"/community/house_meter.DataStatistics/getTongjiCount",getEleWarnList:"/community/house_meter.DataStatistics/getEleWarnList",powerConsumptionAnalysis:"/community/house_meter.DataStatistics/powerConsumptionAnalysis",deviceManage:"/community/house_meter.DataStatistics/deviceManage",powerConsumptionFeeAnalysis:"/community/house_meter.DataStatistics/powerConsumptionFeeAnalysis",getTongjiCountByCity:"/community/house_meter.DataStatistics/getTongjiCountByCity"};t["a"]=r},"318f":function(e,t,i){},"5d70":function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a-modal",{attrs:{title:e.title,width:600,visible:e.visible,maskClosable:!1,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[i("a-spin",{attrs:{spinning:e.confirmLoading,height:800}},[i("a-form",{staticStyle:{"padding-left":"35px"},attrs:{form:e.form}},[i("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[i("a-col",{attrs:{span:10}},[i("span",{staticClass:"ant-form-item-required",staticStyle:{float:"left","margin-left":"35px","margin-right":"10px"}},[e._v("类目名称:")])]),i("a-col",{attrs:{span:14}},[i("a-input",{attrs:{placeholder:"请输入类目名称",disabled:e.disabled},model:{value:e.group.name,callback:function(t){e.$set(e.group,"name",t)},expression:"group.name"}})],1)],1),i("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[i("a-col",{attrs:{span:10}},[i("span",{staticClass:"ant-form-item-required",staticStyle:{float:"left","margin-left":"35px","margin-right":"10px"}},[e._v("背景色:")])]),i("a-col",{attrs:{span:11}},[i("a-input",{attrs:{placeholder:"请输入背景色"},model:{value:e.group.color,callback:function(t){e.$set(e.group,"color",t)},expression:"group.color"}})],1),i("a-col",{attrs:{span:1}}),i("a-col",{attrs:{span:2}},[i("colorPicker",{on:{change:e.headleChangeColor},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}})],1)],1),i("a-form-item",{attrs:{labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[i("a-col",{attrs:{span:10}},[i("span",{staticClass:"ant-form-item-required",staticStyle:{float:"left","margin-left":"35px","margin-right":"10px"}},[e._v("状态:")])]),i("a-col",{attrs:{span:14}},[i("a-radio-group",{model:{value:e.group.status,callback:function(t){e.$set(e.group,"status",t)},expression:"group.status"}},[i("a-radio",{attrs:{value:1}},[e._v(" 开启 ")]),i("a-radio",{attrs:{value:2}},[e._v(" 关闭 ")])],1)],1)],1)],1)],1)],1)},o=[],s=(i("b0c0"),i("a0e0")),a=i("a9f5"),c=i.n(a),n=i("8bbf"),l=i.n(n);l.a.use(c.a);var m={data:function(){return{title:"添加",labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},disabled:!1,value:null,color:"",visible:!1,confirmLoading:!1,form:this.$form.createForm(this),group:{id:0,name:"",color:"",status:1},id:0}},methods:{add:function(){this.title="添加",this.visible=!0,this.disabled=!1,this.group={id:0,name:"",color:"",status:1}},edit:function(e){this.visible=!0,this.id=e,this.getSubjectInfo(),console.log(this.id),this.id>0?this.title="编辑":this.title="添加"},getSubjectInfo:function(){var e=this;this.request(s["a"].getSubjectInfo,{id:this.id}).then((function(t){e.group.id=t.id,e.group.status=t.status,e.group.name=t.subject_name,e.group.color=t.color,e.color=t.color,1==t.flag?e.disabled=!0:e.disabled=!1,console.log("group",e.group)}))},headleChangeColor:function(e){console.log("color",e),this.group.color=e},handleSubmit1:function(){var e=this,t=this.form.validateFields;this.confirmLoading=!0,t((function(t,i){if(t)e.confirmLoading=!1;else{var r=s["a"].addSubject;e.group.id=e.id,e.group.id>0&&(r=s["a"].editSubject),e.group.name=i.group.name,e.group.status=i.group.status,e.group.color=i.group.color,e.request(r,e.group).then((function(t){e.group.id>0?e.$message.success("编辑成功"):e.$message.success("添加成功"),setTimeout((function(){e.form=e.$form.createForm(e),e.visible=!1,e.confirmLoading=!1,e.$emit("ok")}),1500)})).catch((function(t){e.confirmLoading=!1}))}}))},handleSubmit:function(){var e=this;this.confirmLoading=!0,this.id>0?(this.group.id=this.id,this.request(s["a"].editSubject,this.group).then((function(t){t?e.$message.success("编辑成功"):e.$message.success("编辑失败"),setTimeout((function(){e.form=e.$form.createForm(e),e.visible=!1,e.confirmLoading=!1,e.$emit("ok")}),1500)})).catch((function(t){e.confirmLoading=!1}))):this.request(s["a"].addSubject,this.group).then((function(t){t?e.$message.success("添加成功"):e.$message.success("添加失败"),setTimeout((function(){e.form=e.$form.createForm(e),e.visible=!1,e.confirmLoading=!1,e.$emit("ok")}),1500)})).catch((function(t){e.confirmLoading=!1}))},handleCancel:function(){var e=this;this.visible=!1,setTimeout((function(){e.id="0",e.form=e.$form.createForm(e)}),500)}}},u=m,d=(i("817e"),i("2877")),g=Object(d["a"])(u,r,o,!1,null,"056edb24",null);t["default"]=g.exports},"817e":function(e,t,i){"use strict";i("965c")},"965c":function(e,t,i){},b56d:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"package-list ant-pro-page-header-wrap-children-content",staticStyle:{margin:"24px 0 0"}},[i("a-card",{attrs:{bordered:!1}},[i("div",{staticClass:"table-operator"},[i("a-alert",{staticStyle:{"margin-top":"-10px","margin-bottom":"10px"},attrs:{message:"工单类目，即物业日常管理事务中涉及到业主提交工单的场景，例如报修、投诉建议等，物业可根据实际需要创建工单类目用以工单流转管理",type:"info"}}),i("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(t){return e.$refs.createModalsss.add()}}},[e._v("添加")])],1),i("a-table",{attrs:{columns:e.columns,"data-source":e.list,pagination:e.pagination,rowKey:"id"},on:{change:e.tableChange},scopedSlots:e._u([{key:"action",fn:function(t,r){return i("span",{},[i("a",{on:{click:function(t){return e.$refs.createModalsss.edit(r.id)}}},[e._v("编辑")]),1==r.status1?i("a-divider",{attrs:{type:"vertical"}}):e._e(),1==r.status1?i("router-link",{staticStyle:{color:"#1890ff"},attrs:{to:{name:"house_repaircategorylist_"+r.id}}},[e._v("管理")]):e._e()],1)}},{key:"status",fn:function(t,r){return i("span",{},[i("div",{class:"开启"===t?"txt-green":"txt-red"},[e._v(" "+e._s(t)+" ")])])}},{key:"name",fn:function(t){return[e._v(" "+e._s(t.first)+" "+e._s(t.last))]}}])})],1),i("group-info",{ref:"createModalsss",attrs:{height:800,width:1200},on:{ok:e.handleOks}})],1)},o=[],s=i("a0e0"),a=i("5d70"),c=(i("1a83"),[{title:"类目名称",dataIndex:"subject_name",key:"group_name"},{title:"状态",dataIndex:"status",key:"status",scopedSlots:{customRender:"status"}},{title:"操作",key:"action",dataIndex:"",scopedSlots:{customRender:"action"}}]),n={name:"repairSubjectList",components:{groupInfo:a["default"]},data:function(){return{list:[],sortedInfo:null,pagination:{pageSize:10,total:10},search:{page:1},page:1,search_data:[],id:0,columns:c}},mounted:function(){this.getSubjectList()},created:function(){},methods:{getSubjectList:function(){var e=this;this.request(s["a"].getSubjectList,{page:this.page}).then((function(t){console.log("res",t),e.list=t.list,e.pagination.total=t.count?t.count:0,e.pagination.pageSize=t.total_limit?t.total_limit:10}))},tableChange:function(e){e.current&&e.current>0&&(this.page=e.current,this.getSubjectList())},cancel:function(){},handleOks:function(){this.getSubjectList()}}},l=n,m=(i("d43b"),i("2877")),u=Object(m["a"])(l,r,o,!1,null,"16fb39e8",null);t["default"]=u.exports},d43b:function(e,t,i){"use strict";i("318f")}}]);