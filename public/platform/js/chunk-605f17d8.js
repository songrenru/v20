(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-605f17d8"],{"126e":function(e,a,t){"use strict";var r={regionalAgencyList:"/new_marketing/platform.RegionalAgency/regionalAgencyList",findArea:"/new_marketing/platform.RegionalAgency/findArea",findRight:"/new_marketing/platform.RegionalAgency/findRight",findRightEdit:"/new_marketing/platform.RegionalAgency/findRightEdit",addRegionalAgency:"/new_marketing/platform.RegionalAgency/addRegionalAgency",editRegionalAgency:"/new_marketing/platform.RegionalAgency/editRegionalAgency",saveRegionalAgency:"/new_marketing/platform.RegionalAgency/saveRegionalAgency",delRegionalAgency:"/new_marketing/platform.RegionalAgency/delRegionalAgency",reduceWin:"/new_marketing/platform.RegionalAgency/reduceWin",addReduce:"/new_marketing/platform.RegionalAgency/addReduce",getTeamList1:"/new_marketing/platform.RegionalAgency/getTeamList",updatePercent:"/new_marketing/platform.RegionalAgency/updatePercent",getMarketingArtisanList:"/new_marketing/platform.MarketingArtisan/getMarketingArtisanList",getMarketingArtisanCreate:"/new_marketing/platform.MarketingArtisan/getMarketingArtisanCreate",getMarketingArtisanInfo:"/new_marketing/platform.MarketingArtisan/getMarketingArtisanInfo",getMarketingArtisanDir:"/new_marketing/platform.MarketingArtisan/getMarketingArtisanDir",getDirectorList:"/new_marketing/platform.MarketingArtisan/getDirectorList",getMarketingArtisanDel:"/new_marketing/platform.MarketingArtisan/getMarketingArtisanDel",getMarketingDirectorList:"/new_marketing/platform.MarketingDirector/getMarketingDirectorList",getMarketingDirectorCreate:"/new_marketing/platform.MarketingDirector/getMarketingDirectorCreate",getMarketingDirectorInfo:"/new_marketing/platform.MarketingDirector/getMarketingDirectorInfo",getMarketingDirectorDel:"/new_marketing/platform.MarketingDirector/getMarketingDirectorDel",getMarketingDirectorRemove:"/new_marketing/platform.MarketingDirector/getMarketingDirectorRemove",getMarketingDirectorArtisan:"/new_marketing/platform.MarketingDirector/getMarketingDirectorArtisan",getManagerList:"/new_marketing/platform.ServiceManager/serviceManagerList",addManager:"/new_marketing/platform.ServiceManager/addServiceManager",editManager:"/new_marketing/platform.ServiceManager/saveServiceManager",delNoTeamManager:"/new_marketing/platform.ServiceManager/doDelManager",getTeamMemberList:"/new_marketing/platform.ServiceManager/getTeamPerson",upgradeManager:"/new_marketing/platform.ServiceManager/doUpLevel",deleteManager:"/new_marketing/platform.ServiceManager/doDelServiceManager",demoteManager:"/new_marketing/platform.ServiceManager/doDownLevel",getAreaList:"/new_marketing/platform.Region/regionList",getClassifyPriceList:"/new_marketing/platform.Region/classPriceList",saveAreaPriceForm:"/new_marketing/platform.Region/addRegion",saveClassifyPriceForm:"/new_marketing/platform.Region/addClassPrice",deleteAreaPriceForm:"/new_marketing/platform.Region/delRegion",getAreaMealList:"/new_marketing/platform.MarketingPackage/getAreaSearchList",saveAreaMealForm:"/new_marketing/platform.MarketingPackage/editAreaPost",saveAreaMealStatus:"/new_marketing/platform.MarketingPackage/setAreaStatus",getStoreTypeList:"/new_marketing/platform.MarketingPackage/getStoreTypeList",addMeal:"/new_marketing/platform.MarketingPackage/add",getMealList:"/new_marketing/platform.MarketingPackage/getSearchList",deleteMeal:"/new_marketing/platform.MarketingPackage/del",editMeal:"/new_marketing/platform.MarketingPackage/editPost",getCommissionSearchData:"/new_marketing/platform.MarketingPersonSettle/getSearchData",getCommissionList:"/new_marketing/platform.MarketingPersonSettle/getSearchList",teamManagementList:"/new_marketing/platform.TeamManagement/teamManagementList",teamPerformance:"/new_marketing/platform.TeamManagement/teamPerformance",serviceManagerList:"/new_marketing/platform.TeamManagement/serviceManagerList",serviceManagerNoList:"/new_marketing/platform.TeamManagement/serviceManagerNoList",regionalAgentList:"/new_marketing/platform.TeamManagement/regionalAgentList",artisanList:"/new_marketing/platform.TeamManagement/artisanList",teamManagementAdd:"/new_marketing/platform.TeamManagement/teamManagementAdd",teamManagementBasic:"/new_marketing/platform.TeamManagement/teamManagementBasic",teamManagementReplace:"/new_marketing/platform.TeamManagement/teamManagementReplace",teamManagementUpgrade:"/new_marketing/platform.TeamManagement/teamManagementUpgrade",teamBusinessList:"/new_marketing/platform.TeamManagement/teamBusinessList",teamManagementDel:"/new_marketing/platform.TeamManagement/teamManagementDel",teamManagementTransfer:"/new_marketing/platform.TeamManagement/teamManagementTransfer",teamManagementDiss:"/new_marketing/platform.TeamManagement/teamManagementDiss",teamMemberAdd:"/new_marketing/platform.TeamManagement/teamMemberAdd",teamManagementEdit:"/new_marketing/platform.TeamManagement/teamManagementEdit",teamMemberEdit:"/new_marketing/platform.TeamManagement/teamMemberEdit",teamMemberCode:"/new_marketing/platform.TeamManagement/teamMemberCode",teamManagementSavage:"/new_marketing/platform.TeamManagement/teamManagementSavage",teamManagementMerchantList:"/new_marketing/platform.TeamManagement/teamManagementMerchantList",teamManagementSavageDetail:"/new_marketing/platform.TeamManagement/teamManagementSavageDetail",getCommunityOrderDetail:"/new_marketing/platform.TeamManagement/getCommunityOrderDetail",positionReviewList:"/new_marketing/platform.PositionReview/positionReviewList",getTeamList:"/new_marketing/platform.PositionReview/getTeamList",reviewAgree:"/new_marketing/platform.PositionReview/reviewAgree",reviewDisagree:"/new_marketing/platform.PositionReview/reviewDisagree",getOrderList:"/new_marketing/platform.OrderInfo/orderList",getAreaUidByProvince:"/new_marketing/platform.OrderInfo/getAreaUidByProvince",getTeamIdByAreaUid:"/new_marketing/platform.OrderInfo/getTeamIdByAreaUid",getOrderDetail:"/new_marketing/platform.OrderInfo/getOrderInfo",teamManagementMerchantTransferList:"/new_marketing/platform.TeamManagement/teamManagementMerchantTransferList",teamManagementMerchantTransferCreate:"/new_marketing/platform.TeamManagement/teamManagementMerchantTransferCreate",getMerchantList:"/new_marketing/platform.Merchant/getMerchantList",getMerchantStoreList:"/new_marketing/platform.Merchant/getMerchantStoreList",teamMembeInfo:"/new_marketing/platform.TeamManagement/teamMembeInfo",getPropertyList:"/new_marketing/platform.MarketingProperty/getPropertyList",villageTransferBusiness:"/new_marketing/platform.MarketingProperty/transferBusiness",teamMerchantOrderList:"/new_marketing/platform.TeamManagement/teamMerchantOrderList",getHousePropertyList:"/new_marketing/platform.HouseProperty/getHousePropertyList",getHousePropertyDetail:"/new_marketing/platform.HouseProperty/getHousePropertyDetail"};a["a"]=r},"9a652":function(e,a,t){},"9f8f":function(e,a,t){"use strict";t("9a652")},d974:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("a-card",{attrs:{title:"业务经理列表",bordered:!1}},[t("a-form",{ref:"searchForm",staticStyle:{"margin-bottom":"30px"},attrs:{layout:"inline",form:e.searchInfo,labelCol:{span:4}}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{span:9}},[t("a-form-item",{staticStyle:{width:"100%"},attrs:{label:"业务经理："}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name"],expression:"['name']"}],staticStyle:{width:"300px"},attrs:{placeholder:"请输入姓名"}})],1)],1),t("a-col",{attrs:{span:9}},[t("a-form-item",{staticStyle:{width:"100%"},attrs:{label:"区域："}},[t("a-cascader",{directives:[{name:"decorator",rawName:"v-decorator",value:["area"],expression:"['area']"}],staticStyle:{width:"300px"},attrs:{options:e.areaList,placeholder:"请选择省市区"}})],1)],1),t("a-col",{staticStyle:{"text-align":"right"},attrs:{span:6}},[t("a-form-item",[t("a-button",{attrs:{type:"primary",htmlType:"submit"},on:{click:e.searchHandle}},[e._v("查询")])],1),t("a-form-item",[t("a-button",{on:{click:e.clearSearch}},[e._v("重置")])],1)],1)],1),t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{span:9}},[t("a-form-item",{staticStyle:{"margin-top":"20px",width:"100%"},attrs:{label:"区域代理"}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["uid"],expression:"['uid']"}],staticStyle:{width:"300px"},attrs:{placeholder:"请选择区域代理人"}},e._l(e.areaUser,(function(a){return t("a-select-option",{key:a.id},[e._v(e._s(a.name)+" ")])})),1)],1)],1),t("a-col",{attrs:{span:9}},[t("a-form-item",{staticStyle:{"margin-top":"20px",width:"100%"},attrs:{label:"添加时间"}},[t("a-range-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["time",{initialValue:e.searchInfo.time}],expression:"['time', { initialValue: searchInfo.time }]"}],staticStyle:{width:"300px"},attrs:{ranges:{"过去30天":[e.moment().subtract(30,"days"),e.moment()],"过去15天":[e.moment().subtract(15,"days"),e.moment()],"过去7天":[e.moment().subtract(7,"days"),e.moment()],"今日":[e.moment(),e.moment()]},format:"YYYY-MM-DD"}},[t("a-icon",{attrs:{slot:"suffixIcon",type:"calendar"},slot:"suffixIcon"})],1)],1)],1)],1)],1),t("a-button",{staticStyle:{height:"46px"},attrs:{type:"primary"},on:{click:e.addManager}},[e._v("添加业务经理")])],1),t("a-card",{attrs:{bordered:!1}},[t("a-table",{staticStyle:{"min-height":"700px"},attrs:{columns:e.columns,"data-source":e.managerList,rowKey:"id",pagination:e.pagination},scopedSlots:e._u([{key:"action",fn:function(a,r){return t("span",{},[[t("a",{attrs:{href:"javascript:;"},on:{click:function(a){return e.editManager(r)}}},[e._v("编辑")]),t("a-divider",{attrs:{type:"vertical"}})],[t("a-dropdown",[t("a",{staticClass:"ant-dropdown-link",on:{click:function(e){return e.preventDefault()}}},[e._v(" 更多 "),t("a-icon",{attrs:{type:"down"}})],1),t("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[t("a-menu-item",[t("a",{attrs:{href:"javascript:;"},on:{click:function(a){return e.upgradeManager(r)}}},[e._v("升级")])]),t("a-menu-item",[t("a",{attrs:{href:"javascript:;"},on:{click:function(a){return e.demoteManager(r)}}},[e._v("降级")])]),t("a-menu-item",[t("a",{attrs:{href:"javascript:;"},on:{click:function(a){return e.deleteManager(r)}}},[e._v("移除")])])],1)],1)]],2)}}])})],1),t("a-modal",{attrs:{title:e.isAdd?"添加业务经理":"编辑业务经理",width:640,visible:e.showEditManager},on:{cancel:function(a){return e.showHandle("showEditManager")}}},[t("a-form",{ref:"managerForm",attrs:{form:e.managerInfo,"label-col":{span:4,offset:3},"wrapper-col":{span:12}}},[t("a-form-item",{attrs:{label:"姓名"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{initialValue:e.managerInfo.name,rules:[{required:!0,message:"请输入姓名！"}]}],expression:"[\n            'name',\n            { initialValue: managerInfo.name, rules: [{ required: true, message: '请输入姓名！' }] },\n          ]"}],attrs:{placeholder:"请输入名称"}})],1),t("a-form-item",{attrs:{label:"绑定账号"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["uid",{initialValue:e.managerInfo.uid,rules:[{required:!0,message:"请输入手机号！"}]}],expression:"[\n            'uid',\n            { initialValue: managerInfo.uid, rules: [{ required: true, message: '请输入手机号！' }] },\n          ]"}],class:e.isAdd?"":"disabled-input",attrs:{disabled:!e.isAdd,placeholder:"请输入手机号"}})],1),e.isAdd?e._e():t("a-form-item",{attrs:{label:"成员邀请码"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["invitation_code",{initialValue:e.managerInfo.invitation_code}],expression:"['invitation_code', { initialValue: managerInfo.invitation_code }]"}],staticClass:"disabled-input",attrs:{type:"text",disabled:!0}})],1),t("a-form-item",{attrs:{label:e.isAdd?"选择区域":"区域"}},[t("a-cascader",{directives:[{name:"decorator",rawName:"v-decorator",value:["area",{initialValue:e.managerInfo.area}],expression:"['area', { initialValue: managerInfo.area }]"}],class:e.isAdd?"":"disabled-input area",attrs:{options:e.areaList,placeholder:"请选择省市区",disabled:!e.isAdd}})],1),t("a-form-item",{attrs:{label:"备注"}},[t("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["note",{initialValue:e.managerInfo.note}],expression:"['note', { initialValue: managerInfo.note }]"}],attrs:{placeholder:"请输入备注",autoSize:{minRows:3,maxRows:5}}})],1)],1),t("template",{slot:"footer"},[t("a-button",{on:{click:function(a){return e.showHandle("showEditManager")}}},[e._v("取消")]),t("a-button",{attrs:{htmlType:"submit",type:"primary"},on:{click:e.saveManagerInfo}},[e._v("确定")])],1)],2),t("a-modal",{attrs:{title:"升级至区域代理",width:640,destroyOnClose:!0,visible:e.showUpgrade},on:{cancel:function(a){return e.showHandle("showUpgrade")}}},[t("a-form",{ref:"upgradeForm",attrs:{form:e.upgradeInfo,"label-col":{span:6,offset:2},"wrapper-col":{span:12}}},[e.haveTeam?t("a-form-item",{attrs:{label:"选择业务接手成员",help:"业务经理当前业务商家需转移给当前团队成员"}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["person",{initialValue:e.upgradeInfo.person,rules:[{required:!0,message:"请选择业务接手成员！"}]}],expression:"[\n            'person',\n            { initialValue: upgradeInfo.person, rules: [{ required: true, message: '请选择业务接手成员！' }] },\n          ]"}],attrs:{placeholder:"请选择"}},e._l(e.memberList,(function(a){return t("a-select-option",{key:a.id},[e._v(e._s(a.name))])})),1)],1):e._e(),e.haveTeam?t("a-form-item",{attrs:{label:"选择业务经理",help:"须为此团队以及成员绑定新的业务经理"}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["manager",{initialValue:e.upgradeInfo.manager,rules:[{required:!0,message:"请选择业务经理！"}]}],expression:"[\n            'manager',\n            { initialValue: upgradeInfo.manager, rules: [{ required: true, message: '请选择业务经理！' }] },\n          ]"}],attrs:{placeholder:"请选择"}},e._l(e.noTeamManagerList,(function(a){return t("a-select-option",{key:a.id},[e._v(e._s(a.name))])})),1)],1):e._e(),t("a-form-item",{attrs:{label:"选择区域"}},[t("a-cascader",{directives:[{name:"decorator",rawName:"v-decorator",value:["area",{initialValue:e.upgradeInfo.area,rules:[{required:!0,message:"请选择区域！"}]}],expression:"[\n            'area',\n            { initialValue: upgradeInfo.area, rules: [{ required: true, message: '请选择区域！' }] },\n          ]"}],attrs:{options:e.areaList,placeholder:"请选择省市区"}})],1),t("a-form-item",{attrs:{label:"店铺业务抽成比例",help:"不填写则代表无提成，即为0"}},[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["store_percent",{initialValue:e.upgradeInfo.store_percent}],expression:"['store_percent', { initialValue: upgradeInfo.store_percent }]"}],attrs:{id:"inputNumber",min:0,max:100}}),t("span",{staticStyle:{"margin-left":"5px"}},[e._v("%")])],1),t("a-form-item",{attrs:{label:"社区业务抽成比例",help:"不填写则代表无提成，即为0"}},[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["village_percent",{initialValue:e.upgradeInfo.village_percent}],expression:"['village_percent', { initialValue: upgradeInfo.village_percent }]"}],attrs:{id:"inputNumber",min:0,max:100}}),t("span",{staticStyle:{"margin-left":"5px"}},[e._v("%")])],1)],1),t("template",{slot:"footer"},[t("a-button",{on:{click:function(a){return e.showHandle("showUpgrade")}}},[e._v("取消")]),t("a-button",{attrs:{htmlType:"submit",type:"primary"},on:{click:e.saveUpgradeInfo}},[e._v("确定")])],1)],2),t("a-modal",{attrs:{title:"移除",width:640,destroyOnClose:!0,visible:e.showDelete},on:{cancel:function(a){return e.showHandle("showDelete")}}},[t("a-form",{ref:"deleteForm",attrs:{form:e.deleteInfo,"label-col":{span:6,offset:3},"wrapper-col":{span:12}}},[t("a-form-model-item",{attrs:{label:"选择业务接手成员",help:"业务经理当前业务商家需转移给当前团队成员"}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["person",{initialValue:e.deleteInfo.person,rules:[{required:!0,message:"请选择业务接手成员！"}]}],expression:"[\n            'person',\n            { initialValue: deleteInfo.person, rules: [{ required: true, message: '请选择业务接手成员！' }] },\n          ]"}],attrs:{placeholder:"请选择"}},e._l(e.memberList,(function(a){return t("a-select-option",{key:a.id},[e._v(e._s(a.name))])})),1)],1),t("a-form-model-item",{attrs:{label:"选择业务经理",help:"须为此团队以及成员绑定新的业务经理"}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["manager",{initialValue:e.deleteInfo.manager,rules:[{required:!0,message:"请选择业务经理！"}]}],expression:"[\n            'manager',\n            { initialValue: deleteInfo.manager, rules: [{ required: true, message: '请选择业务经理！' }] },\n          ]"}],attrs:{placeholder:"请选择"}},e._l(e.noTeamManagerList,(function(a){return t("a-select-option",{key:a.id},[e._v(e._s(a.name))])})),1)],1)],1),t("template",{slot:"footer"},[t("a-button",{on:{click:function(a){return e.showHandle("showDelete")}}},[e._v("取消")]),t("a-button",{attrs:{htmlType:"submit",type:"primary"},on:{click:e.saveDeleteInfo}},[e._v("确定")])],1)],2),t("a-modal",{attrs:{title:"降级至业务员",width:640,destroyOnClose:!0,visible:e.showDemote},on:{cancel:function(a){return e.showHandle("showDemote")}}},[t("a-form",{ref:"demoteForm",attrs:{form:e.demoteInfo,"label-col":{span:6,offset:1},"wrapper-col":{span:12}}},[e.haveTeam?t("a-form-model-item",{attrs:{label:"选择业务经理",help:"该团队下有成员，需为团队选择新业务经理"}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["manager_id",{initialValue:e.demoteInfo.manager_id,rules:[{required:!0,message:"请选择业务经理！"}]}],expression:"[\n            'manager_id',\n            { initialValue: demoteInfo.manager_id, rules: [{ required: true, message: '请选择业务经理！' }] },\n          ]"}],attrs:{placeholder:"请选择"}},e._l(e.noTeamManagerList,(function(a){return t("a-select-option",{key:a.id},[e._v(e._s(a.name))])})),1)],1):e._e(),t("a-form-model-item",{attrs:{label:"选择团队",help:"降级为业务员后 将归属该团队"}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["team_id",{initialValue:e.demoteInfo.team_id,rules:[{required:!0,message:"请选择团队！"}]}],expression:"[\n            'team_id',\n            { initialValue: demoteInfo.team_id, rules: [{ required: true, message: '请选择团队！' }] },\n          ]"}],attrs:{placeholder:"请选择"}},e._l(e.teamList,(function(a){return t("a-select-option",{key:a.id},[e._v(e._s(a.name))])})),1)],1)],1),t("template",{slot:"footer"},[t("a-button",{on:{click:function(a){return e.showHandle("showDemote")}}},[e._v("取消")]),t("a-button",{attrs:{htmlType:"submit",type:"primary"},on:{click:e.saveDemoteInfo}},[e._v("确定")])],1)],2)],1)},n=[],i=t("5530"),o=(t("b0c0"),t("c1df")),s=t.n(o),m=t("126e"),l={name:"MarketingArtisanList",components:{},data:function(){return{columns:[{title:"姓名",dataIndex:"manager_name",align:"center"},{title:"归属团队名",dataIndex:"name",align:"center"},{title:"团队人数",dataIndex:"team_count",align:"center"},{title:"区域代理",dataIndex:"area_name",align:"center"},{title:"团队总业绩",dataIndex:"total_performance",align:"center"},{title:"添加时间",dataIndex:"add_time",align:"center"},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},align:"center"}],pagination:{current:1,total:0,pageSize:10,showSizeChanger:!0,onChange:this.onPageChange,onShowSizeChange:this.onPageSizeChange,showTotal:function(e){return"共 ".concat(e," 条记录")}},areaList:[],searchArea:[],showEditManager:!1,isAdd:!0,managerInfo:this.$form.createForm(this,{name:"managerForm"}),managerList:[],showUpgrade:!1,upgradeInfo:this.$form.createForm(this,{name:"upgradeForm"}),managerId:"",haveTeam:!1,noTeamManagerList:[],memberList:[],showDelete:!1,deleteInfo:this.$form.createForm(this,{name:"deleteForm"}),showDemote:!1,demoteInfo:this.$form.createForm(this,{name:"demoteForm"}),teamList:[],searchInfo:this.$form.createForm(this,{name:"searchForm"}),areaUser:[]}},watch:{$route:function(){"/new_marketing/platform/ManagerList"==this.$route.path&&this.getList()}},created:function(){this.getList()},mounted:function(){},methods:{moment:s.a,searchHandle:function(e){var a=this;e.preventDefault(),this.searchInfo.validateFields((function(e,t){if(e)console.log("搜索错误",e);else{var r={};t.area&&t.area.length>0&&(r.province_id=t.area[0]||"",r.city_id=t.area[1]||"",r.area_id=t.area[2]||""),t.time&&t.time.length>0&&(r.start_time=t.time[0].format("YYYY-MM-DD"),r.end_time=t.time[1].format("YYYY-MM-DD")),r.uid=t.uid||"",r.name=t.name||"",a.getList(!0,r)}}))},clearSearch:function(){this.searchInfo.resetFields(),this.getList(!0)},demoteManager:function(e){this.managerId=e.id,this.showDemote=!0,this.haveTeam="-"!==e.team_id},saveDemoteInfo:function(e){var a=this;e.preventDefault(),this.demoteInfo.validateFields((function(e,t){if(e)for(var r in console.log("submit!",e),e){a.$message.error(e[r].errors[0].message);break}else t.type=a.haveTeam?1:0,t.id=a.managerId,a.request(m["a"].demoteManager,t).then((function(e){a.$message.success("降级成功！",1),a.showDemote=!1,a.getList()}))}))},upgradeManager:function(e){this.getMemberList(e.id),this.showUpgrade=!0,this.managerId=e.id,this.haveTeam="-"!==e.team_id},saveUpgradeInfo:function(e){var a=this;e.preventDefault(),this.upgradeInfo.validateFields((function(e,t){if(e)for(var r in console.log("submit!",e),e){a.$message.error(e[r].errors[0].message);break}else t.province_id=t.area[0]||"",t.city_id=t.area[1]||"",t.area_id=t.area[2]||"",t.type=a.haveTeam?1:0,t.id=a.managerId,a.request(m["a"].upgradeManager,t).then((function(e){a.$message.success("升级成功！",1),a.showUpgrade=!1,a.getList()}))}))},deleteManager:function(e){var a=this;"-"===e.team_id?this.$confirm({title:"你确定要移除该业务经理吗？",icon:function(e){return e("a-icon",{props:{type:"close-circle",theme:"filled"},style:{color:"#f50f50"}})},onOk:function(){a.request(m["a"].delNoTeamManager,{id:e.id}).then((function(e){a.$message.success("移除成功！",1),a.getList()}))}}):(this.managerId=e.id,this.showDelete=!0,this.getMemberList(e.id))},saveDeleteInfo:function(e){var a=this;e.preventDefault(),this.deleteInfo.validateFields((function(e,t){if(e)for(var r in console.log("submit!",e),e){a.$message.error(e[r].errors[0].message);break}else t.id=a.managerId,a.request(m["a"].deleteManager,t).then((function(e){a.$message.success("移除成功！",1),a.showDelete=!1,a.getList()}))}))},addManager:function(){var e=this;this.isAdd=!0,this.showEditManager=!0,this.$nextTick((function(){e.managerInfo.setFieldsValue({name:"",uid:"",note:"",area:[]})}))},editManager:function(e){var a=this;this.isAdd=!1,this.showEditManager=!0,this.managerId=e.id,this.$nextTick((function(){var t=[];t[0]=e.province_id,t[1]=e.city_id||"",t[2]=e.area_id||"",a.managerInfo.setFieldsValue({name:e.manager_name,uid:e.phone,note:e.note||"",area:t,invitation_code:e.invitation_code})}))},editSaveManagerInfo:function(e){var a=this;console.log("提交编辑信息",e),e.id=this.managerId,this.request(m["a"].editManager,e).then((function(e){a.$message.success("编辑成功！",1),a.showEditManager=!1,a.getList()}))},saveManagerInfo:function(e){var a=this;e.preventDefault(),this.managerInfo.validateFields((function(e,t){if(e)for(var r in e){a.$message.error(e[r].errors[0].message);break}else{if(!a.isAdd)return void a.editSaveManagerInfo(t);t.province_id=t.area[0]||"",t.city_id=t.area[1]||"",t.area_id=t.area[2]||"",a.request(m["a"].addManager,t).then((function(e){a.$message.success("添加成功！",1),a.showEditManager=!1,a.getList()}))}}))},showHandle:function(e){this[e]=!this[e]},changeSearchArea:function(e){this.searchArea=[e[0],e[1],e[2]]},getList:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;a&&this.$set(this.pagination,"current",1);var r=Object(i["a"])({page:this.pagination.current,pageSize:this.pagination.pageSize},t);this.request(m["a"].getManagerList,r).then((function(a){e.areaList=a.areaList,e.areaUser=a.area_user,e.managerList=a.list.data||[],e.noTeamManagerList=a.manager_list,e.teamList=a.team_list,e.$set(e.pagination,"total",a.list.total||0)}))},onPageChange:function(e,a){this.$set(this.pagination,"current",e),this.getList()},onPageSizeChange:function(e,a){this.$set(this.pagination,"pageSize",a),this.$set(this.pagination,"current",1),this.getList()},getMemberList:function(e){var a=this;this.request(m["a"].getTeamMemberList,{id:e}).then((function(e){a.memberList=e.person}))}}},g=l,c=(t("9f8f"),t("2877")),d=Object(c["a"])(g,r,n,!1,null,"f18da52a",null);a["default"]=d.exports}}]);