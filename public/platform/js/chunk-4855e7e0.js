(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4855e7e0","chunk-4ea0f798","chunk-bb5902fc"],{"07ca":function(t,e,a){"use strict";var i={getCommentList:"/grow_grass/platform.GrowGrassArticleReply/getCommentList",updateGrowGrassArticleReply:"/grow_grass/platform.GrowGrassArticleReply/updateGrowGrassArticleReply",getCategoryList:"/grow_grass/api.Category/getCategoryList",getCategoryEdit:"/grow_grass/api.Category/getCategoryEdit",getCategoryDetail:"/grow_grass/api.Category/getCategoryDetail",getCategoryDel:"/grow_grass/api.Category/getCategoryDel",getCategorySort:"/grow_grass/api.Category/getCategorySort",getCategoryClass:"/grow_grass/api.Category/getCategoryClass",getArticleLists:"/grow_grass/api.Article/getArticleLists",getEditArticle:"/grow_grass/api.Article/getEditArticle",getArticleDetails:"/grow_grass/api.Article/getArticleDetails",getArticleCategoryDetails:"/grow_grass/api.Article/getArticleCategoryDetails",getArticle:"/grow_grass/api.Article/getArticleEditInfo"};e["a"]=i},"0ea4":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{title:t.title,width:810,height:640,visible:t.visible,footer:null},on:{cancel:t.handleCancel}},[a("div",[a("a-row",{staticClass:"mb-20"},[a("a-col",{attrs:{span:1}}),a("a-col",{attrs:{span:21}},[a("span",[t._v(" "+t._s(t.detail.name))])])],1),a("a-row",{staticClass:"mb-20"},[a("a-col",{attrs:{span:1}}),a("a-col",{attrs:{span:22}},[a("viewer",{attrs:{images:t.detail.img}},t._l(t.detail.img,(function(t,e){return a("img",{key:e,attrs:{src:t}})})),0)],1)],1),a("a-row",{staticClass:"mb-20"},[a("a-col",{attrs:{span:1}}),a("a-col",{attrs:{span:21}},[a("span",[t._v(" "+t._s(t.detail.description))])])],1)],1)])},s=[],n=a("07ca"),r=(a("0808"),a("6944")),o=a.n(r),c=a("8bbf"),l=a.n(c),d=a("d6d3");a("fda2");l.a.use(o.a);var u={components:{videoPlayer:d["videoPlayer"]},data:function(){return{title:"话题内容",visible:!1,rpl_id:0,detail:{name:"",description:"",img:[]}}},methods:{showCategory:function(t){var e=this;this.visible=!0,this.id=t,this.request(n["a"].getArticleCategoryDetails,{id:this.id}).then((function(t){e.detail=t,console.log(e.detail)}))},handleCancel:function(){this.detail.reply_mv_nums=2,this.visible=!1}}},g=u,m=(a("eb96"),a("2877")),p=Object(m["a"])(g,i,s,!1,null,"5bd666e6",null);e["default"]=p.exports},3371:function(t,e,a){"use strict";a("f0b3")},3872:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{title:t.title,width:810,height:640,visible:t.visible,footer:null},on:{cancel:t.handleCancel}},[a("div",[a("a-row",{staticClass:"mb-20"},[a("a-col",{attrs:{span:1}}),a("a-col",{attrs:{span:21}},[a("span",[t._v(" "+t._s(t.detail.name))])])],1),t.detail.img?a("a-row",{staticClass:"mb-20"},[a("a-col",{attrs:{span:1}}),a("a-col",{attrs:{span:22}},[a("viewer",{attrs:{images:t.detail.img}},t._l(t.detail.img,(function(t,e){return a("img",{key:e,attrs:{src:t}})})),0)],1)],1):t._e(),t.detail.video_url?a("a-row",{staticClass:"mb-20"},[a("a-col",{attrs:{span:1}}),a("a-col",{attrs:{span:22}},[a("video-player",{ref:"videoPlayer",staticClass:"video-player vjs-custom-skin",attrs:{playsinline:!0,options:t.playerOptions}})],1)],1):t._e(),a("a-row",{staticClass:"mb-20"},[a("a-col",{attrs:{span:1}}),a("a-col",{attrs:{span:21}},[a("span",[t._v(" "+t._s(t.detail.content))])])],1)],1)])},s=[],n=a("07ca"),r=(a("0808"),a("6944")),o=a.n(r),c=a("8bbf"),l=a.n(c),d=a("d6d3");a("fda2");l.a.use(o.a);var u={components:{videoPlayer:d["videoPlayer"]},data:function(){return{title:"文章内容",visible:!1,rpl_id:0,detail:{name:"",content:"",img:[],video_img:"",video_url:""},playerOptions:{playbackRates:[.5,1,1.5,2],autoplay:!1,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{type:"video/mp4",src:""}],poster:"",notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}}}},methods:{showArticle:function(t){var e=this;this.visible=!0,this.id=t,this.request(n["a"].getArticleDetails,{id:this.id}).then((function(t){e.detail=t,e.playerOptions.sources[0]["src"]=t.video_url,e.playerOptions.poster=t.video_img,console.log(e.detail)}))},handleCancel:function(){this.detail.reply_mv_nums=2,this.visible=!1}}},g=u,m=(a("6b65"),a("2877")),p=Object(m["a"])(g,i,s,!1,null,"43e9e06b",null);e["default"]=p.exports},"451f":function(t,e,a){},"5dbc":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-10 mb-20 pt-20 pl-20 pr-20 pb-20 bg-ff br-10"},[a("div",{staticStyle:{width:"100%","padding-bottom":"30px"}},[a("div",{staticStyle:{float:"left","font-size":"26px"}},[t._v("发布管理")]),a("a-form-model",{staticStyle:{"text-align":"right"},attrs:{layout:"inline",model:t.searchForm}},[a("a-form-model-item",[a("a-select",{staticStyle:{width:"115px"},model:{value:t.searchForm.category_id,callback:function(e){t.$set(t.searchForm,"category_id",e)},expression:"searchForm.category_id"}},t._l(t.categoryList,(function(e){return a("a-select-option",{key:e.category_id,attrs:{category_id:e.category_id}},[t._v(t._s(e.name)+" ")])})),1)],1),a("a-form-model-item",[a("a-select",{staticStyle:{width:"115px"},model:{value:t.searchForm.store_id,callback:function(e){t.$set(t.searchForm,"store_id",e)},expression:"searchForm.store_id"}},t._l(t.storeList,(function(e){return a("a-select-option",{key:e.store_id,attrs:{store_id:e.store_id}},[t._v(t._s(e.name)+" ")])})),1)],1),a("a-form-model-item",[a("a-select",{staticStyle:{width:"115px"},model:{value:t.searchForm.status,callback:function(e){t.$set(t.searchForm,"status",e)},expression:"searchForm.status"}},[a("a-select-option",{attrs:{value:-1}},[t._v(" 发布状态")]),a("a-select-option",{attrs:{value:10}},[t._v(" 待审核")]),a("a-select-option",{attrs:{value:20}},[t._v(" 发布中")]),a("a-select-option",{attrs:{value:30}},[t._v(" 未发布")])],1)],1),a("a-form-model-item",{attrs:{label:""}},[a("a-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入关键字"},model:{value:t.searchForm.name,callback:function(e){t.$set(t.searchForm,"name",e)},expression:"searchForm.name"}})],1),a("a-form-model-item",[a("a-button",{staticClass:"ml-20",attrs:{type:"primary",icon:"search"},on:{click:function(e){return t.submitForm(!0)}}},[t._v(" 查询")])],1)],1)],1),a("div",[a("a-tabs",{attrs:{"default-active-key":"0"},on:{change:t.statusChange}},[a("a-tab-pane",{key:"0",attrs:{tab:"全部"}}),a("a-tab-pane",{key:"1",attrs:{tab:"待审核"}}),a("a-tab-pane",{key:"2",attrs:{tab:"已发布"}}),a("a-tab-pane",{key:"3",attrs:{tab:"未发布"}})],1)],1),a("a-table",{attrs:{rowKey:"article_id",columns:t.columns,"data-source":t.dataList,pagination:t.pagination},scopedSlots:t._u([{key:"status",fn:function(e){return a("span",{},[10==e?a("a-badge",{attrs:{status:"default",text:"待审核"}}):t._e(),20==e?a("a-badge",{attrs:{status:"success",text:"发布中"}}):t._e(),30==e?a("a-badge",{attrs:{status:"success",text:"未发布"}}):t._e()],1)}},{key:"name",fn:function(e){return a("span",{},[a("a",{staticClass:"ml-10 inline-block",on:{click:function(a){return t.$refs.articleModel.showArticle(e.id)}}},[t._v(t._s(e.name))])])}},{key:"category_name",fn:function(e){return a("span",{},[a("a",{staticClass:"ml-10 inline-block",on:{click:function(a){return t.$refs.categoryModel.showCategory(e.id)}}},[t._v(t._s(e.name))])])}},{key:"action",fn:function(e){return a("span",{},[10==e.status?a("a",{staticClass:"ml-10 inline-block",on:{click:function(a){return t.articleRelease(e.id)}}},[t._v("发布")]):t._e(),10==e.status?a("a",{staticClass:"ml-10 inline-block",on:{click:function(a){return t.articleNoRelease(e.id)}}},[t._v("不予发布")]):t._e(),30==e.status?a("a",{staticClass:"ml-10 inline-block",on:{click:function(a){return t.articleRelease(e.id)}}},[t._v("发布")]):t._e(),20==e.status?a("a",{staticClass:"ml-10 inline-block",on:{click:function(a){return t.articleNoRelease(e.id)}}},[t._v("不予发布")]):t._e(),a("a",{staticClass:"ml-10 inline-block",on:{click:function(a){return t.articleDel(e.id)}}},[t._v("删除")])])}}])}),a("article-detail",{ref:"articleModel",on:{loadRefresh:t.getDataList}}),a("article-category-detail",{ref:"categoryModel",on:{loadRefresh:t.getDataList}})],1)},s=[],n=a("5530"),r=a("c1df"),o=a.n(r),c=a("3872"),l=a("0ea4"),d=a("07ca"),u=(a("0808"),a("6944")),g=a.n(u),m=a("8bbf"),p=a.n(m),h=a("d6d3");a("fda2"),a("451f");p.a.use(g.a);var _={name:"CorrList",components:{ArticleDetail:c["default"],ArticleCategoryDetail:l["default"],videoPlayer:h["videoPlayer"]},data:function(){return{categoryList:[],storeList:[],searchForm:{name:"",store_id:"-1",category_id:"-1",status:-1},store_list:[],columns:[{title:"发布标题",dataIndex:"id_name",key:"id_name",scopedSlots:{customRender:"name"}},{title:"发布人",dataIndex:"user_name",key:"user_name"},{title:"关联话题",dataIndex:"category_id_name",key:"category_id_name",scopedSlots:{customRender:"category_name"}},{title:"关联店铺",dataIndex:"store_name",scopedSlots:{customRender:"store_name"}},{title:"关联商品",dataIndex:"goods_name",scopedSlots:{customRender:"goods_name"}},{title:"查看数",dataIndex:"views_num",scopedSlots:{customRender:"views_num"}},{title:"评论数",dataIndex:"reply_num",scopedSlots:{customRender:"reply_num"}},{title:"发布时间",dataIndex:"publish_time",key:"publish_time"},{title:"发布状态",dataIndex:"status",key:"status",scopedSlots:{customRender:"status"}},{title:"操作",dataIndex:"actions",key:"actions",scopedSlots:{customRender:"action"}}],dataList:[],pagination:{current:1,total:0,type:0,pageSize:10,showSizeChanger:!0,onChange:this.onPageChange,onShowSizeChange:this.onPageSizeChange,showTotal:function(t){return"共 ".concat(t," 条记录")}}}},created:function(){this.getDataList({is_search:!1})},methods:{moment:o.a,getDataList:function(t){var e=this,a=Object(n["a"])({},this.searchForm);delete a.time,1==t.is_search?(a.page=1,this.$set(this.pagination,"current",1)):(a.page=this.pagination.current,this.$set(this.pagination,"current",this.pagination.current)),this.pagination.type?a.type=this.pagination.type:a.type=0,this.pagination.total>0&&Math.ceil(this.pagination.total/this.pagination.pageSize)<a.page&&(this.pagination.current=0,a.page=1),1==t.is_page&&(a.page=1),a.pageSize=this.pagination.pageSize,this.request(d["a"].getArticleLists,a).then((function(a){e.dataList=a.list,e.categoryList=a.categoryList,e.storeList=a.storeList,1==t.is_del&&0==a.list_count&&(e.getDataList({is_search:!1,is_page:!0}),e.pagination.current=1),e.$set(e.pagination,"total",a.count)}))},statusChange:function(t){this.pagination.type=t,this.getDataList({is_search:!1,type:t})},onDateRangeChange:function(t,e){this.$set(this.searchForm,"time",[t[0],t[1]]),this.$set(this.searchForm,"begin_time",e[0]),this.$set(this.searchForm,"end_time",e[1])},submitForm:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=Object(n["a"])({},this.searchForm);delete e.time,e.is_search=t,this.getDataList(e)},onPageChange:function(t,e){this.$set(this.pagination,"current",t),this.submitForm()},onPageSizeChange:function(t,e){this.$set(this.pagination,"pageSize",e),this.submitForm()},resetForm:function(){this.$set(this,"searchForm",{content:"",begin_time:"",end_time:"",type:1,status:2}),this.$set(this.pagination,"current",1),this.getDataList({store_id:this.store_id,is_search:!1})},showArticle:function(){},showCategory:function(){},articleRelease:function(t){var e=this;this.$confirm({title:"是否标记为发布?",centered:!0,onOk:function(){e.request(d["a"].getEditArticle,{id:t,type:1}).then((function(t){e.$message.success("操作成功！"),e.getDataList({is_search:!1})}))},onCancel:function(){}})},articleNoRelease:function(t){var e=this;this.$confirm({title:"是否标记为不予发布?",centered:!0,onOk:function(){e.request(d["a"].getEditArticle,{id:t,type:2}).then((function(t){e.$message.success("操作成功！"),e.getDataList({is_search:!1})}))},onCancel:function(){}})},articleDel:function(t){var e=this;this.$confirm({title:"是否删除?",centered:!0,onOk:function(){e.request(d["a"].getEditArticle,{id:t,type:3}).then((function(t){e.$message.success("操作成功！"),e.getDataList({is_search:!1,is_del:!0})}))},onCancel:function(){}})}}},f=_,y=(a("3371"),a("2877")),v=Object(y["a"])(f,i,s,!1,null,"10502136",null);e["default"]=v.exports},6178:function(t,e,a){},"6b65":function(t,e,a){"use strict";a("6178")},b809f:function(t,e,a){},eb96:function(t,e,a){"use strict";a("b809f")},f0b3:function(t,e,a){}}]);