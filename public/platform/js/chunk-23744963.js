(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23744963"],{"026b":function(t,e){var n="\\ud800-\\udfff",i="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",u="\\u20d0-\\u20ff",s=i+a+u,o="\\ufe0e\\ufe0f",r="\\u200d",c=RegExp("["+r+n+s+o+"]");function l(t){return c.test(t)}t.exports=l},"086e":function(t,e){var n="\\ud800-\\udfff",i="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",u="\\u20d0-\\u20ff",s=i+a+u,o="\\ufe0e\\ufe0f",r="["+n+"]",c="["+s+"]",l="\\ud83c[\\udffb-\\udfff]",f="(?:"+c+"|"+l+")",p="[^"+n+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",m=f+"?",b="["+o+"]?",A="(?:"+v+"(?:"+[p,d,h].join("|")+")"+b+m+")*",g=b+m+A,y="(?:"+[p+c+"?",c,d,h,r].join("|")+")",C=RegExp(l+"(?="+l+")|"+y+g,"g");function O(t){var e=C.lastIndex=0;while(C.test(t))++e;return e}t.exports=O},"0b99":function(t,e){t.exports="data:image/png;base64,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"},2297:function(t,e,n){var i=n("30fc0"),a=n("282f"),u=n("f0b8"),s=n("700f");function o(t,e,n){t=s(t),e=u(e);var o=e?a(t):0;return e&&o<e?i(e-o,n)+t:t}t.exports=o},"24c0":function(t,e,n){},"282f":function(t,e,n){var i=n("ccf3"),a=n("026b"),u=n("086e");function s(t){return a(t)?u(t):i(t)}t.exports=s},"2bbb":function(t,e,n){var i=n("30fc0"),a=n("282f"),u=n("f0b8"),s=n("700f");function o(t,e,n){t=s(t),e=u(e);var o=e?a(t):0;return e&&o<e?t+i(e-o,n):t}t.exports=o},"30fc0":function(t,e,n){var i=n("9b3c"),a=n("5eff"),u=n("9d34"),s=n("026b"),o=n("282f"),r=n("ff8d"),c=Math.ceil;function l(t,e){e=void 0===e?" ":a(e);var n=e.length;if(n<2)return n?i(e,t):e;var l=i(e,c(t/o(e)));return s(e)?u(r(l),0,t).join(""):l.slice(0,t)}t.exports=l},"597a8":function(t,e,n){"use strict";n("cd813")},"5b14":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAABECAYAAAA4E5OyAAAHcUlEQVR4nN2caWwUZRjHf9vTlh60FKT2tO0CQgvYAl4cUYwBvCOCkXglavCWGsUU/KBSo0aRaKLG+/wg4gcFLd5BwaiUSxpAqGirUgUpUBAotNQ8wzu43aOdmX1naPtPJrszu/Mc/333eY/nmdfnr1mMB/ABw4CxQBngB04HsoA0IEWZcABoAf4BfgW2ARuB1cAWoMNtU+NclJ0MXAJcBlwEDLRwT4o6TgNGBn22C/gM+AhYBhx0w2g3WkgFcAdwdcAvrxvSkt4HXlCtRxtiNMo6H/gKqAVucpEMlGzR8SOwQunWAh2EDAdqFBnaDLOBiUp3jbIlKkRDSCLwKLAOmOIlAxEgNqwHFijbHMEpIUXASmA+kOCmlzYRD8xTthU5EeCEkOmqVYzR6YlmjFE2Trcr1i4hVcBiNXbo6UhTtla5QYgMrBYC1ep9b4FP2fy0VbutEiIC5/QiIoJRCTxm5YtWCHmwl5NhQvy4t7svdUfIVVaZ7SVY2F2g7YoQ6bZe7WUxozuIL6901SVHIiRBRej0k2K2u0hX86Cw46dIhFSpSVpfRXmk7jgcISXA3D5Mhom5ytdOCEfIs8ApnpvnPcTH54K1Bi8QjQememXa1MG5XF/gZ3haf+N8c8te3mqo55O/fvfKhCnK55XmhWBCbA1zo0HVsNHcWOjvJKE8I8s4xjZm8fCmdZ6ZAkwzTwL/MhJEPWkd07LzTpCx+0grL27fzGu/bTXeC2bll3BlTqEXpqB8LjdPAgm53SsLrss/Hsv2Hj3CFd99zsKtdTy+ZQOXrfqMXa2Hjc+uLwiJd27iVlO2SUg/YKZX2oekHh/efLijgeYjraTHJxiHEGTGj6Gpng6BZpiLSmYMuViR4ipkmFiankm87/jvcE1eETcUdI4jrcfajVcfPsrSM6nb1+x+7gEygEuBJSYhl7upLSk2lhm5RcwqKKEw+f+158SY2JDvmtdifT4+OGcyvx08wLsN9Sz+YzuH2tvdNFNSJkskDSE/3N8W8ya2IQF03rDRDEyMbmgjsaV6y3o+aXKtSxbB+UKIZNQ265aeHBvHgtIKLsnO1yp3WVMj8+vWcLC9TatcBX+MSi9qRVp8PG+Pm6SdDIHIFNmiwwWMF0JG6ZSbGhfPG2MnGQExHNo6jhk9yb3rv2fOhu857CAuiGzRIbo0oywu3ATHKSQQPnfmOZSmZYSV8OXOHTy6aR07Dv+flp2ZV8TZmYNsaxQdT406i9lrVurshYy/jLZ2PbvoDM4dcGrI9UPtbUaLuG3tqhNkyK97bX4xFf2zHOs7f2A2txYNi8rmIOTGqT44auQk9WN2cahx+9uOckvtt6zdu9s4H5CQyJ0lI7gqp5BTYkO7Xbu4s2Q4y5p+589D/+pwI0NaSKoOSfcNKQ0ZVxzr6KByww8nyJiQNZiaCVOYlV+shQzUuOX+IWVaZAkXWggpSE5h2uC8kOvvNNazYleT8X7yoNN4qWI8/eP1Zz6nZucZNmhAqpZyCJmZxvhC16K/273TeC1JSWPhqLONoOsGROr03NO1SBZC9kcr5IJB2WGvPzh0JHcUD+eF8vOM4bubkACrAfvjFCEDnMqSEak/JfzMtLBfKvf4R7hKhInilDTDlihHsAekhexxendOUrKxBOjWX8EOxIYbCv3kJkU1aW8WQhqd3CmTti8mTqNySGm0vmjDHH8pyydM4aJTc5yK/EMIqXdyZ6W/tEe0jGAkxMTw0BlnOr19mxDyk5M7o53Ou4kU53OcjTGqks823mzY1mMJebvRsW0rpZf5WVUO25pUPLO1jm37WxiTmUVMD8mHH6OD2uZ/jDUTB5AFovo4VS4tFcLX2pEhNy1tajSOPoKvCVh1/7CveBUFlhKw6v4xINNFy534oMQkHhlRTkWG8+m7G5CJ5EN1a9jZesiO9D3BhPyr6kFusirhsbIxTMwafJLdD4UM4Z8cOZYbV39j5zbx3UgbBk7unrcjYVyGK4v0WjAu07ZtL5tvAgmRov1PrUr4aV+zF745wro9u+3cJj6vMU+Cp/8LrEqZu3E1PzbvMhaBegrEFrHpgY22nhipDjwJ97xMTQ8p5vcCnwb7Gm6B6G7gcJ9xOTLEx7uCPw1HiIx7nziJhnqFJ5WvnRBpCVGKddf2Kfc7Y22kguRIhBxRz8zt88hAL7FP1YO0htPZ1SLzduBmLx4N9RAdyqdfIqnsbtV9iZeFeB6gSvkUEVbSEI8Di3ozCwqLlC9dwmpeprKXk7JI+dAtrBLSoZ6Zmd/LYkqHsnmOVbvtZu6qVYRucWafp2hRtlbbUeoklblEFfnW9jwOTqBWPZnZZQANB6e53XpVIy6Dm6MOZbiBNmXT+HCjUCuIJtndqh4aHg0s7wFkLFflYfMiDbqsQEf2f5OqF58M2Fqm0gTReaGyYVO0InXuDiEbEkySBSvgdbWlhVs4oHSMUzq/1KXHzR1m+qnq4EttbKjSFcwNVZaqDVW01FAFw80dZsTg99Rhbrkjv6hkx4dK4ZHaB0Rq3AK33JEVcHltALaqLXcku+j+ljvAf+D3tJRGvklyAAAAAElFTkSuQmCC"},"707a":function(t,e,n){"use strict";n("f7d0"),n("24c0")},"79f3":function(t,e,n){"use strict";n.r(e);n("54f8");var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pt-20 pb-20 pages"},[e("div",{staticClass:"header-wrap"},[e("div",{staticClass:"cr-white header-title"},[t._v(t._s(t.L("排号")))]),e("div",{staticClass:"header-btn-wrap flex align-center"},[e("div",{staticClass:"cr-white header-btn reset-queue pointer",on:{click:function(e){return t.resetQueue()}}},[t._v(" "+t._s(t.L("重置排号"))+" ")]),e("div",{staticClass:"cr-white header-btn status-queue pointer",on:{click:function(e){return t.queueStatusOpt()}}},[t._v(" "+t._s(1==t.queueStatus?t.L("关闭在线排号"):t.L("开启在线排号"))+" ")])])]),e("a-spin",{staticClass:"changecolor",attrs:{spinning:t.loadingdata,indicator:t.indicator,size:"large"}}),!t.loadingdata&&t.table_type_list.length?e("div",{staticClass:"mt-20 pl-20 pr-20 cr-white"},[e("a-row",{attrs:{type:"flex",justify:"space-between"}},[e("a-col",{attrs:{span:17}},[e("a-row",[e("a-col",[e("a-row",[e("a-col",[e("div",{staticClass:"flex align-center tablesize_container_wrap justify-between"},[e("a-tabs",{attrs:{"default-active-key":t.cur_table_type},on:{change:t.tabChange}},t._l(t.table_type_list,(function(n){return e("a-tab-pane",{key:n.id},[e("span",{attrs:{slot:"tab"},slot:"tab"},[e("a-badge",{attrs:{count:n.count}},[e("div",{staticClass:"table_name",class:n.id==t.cur_table_type?"table_name_active":""},[e("span",[t._v(t._s(n.name))]),n.people_num?e("span",[t._v(" "+t._s(n.people_num)+" ")]):t._e()])])],1)])})),1),e("div",{staticClass:"refresh flex align-center"},[e("div",{staticClass:"flex align-center refresh-countdown"},[e("a-statistic-countdown",{attrs:{title:"",value:t.countdown,suffix:"s",format:"s"},on:{finish:t.onFinish}}),e("span",[t._v(t._s(t.L("后自动刷新排号信息")))])],1),e("div",{staticClass:"refresh-btn pointer",on:{click:function(e){t.spin=!0,t.getList()}}},[e("a-icon",{attrs:{type:"sync",spin:t.spin}})],1)])],1)])],1)],1)],1)],1),e("a-col",{attrs:{span:7}},[e("a-row",{staticClass:"pl-20"},[e("a-col",[e("div",{staticClass:"bg-white add-queue-title cr-black flex justify-center align-center"},[e("span",[t._v(t._s(t.L("取号")))])])])],1)],1)],1),e("a-row",{staticClass:"queue-wrap"},[e("a-col",{attrs:{span:17}},[t.queue_list.length?e("div",{staticClass:"queue-list"},t._l(t.queue_list,(function(n,i){return e("div",{key:i,staticClass:"flex align-center bg-white queue-item justify-between"},[e("div",{staticClass:"queue-number cr-white flex align-center justify-center"},[e("span",[t._v(t._s(n.number))])]),e("div",{staticClass:"queue-btn flex align-center"},t._l(t.btnOptions,(function(i){return e("div",{key:i.type,staticClass:"queue-btn-item flex align-center flex-direction justify-around pointer",on:{click:function(e){return t.queueBtnOpt(n,i.type)}}},[e("div",{staticClass:"queue-btn-bg"},[e("img",{attrs:{src:i.imgUrl,alt:""}})]),e("div",{staticClass:"cr-black"},[e("span",[t._v(t._s(i.text))])])])})),0)])})),0):e("div",{staticClass:"queue-list flex justify-center align-center"},[e("span",{staticClass:"empty"},[t._v(" "+t._s(t.L("暂无排号"))+" ")])])]),e("a-col",{staticClass:"pl-20",attrs:{span:7}},[e("a-row",{staticClass:"pl-20"},[e("a-col",[0==t.is_queue?e("div",{staticClass:"add-queue-wrap bg-white cr-black flex justify-center align-center flex-direction"},[e("img",{attrs:{src:n("a77d"),alt:""}}),e("span",{staticClass:"mt-20 fw-bold tips"},[t._v(" "+t._s(t.L("请配置打印机即可取号"))+" ")])]):e("div",{staticClass:"add-queue-wrap bg-white cr-black flex align-center flex-direction"},[e("div",{staticClass:"width-fill"},[e("div",{staticClass:"flex align-center add-queue-input width-fill"},[e("a-icon",{attrs:{type:"team"}}),e("div",{staticClass:"input-box flex-1 flex align-center",on:{click:function(e){t.input_type="num"}}},[t.num?e("span",[t._v(t._s(t.num))]):t._e(),"num"==t.input_type?e("span",{staticClass:"cursor_box_show"}):t._e(),t.num?t._e():e("span",{staticClass:"input-placeholder"},[t._v(t._s(t.L("请输入就餐人数")))])])],1),e("div",{staticClass:"flex align-center add-queue-input mt-20"},[e("a-icon",{staticClass:"phone",attrs:{type:"phone"}}),e("div",{staticClass:"input-box flex-1 flex align-center",on:{click:function(e){t.input_type="phone"}}},[t.phone?e("span",[t._v(t._s(t.phone))]):t._e(),"phone"==t.input_type?e("span",{staticClass:"cursor_box_show"}):t._e(),t.phone?t._e():e("span",{staticClass:"input-placeholder"},[t._v(t._s(t.L("请输入电话")))])])],1)]),e("div",{staticClass:"kewboard-wrap flex-1 cr-black width-fill mt-20 flex flex-wrap"},t._l(t.keyboard_arr,(function(n){return e("div",{key:n.value,staticClass:"keyboard-item"},["num"==n.type?e("span",{staticClass:"pointer num-item",on:{click:function(e){return t.keyboardOpt(n)}}},[t._v(t._s(n.label))]):t._e(),"btn"==n.type?e("span",{staticClass:"cr-red pointer",on:{click:function(e){return t.keyboardOpt(n)}}},[t._v(t._s(n.label))]):t._e(),"btn_icon"==n.type?e("span",{staticClass:"cr-black pointer",on:{click:function(e){return t.keyboardOpt(n)}}},[e("a-icon",{attrs:{type:n.label}})],1):t._e()])})),0),e("div",{staticClass:"ml-20 mr-20 add-queue-btn cr-white mt-20 fw-bold width-fill pointer",on:{click:function(e){return t.addQueueOpt()}}},[t._v(" "+t._s(t.L("取号"))+" ")])])])],1)],1)],1)],1):t._e()],1)},a=[],u=(n("707a"),n("b9de")),s=(n("c5cb"),n("08c7"),n("6e84"),n("7023"),n("19f1"),n("aa48"),n("8bbf")),o=n.n(s);o.a.use(u["a"]);var r={data:function(){var t=this.$createElement;return{spin:!1,loadingdata:!0,indicator:t("a-icon",{attrs:{type:"loading-3-quarters","font-size":"30px",spin:!0}}),queueStatus:1,countdown:Date.now()+21e3,table_type_list:[],cur_table_type:"",btnOptions:[{text:this.L("叫号"),type:"use_queue",imgUrl:n("0b99")},{text:this.L("就餐"),type:"take_queue",imgUrl:n("5b14")},{text:this.L("过号"),type:"over_queue",imgUrl:n("b778")}],queueAudioUrl:"",audio:"",audioPlayCount:0,is_queue:0,num:"",phone:"",input_type:"",keyboard_arr:[{value:"1",label:"1",type:"num"},{value:"2",label:"2",type:"num"},{value:"3",label:"3",type:"num"},{value:"4",label:"4",type:"num"},{value:"5",label:"5",type:"num"},{value:"6",label:"6",type:"num"},{value:"7",label:"7",type:"num"},{value:"8",label:"8",type:"num"},{value:"9",label:"9",type:"num"},{value:"empty",label:this.L("清空"),type:"btn"},{value:"0",label:"0",type:"num"},{value:"del",label:"arrow-left",type:"btn_icon"}]}},computed:{queue_list:function(){var t=this,e=[];return this.table_type_list&&this.table_type_list.length&&this.table_type_list.forEach((function(n){n.id==t.cur_table_type&&n.queue_list&&(e=e.concat(n.queue_list))})),e}},mounted:function(){this.getQueueStatus(),this.getList(!0)},methods:{getQueueStatus:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=function(n){t.queueStatus=n.status||0,e&&(1==t.queueStatus?t.$message.success(t.L("已开启在线排号")):t.$message.success(t.L("已关闭在线排号")))};this.request("/foodshop/storestaff.foodshopStore/status").then(n)},queueStatusOpt:function(){var t=this,e={queue_is_open:1==this.queueStatus?0:1},n=function(e){t.getQueueStatus(!0)};this.request("/foodshop/storestaff.foodshopStore/change_queue",e).then(n)},resetQueue:function(){var t=this;this.closeAudioOpt();var e=function(e){t.getList(),t.$message.success(t.L("已重置排号"))};this.request("/foodshop/storestaff.foodshopStore/reset_queue",null).then(e)},getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loadingdata=e;var n=function(e){t.table_type_list=e.table_type_list||[],t.is_queue=e.is_queue||0,t.table_type_list&&t.table_type_list.length&&""==t.cur_table_type&&(t.cur_table_type=t.table_type_list[0].id),t.loadingdata=!1,setTimeout((function(){t.spin=!1}),500)};this.request("/foodshop/storestaff.foodshopStore/queue_list",null).then(n).catch((function(e){t.loadingdata=!1,setTimeout((function(){t.spin=!1}),500)}))},tabChange:function(t){this.cur_table_type=t},onFinish:function(){this.countdown=Date.now()+21e3,this.getList()},queueBtnOpt:function(t,e){var n=this,i="";this.table_type_list.forEach((function(e,a){e.id==n.cur_table_type&&e.queue_list&&e.queue_list.length&&e.queue_list.forEach((function(e,n){e.id==t.id&&(i=n)}))}));var a=this.L("叫号");"take_queue"==e?a=this.L("就餐"):"over_queue"==e&&(a=this.L("过号")),0!==i?this.$confirm({title:this.L("提示"),content:this.L("此号码不是当前最近排号码，是否确认X1？",{X1:a}),onOk:function(){"use_queue"==e?n.useQueueOpt(t):"take_queue"==e?n.updateQueueOpt(t,"1"):"over_queue"==e&&n.updateQueueOpt(t,"3")},onCancel:function(){}}):"use_queue"==e?this.useQueueOpt(t):"take_queue"==e?this.updateQueueOpt(t,"1"):"over_queue"==e&&this.updateQueueOpt(t,"3")},useQueueOpt:function(t){var e=this;this.closeAudioOpt();var n={id:t.id},i=function(t){e.queueAudioUrl=t.url,e.audioPlayOpt()};this.request("/foodshop/storestaff.foodshopStore/use_queue",n).then(i)},audioPlayOpt:function(){var t=this;this.audio=new Audio,this.audio.src=this.queueAudioUrl;var e=this.audio.play();e&&e.then((function(){console.log("音频播放成功"),t.audio.play()})).catch((function(e){console.error(e),t.$message.error(t.L("叫号失败，请重试")),t.audioPlayCount=0})),this.audio.addEventListener("ended",(function(e){console.log(t.audioPlayCount,"this.audioPlayCount"),t.audioPlayCount++,t.audioPlayCount>3||3==t.audioPlayCount?(t.audio.pause(),t.audioPlayCount=0,t.audioPlayCount):t.audio.play()}))},closeAudioOpt:function(){var t=this;this.audio&&(this.audio.pause(),this.$nextTick((function(){t.audio="",t.audioPlayCount=0})))},updateQueueOpt:function(t,e){var n=this;this.closeAudioOpt();var i={id:t.id,status:e},a=function(t){n.getList()};this.request("/foodshop/storestaff.foodshopStore/update_queue",i).then(a)},keyboardOpt:function(t){this.input_type||(this.input_type="num");var e="";if("empty"==t.value)return e="","num"==this.input_type&&(this.num=e),void("phone"==this.input_type&&(this.phone=e));"num"==this.input_type&&(e=this.num),"phone"==this.input_type&&(e=this.phone),""==e&&"0"==t.value&&"num"==this.input_type||("del"!=t.value?""==e&&"0"==t.value?e="":t.value&&(e+=t.value):e.length&&"del"==t.value&&(e=e.substring(0,e.length-1)),console.log("val",e),"num"==this.input_type&&(this.num=e),"phone"==this.input_type&&(this.phone=e))},addQueueOpt:function(){var t=this,e=["",null,void 0,"null","undefined",0,"0"];if(-1==e.indexOf(this.num.trim()))if(Number(this.num)>255)this.$message.error(this.L("就餐人数最多255位！"));else{var n=/^[1-9]\d*$/;if(n.test(this.num))if(-1==e.indexOf(this.phone.trim()))if(n.test(this.phone)){var i={table_type:this.cur_table_type,num:this.num,phone:this.phone},a=function(e){t.getList(!0),t.$message.success(t.L("取号成功")),t.input_type="",t.num="",t.phone=""};this.request("/foodshop/storestaff.foodshopStore/add_queue",i).then(a)}else this.$message.error(this.L("请输入正确的电话！"));else this.$message.error(this.L("请输入电话！"));else this.$message.error(this.L("请输入正确的就餐人数！"))}else this.$message.error(this.L("请输入就餐人数！"))}}},c=r,l=(n("597a8"),n("0b56")),f=Object(l["a"])(c,i,a,!1,null,"760ea9e2",null);e["default"]=f.exports},"9b3c":function(t,e){var n=9007199254740991,i=Math.floor;function a(t,e){var a="";if(!t||e<1||e>n)return a;do{e%2&&(a+=t),e=i(e/2),e&&(t+=t)}while(e);return a}t.exports=a},"9d34":function(t,e,n){var i=n("291a");function a(t,e,n){var a=t.length;return n=void 0===n?a:n,!e&&n>=a?t:i(t,e,n)}t.exports=a},a77d:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAYAAABxLuKEAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkIzMEY5ODAyRUQxMTExRUE4QkNERUUzNUQ5MEMwQkExIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkIzMEY5ODAzRUQxMTExRUE4QkNERUUzNUQ5MEMwQkExIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QjMwRjk4MDBFRDExMTFFQThCQ0RFRTM1RDkwQzBCQTEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QjMwRjk4MDFFRDExMTFFQThCQ0RFRTM1RDkwQzBCQTEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5RM0CKAAAFX0lEQVR42uxca4hVVRj97nU0FZ3xOWSaZpNjPqaiECKt1KmswDFfmH/KlJksirKoIPoZCEKWQpDzQ9If9jJQU6ksGwrHH+JjfFWaWqEFWY4xTiUTTmt5vjPdbmfuPWfm7L3Pxbtggd57uHudNfvxffuVan/6UbGEHuAt4CSwCrweHAkOBsvA3mAbeAFsBlvAk+Ax5X6wCbxkQ2yJ4d8vB+eB94N3ggPyPN8THKgkbs76/jfwS3AH+AH4qynhKQM1hmbPAfnD9+rLmgBr18fgenAT+HecP56O8beuAh8HvwHfAx80aIpfu2ZqzWGZdaohUcYsAI+Db4EVYh8scw14Anw4CcaMA3eC74LXinsMB98BP1dtToxhs9kHTpPkYbqOYs+xH7VlTCn4vjab3pJcsL95TTvmMtPGDAO/AudL4aAG3AWONmXMjWAjeJMUHiaoOePjNuYGDayuk8IFa3uDmhSLMSPAz8ChUvjgO3waZgTNZww7re3gKINifwCXgreBE8El4EGD5V0DbsvXIedKCVLao9cYFLlX04bmgBGF4qsNlr1JU5f2qDXmGcOmMEteFGAKcVG/+9Ng+Q+Bz0ZtSuyglhtu7+zMD+f4/rTWGpNYrqNtKGPYhOotBG97QjY100Hgm2GNeQS8w8IIcS7EM39YSh8W5jOmD/iqpaEzTA5ztSUtK8BeuYyp07jFVsAVJlu2Ab7zY50ZU6LZqC2MSpAxxAuSMdWbaQzH9JEWhZTH9Exc4GTX7CBjai2H56UhQ3ibqM02Zpj2zkkzZpBlTdV+3+cbM1finRiPw5iy7JHCAtLapXSYcY+DTLc0Yc3IxwO+MeRdjkTkynAHO9LEOewSmsLVvoGORJQmsMb0pSc05nZxh1zGDHGo67IxEx0K6J/ApkRU0pjRCa0x5Q51jU1bDrujGOOyxlTQmAFFY/7f8adDRqBXWlPqR2P6FUelYGMuFZtScG7Q4rD8sgQlkJlopTEXHAoYksOUlENdLTSm2aGAqk4+HyducZbGnHIZL4BjAj6/z7ExJ2jMMcciFmf9n+tZtY41fZsEY5aJt5bFpZtK8G0Jt4JgEsc5K97kWARXA9cpk4KmtBrTKkX44OrnARrDHdUNRT868AU98ed8txf96MAnfuRLcNt5W9GTy+nRxkxjzop3YOFKB3e5/5xpDLHekZgfwSd0qGawV6efuUC9/4/MPXgcunlIweb6NTv9moBElnPBW8Cplv9AFToY/afG8IOVFoWcF28FNCi7b9HvzlvU87pknHnKXpbl0ZbTloSwk8u1q+qcDgo2cEbfXToz5i/wFUtijsb0TBx4UbJ2iAYt5LMTbrQgJsx5TBsbDRjQbQhTcLtmtxcNC5oU4plKwxr4jk9G+YuwCr9kWFSN5D4m2EvMbsAmXhbvPGWkqrpavG3lJrNqHioNmvTmtOYKw9MPW3QkCkS+48WcrObBrSrDI8Iq8c4TMbMdCz4FTjFY5iHxzoH/3lVjiBEq2mbgZxI/gZPB77vb6zOuqdZ8qtDBd5iRz5Qow+F34N1+glWgoHbuljoc5uEoccLXWgWPFKApR6NqjxpAndICNheQKR+p5kjLRF2JLNmTcwf1MgtBYHeDt+fBWV1JRrsacjM6fkO8c4yNCTRlt2pbKZ0c7TOdixzReGCJxiOucUa1TOluXxhHksZ50rUa3vO+h5MODGH/sVQ1rJUYtrakY27T9Rq58oqDrWJ2gr1Ny5ivyeaaOPu8lOE7qriJmVcx8QjxVOn+RmvuzGgQ7yqmD8FfTAlPWby8y9+Ffqv+hf3JbyaR3FnVV/69vIujSKsGlv7lXbySxdrlXf8IMADodfU1HwYkpAAAAABJRU5ErkJggg=="},b778:function(t,e){t.exports="data:image/png;base64,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"},b9b2:function(t,e){var n="\\ud800-\\udfff",i="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",u="\\u20d0-\\u20ff",s=i+a+u,o="\\ufe0e\\ufe0f",r="["+n+"]",c="["+s+"]",l="\\ud83c[\\udffb-\\udfff]",f="(?:"+c+"|"+l+")",p="[^"+n+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",m=f+"?",b="["+o+"]?",A="(?:"+v+"(?:"+[p,d,h].join("|")+")"+b+m+")*",g=b+m+A,y="(?:"+[p+c+"?",c,d,h,r].join("|")+")",C=RegExp(l+"(?="+l+")|"+y+g,"g");function O(t){return t.match(C)||[]}t.exports=O},b9de:function(t,e,n){"use strict";var i=n("6d2e"),a=n.n(i),u=n("eb38"),s=n("ddb1"),o=n("1626"),r=n("2bbb"),c=n.n(r),l={name:"AStatisticNumber",functional:!0,render:function(t,e){var n=e.props,i=n.value,a=n.formatter,u=n.precision,s=n.decimalSeparator,o=n.groupSeparator,r=void 0===o?"":o,l=n.prefixCls,f=void 0;if("function"===typeof a)f=a({value:i,h:t});else{var p=String(i),d=p.match(/^(-?)(\d*)(\.(\d+))?$/);if(d){var h=d[1],v=d[2]||"0",m=d[4]||"";v=v.replace(/\B(?=(\d{3})+(?!\d))/g,r),"number"===typeof u&&(m=c()(m,u,"0").slice(0,u)),m&&(m=""+s+m),f=[t("span",{key:"int",class:l+"-content-value-int"},[h,v]),m&&t("span",{key:"decimal",class:l+"-content-value-decimal"},[m])]}else f=p}return t("span",{class:l+"-content-value"},[f])}},f={prefixCls:u["a"].string,decimalSeparator:u["a"].string,groupSeparator:u["a"].string,format:u["a"].string,value:u["a"].oneOfType([u["a"].string,u["a"].number,u["a"].object]),valueStyle:u["a"].any,valueRender:u["a"].any,formatter:u["a"].any,precision:u["a"].number,prefix:u["a"].any,suffix:u["a"].any,title:u["a"].any},p={name:"AStatistic",props:Object(s["t"])(f,{decimalSeparator:".",groupSeparator:","}),inject:{configProvider:{default:function(){return o["a"]}}},render:function(){var t=arguments[0],e=this.$props,n=e.prefixCls,i=e.value,u=void 0===i?0:i,o=e.valueStyle,r=e.valueRender,c=this.configProvider.getPrefixCls,f=c("statistic",n),p=Object(s["g"])(this,"title"),d=Object(s["g"])(this,"prefix"),h=Object(s["g"])(this,"suffix"),v=Object(s["g"])(this,"formatter",{},!1),m=t(l,{props:a()({},this.$props,{prefixCls:f,value:u,formatter:v})});return r&&(m=r(m)),t("div",{class:f},[p&&t("div",{class:f+"-title"},[p]),t("div",{style:o,class:f+"-content"},[d&&t("span",{class:f+"-content-prefix"},[d]),m,h&&t("span",{class:f+"-content-suffix"},[h])])])}},d=n("e02c"),h=n.n(d),v=n("2f42"),m=n("7f1d"),b=n("f972"),A=n.n(b),g=n("2297"),y=n.n(g),C=[["Y",31536e6],["M",2592e6],["D",864e5],["H",36e5],["m",6e4],["s",1e3],["S",1]];function O(t,e){var n=t,i=/\[[^\]]*\]/g,a=(e.match(i)||[]).map((function(t){return t.slice(1,-1)})),u=e.replace(i,"[]"),s=C.reduce((function(t,e){var i=A()(e,2),a=i[0],u=i[1];if(-1!==t.indexOf(a)){var s=Math.floor(n/u);return n-=s*u,t.replace(new RegExp(a+"+","g"),(function(t){var e=t.length;return y()(s.toString(),e,"0")}))}return t}),u),o=0;return s.replace(i,(function(){var t=a[o];return o+=1,t}))}function x(t,e){var n=e.format,i=void 0===n?"":n,a=Object(m["a"])(v)(t).valueOf(),u=Object(m["a"])(v)().valueOf(),s=Math.max(a-u,0);return O(s,i)}var w=1e3/30;function k(t){return Object(m["a"])(v)(t).valueOf()}var E={name:"AStatisticCountdown",props:Object(s["t"])(f,{format:"HH:mm:ss"}),created:function(){this.countdownId=void 0},mounted:function(){this.syncTimer()},updated:function(){this.syncTimer()},beforeDestroy:function(){this.stopTimer()},methods:{syncTimer:function(){var t=this.$props.value,e=k(t);e>=Date.now()?this.startTimer():this.stopTimer()},startTimer:function(){var t=this;this.countdownId||(this.countdownId=window.setInterval((function(){t.$refs.statistic.$forceUpdate(),t.syncTimer()}),w))},stopTimer:function(){var t=this.$props.value;if(this.countdownId){clearInterval(this.countdownId),this.countdownId=void 0;var e=k(t);e<Date.now()&&this.$emit("finish")}},formatCountdown:function(t){var e=t.value,n=t.config,i=this.$props.format;return x(e,a()({},n,{format:i}))},valueRenderHtml:function(t){return t}},render:function(){var t=arguments[0];return t(p,h()([{ref:"statistic"},{props:a()({},this.$props,{valueRender:this.valueRenderHtml,formatter:this.formatCountdown}),on:Object(s["k"])(this)}]))}},I=n("1e51");p.Countdown=E,p.install=function(t){t.use(I["a"]),t.component(p.name,p),t.component(p.Countdown.name,p.Countdown)};e["a"]=p},c2f6:function(t,e){function n(t){return t.split("")}t.exports=n},ccf3:function(t,e,n){var i=n("1f3e"),a=i("length");t.exports=a},cd813:function(t,e,n){},ff8d:function(t,e,n){var i=n("c2f6"),a=n("026b"),u=n("b9b2");function s(t){return a(t)?u(t):i(t)}t.exports=s}}]);