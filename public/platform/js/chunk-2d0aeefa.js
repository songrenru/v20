(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0aeefa"],{"0bd6":function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("a-modal",{attrs:{title:"收费设置",visible:e.visible,"confirm-loading":e.confirmLoading,width:"800px"},on:{ok:e.handleOk,cancel:e.handleCancel}},[t("a-alert",{staticStyle:{"margin-top":"-10px","margin-bottom":"10px"},attrs:{message:"工单类别为选中状态时，新版工单启用收费流程；工单类别未选中状态时，新版工单不启用收费流程。",type:"info",banner:""}}),t("a-alert",{staticStyle:{"margin-top":"-10px","margin-bottom":"10px"},attrs:{message:"工单类别在启用收费流程操作时，该工单类别下的工单必须全部是已关闭状态或没有工单时，才能启用成功。",type:"info",banner:""}}),t("a-alert",{staticStyle:{"margin-top":"-10px","margin-bottom":"10px"},attrs:{message:"工单类别在关闭收费流程操作时，该工单类别下的工单必须全部是已关闭状态或没有工单时，才能关闭成功。",type:"info",banner:""}}),t("a-form-model",{ref:"ruleForm",attrs:{model:e.chargeForm,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[t("a-form-model-item",{attrs:{label:"工单类目",prop:"subject_id"}},[t("a-tree",{attrs:{"tree-data":e.treeData,"default-expand-all":e.defaultExpandAll,defaultExpandedKeys:["0-0"],checkable:""},model:{value:e.chargeForm.subject_id,callback:function(a){e.$set(e.chargeForm,"subject_id",a)},expression:"chargeForm.subject_id"}})],1)],1)],1)},n=[],o=t("a0e0"),i={props:{visible:{type:Boolean,default:!1}},data:function(){return{rules:{subject_id:[{required:!1,message:"请选择工单类目",trigger:"blur"}]},labelCol:{span:4},wrapperCol:{span:14},chargeForm:{charge_type:1,subject_id:[]},treeData:[],defaultExpandAll:!0,confirmLoading:!1}},mounted:function(){this.getRepairCharge()},methods:{getRepairCharge:function(){var e=this;e.request(o["a"].getRepairCharge).then((function(a){e.treeData=a.res,e.chargeForm.subject_id=a.subject_ids,e.defaultExpandAll=!1}))},handleOk:function(){var e=this,a=this;a.$refs.ruleForm.validate((function(a){if(!a)return console.log("error submit!!"),!1;var t=e;t.confirmLoading=!0,t.request(o["a"].setRepairCharge,t.chargeForm).then((function(e){t.$message.success("设置成功！"),t.handleCancel(),t.confirmLoading=!1})).catch((function(e){t.confirmLoading=!1}))}))},handleCancel:function(){this.$refs.ruleForm.resetFields(),this.chargeForm={charge_type:1,subject_id:[]},this.$emit("closeCharge")}}},l=i,s=t("2877"),c=Object(s["a"])(l,r,n,!1,null,"7b5e7c5d",null);a["default"]=c.exports}}]);