(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3539c26a","chunk-22362256","chunk-24ae30f2"],{"0ec7":function(e,t,a){},"126e":function(e,t,a){"use strict";var i={regionalAgencyList:"/new_marketing/platform.RegionalAgency/regionalAgencyList",findArea:"/new_marketing/platform.RegionalAgency/findArea",findRight:"/new_marketing/platform.RegionalAgency/findRight",findRightEdit:"/new_marketing/platform.RegionalAgency/findRightEdit",addRegionalAgency:"/new_marketing/platform.RegionalAgency/addRegionalAgency",editRegionalAgency:"/new_marketing/platform.RegionalAgency/editRegionalAgency",saveRegionalAgency:"/new_marketing/platform.RegionalAgency/saveRegionalAgency",delRegionalAgency:"/new_marketing/platform.RegionalAgency/delRegionalAgency",reduceWin:"/new_marketing/platform.RegionalAgency/reduceWin",addReduce:"/new_marketing/platform.RegionalAgency/addReduce",getTeamList1:"/new_marketing/platform.RegionalAgency/getTeamList",updatePercent:"/new_marketing/platform.RegionalAgency/updatePercent",getMarketingArtisanList:"/new_marketing/platform.MarketingArtisan/getMarketingArtisanList",getMarketingArtisanCreate:"/new_marketing/platform.MarketingArtisan/getMarketingArtisanCreate",getMarketingArtisanInfo:"/new_marketing/platform.MarketingArtisan/getMarketingArtisanInfo",getMarketingArtisanDir:"/new_marketing/platform.MarketingArtisan/getMarketingArtisanDir",getDirectorList:"/new_marketing/platform.MarketingArtisan/getDirectorList",getMarketingArtisanDel:"/new_marketing/platform.MarketingArtisan/getMarketingArtisanDel",getMarketingDirectorList:"/new_marketing/platform.MarketingDirector/getMarketingDirectorList",getMarketingDirectorCreate:"/new_marketing/platform.MarketingDirector/getMarketingDirectorCreate",getMarketingDirectorInfo:"/new_marketing/platform.MarketingDirector/getMarketingDirectorInfo",getMarketingDirectorDel:"/new_marketing/platform.MarketingDirector/getMarketingDirectorDel",getMarketingDirectorRemove:"/new_marketing/platform.MarketingDirector/getMarketingDirectorRemove",getMarketingDirectorArtisan:"/new_marketing/platform.MarketingDirector/getMarketingDirectorArtisan",getManagerList:"/new_marketing/platform.ServiceManager/serviceManagerList",addManager:"/new_marketing/platform.ServiceManager/addServiceManager",editManager:"/new_marketing/platform.ServiceManager/saveServiceManager",delNoTeamManager:"/new_marketing/platform.ServiceManager/doDelManager",getTeamMemberList:"/new_marketing/platform.ServiceManager/getTeamPerson",upgradeManager:"/new_marketing/platform.ServiceManager/doUpLevel",deleteManager:"/new_marketing/platform.ServiceManager/doDelServiceManager",demoteManager:"/new_marketing/platform.ServiceManager/doDownLevel",getAreaList:"/new_marketing/platform.Region/regionList",getClassifyPriceList:"/new_marketing/platform.Region/classPriceList",saveAreaPriceForm:"/new_marketing/platform.Region/addRegion",saveClassifyPriceForm:"/new_marketing/platform.Region/addClassPrice",deleteAreaPriceForm:"/new_marketing/platform.Region/delRegion",getAreaMealList:"/new_marketing/platform.MarketingPackage/getAreaSearchList",saveAreaMealForm:"/new_marketing/platform.MarketingPackage/editAreaPost",saveAreaMealStatus:"/new_marketing/platform.MarketingPackage/setAreaStatus",getStoreTypeList:"/new_marketing/platform.MarketingPackage/getStoreTypeList",addMeal:"/new_marketing/platform.MarketingPackage/add",getMealList:"/new_marketing/platform.MarketingPackage/getSearchList",deleteMeal:"/new_marketing/platform.MarketingPackage/del",editMeal:"/new_marketing/platform.MarketingPackage/editPost",getCommissionSearchData:"/new_marketing/platform.MarketingPersonSettle/getSearchData",getCommissionList:"/new_marketing/platform.MarketingPersonSettle/getSearchList",teamManagementList:"/new_marketing/platform.TeamManagement/teamManagementList",teamPerformance:"/new_marketing/platform.TeamManagement/teamPerformance",serviceManagerList:"/new_marketing/platform.TeamManagement/serviceManagerList",serviceManagerNoList:"/new_marketing/platform.TeamManagement/serviceManagerNoList",regionalAgentList:"/new_marketing/platform.TeamManagement/regionalAgentList",artisanList:"/new_marketing/platform.TeamManagement/artisanList",teamManagementAdd:"/new_marketing/platform.TeamManagement/teamManagementAdd",teamManagementBasic:"/new_marketing/platform.TeamManagement/teamManagementBasic",teamManagementReplace:"/new_marketing/platform.TeamManagement/teamManagementReplace",teamManagementUpgrade:"/new_marketing/platform.TeamManagement/teamManagementUpgrade",teamBusinessList:"/new_marketing/platform.TeamManagement/teamBusinessList",teamManagementDel:"/new_marketing/platform.TeamManagement/teamManagementDel",teamManagementTransfer:"/new_marketing/platform.TeamManagement/teamManagementTransfer",teamManagementDiss:"/new_marketing/platform.TeamManagement/teamManagementDiss",teamMemberAdd:"/new_marketing/platform.TeamManagement/teamMemberAdd",teamManagementEdit:"/new_marketing/platform.TeamManagement/teamManagementEdit",teamMemberEdit:"/new_marketing/platform.TeamManagement/teamMemberEdit",teamMemberCode:"/new_marketing/platform.TeamManagement/teamMemberCode",teamManagementSavage:"/new_marketing/platform.TeamManagement/teamManagementSavage",teamManagementMerchantList:"/new_marketing/platform.TeamManagement/teamManagementMerchantList",teamManagementSavageDetail:"/new_marketing/platform.TeamManagement/teamManagementSavageDetail",getCommunityOrderDetail:"/new_marketing/platform.TeamManagement/getCommunityOrderDetail",positionReviewList:"/new_marketing/platform.PositionReview/positionReviewList",getTeamList:"/new_marketing/platform.PositionReview/getTeamList",reviewAgree:"/new_marketing/platform.PositionReview/reviewAgree",reviewDisagree:"/new_marketing/platform.PositionReview/reviewDisagree",getOrderList:"/new_marketing/platform.OrderInfo/orderList",getAreaUidByProvince:"/new_marketing/platform.OrderInfo/getAreaUidByProvince",getTeamIdByAreaUid:"/new_marketing/platform.OrderInfo/getTeamIdByAreaUid",getOrderDetail:"/new_marketing/platform.OrderInfo/getOrderInfo",teamManagementMerchantTransferList:"/new_marketing/platform.TeamManagement/teamManagementMerchantTransferList",teamManagementMerchantTransferCreate:"/new_marketing/platform.TeamManagement/teamManagementMerchantTransferCreate",getMerchantList:"/new_marketing/platform.Merchant/getMerchantList",getMerchantStoreList:"/new_marketing/platform.Merchant/getMerchantStoreList",teamMembeInfo:"/new_marketing/platform.TeamManagement/teamMembeInfo",getPropertyList:"/new_marketing/platform.MarketingProperty/getPropertyList",villageTransferBusiness:"/new_marketing/platform.MarketingProperty/transferBusiness",teamMerchantOrderList:"/new_marketing/platform.TeamManagement/teamMerchantOrderList",getHousePropertyList:"/new_marketing/platform.HouseProperty/getHousePropertyList",getHousePropertyDetail:"/new_marketing/platform.HouseProperty/getHousePropertyDetail"};t["a"]=i},"32bd":function(e,t,a){"use strict";a.r(t);a("b0c0");var i=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{title:e.title,width:900,visible:e.visible,confirmLoading:e.confirmLoading,destroyOnClose:!0},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[t("a-spin",{attrs:{spinning:e.confirmLoading}},[t("a-form",{attrs:{form:e.form}},[t("a-form-item",{staticStyle:{width:"900px"},attrs:{label:"姓名",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{initialValue:e.detail.name,rules:[{required:!0,message:"请输入姓名"}]}],expression:"['name', { initialValue: detail.name, rules: [{ required: true, message: '请输入姓名' }] }]"}],staticStyle:{width:"260px"},attrs:{placeholder:"请输入姓名"}})],1),t("a-form-item",{staticStyle:{width:"900px"},attrs:{label:"绑定账号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[e._v(" "+e._s(e.detail.phone)+" ")]),t("a-form-item",{staticStyle:{width:"900px"},attrs:{label:"抽成比例",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["team_percent",{initialValue:e.detail.team_percent,rules:[{required:!0,message:"请输入0-100之前数组"}]}],expression:"[\n            'team_percent',\n            { initialValue: detail.team_percent, rules: [{ required: true, message: '请输入0-100之前数组' }] },\n          ]"}],staticStyle:{width:"60px"},attrs:{min:0,max:100,placeholder:"请输入"}}),e._v(" % "),t("br"),t("span",{staticStyle:{"font-size":"12px",color:"#999"}},[e._v("技术主管抽取下级技术人员所在团队的订单抽成；不填写即为0")])],1)],1),t("div",{staticStyle:{width:"900px",height:"3px",background:"#eee","margin-left":"-24px","margin-top":"30px"}}),t("div",{staticStyle:{height:"56px","line-height":"56px","font-size":"16px","margin-top":"20px"}},[e._v("成员管理")]),t("a-card",{attrs:{bordered:!1}},[t("a-table",{staticStyle:{"min-height":"100px"},attrs:{columns:e.columns,"data-source":e.dataList,rowKey:"id",pagination:e.pagination},scopedSlots:e._u([{key:"action",fn:function(a,i){return t("span",{},[t("a",{on:{click:function(t){return e.delOne(i.id)}}},[e._v("移出")])])}}])})],1)],1)],1)},n=[],r=a("126e"),o={data:function(){return{director:[],title:"添加技术主管",labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,confirmLoading:!1,form:null,detail:{id:0,name:"",uid:"",team_percent:0},id:0,columns:[{title:"姓名",dataIndex:"name",key:"name",scopedSlots:{customRender:"name"}},{title:"绑定团队",dataIndex:"team_name",key:"team_name"},{title:"累计提成",dataIndex:"team_commission",scopedSlots:{customRender:"team_commission"}},{title:"添加时间",dataIndex:"add_time",key:"add_time"},{title:"操作",dataIndex:"action",key:"action",scopedSlots:{customRender:"action"}}],pagination:{current:1,total:0,pageSize:10,showSizeChanger:!1,onChange:this.onPageChange,showTotal:function(e){return"共 ".concat(e," 条记录")}},dataList:[]}},mounted:function(){this.form=this.$form.createForm(this)},methods:{edit:function(e){this.dataList=[],this.$set(this,"detail",this.$options.data().detail),this.visible=!0,this.id=e,this.getEditInfo(),this.getArtisanList(),this.title="技术主管详情"},handleSubmit:function(){var e=this,t=this.form.validateFields;this.confirmLoading=!0,t((function(t,a){t?e.confirmLoading=!1:(a.id=e.id,e.request(r["a"].getMarketingDirectorCreate,a).then((function(t){e.id>0?e.$message.success("编辑成功"):e.$message.success("添加成功"),e.handleCancel(),e.confirmLoading=!1,e.$emit("loaddata",{is_search:!1})})).catch((function(t){e.confirmLoading=!1})))}))},handleCancel:function(){this.visible=!1},onPageChange:function(e,t){this.$set(this.pagination,"current",e),this.getArtisanList()},getEditInfo:function(){var e=this;this.request(r["a"].getMarketingDirectorInfo,{id:this.id}).then((function(t){e.detail=t}))},getArtisanList:function(){var e=this;this.request(r["a"].getMarketingDirectorRemove,{id:this.id,page:this.pagination.current,pageSize:this.pagination.pageSize}).then((function(t){e.dataList=t.list,e.$set(e.pagination,"total",t.count)}))},delOne:function(e){var t=this;this.$confirm({title:"提示",content:"你确定要将该技术人员移出吗？",onOk:function(){t.request(r["a"].getMarketingDirectorArtisan,{id:e}).then((function(e){t.getArtisanList()}))},onCancel:function(){}})}}},s=o,m=(a("4b9d"),a("2877")),g=Object(m["a"])(s,i,n,!1,null,"6354212e",null);t["default"]=g.exports},"4b9d":function(e,t,a){"use strict";a("0ec7")},"8d06":function(e,t,a){"use strict";a.r(t);a("b0c0");var i=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{title:e.title,width:840,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[t("a-spin",{attrs:{spinning:e.confirmLoading}},[t("a-form",{attrs:{form:e.form}},[t("a-form-item",{staticStyle:{width:"880px"},attrs:{label:"姓名",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{initialValue:e.detail.name,rules:[{required:!0,message:"请输入姓名"}]}],expression:"[\n            'name',\n            { initialValue: detail.name, rules: [{ required: true, message: '请输入姓名' }] },\n          ]"}],staticStyle:{width:"260px"},attrs:{placeholder:"请输入姓名"}})],1),t("a-form-item",{staticStyle:{width:"880px"},attrs:{label:"绑定账号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["uid",{initialValue:e.detail.uid,rules:[{required:!0,message:"请输入手机号"}]}],expression:"[\n            'uid',\n            { initialValue: detail.uid, rules: [{ required: true, message: '请输入手机号' }] },\n          ]"}],staticStyle:{width:"260px"},attrs:{placeholder:"请输入手机号"}})],1),t("a-form-item",{staticStyle:{width:"880px"},attrs:{label:"抽成比例",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["team_percent",{initialValue:e.detail.team_percent,rules:[{required:!0,message:"请输入0-100之前数组"}]}],expression:"[\n            'team_percent',\n            { initialValue: detail.team_percent, rules: [{ required: true, message: '请输入0-100之前数组' }] },\n          ]"}],staticStyle:{width:"60px"},attrs:{min:0,max:100,placeholder:"请输入"}}),e._v(" % "),t("br"),t("span",{staticStyle:{"font-size":"12px",color:"#999"}},[e._v("技术主管抽取下级技术人员所在团队的订单抽成；不填写即为0")])],1)],1)],1)],1)},n=[],r=a("53ca"),o=a("126e"),s={data:function(){return{director:[],title:"添加技术主管",labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this),detail:{id:0,name:"",uid:"",team_percent:0},id:0}},mounted:function(){},methods:{add:function(){this.visible=!0,this.id=0,this.title="添加技术主管",this.detail={id:0,name:"",uid:"",team_percent:0},this.getDirectorList(id)},edit:function(e){this.visible=!0,this.id=e,this.getDirectorList(e),this.getEditInfo(e),this.title="编辑技术主管"},handleSubmit:function(){var e=this,t=this.form.validateFields;this.confirmLoading=!0,t((function(t,a){t?e.confirmLoading=!1:(a.id=e.id,e.request(o["a"].getMarketingDirectorCreate,a).then((function(t){e.id>0?e.$message.success("编辑成功"):e.$message.success("添加成功"),setTimeout((function(){e.form=e.$form.createForm(e),e.visible=!1,e.confirmLoading=!1,e.$emit("loaddata",e.id)}),1500)})).catch((function(t){e.confirmLoading=!1})))}))},handleCancel:function(){var e=this;this.visible=!1,setTimeout((function(){e.id="0",e.form=e.$form.createForm(e)}),500)},getEditInfo:function(e){var t=this;this.request(o["a"].getMarketingDirectorInfo,{id:this.id}).then((function(e){t.detail={id:e.id,name:e.name,uid:e.uid,team_percent:e.team_percent},"object"==Object(r["a"])(e.detail)&&(t.detail=e.detail)}))},getDirectorList:function(e){var t=this;this.request(o["a"].getDirectorList,{id:this.id}).then((function(e){t.director=e,"object"==Object(r["a"])(e.detail)&&(t.detail=e.detail)}))}}},m=s,g=a("2877"),l=Object(g["a"])(m,i,n,!1,null,null,null);t["default"]=l.exports},cafc:function(e,t,a){"use strict";a.r(t);a("b0c0");var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"ant-pro-page-header-wrap-children-content",staticStyle:{margin:"24px 0 0"}},[t("a-card",{staticStyle:{padding:"24px"},attrs:{bordered:!1}},[t("a-page-header",{staticStyle:{padding:"0 0 16px 0","font-size":"18px",color:"#000","font-weight":"bold"}},[e._v("技术主管")]),t("div",{staticStyle:{margin:"0 -24px 20px -24px","border-top":"1px solid  #EEE"}}),t("a-form-model",{staticStyle:{"margin-bottom":"30px"},attrs:{layout:"inline",model:e.searchForm}},[t("a-form-model-item",{attrs:{label:"技术主管名称"}},[t("a-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入姓名"},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1),t("a-form-model-item",{attrs:{label:"添加时间"}},[t("a-range-picker",{staticStyle:{width:"300px"},attrs:{ranges:{"过去30天":[e.moment().subtract(30,"days"),e.moment()],"过去15天":[e.moment().subtract(15,"days"),e.moment()],"过去7天":[e.moment().subtract(7,"days"),e.moment()],"今日":[e.moment(),e.moment()]},value:e.searchForm.time,format:"YYYY-MM-DD"},on:{change:e.onDateRangeChange}})],1),t("a-form-model-item",{staticStyle:{float:"right","margin-right":"0px"}},[t("a-button",{staticClass:"ml-20",staticStyle:{"margin-right":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.submitForm(!0)}}},[e._v(" 查询")]),t("a-button",{on:{click:function(t){return e.resetBtn()}}},[e._v("重置")])],1)],1),t("a-button",{staticStyle:{height:"36px"},attrs:{type:"primary"},on:{click:function(t){return e.add(e.id)}}},[e._v("添加技术主管")]),t("div",{staticStyle:{height:"30px"}}),t("a-table",{staticStyle:{"min-height":"700px"},attrs:{columns:e.columns,"data-source":e.data,rowKey:"id",pagination:e.pagination},scopedSlots:e._u([{key:"action",fn:function(a,i){return t("span",{},[[t("a",{on:{click:function(t){return e.$refs.directorModal.edit(i.id)}}},[e._v("编辑")]),t("a-divider",{attrs:{type:"vertical"}})],t("a",{on:{click:function(t){return e.delOne(i.id)}}},[e._v("移除")])],2)}}])}),t("marketing-director-create",{ref:"createModal",on:{loaddata:e.getList}}),t("marketing-director-edit",{ref:"directorModal",on:{loaddata:e.getList}})],1)],1)},n=[],r=a("5530"),o=a("c1df"),s=a.n(o),m=a("8d06"),g=a("32bd"),l=a("126e"),c={name:"MarketingDirectorList",components:{MarketingDirectorCreate:m["default"],MarketingDirectorEdit:g["default"]},data:function(){return{catList:[],searchForm:{name:"",time:[],begin_time:"",end_time:""},columns:[{title:"姓名",dataIndex:"name",key:"name",scopedSlots:{customRender:"name"}},{title:"绑定团队",dataIndex:"team_name",key:"team_name"},{title:"技术人员",dataIndex:"num",key:"num"},{title:"个人提成",dataIndex:"personal_commission",scopedSlots:{customRender:"personal_commission"}},{title:"团队累计提成",dataIndex:"team_commission",scopedSlots:{customRender:"team_commission"}},{title:"添加时间",dataIndex:"add_time",key:"add_time"},{title:"操作",dataIndex:"action",key:"action",scopedSlots:{customRender:"action"}}],data:[],id:"",pagination:{current:1,total:0,pageSize:10,showSizeChanger:!0,onChange:this.onPageChange,onShowSizeChange:this.onPageSizeChange,showTotal:function(e){return"共 ".concat(e," 条记录")}}}},created:function(){this.getList({is_search:!1})},activated:function(){this.id=this.$route.query.id,this.getList({is_search:!1})},mounted:function(){},watch:{"$route.query.id":function(){this.id=this.$route.query.id,this.getList(this.id)}},methods:{moment:s.a,getList:function(e){var t=this,a=Object(r["a"])({},this.searchForm);delete a.time,1==e.is_search?(a.page=1,this.$set(this.pagination,"current",1)):(a.page=this.pagination.current,this.$set(this.pagination,"current",this.pagination.current)),this.pagination.total>0&&Math.ceil(this.pagination.total/this.pagination.pageSize)<a.page&&(this.pagination.current=0,a.page=1),a.pageSize=this.pagination.pageSize,this.request(l["a"].getMarketingDirectorList,a).then((function(e){t.data=e.list,t.catList=e.catList,t.$set(t.pagination,"total",e.count)}))},onDateRangeChange:function(e,t){this.$set(this.searchForm,"time",[e[0],e[1]]),this.$set(this.searchForm,"begin_time",t[0]),this.$set(this.searchForm,"end_time",t[1])},submitForm:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(r["a"])({},this.searchForm);delete t.time,t.is_search=e,t.tablekey=1,this.getList(t)},resetBtn:function(){this.searchForm=this.$options.data().searchForm,this.createTime=[],this.getList({is_search:!1})},onPageChange:function(e,t){this.$set(this.pagination,"current",e),this.submitForm()},onPageSizeChange:function(e,t){this.$set(this.pagination,"pageSize",t),this.submitForm()},add:function(e){this.$refs.createModal.add(e)},btnClick:function(){alert(2)},delOne:function(e){var t=this;this.$confirm({title:"提示",content:"你确定要移除该技术主管吗？",onOk:function(){t.request(l["a"].getMarketingDirectorDel,{id:e}).then((function(e){t.getList({is_search:!1})}))},onCancel:function(){}})}}},d=c,p=a("2877"),f=Object(p["a"])(d,i,n,!1,null,"6e52f6d3",null);t["default"]=f.exports}}]);