(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20819124"],{"43a08":function(e,t,a){"use strict";a("ba1d")},ba1d:function(e,t,a){},f9df:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{title:e.title,width:900,visible:e.visible,maskClosable:!1,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[t("a-spin",{attrs:{spinning:e.confirmLoading,height:800}},[t("a-form",{staticClass:"prepaid_info",attrs:{form:e.form}},[t("a-form-item",{attrs:{label:"",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("span",{staticClass:"box_width label_col ant-form-item-required"},[e._v("权限方案名称")]),t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["title",{initialValue:e.post.title,rules:[{required:!0,message:e.L("请输入权限方案名称！")}]}],expression:"['title',{ initialValue: post.title,rules: [{ required: true, message: L('请输入权限方案名称！') }] }]"}],staticStyle:{width:"300px"},attrs:{maxLength:30,placeholder:"请输入权限方案名称"}})],1),t("a-form-item",{attrs:{label:"",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("span",{staticClass:"box_width label_col ant-form-item-required"},[e._v("分组名称")]),t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["group_id",{initialValue:e.post.group_id,rules:[{required:!0,message:e.L("请选择分组名称！")}]}],expression:"['group_id',{ initialValue: post.group_id,rules: [{ required: true, message: L('请选择分组名称！') }] }]"}],staticStyle:{width:"300px"},attrs:{"show-search":"","option-filter-prop":"children",placeholder:"请选择分组名称"}},e._l(e.group_list,(function(a){return t("a-select-option",{key:a.id},[e._v(" "+e._s(a.title)+" ")])})),1)],1),t("a-form-item",{attrs:{label:"",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("span",{staticClass:"box_width label_col ant-form-item-required",staticStyle:{float:"left"}},[e._v("选择人员：")]),t("a-col",{attrs:{span:14}},[t("a-tree",{attrs:{"tree-data":e.treeData,"default-expand-all":e.defaultExpandAll,defaultExpandedKeys:[e.treeData[0].key],checkable:""},model:{value:e.post.wid_all,callback:function(t){e.$set(e.post,"wid_all",t)},expression:"post.wid_all"}})],1)],1),t("a-form-item",{attrs:{label:"",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("span",{staticClass:"box_width label_col float_l"},[e._v("备注")]),t("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remarks",{initialValue:e.post.remarks}],expression:"['remarks', { initialValue: post.remarks}]"}],staticStyle:{width:"300px"},attrs:{maxLength:100,placeholder:"请输入备注",rows:4}})],1)],1)],1)],1)},o=[],s=a("a0e0"),l={components:{},data:function(){return{title:"",labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},confirmLoading:!1,form:this.$form.createForm(this),visible:!1,post:{id:0,title:"",remarks:"",wid_all:[]},group_list:[],treeData:[],expandedKeys:[],autoExpandParent:!0,selectedKeys:[],defaultExpandAll:!0}},mounted:function(){},methods:{add:function(){this.title="添加权限方案组",this.visible=!0,this.post={id:0,title:"",remarks:"",group_id:void 0,wid_all:[]},this.getGroupAll(),this.getTissue(this.post.id)},edit:function(e,t){this.title="编辑【"+e+"】",this.post.id=t,this.getGroupAll(),this.getTissue(t)},getGroupAll:function(){var e=this;this.request(s["a"].houseProgrammeGroupAll).then((function(t){e.group_list=t})).catch((function(e){}))},getTissue:function(e){var t=this;this.request(s["a"].houseProgrammeTissueNav).then((function(a){t.treeData=a,t.defaultExpandAll=!1,e>0&&t.getEditInfo()})).catch((function(e){}))},handleSubmit:function(){var e=this,t=this.form.validateFields;this.confirmLoading=!0,t((function(t,a){if(t)e.confirmLoading=!1;else{var i=s["a"].houseProgrammeProgrammeAdd;e.post.id>0&&(i=s["a"].houseProgrammeProgrammeSub),a.wid_all=e.post.wid_all,a.id=e.post.id,e.request(i,a).then((function(t){e.post.id>0?e.$message.success("编辑成功"):e.$message.success("添加成功"),setTimeout((function(){e.form=e.$form.createForm(e),e.visible=!1,e.confirmLoading=!1,console.log(123),e.$emit("ok")}),1500),console.log(345)})).catch((function(t){e.confirmLoading=!1}))}}))},handleCancel:function(){var e=this;this.visible=!1,setTimeout((function(){e.post.id=0,e.form=e.$form.createForm(e)}),500)},getEditInfo:function(){var e=this;this.confirmLoading=!0,this.request(s["a"].houseProgrammeProgrammeQuery,{id:this.post.id}).then((function(t){e.post=t,e.confirmLoading=!1,e.visible=!0}))}}},r=l,n=(a("43a08"),a("0b56")),d=Object(n["a"])(r,i,o,!1,null,"af4fe400",null);t["default"]=d.exports}}]);