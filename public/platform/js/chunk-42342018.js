(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42342018","chunk-2d0c06af"],{4261:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("a-button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"primary"}},[t._v(" Open the message box ")])},i=[],n={downloadExportFile:"/common/common.export/downloadExportFile"},o=n,r="updatable",l={props:{exportUrl:"",queryParam:{}},data:function(){return{file_date:"",file_url:""}},mounted:function(){},methods:{exports:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"加载中,请耐心等待,数量越多时间越长。";this.request(this.exportUrl,this.queryParam).then((function(a){t.$message.loading({content:e,key:r,duration:0}),console.log("添加导出计划任务成功"),t.file_url=o.downloadExportFile+"?id="+a.export_id,t.file_date=a,t.CheckStatus()}))},CheckStatus:function(){var t=this;this.request(this.file_url,{id:this.file_date.export_id}).then((function(e){0==e.error?(t.$message.success({content:"下载成功!",key:r,duration:2}),location.href=e.url):setTimeout((function(){t.CheckStatus(),console.log("重复请求")}),1e3)}))}}},c=l,u=a("2877"),d=Object(u["a"])(c,s,i,!1,null,"dd2f8128",null);e["default"]=d.exports},"502a7":function(t,e,a){},5398:function(t,e,a){"use strict";a.r(e);a("ac1f"),a("841c");var s=function(){var t=this,e=t._self._c;return e("div",[e("a-row",{staticStyle:{margin:"10px 0",display:"flex","align-items":"center"}},[e("a-select",{staticStyle:{width:"120px"},model:{value:t.queryParmas.search_type,callback:function(e){t.$set(t.queryParmas,"search_type",e)},expression:"queryParmas.search_type"}},t._l(t.option1,(function(a,s){return e("a-select-option",{key:a.key,attrs:{value:a.key}},[t._v(t._s(a.label))])})),1),e("a-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入"},model:{value:t.queryParmas.keywords,callback:function(e){t.$set(t.queryParmas,"keywords",e)},expression:"queryParmas.keywords"}}),e("div",{staticClass:"flag"},[e("p",[t._v("状态:")]),e("a-select",{staticStyle:{width:"120px"},model:{value:t.queryParmas.status,callback:function(e){t.$set(t.queryParmas,"status",e)},expression:"queryParmas.status"}},t._l(t.option2,(function(a,s){return e("a-select-option",{key:a.key,attrs:{value:a.key}},[t._v(t._s(a.label))])})),1)],1),e("a-button",{staticStyle:{margin:"10px 10px 10px 3%"},attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")])],1),e("a-table",{staticStyle:{background:"#ffffff"},attrs:{columns:t.columns,rowKey:"id","data-source":t.dataList,pagination:t.pagination},scopedSlots:t._u([{key:"status",fn:function(a,s){return e("span",{},[0==s.status?e("span",{staticStyle:{color:"#faad14"}},[t._v(t._s(s.status_text))]):1==s.status?e("span",{staticStyle:{color:"#52c41a"}},[t._v(t._s(s.status_text))]):e("span",{staticStyle:{color:"red"}},[t._v(t._s(s.status_text))])])}},{key:"operation",fn:function(a,s){return e("span",{},[e("a",{on:{click:function(e){return t.examine(s)}}},[t._v(t._s(0!=s.status?t.L("重新审核"):t.L("审核")))])])}}])}),e("a-modal",{attrs:{destroyOnClose:"",title:"审核",width:"45%",centered:!0,okText:"提交"},on:{ok:t.handleOk},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[e("div",{staticClass:"newBox",staticStyle:{padding:"0 40px"}},[t.detail?e("div",{staticClass:"info-list"},[e("div",[e("div",{staticClass:"info"},[e("span",{staticClass:"h3"},[t._v("订单信息：")])]),e("div",{staticClass:"info"},[e("span",[t._v("订单编号：")]),e("span",[t._v(t._s(t.detail.real_orderid))])]),e("div",{staticClass:"info"},[e("span",[t._v("订单状态：")]),e("span",[t._v(t._s(t.detail.status_text))])]),e("div",{staticClass:"info"},[e("span",[t._v("下单时间：")]),e("span",[t._v(t._s(t.detail.add_time_text))])]),e("div",{staticClass:"info"},[e("span",[t._v("报名费用：")]),e("span",[t._v(t._s(t.detail.price))])]),e("div",{staticClass:"info"},[e("span",[t._v("是否支付：")]),e("span",[t._v(t._s(1==t.detail.paid?"已支付":"未支付"))])]),e("div",{staticClass:"info"},[e("span",[t._v("支付时间：")]),e("span",[t._v(t._s(t.detail.paid_time_text))])]),e("div",{staticClass:"info"},[e("span",[t._v("积分抵扣数：")]),e("span",[t._v(t._s(t.detail.system_score_money))])]),e("div",{staticClass:"info"},[e("span",[t._v("平台优惠券的金额：")]),e("span",[t._v(t._s(t.detail.coupon_price))])]),e("div",{staticClass:"info"},[e("span",{staticClass:"h3"},[t._v("活动信息：")])]),e("div",{staticClass:"info"},[e("span",[t._v("活动名称：")]),e("span",[t._v(t._s(t.detail.competition.title))])]),e("div",{staticClass:"info"},[e("span",[t._v("活动日期：")]),e("span",[t._v(t._s(t.detail.competition.date))])]),e("div",{staticClass:"info"},[e("span",[t._v("活动简介：")]),e("span",{domProps:{innerHTML:t._s(t.detail.competition.content)}})]),e("div",{staticClass:"info"},[e("span",[t._v("活动地址：")]),e("span",[t._v(t._s(t.detail.competition.address))])])]),e("div",{staticClass:"info"},[e("span",{staticClass:"h3"},[t._v("用户提交表单信息：")])])]):t._e(),e("div",{staticClass:"info-list"},[t._l(t.arletItem,(function(a,s){return e("div",{key:s},["image"==a.type?e("div",{},[e("div",{staticClass:"info"},[e("span",[t._v(t._s(a.title)+"：")]),e("div",{staticStyle:{flex:"1"}},t._l(a.show_value,(function(a,s){return e("img",{key:s,attrs:{alt:"暂无图片",src:a},on:{click:function(e){return t.previewImageClick(a)}}})})),0)])]):e("div",{staticClass:"info"},[e("span",[t._v(t._s(a.title)+"：")]),e("span",[t._v(t._s(a.show_value))])])])})),e("div",{staticClass:"info"},[e("span",[t._v("是否审核通过：")]),e("a-radio-group",{attrs:{options:t.plainOptions},model:{value:t.submit.status,callback:function(e){t.$set(t.submit,"status",e)},expression:"submit.status"}})],1),e("div",{staticClass:"info"},[e("span",[t._v("备注：")]),e("a-textarea",{attrs:{"auto-size":{minRows:3,maxRows:6}},model:{value:t.submit.note,callback:function(e){t.$set(t.submit,"note",e)},expression:"submit.note"}})],1)],2)])]),e("a-modal",{attrs:{footer:null},model:{value:t.previewVisible,callback:function(e){t.previewVisible=e},expression:"previewVisible"}},[e("img",{staticStyle:{width:"100%"},attrs:{alt:"暂无图片",src:t.viewImg}})])],1)},i=[],n=a("f9e9"),o={data:function(){return{option1:[{key:1,label:"名称"},{key:2,label:"手机号"},{key:3,label:"赛事名称"}],option2:[{key:null,label:"全部"},{key:0,label:"待审核"},{key:1,label:"审核通过"},{key:2,label:"审核不通过"}],plainOptions:[{value:1,label:"通过"},{value:2,label:"不通过"}],visible:!1,titles:"新建",columns:[{title:this.L("名称"),dataIndex:"nickname",ellipsis:!0},{title:this.L("手机号"),dataIndex:"phone",ellipsis:!0},{title:this.L("审核信息"),dataIndex:"audit_info",ellipsis:!0,scopedSlots:{customRender:"audit_info"}},{title:this.L("赛事名称"),dataIndex:"title",ellipsis:!0},{title:this.L("提交时间"),dataIndex:"submit_time",ellipsis:!0},{title:this.L("审核时间"),dataIndex:"audit_time",ellipsis:!0},{title:this.L("备注"),dataIndex:"remark",ellipsis:!0,scopedSlots:{customRender:"remark"}},{title:this.L("状态"),dataIndex:"status",ellipsis:!0,scopedSlots:{customRender:"status"}},{title:this.L("操作"),width:150,scopedSlots:{customRender:"operation"}}],dataList:[],pagination:{current:1,total:0,pageSize:10,onChange:this.onPageChange,onShowSizeChange:this.onPageSizeChange},arletItem:[],viewImg:"",submit:{status:0,note:""},queryParmas:{keywords:"",search_type:1,status:null,page:1},previewVisible:!1,detail:null,userInfo:null}},created:function(){this.getDataList()},beforeRouteLeave:function(t,e,a){this.$destroy(),a()},methods:{search:function(){this.pagination.current=1,this.getDataList()},getDataList:function(){var t=this;this.queryParmas.page=this.pagination.current,this.queryParmas.page_size=this.pagination.pageSize,this.request(n["a"].getMyAuditList,this.queryParmas).then((function(e){t.dataList=e.data,t.$set(t.pagination,"total",e.total),t.$emit("totalNum",e.total)}))},onPageChange:function(t,e){this.$set(this.pagination,"current",t),this.getDataList()},onPageSizeChange:function(t,e){this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",e),this.getDataList()},examine:function(t){var e=this;this.userInfo=t,this.request(n["a"].getMyAuditInfo,{id:t.id}).then((function(t){e.detail=t,e.arletItem=t.custom_form,e.submit.note=t.remark,e.submit.status=0==t.audit_status?1:t.audit_status,e.visible=!0}))},handleOk:function(){var t=this,e={status:this.submit.status,remark:this.submit.note,id:this.detail.id};this.request(n["a"].audit,e).then((function(e){t.visible=!1,t.getDataList()}))},previewImageClick:function(t){this.viewImg=t,this.previewVisible=!0}}},r=o,l=(a("a7d3"),a("2877")),c=Object(l["a"])(r,s,i,!1,null,"4119a69c",null);e["default"]=c.exports},6496:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mt-10 mb-20 pt-20 pl-20 pr-20 pb-20 bg-ff br-10"},[e("a-tabs",{model:{value:t.aTabsIndex,callback:function(e){t.aTabsIndex=e},expression:"aTabsIndex"}},[e("a-tab-pane",{key:0,attrs:{tab:"赛事列表"}},[e("a-form-model",{staticStyle:{"margin-bottom":"20px"},attrs:{layout:"inline",model:t.searchForm}},[e("a-row",[e("a-col",{attrs:{span:4}},[e("a-form-model-item",{attrs:{label:"活动名称"}},[e("a-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入活动名称"},model:{value:t.searchForm.title,callback:function(e){t.$set(t.searchForm,"title",e)},expression:"searchForm.title"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-model-item",{attrs:{label:"活动时间"}},[e("a-range-picker",{attrs:{ranges:{"过去30天":[t.moment().subtract(30,"days"),t.moment()],"过去15天":[t.moment().subtract(15,"days"),t.moment()],"过去7天":[t.moment().subtract(7,"days"),t.moment()],"今日":[t.moment(),t.moment()]},value:t.searchForm.time,format:"YYYY-MM-DD"},on:{change:t.onDateRangeChange}})],1)],1),e("a-col",{attrs:{span:4}},[e("a-form-model-item",[e("a-button",{attrs:{type:"primary",icon:"search"},on:{click:function(e){return t.getSportList()}}},[t._v(" 查询")])],1)],1)],1)],1),e("div",[e("a-form-model-item",[e("a-button",{staticClass:"maxbox",attrs:{type:"primary"},on:{click:function(e){return t.$refs.editPlatformSports.edit(0)}}},[t._v(" 添加赛事")])],1)],1),e("a-table",{attrs:{columns:t.columns,"data-source":t.data,rowKey:"competition_id"},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"look",fn:function(a,s){return e("span",{},[e("a",{staticClass:"ml-10 inline-block",on:{click:function(e){return t.$refs.userRecordList.showRes(s.competition_id)}}},[t._v("查看")])])}},{key:"action",fn:function(a,s){return e("span",{},[e("a",{staticClass:"ml-10 inline-block",on:{click:function(e){return t.editAct(s.competition_id)}}},[t._v("编辑赛事")]),1==s.status?e("a",{staticClass:"ml-10 inline-block",on:{click:function(e){return t.closeAct(s.competition_id,s.status)}}},[t._v("关闭赛事")]):t._e(),0==s.status?e("a",{staticClass:"ml-10 inline-block",staticStyle:{color:"red"},on:{click:function(e){return t.closeAct(s.competition_id,s.status)}}},[t._v("打开赛事")]):t._e(),e("a",{staticClass:"ml-10 inline-block",on:{click:function(e){return t.delAct(s.competition_id)}}},[t._v("删除赛事")])])}}])}),e("user-record-list",{ref:"userRecordList",on:{getSportList:t.getSportList}}),e("edit-platform-sports",{ref:"editPlatformSports",on:{getSportList:t.getSportList}})],1),e("a-tab-pane",{key:1,attrs:{tab:"我的审核("+t.wait_audit+")"}},[e("sports-my-review",{on:{totalNum:t.totalNum}})],1)],1)],1)},i=[],n=(a("ac1f"),a("5319"),a("d81d"),a("c1df")),o=a.n(n),r=a("f9e9"),l=(a("202f"),a("c76d")),c=a("a4f2"),u=a("5398"),d=(a("0808"),a("6944")),p=a.n(d),m=a("8bbf"),h=a.n(m);h.a.use(p.a);var f=[],_=[{title:"活动名称",dataIndex:"title",scopedSlots:{customRender:"title"}},{title:"活动时间",dataIndex:"activity_time",scopedSlots:{customRender:"activity_time"}},{title:"活动地点",dataIndex:"address",slots:{customRender:"address"}},{title:"报名费用",dataIndex:"price",scopedSlots:{customRender:"price"},align:"center"},{title:"查看报名信息",scopedSlots:{customRender:"look"},align:"center"},{title:"操作",dataIndex:"tools_id",key:"tools_id",scopedSlots:{customRender:"action"},align:"center"}],v={name:"PlatformSports",components:{EditPlatformSports:c["default"],UserRecordList:l["default"],SportsMyReview:u["default"]},data:function(){return{total_num:0,visible:!1,columns:_,selectedRows:f,data:[],areaList:[],formData:{},searchForm:{title:"",time:[],start_time:"",end_time:""},queryParam:{page:1,pageSize:10,education:-1,job_age:"",status:-1,keywords:"",cates:"",mer_id:0},aTabsIndex:0,wait_audit:0}},created:function(){this.getSportList(),this.getMyAuditCount()},activated:function(){this.getSportList(),this.getMyAuditCount()},methods:{moment:o.a,reset:function(){this.data=[],this.getSportList()},onDateRangeChange:function(t,e){this.$set(this.searchForm,"time",[t[0],t[1]]),this.$set(this.searchForm,"start_time",e[0]),this.$set(this.searchForm,"end_time",e[1])},closeAct:function(t,e){var a=this;e=e?0:1,this.request(r["a"].closeCompetition,{competition_id:t,status:e}).then((function(t){a.getSportList()}))},editAct:function(t){this.$refs.editPlatformSports.edit(t)},getSportList:function(){var t=this;this.selectedRows=[],this.request(r["a"].getSportList,this.searchForm).then((function(e){t.data=e.list,t.total_num=e.total}))},delAct:function(t){var e=this;this.$confirm({title:"是否删除赛事",content:"",okText:"确认",cancelText:"取消",onOk:function(){e.request(r["a"].delSport,{competition_id:t}).then((function(t){e.getSportList()}))},onCancel:function(){console.log("Cancel"),e.currentBtn=""},class:"test"})},backfnc:function(){this.$router.replace("/new_marketing/platform/regionalAgencyList")},clikPersent:function(){alert(13123)},handleUpdate:function(){this.getSportList()},changeArea:function(t){this.formData.province_id=t[0]||0,this.formData.city_id=t[1]||0,this.formData.area_id=t[2]||0,this.formData.check_areaList=[t[0],t[1],t[2]]},date_moment:function(t,e){return t?o()(t,e):null},delData:function(t){var e=this;this.$confirm({title:"是否确定移除该区域代理?",centered:!0,onOk:function(){e.request(r["a"].delRegionalAgency,{id:t}).then((function(t){e.$set(e.pagination,"current",1),e.getSportList()}))},onCancel:function(){}})},onSelectChange:function(t,e){var a=this;this.selectedRows=[],this.total_num=e.length,this.achievement=0;var s=0;e.length&&e.map((function(t){a.selectedRows.push(t.id),s+=1*t.total_performance})),this.achievement=s},handleTableChange:function(t){t.current&&t.current>0&&(this.queryParam["page"]=t.current)},onPageChange:function(t,e){this.queryParam.page=t,this.$set(this.pagination,"current",t)},onPageSizeChange:function(t,e){this.$set(this.pagination,"pageSize",e)},totalNum:function(t){this.getMyAuditCount()},getMyAuditCount:function(){var t=this;this.request(r["a"].getMyAuditCount,{}).then((function(e){t.wait_audit=e.wait_audit}))}}},g=v,y=(a("7d30"),a("2877")),b=Object(y["a"])(g,s,i,!1,null,"651abebd",null);e["default"]=b.exports},"7d30":function(t,e,a){"use strict";a("502a7")},a7d3:function(t,e,a){"use strict";a("cfab")},c76d:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"components-layout-demo-basic"}},[e("a-modal",{attrs:{title:t.title,width:"60%",visible:t.confirmShow,footer:null},on:{cancel:t.handleCancelModel}},[e("a-row",[e("a-input-group",{attrs:{compact:""}},[e("a-select",{staticStyle:{width:"100px"},model:{value:t.queryParam.search_type,callback:function(e){t.$set(t.queryParam,"search_type",e)},expression:"queryParam.search_type"}},[e("a-select-option",{attrs:{value:"1"}},[t._v("姓名")]),e("a-select-option",{attrs:{value:"2"}},[t._v("手机号")])],1),e("a-input",{staticStyle:{width:"200px"},model:{value:t.queryParam.keywords,callback:function(e){t.$set(t.queryParam,"keywords",e)},expression:"queryParam.keywords"}}),e("a-button",{attrs:{type:"primary"},on:{click:t.onSearch}},[t._v("搜索")]),e("span",{staticStyle:{"margin-left":"50px","line-height":"32px"}},[t._v("状态：")]),e("a-select",{staticStyle:{width:"100px"},on:{change:t.onChange},model:{value:t.queryParam.status,callback:function(e){t.$set(t.queryParam,"status",e)},expression:"queryParam.status"}},[e("a-select-option",{attrs:{value:null}},[t._v("全部")]),e("a-select-option",{attrs:{value:10}},[t._v("已支付")]),e("a-select-option",{attrs:{value:1}},[t._v("报名成功")]),e("a-select-option",{attrs:{value:2}},[t._v("报名失败")])],1),e("span",{staticStyle:{"margin-left":"50px","line-height":"32px"}},[t._v("审核状态：")]),e("a-select",{staticStyle:{width:"100px"},on:{change:t.onChange},model:{value:t.queryParam.audit_status,callback:function(e){t.$set(t.queryParam,"audit_status",e)},expression:"queryParam.audit_status"}},[e("a-select-option",{attrs:{value:null}},[t._v("全部")]),e("a-select-option",{attrs:{value:0}},[t._v("待审核")]),e("a-select-option",{attrs:{value:1}},[t._v("审核中")]),e("a-select-option",{attrs:{value:2}},[t._v("审核成功")]),e("a-select-option",{attrs:{value:3}},[t._v("审核失败")])],1),e("a-button",{staticStyle:{"margin-left":"50px"},attrs:{type:"primary"},on:{click:t.onReset}},[t._v("重置")]),e("a-button",{staticStyle:{float:"right"},attrs:{icon:"download"},on:{click:t.getExport}},[t._v(" 导出")])],1)],1),e("a-row",{staticStyle:{"margin-top":"20px"}},[e("a-table",{attrs:{columns:t.columns,rowKey:"pigcms_id","data-source":t.data,pagination:t.pagination},on:{change:t.changePage},scopedSlots:t._u([{key:"status",fn:function(a,s){return e("span",{},[e("a",[t._v(t._s(s.status_text))])])}},{key:"need_pay",fn:function(a,s){return e("span",{},[0==s.need_pay?e("a",[t._v("不需要")]):t._e(),1==s.need_pay?e("a",[t._v("需要")]):t._e()])}},{key:"paid",fn:function(a,s){return e("span",{},[0==s.paid?e("a",[t._v("未支付")]):t._e(),1==s.paid?e("a",[t._v("已支付")]):t._e()])}},{key:"audit_status",fn:function(a,s){return e("span",{},[e("a-popover",{attrs:{placement:"rightTop"}},[e("template",{slot:"content"},[e("div",[e("a-table",{attrs:{rowKey:"id",columns:t.statusColumns,"data-source":s.audit_list},scopedSlots:t._u([{key:"status",fn:function(a,s){return e("span",{},[0==s.status?e("span",{staticStyle:{color:"#faad14"}},[t._v("待审核")]):1==s.status?e("span",{staticStyle:{color:"#52c41a"}},[t._v("审核通过")]):2==s.status?e("span",{staticStyle:{color:"#f5222d"}},[t._v("审核失败")]):t._e()])}}],null,!0)})],1)]),0==s.audit_status||1==s.audit_status?e("span",{staticStyle:{color:"#faad14"}},[t._v(t._s(s.audit_status_text))]):3==s.audit_status?e("span",{staticStyle:{color:"#f5222d"}},[t._v(t._s(s.audit_status_text))]):2==s.audit_status?e("span",{staticStyle:{color:"#52c41a"}},[t._v(t._s(s.audit_status_text))]):t._e()],2)],1)}}])})],1)],1),e("export-add",{ref:"ExportAddModal",attrs:{exportUrl:t.exportUrl,queryParam:t.searchForm}})],1)},i=[],n=(a("d81d"),a("f9e9")),o=a("4261"),r=[{title:"姓名",dataIndex:"name",scopedSlots:{customRender:"name"}},{title:"手机号",dataIndex:"phone",scopedSlots:{customRender:"phone"}},{title:"报名费",dataIndex:"price",scopedSlots:{customRender:"price"}},{title:"状态",dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"是否需要报名费",dataIndex:"need_pay",scopedSlots:{customRender:"need_pay"}},{title:"审核状态",dataIndex:"audit_status",scopedSlots:{customRender:"audit_status"}},{title:"支付时间",dataIndex:"pay_time_text",scopedSlots:{customRender:"pay_time_text"}}],l={name:"userRecordList",components:{ExportAdd:o["default"]},data:function(){return{title:"报名列表",sortLoading:!1,confirmShow:!1,is_res:!1,data:[],competition_id:0,exportUrl:n["a"].exportUserOrder,searchForm:{type:"pc",competition_id:"",act:"all",pay:"all"},queryParam:{competition_id:0,page:1,page_size:10,search_type:"1",status:null,keywords:"",audit_status:null},columns:r,pagination:{pageSize:10,total:0,current:1,page:1},statusColumns:[{title:"名称",dataIndex:"name"},{title:"审核",dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"备注",dataIndex:"remark"}],statusData:[]}},methods:{showRes:function(t){this.confirmShow=!0,this.searchForm.competition_id=this.competition_id=t,this.getUserList()},handleCancelModel:function(){this.confirmShow=!1,this.$emit("getSportList")},getUserList:function(){var t=this;this.queryParam.competition_id=this.competition_id,this.queryParam.page=this.pagination.current,this.queryParam.page_size=this.pagination.pageSize,this.request(n["a"].lookCompetitionUser,this.queryParam).then((function(e){t.data=e.data,t.pagination.total=e.total}))},handleTableChange:function(t){t.current&&t.current>0&&(this.queryParam["page"]=t.current,this.getJobList())},getExport:function(){this.data.length?this.request(this.exportUrl,this.queryParam).then((function(t){t.file_url&&window.open(t.file_url)})):this.$message.warn("当前没有可以导出的内容")},onPageChange:function(t,e){this.$set(this.pagination,"current",t),this.getJobList()},onPageSizeChange:function(t,e){this.$set(this.pagination,"pageSize",e),this.getJobList()},childDel:function(t){var e=this;this.$confirm({title:"你确定解除此技师吗?",centered:!0,onOk:function(){e.request(mallMerchantApi.delJob,{ids:t}).then((function(t){e.$message.success("解除成功！"),e.getJobList()}))},onCancel:function(){}})},onSelectChange:function(t,e){var a=this;this.selectedRows=[],e.length&&e.map((function(t){a.selectedRows.push(t.id)}))},handleUpdate:function(){this.getJobList()},handleCancel:function(){this.phone="",this.confirmShow=!1,this.detail=""},sureEdit:function(){var t=this;this.is_res?this.request(mallMerchantApi.authentica,{id:this.person_id,uid:this.uid,detail:this.detail}).then((function(e){t.$message.success("已经提交申请，请等待审核结果！"),t.phone="",t.confirmShow=!1,t.detail="",t.uid=0,t.person_id=0,t.getJobList()})):this.$message.error("请输入有效的技师账号(手机号)验证！")},resJob:function(){var t=this;this.request(mallMerchantApi.resJob,{phone:this.phone}).then((function(e){e.uid?(t.is_res=!0,t.msg="该账号可申请认证",t.uid=e.uid,t.avatar=e.avatar):(t.is_res=!1,t.msg="该账号不存在或者已经被认证")}))},changePage:function(t,e){this.pagination.current=t.current,this.getUserList()},onSearch:function(){this.getUserList()},onChange:function(){this.getUserList()},onReset:function(){this.queryParam={competition_id:0,page:1,page_size:10,search_type:"1",status:null,audit_status:null,keywords:""},this.pagination={pageSize:10,total:0,current:1,page:1},this.getUserList()}}},c=l,u=a("2877"),d=Object(u["a"])(c,s,i,!1,null,"2a6fcd3d",null);e["default"]=d.exports},cfab:function(t,e,a){}}]);