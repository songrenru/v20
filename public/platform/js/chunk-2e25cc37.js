(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e25cc37"],{"26cc":function(t,i,e){"use strict";var s={getActivityList:"/common/platform.PrivateDomainFlow/activityLists",getShowPages:"/common/platform.PrivateDomainFlow/pages",getUserList:"/common/platform.Crm/users",saveActivity:"/common/platform.PrivateDomainFlow/saveActivity",delActivity:"/common/platform.PrivateDomainFlow/delActivity",getActivityInfo:"/common/platform.PrivateDomainFlow/showActivity",getAllArea:"/common/platform.area.Area/getAllArea",assignArea:"/common/platform.PrivateDomainFlow/assignArea",alertTemplates:"/common/platform.PrivateDomainFlow/alertTemplates",hoverTemplates:"/common/platform.PrivateDomainFlow/hoverTemplates",getStoreList:"/common/platform.PrivateDomainFlow/storeLists",assignStore:"/common/platform.PrivateDomainFlow/assignStore",makeupPic:"/common/platform.PrivateDomainFlow/buildAlertPic",isBind:"/common/platform.Crm/isBind",register:"/common/platform.Crm/register",getLoginUrl:"/common/platform.Crm/getLoginUrl"};i["a"]=s},5866:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"pic-online"},[e("a-modal",{attrs:{title:"在线制图",width:"70%",destroyOnClose:""},on:{ok:t.handleOk},model:{value:t.visible,callback:function(i){t.visible=i},expression:"visible"}},[e("div",{staticClass:"content"},[e("div",{staticClass:"left"},[e("a-row",{staticClass:"row",attrs:{gutter:16}},[e("a-col",{staticClass:"left-title",attrs:{span:t.labelWidth}},[t._v(" "+t._s("alert_pic"==t.type?"背景底图":"悬浮底图")+" : ")]),e("a-col",{staticClass:"right-cont",attrs:{span:t.contentWidth}},[e("div",{staticClass:"pic-con"},t._l(t.picList,(function(i,s){return e("div",{key:i.id,staticClass:"pic",class:i.selected?"active":"",style:"alert_pic"==t.type?"":"width:100px;height:100px"},[e("img",{attrs:{src:i.pic},on:{click:function(i){return t.handlePicSelected(s)}}})])})),0)])],1),"alert_pic"==t.type?e("a-row",{staticClass:"row",attrs:{gutter:16}},[e("a-col",{staticClass:"left-title",attrs:{span:t.labelWidth}},[e("span",{staticClass:"cr-red"},[t._v("*")]),t._v(" 主标题: ")]),e("a-col",{staticClass:"right-cont",attrs:{span:t.contentWidth}},[e("a-input",{attrs:{placeholder:"请输入主标题"},model:{value:t.title,callback:function(i){t.title=i},expression:"title"}})],1)],1):t._e(),"alert_pic"==t.type?e("a-row",{staticClass:"row",attrs:{gutter:16}},[e("a-col",{staticClass:"left-title",attrs:{span:t.labelWidth}},[e("span",{staticClass:"cr-red"},[t._v("*")]),t._v(" 副标题: ")]),e("a-col",{staticClass:"right-cont",attrs:{span:t.contentWidth}},[e("a-input",{attrs:{placeholder:"请输入副标题"},model:{value:t.subTitle,callback:function(i){t.subTitle=i},expression:"subTitle"}})],1)],1):t._e()],1),e("div",{staticClass:"right"},["alert_pic"==t.type?e("div",{staticClass:"show-img"},[e("img",{attrs:{src:t.selectPic}}),e("div",{staticClass:"text-cont",style:t.titleStyle},[e("div",{staticClass:"title"},[t._v(t._s(t.title))]),e("div",{staticClass:"sub-title"},[t._v(t._s(t.subTitle))])])]):e("div",{staticClass:"show-img2"},[e("img",{attrs:{src:t.selectPic}})])])])])],1)},c=[],a=(e("d81d"),e("d3b7"),e("159b"),e("26cc")),l={name:"PrivateFlowPicOnline",data:function(){return{labelWidth:4,contentWidth:16,visible:!1,type:"",alertPics:[],hoverPics:[],picList:[],title:"",subTitle:"",selectPic:"",selectPicId:"",titleStyle:""}},watch:{selectPicId:function(t){"alert_pic"==this.type&&(this.titleStyle=1==t?"top:80px":2==t?"top:280px;color: #ffffff":3==t?"top:200px;color: #ffffff":4==t?"top:160px":"")}},methods:{openDialog:function(t){this.title="",this.subTitle="",this.type=t,"alert_pic"==t&&this.getAlertPic(),"hover_pic"==t&&this.getHoverPic(),this.visible=!0},getAlertPic:function(){var t=this;this.alertPics.length?(this.picList=JSON.parse(JSON.stringify(this.alertPics)),this.selectPic=this.alertPics[0].pic,this.selectPicId=this.alertPics[0].id):this.request(a["a"].alertTemplates).then((function(i){t.alertPics=i.map((function(i,e){return i.selected=!1,0==e&&(t.selectPic=i.pic,t.selectPicId=i.id,i.selected=!0),i})),t.picList=JSON.parse(JSON.stringify(t.alertPics))}))},getHoverPic:function(){var t=this;this.hoverPics.length?(this.picList=JSON.parse(JSON.stringify(this.hoverPics)),this.selectPic=this.hoverPics[0].pic,this.selectPicId=this.hoverPics[0].id):this.request(a["a"].hoverTemplates).then((function(i){t.hoverPics=i.map((function(i,e){return i.selected=!1,0==e&&(t.selectPic=i.pic,t.selectPicId=i.id,i.selected=!0),i})),t.picList=JSON.parse(JSON.stringify(t.hoverPics))}))},handlePicSelected:function(t){var i=this;this.picList.forEach((function(e,s){e.selected=!1,s==t&&(e.selected=!0,i.selectPic=e.pic,i.selectPicId=e.id)})),this.$set(this,"picList",this.picList)},handleOk:function(){var t=this;if("alert_pic"==this.type){if(!this.title||!this.subTitle)return void this.$message.error("请输入主标题和副标题");this.request(a["a"].makeupPic,{title:this.title,sub_title:this.subTitle,tpl_id:this.selectPicId}).then((function(i){t.$emit("finish",{url:i.url,type:t.type})}))}else this.$emit("finish",{url:this.selectPic,type:this.type});this.visible=!1}}},o=l,r=(e("de0b0"),e("2877")),n=Object(r["a"])(o,s,c,!1,null,"3e70a0bc",null);i["default"]=n.exports},de0b0:function(t,i,e){"use strict";e("fdd9")},fdd9:function(t,i,e){}}]);