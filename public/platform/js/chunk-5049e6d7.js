(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5049e6d7","chunk-311632ce","chunk-cd0f78d8","chunk-73fa24fc"],{2105:function(t,i,e){t.exports=e.p+"img/store.2ba4f2c3.png"},"343b":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t._self._c;return i("div",[i("a-modal",{attrs:{title:t.title,width:960,visible:t.visible,confirmLoading:t.confirmLoading,footer:null,centered:!0},on:{cancel:t.handleCancel}},[i("div",{staticStyle:{"margin-left":"80%"}},[i("a-button",{on:{click:t.get_floor_info}},[t._v("查看楼栋信息")])],1),i("div",{staticClass:"container"},t._l(t.list,(function(s,o){return i("div",{key:s.floor_id,staticClass:"box"},[i("div",{staticClass:"box_content"},[i("img",{staticStyle:{height:"55px",width:"55px",cursor:"pointer"},attrs:{src:e("e829")},on:{click:function(i){return t.get_layer_list(s.floor_id)}}})]),i("div",{staticClass:"box_content"},[t._v("单元名："+t._s(s.floor_name))]),i("div",{staticClass:"box_content"},[t._v("人口数："+t._s(s.count))]),i("div",{staticClass:"box_content"},[i("img",{staticStyle:{height:"30px",width:"30px",cursor:"pointer"},attrs:{src:e("b2d7")},on:{click:function(i){return t.door_open_list(s.village_id,s.floor_id)}}})])])})),0)]),i("single-info",{ref:"singleInfoModal"}),i("layer-info-form",{ref:"layerInfoFormModal"}),i("door-info-form",{ref:"doorInfoFormModal"})],1)},o=[],a=e("567c"),n=e("f901"),l=e("e016"),c=e("8bf5"),r={components:{DoorInfo:n["default"],SingleInfo:l["default"],LayerInfoForm:c["default"],DoorInfoForm:n["default"]},data:function(){return{visible:!1,confirmLoading:!1,size:"large",title:"",list:"",single_info:""}},methods:{handleCancel:function(){this.visible=!1},add:function(t,i){this.title=i,this.single_id=t,this.visible=!0,this.get_floor_list()},get_floor_list:function(){var t=this;this.request(a["a"].getFloorInfo,{single_id:this.single_id}).then((function(i){t.list=i,""==i&&alert("该楼栋下暂无单元")}))},edit_attr:function(){this.type=!this.type},get_floor_info:function(){var t=this;this.request(a["a"].getSingleInfo,{single_id:this.single_id}).then((function(i){t.single_info=i,t.$refs.singleInfoModal.add(i.single_name,i.measure_area,i.upper_layer_num,i.people_count,i.floor_count,i.room_count,i.grid_name,i.grid_phone)}))},get_layer_list:function(t){var i=this;this.request(a["a"].getLayerInfo,{floor_id:t}).then((function(t){i.$refs.layerInfoFormModal.add(i.title,t.list,t.home,t.store,t.com)}))},door_open_list:function(t,i){this.$refs.doorInfoFormModal.add(t,i)}}},d=r,u=(e("9afe"),e("0b56")),f=Object(u["a"])(d,s,o,!1,null,"25a58d6e",null);i["default"]=f.exports},"3a99":function(t,i,e){},"55c3":function(t,i,e){"use strict";e("aff2")},5712:function(t,i,e){t.exports=e.p+"img/right.19306875.png"},"59aa":function(t,i,e){t.exports=e.p+"img/com.a20df54c.png"},"5afe":function(t,i,e){"use strict";e("3a99")},"70c7":function(t,i,e){t.exports=e.p+"img/layer.a3a1a1a5.png"},"8bf5":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t._self._c;return i("div",[i("a-modal",{attrs:{title:t.title,width:990,visible:t.visible,confirmLoading:t.confirmLoading,footer:null,centered:!0},on:{cancel:t.handleCancel}},[i("div",{staticClass:"container"},[i("div",{staticStyle:{"margin-left":"590px",height:"20px"}},[i("div",{staticStyle:{"margin-left":"-600px"}},[i("a",{on:{click:t.close}},[t._v("<< 返回上级")])]),i("div",{staticClass:"house_type"},[i("div",{staticClass:"radio",staticStyle:{"background-color":"dodgerblue"}}),i("div",{staticClass:"tips"},[t._v("住宅（"+t._s(t.home)+"）")])]),i("div",{staticClass:"house_type"},[i("div",{staticClass:"radio",staticStyle:{"background-color":"green"}}),i("div",{staticClass:"tips"},[t._v("办公（"+t._s(t.com)+"）")])]),i("div",{staticClass:"house_type"},[i("div",{staticClass:"radio",staticStyle:{"background-color":"purple"}}),i("div",{staticClass:"tips"},[t._v("商铺（"+t._s(t.store)+"）")])])]),i("div",{staticStyle:{height:"530px",width:"100%","margin-top":"20px","overflow-y":"auto"}},t._l(t.list,(function(s,o){return i("div",{staticClass:"layer"},[i("div",{staticClass:"content",staticStyle:{height:"115px",width:"96px","border-radius":"5px","background-color":"dodgerblue"}},[i("div",{staticStyle:{width:"38px",height:"50px","margin-left":"29px","margin-top":"15px"}},[i("img",{staticStyle:{height:"50px",width:"38px"},attrs:{src:e("70c7")}})]),i("div",{staticStyle:{"margin-top":"15px","text-align":"center"}},[i("span",{staticStyle:{color:"whitesmoke"}},[t._v(t._s(s.layer_name))])])]),i("div",{staticClass:"content",staticStyle:{height:"115px","text-align":"center",float:"left",width:"816px"}},[i("div",{staticClass:"detail",staticStyle:{width:"50px",float:"left","text-align":"center","line-height":"115px"}},[s.room_list.length>1?i("img",{staticStyle:{height:"30px",width:"30px",cursor:"pointer"},attrs:{src:e("9207")},on:{click:function(i){return t.leftmove(o)}}}):t._e()]),i("div",{staticClass:"detail",staticStyle:{float:"left",width:"712px","overflow-x":"hidden","overflow-y":"hidden"}},[i("ul",{staticClass:"module-list",style:{width:100*s.room_list.length+"px"}},t._l(s.room_list,(function(s,o){return i("li",{staticStyle:{cursor:"pointer"},on:{click:function(i){return t.get_room_list(s.pigcms_id)}}},[i("div",{staticStyle:{height:"75px","line-height":"75px"}},[1==s.house_type?i("img",{attrs:{src:e("fbf5")}}):2==s.house_type?i("img",{attrs:{src:e("2105")}}):i("img",{attrs:{src:e("59aa")}})]),i("div",{staticStyle:{height:"40px","line-height":"40px"}},[t._v(" "+t._s(s.room)+" ")])])})),0)]),i("div",{staticClass:"detail",staticStyle:{width:"50px",float:"right","text-align":"center","line-height":"115px"}},[s.room_list.length>1?i("img",{staticStyle:{height:"30px",width:"30px",cursor:"pointer"},attrs:{src:e("5712")},on:{click:function(i){return t.rightmove(o,s.room_list.length)}}}):t._e()])])])})),0)])]),i("room-info-form",{ref:"roomInfoFormModal"})],1)},o=[],a=e("d208"),n={components:{RoomInfoForm:a["default"]},data:function(){return{visible:!1,confirmLoading:!1,title:"",list:"",home:"",store:"",com:"",num:[]}},methods:{add:function(t,i,e,s,o){if(this.title=t,this.list=i,i){var a=i.length,n=0;for(n=0;n<a;n++)this.num[n]=0}this.home=e,this.com=o,this.store=s,this.visible=!0},handleCancel:function(){this.visible=!1},leftmove:function(t){this.num[t]<0&&(this.num[t]+=3);var i=document.getElementsByClassName("module-list");i[t].style.marginLeft=100*this.num[t]+"px"},rightmove:function(t,i){var e=100*i-700,s=100*this.num[t];e>-s&&(this.num[t]-=3);var o=document.getElementsByClassName("module-list");o[t].style.marginLeft=100*this.num[t]+"px"},get_room_list:function(t){this.$refs.roomInfoFormModal.add(t,this.title)},close:function(){this.visible=!1}}},l=n,c=(e("eb905"),e("0b56")),r=Object(c["a"])(l,s,o,!1,null,"360af394",null);i["default"]=r.exports},9207:function(t,i,e){t.exports=e.p+"img/left.c7cd0c6b.png"},"9afe":function(t,i,e){"use strict";e("f1e1")},aff2:function(t,i,e){},b2d7:function(t,i,e){t.exports=e.p+"img/door.6c67640f.png"},d208:function(t,i,e){"use strict";e.r(i);e("54f8");var s=function(){var t=this,i=t._self._c;return i("div",[i("a-modal",{attrs:{title:t.title,width:990,visible:t.visible,confirmLoading:t.confirmLoading,footer:null,centered:!0},on:{cancel:t.handleCancel}},[i("div",{staticClass:"container"},[i("div",{staticStyle:{"margin-left":"400px",height:"20px"}},[i("div",{staticStyle:{"margin-left":"-400px"}},[i("a",{on:{click:t.close}},[t._v("<< 返回上级")])]),1==t.house_type?i("div",[i("div",{staticClass:"house_type"},[i("div",{staticClass:"radio",staticStyle:{"background-color":"dodgerblue"}}),i("div",{staticClass:"tips"},[t._v("业主（"+t._s(t.count[0])+"）")])]),i("div",{staticClass:"house_type"},[i("div",{staticClass:"radio",staticStyle:{"background-color":"green"}}),i("div",{staticClass:"tips"},[t._v("配偶（"+t._s(t.count[1])+"）")])]),i("div",{staticClass:"house_type"},[i("div",{staticClass:"radio",staticStyle:{"background-color":"purple"}}),i("div",{staticClass:"tips"},[t._v("子女（"+t._s(t.count[2])+"）")])]),i("div",{staticClass:"house_type"},[i("div",{staticClass:"radio",staticStyle:{"background-color":"yellow"}}),i("div",{staticClass:"tips"},[t._v("亲朋好友（"+t._s(t.count[3])+"）")])]),i("div",{staticClass:"house_type"},[i("div",{staticClass:"radio",staticStyle:{"background-color":"lightblue"}}),i("div",{staticClass:"tips"},[t._v("租客（"+t._s(t.count[7])+"）")])])]):i("div",[i("div",{staticClass:"house_type"},[i("div",{staticClass:"radio",staticStyle:{"background-color":"dodgerblue"}}),i("div",{staticClass:"tips"},[t._v("业主（"+t._s(t.count[0])+"）")])]),i("div",{staticClass:"house_type"},[i("div",{staticClass:"radio",staticStyle:{"background-color":"green"}}),i("div",{staticClass:"tips"},[t._v("配偶（"+t._s(t.count[1])+"）")])]),i("div",{staticClass:"house_type"},[i("div",{staticClass:"radio",staticStyle:{"background-color":"purple"}}),i("div",{staticClass:"tips"},[t._v("子女（"+t._s(t.count[2])+"）")])]),i("div",{staticClass:"house_type"},[i("div",{staticClass:"radio",staticStyle:{"background-color":"yellow"}}),i("div",{staticClass:"tips"},[t._v("亲朋好友（"+t._s(t.count[3])+"）")])]),i("div",{staticClass:"house_type"},[i("div",{staticClass:"radio",staticStyle:{"background-color":"deepskyblue"}}),i("div",{staticClass:"tips"},[t._v("老板（"+t._s(t.count[4])+"）")])]),i("div",{staticClass:"house_type"},[i("div",{staticClass:"radio",staticStyle:{"background-color":"cornflowerblue"}}),i("div",{staticClass:"tips"},[t._v("人事（"+t._s(t.count[5])+"）")])]),i("div",{staticClass:"house_type"},[i("div",{staticClass:"radio",staticStyle:{"background-color":"darkseagreen"}}),i("div",{staticClass:"tips"},[t._v("财务（"+t._s(t.count[6])+"）")])]),i("div",{staticClass:"house_type"},[i("div",{staticClass:"radio",staticStyle:{"background-color":"lightblue"}}),i("div",{staticClass:"tips"},[t._v("租客/员工（"+t._s(t.count[7])+"）")])])])]),i("div",{staticStyle:{height:"530px",width:"100%","margin-top":"40px","overflow-y":"auto"}},[i("table",{staticStyle:{width:"100%"},attrs:{rules:"rows"}},[i("thead",[i("tr",{staticStyle:{"background-color":"#FAFAFA",height:"50px"}},[i("th",{attrs:{width:"15%"}},[t._v("姓名")]),i("th",{attrs:{width:"20%"}},[t._v("手机号码")]),i("th",{attrs:{width:"25%"}},[t._v("地址")]),i("th",{attrs:{width:"25%"}},[t._v("身份")]),i("th",{attrs:{width:"15%"}},[t._v("操作")])])]),i("tbody",t._l(t.user_list,(function(e){return i("tr",{staticStyle:{height:"50px"}},[i("td",[t._v(t._s(e.name))]),i("td",[t._v(t._s(e.phone))]),i("td",[t._v(t._s(e.address))]),i("td",[t._v(t._s(e.relation))]),i("td",{staticStyle:{cursor:"pointer"},on:{click:function(i){return t.get_user_info(e.pigcms_id,e)}}},[t._v("查看")])])})),0)])])])]),i("user-info-form",{ref:"userInfoFormModal"})],1)},o=[],a=e("567c"),n=e("f595"),l={components:{UserInfoForm:n["default"]},data:function(){return{visible:!1,confirmLoading:!1,title:"",home:"",store:"",com:"",pigcms_id:"",user_list:"",count:"",house_type:0}},methods:{add:function(t,i){this.title=i,this.pigcms_id=t,this.get_room_user_list(this.pigcms_id),this.visible=!0},get_room_user_list:function(t){var i=this;this.request(a["a"].getRoomUserList,{vacancy_id:t}).then((function(t){console.log(t),i.user_list=t["list"],i.count=t["count"],i.house_type=t["house_type"]}))},get_user_info:function(t,i){this.$refs.userInfoFormModal.edit(t,i)},handleCancel:function(){this.visible=!1},close:function(){this.visible=!1}}},c=l,r=(e("55c3"),e("0b56")),d=Object(r["a"])(c,s,o,!1,null,"d17c56a8",null);i["default"]=d.exports},e016:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t._self._c;return i("div",[i("a-modal",{attrs:{title:"查看楼栋信息",width:640,visible:t.visible,confirmLoading:t.confirmLoading,footer:null,centered:!0},on:{cancel:t.handleCancel}},[i("p",[t._v("楼栋名称："+t._s(t.single_name)+" "),i("span",{staticStyle:{"margin-left":"20px"}}),t._v(" 楼栋人口："+t._s(t.people_count))]),i("p",[t._v("楼栋面积："+t._s(t.measure_area)+" "),i("span",{staticStyle:{"margin-left":"20px"}}),t._v("所含单元数："+t._s(t.floor_count))]),i("p",[t._v("所含房屋数："+t._s(t.room_count)+" "),i("span",{staticStyle:{"margin-left":"20px"}}),t._v("地面建筑层数："+t._s(t.upper_layer_num))]),i("p",[t._v("网格员："+t._s(t.grid_name)+" "),i("span",{staticStyle:{"margin-left":"20px"}}),t._v("网格员联系方式："+t._s(t.grid_phone))])])],1)},o=[],a={data:function(){return{visible:!1,confirmLoading:!1,single_name:"",measure_area:"",upper_layer_num:"",people_count:"",floor_count:"",room_count:"",grid_name:"",grid_phone:""}},methods:{handleCancel:function(){this.visible=!1},add:function(t,i,e,s,o,a,n,l){this.grid_name=n,this.grid_phone=l,this.single_name=t,this.measure_area=i,this.upper_layer_num=e,this.people_count=s,this.floor_count=o,this.room_count=a,this.visible=!0}}},n=a,l=(e("5afe"),e("0b56")),c=Object(l["a"])(n,s,o,!1,null,"1a68202a",null);i["default"]=c.exports},e829:function(t,i,e){t.exports=e.p+"img/floor.c8a8658c.png"},eb905:function(t,i,e){"use strict";e("fd0e")},f1e1:function(t,i,e){},f901:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t._self._c;return i("div",[i("a-modal",{attrs:{title:"智能门禁",width:840,height:600,visible:t.visible,confirmLoading:t.confirmLoading,footer:null,centered:!0},on:{cancel:t.handleCancel}},[i("a-table",{attrs:{columns:t.columns,"data-source":t.data,pagination:t.pagination,loading:t.loading},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"name",fn:function(i){return[t._v(" "+t._s(i.first)+" "+t._s(i.last)+" ")]}}])})],1)],1)},o=[],a=e("8ee2"),n=e("567c"),l=[{title:"操作时间",dataIndex:"log_time_str",key:"log_time_str"},{title:"操作地点",dataIndex:"log_name",key:"log_name"},{title:"操作用户",dataIndex:"name",key:"name",scopedSlots:{customRender:"user"}},{title:"操作状态",dataIndex:"log_status",key:"log_status"},{title:"操作详细信息",dataIndex:"title",key:"title"}],c={data:function(){return{visible:!1,confirmLoading:!1,village_id:0,floor_id:0,data:[],pagination:{},loading:!1,columns:l}},methods:{add:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.village_id=t,this.floor_id=i,this.visible=!0,this.fetch()},handleCancel:function(){this.visible=!1},handleTableChange:function(t,i,e){console.log(t);var s=Object(a["a"])({},this.pagination);s.current=t.current,this.pagination=s,this.fetch(Object(a["a"])({results:t.pageSize,page:t.current},i))},fetch:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loading=!0,this.request(n["a"].getOpenDoorList,Object(a["a"])(Object(a["a"])({village_id:this.village_id,floor_id:this.floor_id},i),{},{results:5})).then((function(i){var e=Object(a["a"])({},t.pagination);e.total=i.count,e.pageSize=5,t.loading=!1,t.data=i.list,t.pagination=e}))}}},r=c,d=e("0b56"),u=Object(d["a"])(r,s,o,!1,null,"2e549ba6",null);i["default"]=u.exports},fbf5:function(t,i,e){t.exports=e.p+"img/home.9e7a0580.png"},fd0e:function(t,i,e){}}]);