(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a8d9af0a"],{"075a":function(t,e,o){"use strict";o.r(e);o("b0c0");var a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"components-layout-demo-basic"}},[e("a-spin",{attrs:{spinning:t.spinning,size:"large"}},[e("a-layout-content",{style:{margin:"0px",padding:"0px",background:"#fff",minHeight:"100px"}},[e("a-table",{attrs:{columns:t.columns,"data-source":t.data,pagination:t.pagination},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"user_name",fn:function(o){return e("span",{},[t._v(" "+t._s(o)+" ")])}},{key:"phone",fn:function(o){return e("span",{},[t._v(" "+t._s(o)+" ")])}},{key:"appoint_content",fn:function(o){return e("span",{},[t._v(" "+t._s(o)+" ")])}},{key:"appoint_time",fn:function(o){return e("span",{},[t._v(" "+t._s(o)+" ")])}},{key:"arrive_time",fn:function(o){return e("span",{},[t._v(" "+t._s(o)+" ")])}},{key:"store_name",fn:function(o){return e("span",{},[t._v(" "+t._s(o)+" ")])}},{key:"status",fn:function(o){return e("span",{},[0==o?e("span",{staticClass:"height-30"},[t._v(" 待处理 ")]):t._e(),1==o?e("span",{staticClass:"height-30"},[t._v(" 约来店 ")]):t._e(),2==o?e("span",{staticClass:"height-30"},[t._v(" 已到店 ")]):t._e(),3==o?e("span",{staticClass:"height-30"},[t._v(" 关闭 ")]):t._e()])}},{key:"action",fn:function(o,a){return e("span",{},[0==a.status?e("div",[e("a-row",[e("a-col",{attrs:{span:8}},[e("a",{staticClass:"label-sm green",on:{click:function(e){return t.editStatus(a.id,1)}}},[t._v(" 约来店")])]),e("a-col",{attrs:{span:8}},[e("a",{staticClass:"label-sm yellow",on:{click:function(e){return t.editStatus(a.id,2)}}},[t._v(" 已到店")])]),e("a-col",{attrs:{span:8}},[e("a",{staticClass:"label-sm blue",on:{click:function(e){return t.editStatus(a.id,3)}}},[t._v(" 关闭")])])],1)],1):t._e(),1==a.status?e("div",[e("a-row",[e("a-col",{attrs:{span:8}},[e("a",{staticClass:"label-sm yellow",on:{click:function(e){return t.editStatus(a.id,2)}}},[t._v(" 已到店")])]),e("a-col",{attrs:{span:8}},[e("a",{staticClass:"label-sm blue",on:{click:function(e){return t.editStatus(a.id,3)}}},[t._v(" 关闭")])])],1)],1):t._e()])}},{key:"title",fn:function(o){return[e("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[e("a-col",{attrs:{span:8}}),e("a-col",{attrs:{span:3}},[e("a-form-item",[e("a-select",{staticStyle:{width:"150px"},attrs:{placeholder:"预约店铺"},on:{change:t.handleStoreChange}},t._l(t.store_list,(function(o){return e("a-select-option",{key:o.store_id,attrs:{value:o.store_id}},[t._v(t._s(o.name)+" ")])})),1)],1)],1),e("a-col",{attrs:{span:3}},[e("a-form-item",[e("a-select",{staticStyle:{width:"150px"},attrs:{placeholder:"状态"},on:{change:t.handleStatusChange}},t._l(t.status_list,(function(o){return e("a-select-option",{key:o.id,attrs:{value:o.id}},[t._v(t._s(o.name)+" ")])})),1)],1)],1),e("a-col",{attrs:{span:3}},[e("a-form-item",[e("a-input",{attrs:{placeholder:"输入客户姓名/手机号"},model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}})],1)],1),e("a-col",{staticClass:"text-right",attrs:{span:2}},[e("a-form-item",[e("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.appointFind()}}},[t._v(" 查询 ")])],1)],1)],1)]}}])})],1)],1)],1)},n=[],s=o("4b77"),i=o("290c"),r=o("da05"),c=[{title:"姓名",dataIndex:"user_name",scopedSlots:{customRender:"user_name"}},{title:"手机号",dataIndex:"phone",scopedSlots:{customRender:"phone"}},{title:"预约内容",dataIndex:"appoint_content",scopedSlots:{customRender:"appoint_content"}},{title:"预定时间",dataIndex:"appoint_time",scopedSlots:{customRender:"appoint_time"}},{title:"来店时间",dataIndex:"arrive_time",scopedSlots:{customRender:"arrive_time"}},{title:"预约店铺",dataIndex:"store_name",scopedSlots:{customRender:"store_name"}},{title:"状态",dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"}}],p={name:"AppointArriveStoreList",components:{ACol:r["b"],ARow:i["a"]},activated:function(){this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",10),this.$set(this.pagination,"total",0),this.getAppointList()},created:function(){this.getAppointList()},data:function(){var t=this;return{spinning:!1,columns:c,data:[],store_list:[],status_list:[{id:0,name:"待处理"},{id:1,name:"约来店"},{id:2,name:"已到店"},{id:3,name:"关闭"}],pagination:{current:1,total:0,pageSize:10,showSizeChanger:!0,onChange:function(e,o){return t.onPageChange(e,o)},onShowSizeChange:function(e,o){return t.onPageSizeChange(e,o)},showTotal:function(t){return"共 ".concat(t," 个商品")}},formData:{store_id:"",status:"",phone:""}}},methods:{getAppointList:function(){var t=this;this.request(s["a"].getAppointArriveList,{}).then((function(e){t.data=e.list,t.store_list=e.store_list,t.$set(t.pagination,"total",e.count)}))},handleTableChange:function(t){t.current&&t.current>0&&this.getAppointList()},editStatus:function(t,e){var o=this;this.$confirm({title:"是否确定修改该状态?",centered:!0,onOk:function(){o.request(s["a"].updateAppointArriveStatus,{id:t,status:e}).then((function(t){o.getAppointList(),o.$message.success("操作成功！")}))},onCancel:function(){}})},handleStoreChange:function(t){this.formData.store_id=t},handleStatusChange:function(t){this.formData.status=t},appointFind:function(){var t=this;this.request(s["a"].getAppointArriveList,this.formData).then((function(e){t.data=e.list,t.store_list=e.store_list,t.$set(t.pagination,"total",e.count)}))},onPageChange:function(t,e){this.$set(this.pagination,"current",t),this.getAppointList()},onPageSizeChange:function(t,e){this.$set(this.pagination,"pageSize",e),this.getAppointList()}}},u=p,g=(o("c055"),o("2877")),d=Object(g["a"])(u,a,n,!1,null,"204bd38a",null);e["default"]=d.exports},4292:function(t,e,o){},"4b77":function(t,e,o){"use strict";var a,n=o("ade3"),s=(a={addLabel:"/group/merchant.goods/addLabel",getLabelList:"/group/merchant.goods/getLabelList",getMerchantStoreList:"/group/merchant.goods/getMerchantStoreList",getAllArea:"/common/common.area/getAllArea",getGoodsCashingDetail:"/group/merchant.goods/getGoodsCashingDetail",getGroupEditInfo:"/group/merchant.goods/getGroupEditInfo"},Object(n["a"])(a,"getGoodsCashingDetail","/group/merchant.goods/getGoodsCashingDetail"),Object(n["a"])(a,"saveCashingGoods","/group/merchant.goods/submitCashing"),Object(n["a"])(a,"saveNomalGoods","/group/merchant.goods/saveNomalGoods"),Object(n["a"])(a,"getGoodsNormalDetail","/group/merchant.goods/getGoodsNormalDetail"),Object(n["a"])(a,"getGoodsList","/group/merchant.goods/getGoodsList"),Object(n["a"])(a,"courseAppoint","/group/merchant.Goods/courseAppoint"),Object(n["a"])(a,"getCourseAppointDetail","/group/merchant.Goods/getCourseAppointDetail"),Object(n["a"])(a,"setStoreRecommend","/group/merchant.goods/setStoreRecommend"),Object(n["a"])(a,"getStoreRecommend","/group/merchant.goods/getStoreRecommend"),Object(n["a"])(a,"getGoodsOrderList","/group/merchant.goods/getGoodsOrderList"),Object(n["a"])(a,"saveBookingAppoint","/group/merchant.Goods/saveBookingAppoint"),Object(n["a"])(a,"showBookingAppoint","/group/merchant.Goods/showBookingAppoint"),Object(n["a"])(a,"getStoreList","/group/merchant.AppointManage/getStoreList"),Object(n["a"])(a,"getGiftMsg","/group/merchant.AppointManage/getGiftMsg"),Object(n["a"])(a,"updateAppointGift","/group/merchant.AppointManage/updateAppointGift"),Object(n["a"])(a,"getAppointArriveList","/group/merchant.AppointManage/getAppointArriveList"),Object(n["a"])(a,"updateAppointArriveStatus","/group/merchant.AppointManage/updateAppointArriveStatus"),Object(n["a"])(a,"getGoodsOrderDetail","/group/merchant.goods/getGoodsOrderDetail"),Object(n["a"])(a,"orderExportUrl","/group/merchant.goods/exportOrder"),Object(n["a"])(a,"noteInfo","/group/merchant.goods/noteInfo"),Object(n["a"])(a,"orderDetail","/group/merchant.goods/orderDetail"),Object(n["a"])(a,"updateOrderNote","/group/merchant.goods/updateOrderNote"),Object(n["a"])(a,"getRatioList","/group/merchant.goods/getRatioList"),Object(n["a"])(a,"getGoodsCouponList","/group/merchant.goods/getGoodsCouponList"),Object(n["a"])(a,"couponDetail","/group/merchant.goods/couponDetail"),Object(n["a"])(a,"couponVerify","/group/merchant.goods/couponVerify"),Object(n["a"])(a,"exportGoodsCouponList","/group/merchant.goods/exportGoodsCouponList"),Object(n["a"])(a,"groupPackageLists","/group/merchant.goods/groupPackageLists"),Object(n["a"])(a,"showGroupPackage","/group/merchant.goods/showGroupPackage"),Object(n["a"])(a,"saveGroupPackage","/group/merchant.goods/saveGroupPackage"),Object(n["a"])(a,"delGroupPackage","/group/merchant.goods/delGroupPackage"),Object(n["a"])(a,"delPackageBindGroup","/group/merchant.goods/delPackageBindGroup"),a);e["a"]=s},c055:function(t,e,o){"use strict";o("4292")}}]);