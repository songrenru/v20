(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48c3abb3","chunk-2d0aaba6"],{"11f6":function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAECAYAAACDQW/RAAAAAXNSR0IArs4c6QAAAEFJREFUKFNjZNUNSWf6z9Dyn/E/y/9/DAW/r65dyAAFpMgxsukGv2dkYBQA6/3P8ObnlTWiMINIkaOeQaQ4H5+3AV+sVK3HF5AUAAAAAElFTkSuQmCC"},"337b":function(t,i,s){},"6ca1f":function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"view_component"},[e("div",{staticClass:"single_desc"},[e("a-button",{staticClass:"margin_top_20",staticStyle:{transform:"translateX(20px)"},attrs:{type:"default"},on:{click:function(i){return t.goBack(0)}}},[t._v(" 返回 ")]),t._l(t.descList,(function(i,s){return e("div",{key:s,staticClass:"single_item"},[t._v(" "+t._s(i.key)+"："+t._s(i.value?i.value:"暂无")+" ")])}))],2),e("div",{staticClass:"unit_tab"},t._l(t.unitList,(function(i,s){return e("div",{key:s,staticClass:"tab_item",class:t.currentIndex==s?"active":"",on:{click:function(e){return t.changeTabs(i,s)}}},[t._v(" "+t._s(i.floor_name)+"单元 ")])})),0),e("div",{staticClass:"single_level"},[t._l(t.singleArr,(function(i,a){return t.noData?t._e():e("div",{key:a,staticClass:"level_item"},[e("div",{staticClass:"level_name"},[t._v(t._s(i.level))]),t._l(i.roomList,(function(i,a){return e("div",{key:a,staticClass:"room_item",on:{click:function(s){return t.goDetail(i)}}},[e("div",{staticClass:"right_content"},[e("div",{staticClass:"room_title"},[t._v(t._s(i.title))]),e("div",{staticClass:"room_status",class:1==i.pay_status?"status_yezhu":2==i.pay_status?"status_kongzhi":3==i.pay_status?"status_zuke":""},[t._v(" "+t._s(i.pay_status_txt)+" ")]),e("div",{staticClass:"room_edit"},[e("a-popover",{attrs:{title:"",placement:"right"}},[e("template",{slot:"content"},[e("a-icon",{attrs:{type:"edit"},on:{click:function(s){return t.showModel(i)}}})],1),e("img",{attrs:{src:s("11f6")}})],2)],1),e("div",{staticClass:"props_con"},t._l(i.roomProps,(function(i,s){return e("div",{key:s,staticClass:"props_item",style:{width:"欠费金额"==i.key?"75%":"45%"}},["欠费金额"!=i.key||i.value?e("span",{staticStyle:{"font-size":"10px"},style:{color:"欠费金额"==i.key?"red":""}},[e("a-tooltip",{attrs:{placement:"rightTop"}},[e("template",{slot:"title"},["户主"!=i.key&&"面积"!=i.key?e("span",[t._v(t._s(i.key)+"：")]):t._e(),t._v(" "+t._s(i.value?i.value:"暂无")+" ")]),"户主"!=i.key&&"面积"!=i.key?e("span",[t._v(t._s(i.key)+"：")]):t._e(),t._v(" "+t._s(i.value?i.value:"暂无")+" ")],2)],1):t._e()])})),0)])])}))],2)})),t.noData?e("div",{staticClass:"no_data",staticStyle:{width:"100%",height:"300px",display:"flex","align-items":"center","justify-content":"center","font-size":"20px",color:"#999999",position:"absolute"}},[t.dataLoading?e("span",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center",color:"#999999"}},[e("a-icon",{attrs:{type:"loading"}}),t._v(" 加载中... ")],1):e("span",[t._v("暂无数据")])]):t._e()],2),e("a-modal",{attrs:{title:"修改房间状态",visible:t.visible,"confirm-loading":t.confirmLoading},on:{ok:t.handleOk,cancel:t.handleCancel}},[e("span",[t._v("房间状态")]),e("a-radio-group",{staticStyle:{"margin-left":"20px"},attrs:{name:"radioGroup"},model:{value:t.pay_status,callback:function(i){t.pay_status=i},expression:"pay_status"}},[e("a-radio",{attrs:{value:1}},[t._v("业主入住")]),e("a-radio",{attrs:{value:3}},[t._v("租客入住")]),e("a-radio",{attrs:{value:2}},[t._v("空置")])],1)],1)],1)},a=[],n=(s("a9e3"),{props:{single_id:{type:Number,default:0}},data:function(){return{currentIndex:0,descList:[],unitList:[],singleArr:[],visible:!1,confirmLoading:!1,pay_status:1,dataLoading:!1,noData:!0}},mounted:function(){this.getUnitList(),this.getBuildingInfo()},methods:{changeTabs:function(t,i){this.currentIndex==i?console.log("重复"):(this.currentIndex=i,this.getRoomList(t.floor_id,t.single_id))},goBack:function(){this.$emit("goBack")},getUnitList:function(){var t=this;t.request("/community/village_api.cashier/getfloorList",{single_id:t.single_id},"post").then((function(i){i.length>0&&(t.unitList=i,t.getRoomList(i[0].floor_id,i[0].single_id),t.currentIndex)}))},getRoomList:function(t,i){var s=this;s.dataLoading=!0,s.singleArr=[],s.noData=!0,s.request("/community/village_api.cashier/getVacancyList",{single_id:i,floor_id:t},"post").then((function(t){s.dataLoading=!1,t.length>0?(s.noData=!1,s.singleArr=t):s.noData=!0})).catch((function(t){s.dataLoading=!1}))},goDetail:function(t){var i={};t.pigcms_id&&(i.pigcms_id=t.pigcms_id),t.key[3]&&(i.room_id=[t.key[3]+"|"+t.title+"|room"]),t.key.length>0&&(i.room_key=t.key),i.back_type=1,this.$emit("roomInfo",i)},getBuildingInfo:function(){var t=this;t.request("/community/village_api.Aockpit/getBuildingInfo",{single_id:t.single_id},"post").then((function(i){t.descList=i.list}))},handleOk:function(t){this.confirmLoading=!0;var i=this;i.request("/community/village_api.Cashier/setVacancyPayStatus",{room_id:i.room_id,pay_status:i.pay_status},"post").then((function(t){i.$message.success("修改成功！"),i.getRoomList(i.unitList[i.currentIndex].floor_id,i.unitList[i.currentIndex].single_id),i.confirmLoading=!1,i.visible=!1}))},handleCancel:function(t){this.visible=!1},showModel:function(t){console.log(t),this.pay_status=t.pay_status,this.room_id=t.key[3],this.visible=!0}}}),o=n,l=(s("dfc2"),s("2877")),c=Object(l["a"])(o,e,a,!1,null,"caa93a1e",null);i["default"]=c.exports},dfc2:function(t,i,s){"use strict";s("337b")}}]);