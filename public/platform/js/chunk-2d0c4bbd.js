(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c4bbd"],{"3ba9":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"charge_set"},[a("div",[a("a-alert",{staticStyle:{"margin-bottom":"10px","padding-top":"10px"},attrs:{message:"工单类别为选中状态时，新版工单启用收费流程；工单类别未选中状态时，新版工单不启用收费流程。",type:"info",banner:""}}),a("a-alert",{staticStyle:{"margin-top":"-10px","margin-bottom":"10px"},attrs:{message:"工单类别在启用收费流程操作时，该工单类别下的工单必须全部是已关闭状态或没有工单时，才能启用成功。",type:"info",banner:""}}),a("a-alert",{staticStyle:{"margin-top":"-10px","margin-bottom":"10px"},attrs:{message:"工单类别在关闭收费流程操作时，该工单类别下的工单必须全部是已关闭状态或没有工单时，才能关闭成功。",type:"info",banner:""}})],1),a("a-form-model",{ref:"ruleForm",staticStyle:{"margin-bottom":"150px"},attrs:{model:e.chargeForm,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("a-form-model-item",{attrs:{label:"工单类目",prop:"subject_id"}},[a("a-tree",{attrs:{"tree-data":e.treeData,"default-expand-all":e.defaultExpandAll,defaultExpandedKeys:["0-0"],checkable:""},model:{value:e.chargeForm.subject_id,callback:function(t){e.$set(e.chargeForm,"subject_id",t)},expression:"chargeForm.subject_id"}})],1)],1),a("div",{staticStyle:{"text-align":"center"}},[a("a-button",{staticStyle:{margin:"20px",position:"fixed",bottom:"40px"},attrs:{type:"primary",loading:e.confirmLoading},on:{click:function(t){return e.handleSubmit()}}},[e._v("保存设置")])],1)],1)},n=[],i=a("a0e0"),o={data:function(){return{rules:{subject_id:[{required:!1,message:"请选择工单类目",trigger:"blur"}]},labelCol:{span:4},wrapperCol:{span:14},chargeForm:{charge_type:1,subject_id:[]},treeData:[],defaultExpandAll:!0,confirmLoading:!1}},mounted:function(){this.getRepairCharge()},methods:{getRepairCharge:function(){var e=this;e.request(i["a"].getRepairCharge).then((function(t){e.treeData=t.res,e.chargeForm.subject_id=t.subject_ids,e.defaultExpandAll=!1}))},handleSubmit:function(){var e=this,t=this;t.$refs.ruleForm.validate((function(a){if(a){var r=e;r.confirmLoading=!0,r.request(i["a"].setRepairCharge,r.chargeForm).then((function(e){r.$message.success("设置成功！"),r.confirmLoading=!1})).catch((function(e){r.confirmLoading=!1}))}else t.$message.error("请求错误！")}))}}},s=o,l=a("2877"),c=Object(l["a"])(s,r,n,!1,null,"17ae5a79",null);t["default"]=c.exports}}]);