(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c856350","chunk-2d0c06af"],{"048c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADqUlEQVRoQ+2ZXWwMURTH/2dnW0RKI213+yFKGh+JiGhEREgrCBERIR3xxDOpmX3wqhIvou2uhgdvHq0IEaEhghDxGV9BqiEIa6etSIOmZLtzZKYj6d5u25nuzCyy93XuPef3v+dj791L+McH/eP8+D8FVB/n+ekUqtyKTjqFrr4DpLllb6SdUREIx/gGgAYPnJ3SFNrj1G7oGO8ixnowDmkqvRfXZwgoj/JSifDEqRPb8xlzs0FkXd/CgfBMxEHYYX1/ryk0d1wB4Sg3gGBEwIvxXVNohi3DLRwMl+I0gO0Z8xmNmko3x0whDwV0povQ3LeX3kwkoP4kF30aRJyAbQJ8t6bSAscR0BTyrVPVdfCUgTTiTNgqgDICaNKa6exfK6CmnacNkZnzWwTINAXQlGymc9mil7G72VLIjwiEjvJ0KkYcjM0CZIp0yMkInR8r9fIuoOwIlwSnIA5gkwD5i3XIPRG6MF7d5FXArA6eUczmzm8UIAct+IsTFX3eBNRGuXQwgDgxNgiQA2DImkqXJoI3vudFQE07z0pLiDNjnQD5A4wmTaVOO/B5EVDVymV60Mz5tQLkNwKakgpdsQvvu4DQUa6gIhM+46zFQL+kQ/4coatO4H0VUBHjUAA4A2CNAPmVGXKPStecwvsmoCzKlcGA2W1WC5BfLPjrk4H3RUBNO1enjG4DrBIge61uk3E4cyrE0y5U1cazdcnM+ZUCWI9VsLfsAoejXDvhfcDNo0RlK8/h4W6zQoBMWseD23bgy09wnZTCYwAlAEZdijyJgLFbILNgl4+EZCAhMeTPKt2xA2/MCcf48shjRlBHzacIJf6sd11AKMrzaBi+XoD8qDPkXpXu2oW3BHDGfOFS46qA8nauk4xuAyzLcEr4YHYbhe47gfdVQHUbzzcKloGlAvw7s9so9NApvG8Cqlp5oXU8WCLAv6U0diYj9Ggy8L4IqIzyIh7O+cVCrr4hQE6qZHSQSY9wjL2tgXCMH4jdBoxuCZATKj2dNLm10FMBFTFeEgCeCZBdOiD3KvQ8V3jPU6i2haf+LEWv9SNj+HvFBLlnP71wA95zAaaDKO8G4SCAe9BxWIvQS7fgfRHgJmw2W57WgNfwhQgYO+DHH1vjRbKQQoUI5FjphRTKcQPdX+70QuM+QY4WxxNgPq8O4XWOLjxdLgWxILGPuv848fOZ1Q1hNzWFGkcayvr+ZT63AqVueHTLRhro78tyv/DtAc8tIaKdggCvdtau3d+cjBBPKZkkcgAAAABJRU5ErkJggg=="},"0680":function(t,e,s){},3037:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACp0lEQVRoQ+2ZPWgUQRTH/+/iV6GFkOP2Uln4hUnjBwhWRggoIliJ2ggWgoLJrh6k9CwVZTdbaGGhlaKFYGNAEK0EQW00CkGwEW9yHiIoiBr3yZx7cW+zl93LHLc7sNPuzO7/N/95M2/eEjRvpLl+5ABpO9gTBwyXt+EPjmAA98Q4vY2DMmzeKyx6GtcvyfPeADj8BsAwgBlh0kinDxsuF+Gh3nouTFL+vvIL5GyC8GRBNGO00+yG+xLjQc2iw0lmulOfVAGaoggnxQTdXC5E+gBSeQHDSWInCjIbAEBdfEUZVfK6dSIrAPJAulEz6ZReAIxZEDYHNoAzwqLr3UCk6wBjtG0H+xfU+8QE/d/VYmiyALATwJWAzpl5xljDoloSJ1IHkGdG2eHbDBwLCL4rTDqqDcDgJV63YhVehOLhorCoGgeRCQekyEUnOvBQmHRQG4AmhMPnF+KBMSksuqwVQBNCJnxAMenJnJklFDfT2UzmlshckwLlDqjcB5A7IDMPxZY7oHi5zx3Il1C/ltCQw1sKHj5/PEdfgnGvhQOGzS4IZ33hFWHS1RaEHgAOfwCwIap4pQeAzVUQLgQAZud/YVdjkr5pAeDn6tMA9rcgCLhTM+m4NgBDLm/3PDwGsD4QxBUwXi63Ntr3XMiw+TQI19qyj3BppIvibt8B/LvrLRBOBOMhdBlPXJ1OBcCPh3cAtkbmgVl3QIouTfEIMV5rC7CoghAk0cGBlt6Sw48IGAsHddI/NKnFQFsu5PAPAGuiTunwEuvmzEh6z1K+DxSneNOALJP7zQOMuklzUQI2urz6u4dnAHYAeLW2gD3vx+lnUrFR/ZQB5EsHbS6vLOAQ/cb9TxVqLCWo5PBuYhxgwvScSc9VxMuxPQFQFaEyPgdQmb1ejNXegb8pjylP7QRfzgAAAABJRU5ErkJggg=="},4031:function(t,e,s){"use strict";var a={getLists:"/mall/merchant.MerchantStoreMall/getStoreList",perfectedStore:"/mall/merchant.MerchantStoreMall/perfectedStore",getStoreConfigList:"/mall/merchant.MerchantStoreMall/getStoreConfigList",getShippingList:"/mall/merchant.MallShipping/getShippingList",updateShipping:"/mall/merchant.MallShipping/addShipping",changeState:"/mall/merchant.MallShipping/changeState",removeShipping:"/mall/merchant.MallShipping/del",getShippingInfo:"/mall/merchant.MallShipping/edit",getMerchantSort:"/mall/merchant.MallGoods/getMerchantSort",getMallGoods:"/mall/merchant.MallGoods/getMallGoodsSelect",getGiveList:"/mall/merchant.MallGive/getGiveList",giveAdd:"/mall/merchant.MallGive/addGive",giveChangeState:"/mall/merchant.MallGive/changeState",giveDel:"/mall/merchant.MallGive/del",getGiveInfo:"/mall/merchant.MallGive/edit",getPlatSort:"/mall/merchant.MallGoods/getPlatformSort",getStoreSort:"/mall/merchant.MallGoods/getMerchantSort",getPrepareList:"/mall/merchant.MallPrepare/getPrepareList",updatePrepare:"/mall/merchant.MallPrepare/addPrepare",prepareChangeState:"/mall/merchant.MallPrepare/changeState",removePrepare:"/mall/merchant.MallPrepare/del",getPrepareInfo:"/mall/merchant.MallPrepare/edit",getReachedList:"/mall/merchant.MallReached/getReachedList",updateReachedList:"/mall/merchant.MallReached/addReached",getReachedInfo:"/mall/merchant.MallReached/edit",reachedChangeState:"/mall/merchant.MallReached/changeState",reachedDel:"/mall/merchant.MallReached/del",addRobot:"/mall/merchant.MallGroup/addRobot",delRobot:"/mall/merchant.MallGroup/delRobot",getRobotList:"/mall/merchant.MallGroup/getRobotList",getRobotName:"/mall/merchant.MallGroup/getRobotName",getUploadImages:"/common/common.UploadFile/getUploadImages",getGoodsSort:"/mall/merchant.MallGoods/getMerchantSort",getGoodsStatus:"/mall/merchant.MallGoods/getNumbers",getGoodsList:"/mall/merchant.MallGoods/getGoodsList",changeGoodsStatus:"/mall/merchant.MallGoods/setStatusLot",setVirtualSales:"/mall/merchant.MallGoods/setVirtualSales",changeGoodsSort:"/mall/merchant.MallGoods/setSort",getGoodsSkuPrice:"/mall/merchant.MallGoods/getGoodsSkuInfo",changeGoodsPrice:"/mall/merchant.MallGoods/setGoodsSkuInfo",getPlatProps:"/mall/merchant.MallGoods/getPlatformProperties",getFreightList:"/mall/merchant.MallGoods/getfreightList",getServiceList:"/mall/merchant.MallGoods/dealService",removeGoods:"/mall/merchant.MallGoods/delGoods",updateGoods:"/mall/merchant.MallGoods/addOrEditGoods",exportGoods:"/mall/merchant.MallGoods/exportGoods",getGoodsInfo:"/mall/merchant.MallGoods/getEditGoods",getGroupList:"/mall/merchant.MallGroup/getGroupList",groupAdd:"/mall/merchant.MallGroup/addGroup",groupChangeState:"/mall/merchant.MallGroup/changeState",groupDel:"/mall/merchant.MallGroup/del",getGroupInfo:"/mall/merchant.MallGroup/editDetail",getPeriodicList:"/mall/merchant.MallPeriodic/getPeriodicList",updatePeriodic:"/mall/merchant.MallPeriodic/addPeriodic",periodicChangeState:"/mall/merchant.MallPeriodic/changeState",removePeriodic:"/mall/merchant.MallPeriodic/del",getPeriodicInfo:"/mall/merchant.MallPeriodic/edit",getBargainList:"/mall/merchant.MallBargain/getBargainList",bargainAdd:"/mall/merchant.MallBargain/addBargain",bargainChangeState:"/mall/merchant.MallBargain/changeState",bargainDel:"/mall/merchant.MallBargain/del",getBargainInfo:"/mall/merchant.MallBargain/editDetail",getMinusDiscountList:"/mall/merchant.MallFullMinusDiscount/getFullMinusDiscountList",updateMinusDiscount:"/mall/merchant.MallFullMinusDiscount/addFullMinusDiscount",minusDiscountChangeState:"/mall/merchant.MallFullMinusDiscount/changeState",removeMinusDiscount:"/mall/merchant.MallFullMinusDiscount/del",getMinusDiscountInfo:"/mall/merchant.MallFullMinusDiscount/edit",getLimitedList:"/mall/merchant.MallLimited/getLimitedList",updateLimited:"/mall/merchant.MallLimited/addLimited",limitedChangeState:"/mall/merchant.MallLimited/changeState",removeLimited:"/mall/merchant.MallLimited/del",getLimitedInfo:"/mall/merchant.MallLimited/edit",getGoodsSortList:"/mall/merchant.MallGoodsSort/getSortList",delGoodsSort:"/mall/merchant.MallGoodsSort/delSort",editGoodsSort:"/mall/merchant.MallGoodsSort/addOrEditSort",getEditSort:"/mall/merchant.MallGoodsSort/getEditSort",editSort:"/mall/merchant.MallGoodsSort/saveSort",saveStatus:"/mall/merchant.MallGoodsSort/saveStatus",getAllGoodsSort:"/mall/merchant.MallGoodsSort/getSort",getStoreList:"/mall/merchant.MallMerchantReply/getStores",getReplyList:"/mall/merchant.MallMerchantReply/searchReply",addComment:"/mall/merchant.MallMerchantReply/merchantReply",getReplyDetails:"/mall/merchant.MallMerchantReply/getReplyDetails",getShowHomePage:"/mall/merchant.MallMerchantReply/getShowHomePage",getQualityReviews:"/mall/merchant.MallMerchantReply/getQualityReviews",getShowHomePageCancel:"/mall/merchant.MallMerchantReply/getShowHomePageCancel",getQualityReviewsCancel:"/mall/merchant.MallMerchantReply/getQualityReviewsCancel",getOrderList:"/mall/merchant.MallOrder/searchOrders",getOrderDetails:"/mall/merchant.MallOrder/getOrderDetails",getCollect:"/mall/merchant.MallOrder/getCollect",getDiscount:"/mall/merchant.MallOrder/getDiscount",exportOrder:"/mall/merchant.MallOrder/exportOrder ",deleteJudge:"/mall/merchant.MallGoods/deleteJudge ",getTemplateList:"/mall/merchant.ExpressTemplate/index",getTemplateAreaList:"/mall/merchant.ExpressTemplate/ajax_area",getTemplateAreaNameList:"/mall/merchant.ExpressTemplate/get_area_name",addTemplate:"/mall/merchant.ExpressTemplate/save",editTemplate:"/mall/merchant.ExpressTemplate/edit",delTemplate:"/mall/merchant.ExpressTemplate/delete",goodsBatch:"/mall/merchant.MallGoods/goodsBatch",viewLogistics:"/mall/merchant.MallOrder/viewLogistics",orderPrintTicket:"/mall/merchant.MallOrder/printOrder"};e["a"]=a},4261:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a-button",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"primary"}},[t._v(" Open the message box ")])},i=[],n={downloadExportFile:"/common/common.export/downloadExportFile"},o=n,l="updatable",r={props:{exportUrl:"",queryParam:{}},data:function(){return{file_date:"",file_url:""}},mounted:function(){},methods:{exports:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"加载中,请耐心等待,数量越多时间越长。";this.request(this.exportUrl,this.queryParam).then((function(s){t.$message.loading({content:e,key:l,duration:0}),console.log("添加导出计划任务成功"),t.file_url=o.downloadExportFile+"?id="+s.export_id,t.file_date=s,t.CheckStatus()}))},CheckStatus:function(){var t=this;this.request(this.file_url,{id:this.file_date.export_id}).then((function(e){0==e.error?(t.$message.success({content:"下载成功!",key:l,duration:2}),location.href=e.url):setTimeout((function(){t.CheckStatus(),console.log("重复请求")}),1e3)}))}}},c=r,d=s("0c7c"),h=Object(d["a"])(c,a,i,!1,null,"dd2f8128",null);e["default"]=h.exports},"4bfa":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACO0lEQVRoQ+2WT2sTURTFz0mk+A1mih/AzyFuhLppUgVFcKHgwrSdgbootFAKulB0JojoQsGNiwp1Y2k3Ilm46KKbLrpQEKRgM2kLuijoouFKJJmGcULy/gxSeFnm3XPvPef3Xghxyj885fvDGfjfBB0BR8AwAXeFDAM0ljsCxhEaNnAEDAM0ljsCxhEaNnAEDAM0lmsR8CK51gYahyGbxht0G3ixXKbgKAnZUOmpbMCLJSIQANgpAdW9gJ9VBubV+nVZhGC5c1Y+g/Pfa/wyak9lA34s9wA87AygYLtdRnV/hl9HHZit8yKZJ/Gg933hBjqD/FjeArjSHbrVJbGrasKvyxwEj3o6EgvNWd5X6aNMoNc8Y2LzuIzq4TT3Rh0+HkkgRNRXP5cEfDyqPjWtKuivz5j4hBIqyQwPhvX0Y6kBeJrWCWpJyGfDdHnn2gQGkGiM/UJld54/Bi0zHssdAV70zgW43Qr4Smf5v+9QVziIBAUfjscweXCXR/882FhuEXiZ4hfcaIZ8Y7KDFQM5D3vj7E9Uvi3xd0rqidxECa/77u5UM+CqyfLWCOReJ8H75BwmcZVtry7XKThJmphIZrluurx1Azkk3oFYgWAlvfOCi62QH20sX4iBHBMnuwouqP5VGGbU2hvIDsr8xAIFLF8Ygb438RzAJQGmWwHXhqWpc14YAZ1ldDTOgE5qNjWOgM00dXo5Ajqp2dQ4AjbT1OnlCOikZlPjCNhMU6eXI6CTmk2NI2AzTZ1efwBNIpsx5fSC1QAAAABJRU5ErkJggg=="},"4eaf2":function(t,e,s){},"547d":function(t,e,s){"use strict";s("0680")},6659:function(t,e,s){"use strict";var a={goodsDetail:"/shop/merchant.goods/goodsDetail",goodsList:"/shop/merchant.goods/goodsLibraryList",sortList:"/shop/merchant.sort/sortList"};e["a"]=a},"6a7f":function(t,e,s){"use strict";s("4eaf2")},"7c9a":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"drag-box"},[s("draggable",{staticClass:"list-group",attrs:{list:t.dataList,handle:".handle"},on:{end:function(e){return t.getNewData("drag")}}},t._l(t.dataList,(function(e){return s("div",{key:e.id,staticClass:"box"},[s("drag-item",{attrs:{content:e,draggable:t.draggable,editable:t.editable,show:!0,type:"1"},on:{handleItemClick:t.handleItemClick}}),e.children&&e.children.length?[s("draggable",{staticClass:"list-group",attrs:{list:e.children,handle:".handle"},on:{end:function(e){return t.getNewData("drag")}}},t._l(e.children,(function(a){return s("div",{key:a.id,staticClass:"box"},[s("drag-item",{attrs:{content:a,draggable:t.draggable,editable:t.editable,show:e.open,type:"2"},on:{handleItemClick:t.handleItemClick}}),a.children&&a.children.length?[s("draggable",{staticClass:"list-group",attrs:{list:a.children,handle:".handle"},on:{end:function(e){return t.getNewData("drag")}}},t._l(a.children,(function(i){return s("div",{key:i.id,staticClass:"box"},[s("drag-item",{attrs:{content:i,draggable:t.draggable,editable:t.editable,show:a.open&&e.open,type:"3"},on:{handleItemClick:t.handleItemClick}})],1)})),0)]:t._e()],2)})),0)]:t._e()],2)})),0)],1)},i=[],n=s("b85c"),o=(s("a9e3"),s("b64b"),s("d3b7"),s("159b"),s("b76a")),l=s.n(o),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.show?a("div",{staticClass:"handle",class:[t.currentSelected,t.currentClass],on:{click:function(e){return e.stopPropagation(),t.handleClick("click")},mouseenter:t.onMouseOver,mouseleave:t.onMouseOut}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.draggable,expression:"draggable"}],staticClass:"img-container"},[t.showIcon?a("a-tooltip",[a("template",{slot:"title"},[t._v("拖动整行排序")]),a("img",{staticClass:"drag-img",attrs:{src:s("3037")}})],2):t._e()],1),a("div",{staticClass:"title-con"},[a("span",{staticClass:"title"},[t._v(t._s(t.content.title))]),void 0!=t.content.goods_count?a("span",[t._v("（"+t._s(t.content.goods_count)+"）")]):t._e()]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.editable,expression:"editable"}],staticClass:"img-container",on:{click:function(e){return e.stopPropagation(),t.handleClick("edit")}}},[t.showIcon?a("img",{staticClass:"edit-img",attrs:{src:s("048c")}}):t._e()]),t.content.children&&t.content.children.length&&t.showIcon?a("div",{staticClass:"img-container"},[t.content.open?a("img",{attrs:{src:s("bcea")}}):a("img",{attrs:{src:s("4bfa")}})]):t._e(),t.content.children&&t.content.children.length&&!t.showIcon?a("div",{staticClass:"img-container"},[t.content.open?a("img",{attrs:{src:s("eb9e")}}):a("img",{attrs:{src:s("8b11")}})]):t._e()]):t._e()},c=[],d={name:"DragItem",props:{content:{type:Object,default:function(){return{}}},type:{type:[Number,String],default:1},draggable:{type:Boolean,default:!0},editable:{type:Boolean,default:!0},show:{type:Boolean,default:!1}},computed:{currentClass:function(){return 1==this.type?"first-box":2==this.type?"second-box":"third-box"},currentSelected:function(){return 1==this.content.selected?"parentactive":2==this.content.selected?"active":""}},data:function(){return{showIcon:!1}},mounted:function(){},methods:{handleClick:function(t){this.$emit("handleItemClick",{type:t,data:this.content})},onMouseOver:function(){this.showIcon=!0},onMouseOut:function(){this.showIcon=!1}}},h=d,u=(s("547d"),s("0c7c")),g=Object(u["a"])(h,r,c,!1,null,"786f264e",null),m=g.exports,p={name:"DragBox",components:{draggable:l.a,DragItem:m},props:{list:{type:Array,default:function(){return[]}},draggable:{type:Boolean,default:!0},editable:{type:Boolean,default:!0},defaultSelect:{type:Boolean,default:!0},select:{type:[Number,String],default:0}},data:function(){return{dataList:[],selectedId:0,selectedItem:{}}},watch:{defaultSelect:function(t){this.select&&(t?this.defaultSelectFirst():this.initList(this.dataList))},select:function(t){t&&(this.selectedId=t,this.setListSelected(this.dataList,this.selectedId),this.setFather(this.dataList))}},mounted:function(){this.initData()},methods:{initData:function(){this.dataList=JSON.parse(JSON.stringify(this.list)),console.log(this.dataList),this.dataList.length&&(this.initList(this.dataList),console.log(this.dataList),this.select?(this.selectedId=this.select,this.setListSelected(this.dataList,this.selectedId),this.setFather(this.dataList)):this.defaultSelect&&this.defaultSelectFirst())},defaultSelectFirst:function(){var t=this.dataList[0];this.getSelectedId(t),this.selectedItem=t,t.children&&t.children.length&&(t.open=!0,t.children[0].open=!0),this.$set(this.dataList,0,t),this.setListSelected(this.dataList,this.selectedId),this.setFather(this.dataList)},initList:function(t){var e=this;t.forEach((function(t){t.selected=0,t.children&&t.children.length&&(t.open=!1,e.initList(t.children))})),this.dataList=JSON.parse(JSON.stringify(t))},getSelectedId:function(t){t.children&&t.children.length?this.getSelectedId(t.children[0]):this.selectedId=t.id},setListSelected:function(t,e){var s=this;t.forEach((function(t,a){t.id==e?(t.selected=2,s.selectedItem=t):t.selected=0,t.children&&t.children.length&&s.setListSelected(t.children,e)})),this.dataList=JSON.parse(JSON.stringify(t))},setFather:function(t){var e=this.selectedItem.fid;if(0!=e){var s,a=Object(n["a"])(t);try{for(a.s();!(s=a.n()).done;){var i=s.value;if(i.id==e)return this.selectedItem=i,void(i.selected=1);if(i.children&&i.children.length){var o=this.getParentId(i.children,e);o&&(this.selectedItem=o,this.setFather(this.dataList))}}}catch(l){a.e(l)}finally{a.f()}}},getParentId:function(t,e){var s,a=Object(n["a"])(t);try{for(a.s();!(s=a.n()).done;){var i=s.value;if(i.id==e)return i.selected=1,i}}catch(o){a.e(o)}finally{a.f()}},setMenuOpen:function(t){var e=0,s={};0==t.fid?this.dataList.forEach((function(a,i){t.id==a.id&&(t.open=!t.open,e=i,s=a)})):this.dataList.forEach((function(a,i){if(t.fid==a.id){var o,l=Object(n["a"])(a.children);try{for(l.s();!(o=l.n()).done;){var r=o.value;r.id==t.id&&(r.open=!r.open)}}catch(c){l.e(c)}finally{l.f()}e=i,s=a}})),this.$set(this.dataList,e,s)},handleItemClick:function(t){var e=t.type,s=t.data;"click"==e&&(s.children&&s.children.length?this.setMenuOpen(s):(this.setListSelected(this.dataList,s.id),this.setFather(this.dataList))),this.getNewData(e,JSON.parse(JSON.stringify(s)))},getNewData:function(t,e){var s=JSON.parse(JSON.stringify(this.dataList));if(s.length){var a,i=Object(n["a"])(s);try{for(i.s();!(a=i.n()).done;){var o=a.value;delete o.selected,delete o.open}}catch(l){i.e(l)}finally{i.f()}"drag"==t?this.$emit("handleChange",{type:t,data:s}):(delete e.selected,delete e.open,"edit"==t&&this.$emit("handleChange",{type:t,data:e}),"click"!=t||e.children&&0!=e.children.length||this.$emit("handleChange",{type:t,data:e}))}else console.log("数据出错了")}}},f=p,v=(s("f431"),Object(u["a"])(f,a,i,!1,null,"6774c60e",null));e["a"]=v.exports},"7f48":function(t,e,s){},"8b11":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACQklEQVRoQ+2Wv2uTQRjHnyfZ8z9kcr+7f0BcBF2a1EERHBRcKnSog6CL0A6KdCiig4KLQw26KLqIvINDCc/diwQDFlwc6tDBpUMI9B55pSnHS0JyP4IULlPI3fd7z/f7uTcJwhl/4RmfH3KA/00wE8gEIhvIVyiywGh5JhBdYaRBJhBZYLQ8E4iuMNIgE4gsMFoeREApdZWZC6317+gJTgyEEJcbjcYRERU+nt4BlFLbzLwOAN8RsUtEP3wOnLZXSvkAAB5Wa81m81y/399f1NM7gBDiLiI+OjngGwB0tdY/Fz2wvk9KeQ8AtiafLz1AdZCU8g0AXKneIyIxcxXil28IKeUGADye6BDxPhFt+vh4E5iYuyEAYM9a2y3L8mDRw4UQ64i47ezf0Fo/WVR/GtpX4O6vhfhqre2UZXk4z1MptcbMO5N9zLxmjHk6TzdtPZjADBLFeDzuDAaDP7OGUUrdZubnzrW5RUQvQ4b/d4VDhbNIMPPn0Wi0MhwOj+reSqmbzPzCaf66MeZ1zAxJAtQfbGb+1Gq1OkVRjBxSNwDgldP8KhG9jRk+GYFp1wkR37fb7ZVer3cspbwGAKdNI+IlIvoYO3zyAHUSiPjOWruLiLvOtblgjPmSYvilBKiHcAdFxPO+fxXmBU32DNQPqn3FVj94yYdfGgHnmXgGABeZ+Y4x5sO8NkPWl0YgZJgQTQ4Q0lpKTSaQss0Qr0wgpLWUmkwgZZshXplASGspNZlAyjZDvDKBkNZSajKBlG2GeP0F2Ou2MQxMJhwAAAAASUVORK5CYII="},"8c58":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a-modal",{staticClass:"dialog",attrs:{title:"选择商品",width:"800",centered:"",visible:t.dialogVisible,destroyOnClose:!0},on:{ok:t.handleOk,cancel:t.handleCancel}},[s("div",{staticClass:"select-goods"},[s("div",{staticClass:"left scrollbar"},[s("a-menu",{attrs:{mode:"inline","open-keys":t.openKeys,selectedKeys:t.selectedSort},on:{openChange:t.onOpenChange,select:t.onSelect}},[t._l(t.sortList,(function(e){return[e.son_list&&e.son_list.length?s("a-sub-menu",{key:e.sort_id},[s("span",{attrs:{slot:"title"},slot:"title"},[s("span",[t._v(t._s(e.sort_name))])]),e.son_list&&e.son_list.length?[t._l(e.son_list,(function(e){return[e.son_list&&e.son_list.length?[s("a-sub-menu",{key:e.sort_id,attrs:{title:e.sort_name}},t._l(e.son_list,(function(e){return s("a-menu-item",{key:e.sort_id},[t._v(t._s(e.sort_name))])})),1)]:[s("a-menu-item",{key:e.sort_id},[t._v(t._s(e.sort_name))])]]}))]:t._e()],2):s("a-menu-item",{key:e.sort_id},[t._v(t._s(e.sort_name))])]}))],2)],1),s("div",{staticClass:"right"},[s("div",{staticClass:"top"},[s("a-input-search",{staticClass:"search",attrs:{placeholder:t.L("商品名称")},on:{change:t.onSearchChange,search:t.onSearch},model:{value:t.keywords,callback:function(e){t.keywords=e},expression:"keywords"}})],1),s("div",{staticClass:"bottom"},[s("a-table",{attrs:{"row-selection":t.rowSelection,columns:t.columns,"data-source":t.tableList,rowKey:"goods_id",scroll:{y:500},pagination:!!t.tableList.length},scopedSlots:t._u([{key:"name",fn:function(e,a){return s("span",{},[s("div",{staticClass:"product-info"},[s("div",[s("img",{attrs:{src:a.image_url}})]),s("div",[t._v(t._s(e))])])])}},{key:"price",fn:function(e,a){return s("span",{},[s("span",[t._v(t._s(e))]),s("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s("1"==a.has_spec?"（"+t.L("多规格")+"）":""))])])}},{key:"selected",fn:function(e){return s("span",{},["1"==e?s("span",{staticClass:"cr-blue"},[t._v(t._s(t.L("已添加过")))]):t._e()])}}])})],1)])])])},i=[],n=(s("a9e3"),s("d3b7"),s("159b"),s("4de4"),s("99af"),s("25f0"),s("7db0"),s("6659")),o={name:"SelectShopGoods",props:{visible:{type:Boolean,default:!1},storeId:{type:[String,Number],default:"0"},source:{type:String,default:"foodshop_goods_library"},type:{type:String,default:"checkbox"}},data:function(){return{dialogVisible:!1,rootSubmenuKeys:[],openKeys:[],columns:[{title:"商品",dataIndex:"name",scopedSlots:{customRender:"name"}},{title:"价格",dataIndex:"price",scopedSlots:{customRender:"price"}},{title:"",dataIndex:"selected",width:100,scopedSlots:{customRender:"selected"}}],menuId:0,hasSelected:[],selectedRowKeys:[],selectedSort:[],sortList:[],keywords:"",tableList:[],oldMenuId:""}},computed:{rowSelection:function(){return{selectedRowKeys:this.selectedRowKeys,type:this.type,onChange:this.onChange,getCheckboxProps:function(t){return{props:{disabled:"1"==t.selected}}}}}},watch:{visible:function(t,e){this.dialogVisible=t,t&&(this.init(),this.getSortList())}},mounted:function(){this.dialogVisible=this.visible},methods:{init:function(){this.rootSubmenuKeys=[],this.openKeys=[],this.selectedSort=[],this.tableList=[],this.keywords="",this.currentPage=1},getSortList:function(){var t=this;this.request(n["a"].sortList,{store_id:this.storeId}).then((function(e){t.sortList=e,t.sortList.length&&t.handleDefaultSelect()}))},handleDefaultSelect:function(){var t=this;this.init(),this.sortList.forEach((function(e,s){if(t.rootSubmenuKeys.push(e.sort_id),e.son_list&&e.son_list.length){0==s&&t.openKeys.push(e.sort_id);var a=e.son_list;a.forEach((function(e,a){if(e.son_list&&e.son_list.length){0==a&&t.openKeys.push(e.sort_id);var i=e.son_list;i.forEach((function(e,i){0==s&&0==a&&0==i&&(t.menuId=e.sort_id)}))}else 0==s&&0==a&&(t.menuId=e.sort_id)}))}else 0==s&&(t.menuId=e.sort_id)})),this.selectedSort.push(this.menuId),this.getGoodsList()},onSelect:function(t){var e=t.key;this.selectedSort=[e],this.menuId=e,this.currentPage=1,this.getGoodsList()},getGoodsList:function(){var t=this;this.tableList=[];var e={store_id:this.storeId,name:this.keywords,source:this.source};this.menuId&&(e.sort_id=this.menuId),this.request(n["a"].goodsList,e).then((function(e){t.tableList=e.list,t.tableList.length&&t.handleList()}))},handleList:function(){var t=this;this.hasSelected=[],"checkbox"==this.type&&(this.tableList.forEach((function(e){e.selected&&t.hasSelected.push(e.goods_id)})),this.selectedRowKeys=this.hasSelected)},handleOk:function(){var t=this.selectedRowKeys,e=this.hasSelected,s=[];t.length&&(s=t.concat(e).filter((function(t,e,s){return s.indexOf(t)===s.lastIndexOf(t)}))),s.length?(this.$emit("onSubmit",{ids:s.toString()}),this.init()):this.$message.warning(this.L("请先选择商品哦~"))},handleCancel:function(){this.init(),this.dialogVisible=!1,this.$emit("update:visible",this.dialogVisible)},onOpenChange:function(t){var e=this,s=t.find((function(t){return-1===e.openKeys.indexOf(t)}));-1===this.rootSubmenuKeys.indexOf(s)?this.openKeys=t:this.openKeys.push(s)},onSearch:function(t){this.menuId&&(this.oldMenuId=this.menuId),this.menuId="",this.openKeys=[],this.selectedSort=[],this.getGoodsList()},onSearchChange:function(t){this.keywords||!this.oldMenuId?this.onSearch(this.keywords):(this.menuId=this.oldMenuId,this.selectedSort=[this.menuId])},onChange:function(t){this.selectedRowKeys=t}}},l=o,r=(s("6a7f"),s("0c7c")),c=Object(r["a"])(l,a,i,!1,null,"31f19d46",null);e["a"]=c.exports},b359:function(t,e,s){"use strict";s("bf7d")},b697:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mt-10 mb-20 pt-20 pl-20 pr-20 pb-20 bg-ff br-10"},[s("section",{staticClass:"mt-20"},[s("a-tabs",{attrs:{animated:!1},on:{change:t.onTabChange},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},[s("div",{staticClass:"w-450 search-order",attrs:{slot:"tabBarExtraContent"},slot:"tabBarExtraContent"},[s("a-input-search",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入商品名称","allow-clear":"","enter-button":""},on:{search:t.handleSearchSubmit}}),s("div",{staticClass:"status"},[s("p",[t._v("状态:")]),s("a-select",{staticStyle:{width:"120px"},attrs:{"default-value":"-1"},on:{change:t.handleChangeFlag}},t._l(t.flagList,(function(e){return s("a-select-option",{key:e.id,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1)],1),t._l(t.tabList,(function(e){return s("a-tab-pane",{key:e.key,attrs:{tab:e.value}},[s("div",{key:"has-data",staticClass:"flex mt-10"},[s("div",{staticClass:"left"},[t.sortList.length>0?s("a-menu",{staticClass:"scroll_content",staticStyle:{"max-height":"100vh","overflow-y":"auto"},attrs:{mode:"inline","open-keys":t.defaultOpenSort,"selected-keys":t.defaultSort},on:{select:t.onSortSelect,openChange:t.onOpenChange}},[t._l(t.sortList,(function(e){return[e.children&&e.children.length?s("a-sub-menu",{key:e.id},[s("span",{attrs:{slot:"title"},slot:"title"},[s("span",[t._v(t._s(e.name))])]),e.children&&e.children.length?[t._l(e.children,(function(e){return[e.children&&e.children.length?[s("a-sub-menu",{key:e.id,attrs:{title:e.name}},t._l(e.children,(function(e){return s("a-menu-item",{key:e.id},[t._v(t._s(e.name))])})),1)]:[s("a-menu-item",{key:e.id},[t._v(t._s(e.name))])]]}))]:t._e()],2):s("a-menu-item",{key:e.id},[t._v(t._s(e.name))])]}))],2):s("div",{key:"no-data",staticClass:"no-data"},[t._v("暂无数据")])],1),s("div",{staticClass:"right"},[s("a-button",{staticClass:"mr-20",staticStyle:{float:"left"},attrs:{type:"primary"},on:{click:function(e){return t.editGoodsSort()}}},[t._v(" 分类管理")]),s("div",{staticStyle:{"margin-bottom":"10px",float:"right"}},[s("a-button-group",[s("a-button",{on:{click:function(e){return t.virtualSales()}}},[t._v(" 设置虚拟销量")]),s("a-button",{on:{click:function(e){return t.changeGoodsStatus(!0)}}},[t._v(" 上架")]),s("a-button",{on:{click:function(e){return t.changeGoodsStatus(!1)}}},[t._v(" 下架")]),s("a-button",{on:{click:function(e){return t.removeGoods()}}},[t._v(" 删除")])],1),s("a-button",{staticClass:"mr-20",staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){return t.editGoods()}}},[t._v(" 新建商品")]),s("a-button",{staticClass:"mr-20",attrs:{type:"primary"},on:{click:t.getExport}},[t._v(" 导出商品")]),s("a-button",{staticClass:"mr-20",attrs:{type:"default"},on:{click:t.clickbathAddGoods}},[t._v(" 批量新建商品")])],1),s("a-modal",{attrs:{title:"设置虚拟销量",width:"300px"},on:{ok:t.setVirtualSales},model:{value:t.virtual_visible,callback:function(e){t.virtual_visible=e},expression:"virtual_visible"}},[s("a-input-number",{staticStyle:{width:"100px"},attrs:{min:0},model:{value:t.virtual_sales,callback:function(e){t.virtual_sales=e},expression:"virtual_sales"}})],1),s("div",{staticStyle:{height:"50px"}},[s("span",{staticStyle:{"margin-left":"8px"}})]),s("a-table",{attrs:{columns:t.columns,"row-selection":t.rowSelection,rowKey:"goods_id","data-source":t.goodsList,bordered:"",pagination:t.pagination},scopedSlots:t._u([{key:"name",fn:function(e,a){return[s("div",{staticClass:"flex align-center"},[s("img",{staticClass:"size-45",attrs:{src:a.image}}),s("span",{staticClass:"flex-1 ml-10"},[t._v(t._s(e)+" ")])])]}},{key:"price",fn:function(e,a,i){return["spu"==a.goods_type?s("div",[a.price_editable?[s("a-input-number",{attrs:{formatter:function(t){return("￥ "+t).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(t){return t.replace(/\￥\s?|(,*)/g,"")},"default-value":e,min:0},on:{change:t.handlePriceChange}}),s("span",{staticClass:"ml-10 cr-primary pointer inline-block",on:{click:function(e){return t.changeGoodsPrice(i,"confirm")}}},[t._v("确定")]),s("span",{staticClass:"ml-10 cr-primary pointer inline-block",on:{click:function(e){return t.changeGoodsPrice(i,"cancel")}}},[t._v("取消")])]:[s("span",[t._v("￥"+t._s(e))]),s("span",{staticClass:"ml-10 cr-primary pointer inline-block",on:{click:function(e){return t.changeGoodsPrice(i,"change")}}},[t._v("修改")])]],2):"sku"==a.goods_type?s("div",[s("span",[t._v("￥"+t._s(a.min_price))]),t._v(" ~ "),s("span",[t._v("￥"+t._s(a.max_price))]),s("span",{staticClass:"ml-10 cr-primary pointer inline-block",on:{click:function(e){return t.changeGoodsPrice(i,"model")}}},[t._v("修改")])]):t._e()]}},{key:"stock_num",fn:function(e,a){return[-1==a.stock_num?[s("span",[t._v("无限量")])]:[s("span",[t._v(t._s(a.stock_num)+" ")])]]}},{key:"qrcode",fn:function(e){return[s("span",{staticClass:"pointer cr-primary",on:{click:function(s){return t.checkQrcode(e)}}},[t._v("二维码")])]}},{key:"audit_status",fn:function(e,a){return[0==a.audit_status?s("span",{staticStyle:{color:"#faad14"}},[t._v(t._s(a.audit_status_text))]):1==a.audit_status?s("span",{staticStyle:{color:"#52c41a"}},[t._v(t._s(a.audit_status_text))]):2==a.audit_status?s("span",{staticStyle:{color:"#f5222d"}},[t._v(t._s(a.audit_status_text))]):t._e()]}},{key:"audit_msg",fn:function(e){return[s("span",[t._v(t._s(e||"无"))])]}},{key:"status",fn:function(e,a){return[s("a-switch",{attrs:{"checked-children":"上架","un-checked-children":"下架","default-checked":1==e},on:{change:function(e){return t.setGoodsStatus(a.goods_id,e)}}})]}},{key:"action",fn:function(e,a){return[s("span",{staticClass:"inline-block",on:{click:function(s){return t.editGoods(e)}}},[s("a",[t._v("编辑")])]),s("span",{staticClass:"ml-10 inline-block",on:{click:function(s){return t.removeGoods(e)}}},[s("a",[t._v("删除")])]),s("span",{staticClass:"ml-10 inline-block",on:{click:function(e){return t.virtualSales(a)}}},[s("a",[t._v("虚拟销量")])])]}}],null,!0)})],1)])])}))],2)],1),s("a-modal",{attrs:{title:t.modelTitle,centered:"",width:"300px"},on:{ok:t.handleOk},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[s("div",{staticStyle:{"max-height":"500px","overflow-y":"scroll"}},[s("div",{staticClass:"flex align-center mb-20 fw-bold"},[s("div",{staticClass:"w-100"},[t._v("规格")]),s("div",{staticClass:"flex-1"},[t._v("价格")])]),t._l(t.skuInfo,(function(e,a){return s("div",{key:e.sku_id,staticClass:"flex align-center mt-10"},[s("div",{staticClass:"w-100"},[t._v(t._s(e.sku_str||"--"))]),s("div",{staticClass:"flex-1"},[s("a-input-number",{staticStyle:{width:"100%"},attrs:{formatter:function(t){return("￥ "+t).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(t){return t.replace(/\￥\s?|(,*)/g,"")},"default-value":e.price,min:0},on:{change:function(e){return t.changeSkuGoodsPrice(e,a)}}})],1)])}))],2)]),s("export-add",{ref:"ExportAddModal",attrs:{exportUrl:t.exportUrl,queryParam:{store_id:t.store_id}}}),s("a-modal",{attrs:{title:"详情二维码",centered:"",footer:null},model:{value:t.qrcodeVisible,callback:function(e){t.qrcodeVisible=e},expression:"qrcodeVisible"}},[s("img",{staticClass:"qrcode-img",attrs:{src:t.qrcodeImg}})]),s("select-shop-goods",{attrs:{visible:t.selectGoodsVisible,storeId:t.store_id,source:"mall_goods",type:t.goodsSelectType},on:{"update:visible":function(e){t.selectGoodsVisible=e},onSubmit:t.onGoodsSelect}})],1)},i=[],n=(s("7db0"),s("d3b7"),s("d81d"),s("7c9a")),o=s("4031"),l=s("4261"),r=s("8c58"),c={name:"MallGoodsList",components:{DragBox:n["a"],ExportAdd:l["default"],SelectShopGoods:r["a"]},data:function(){var t=this;return{store_id:"",sort_type:1,exportUrl:o["a"].exportGoods,searchForm:{keywords:""},tabList:[{key:"1",title:"全部商品（12）"},{key:"2",title:"服饰"}],currentTab:"",sortList:[],defaultOpenSort:[],defaultSort:[],sortId:"",goodsList:[],columns:[{title:"商品名称",dataIndex:"name",scopedSlots:{customRender:"name"}},{title:"浏览量",dataIndex:"browse_num"},{title:"售价",dataIndex:"price",scopedSlots:{customRender:"price"}},{title:"当前库存",dataIndex:"stock_num",scopedSlots:{customRender:"stock_num"}},{title:"今日销量",dataIndex:"today_sale_number"},{title:"虚拟销量",dataIndex:"virtual_sales"},{title:"实际销量",dataIndex:"all_sale_number"},{title:"详情",dataIndex:"qrcode",scopedSlots:{customRender:"qrcode"}},{title:"状态",dataIndex:"status",width:100,scopedSlots:{customRender:"status"}},{title:this.L("审核状态"),dataIndex:"audit_status",key:"audit_status",scopedSlots:{customRender:"audit_status"}},{title:this.L("备注"),dataIndex:"audit_msg",key:"audit_msg",scopedSlots:{customRender:"audit_msg"}},{title:"提交时间",dataIndex:"update_time"},{title:"操作",dataIndex:"goods_id",scopedSlots:{customRender:"action"}}],selectedRowKeys:[],selectedRows:[],selectedIds:[],sortValue:0,virtual_sales:0,visible:!1,virtual_visible:!1,selectGoodsVisible:!1,goodsSelectType:"checkbox",modelTitle:"修改价格",changedPrice:0,skuInfo:[],goodsId:"",pagination:{current:1,total:0,pageSize:10,showSizeChanger:!0,onChange:function(e,s){return t.onPageChange(e,s)},onShowSizeChange:function(e,s){return t.onPageSizeChange(e,s)},showTotal:function(t){return"共 ".concat(t," 个商品")}},noData:!1,qrcodeVisible:!1,qrcodeImg:"",flagList:[{id:0,value:"-1",label:"全部状态"},{id:1,value:"0",label:"待审核"},{id:2,value:"1",label:"审核成功"},{id:3,value:"2",label:"审核失败"}]}},computed:{rowSelection:function(){var t=this;return{selectedRowKeys:this.selectedRowKeys,onChange:function(e,s){t.selectedRowKeys=e},getCheckboxProps:function(t){return{}}}}},watch:{"$route.query.store_id":function(t){t&&(this.store_id=t,this.getTabList())}},created:function(){this.store_id=this.$route.query.store_id,this.getTabList()},activated:function(){var t=sessionStorage.getItem("goodsEdit")||"";t&&1==t&&(this.store_id=this.$route.query.store_id,this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",10),this.getDataList({store_id:this.store_id,sort_id:this.sortId}),sessionStorage.removeItem("goodsEdit"))},methods:{handleChangeFlag:function(t){this.pagination.current=1,-1==t?this.getDataList():this.getDataList(t)},handleSearchSubmit:function(t){this.searchForm.keywords=t,this.getTabList()},getTabList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.request(o["a"].getGoodsStatus,{store_id:this.store_id,keyword:this.searchForm.keywords}).then((function(s){s&&(t.tabList=s,!t.currentTab&&s.length&&(t.currentTab=s[0].key),t.searchForm.keywords||e?t.getDataList():t.getSortList())}))},getSortList:function(){var t=this;this.defaultSort=[],this.defaultOpenSort=[],this.searchForm.keywords||1!=this.currentTab?this.sort_type=1:this.sort_type=0,this.request(o["a"].getGoodsSort,{store_id:this.store_id,type:this.sort_type}).then((function(e){var s=e.list;if(s&&s.length){t.noData=!1;var a=s[0];if(a.children&&a.children.length){t.defaultOpenSort.push(a.id);var i=a.children[0];if(i.children&&i.children.length){t.defaultOpenSort.push(i.id);var n=i.children[0];t.sortId=n.id,t.defaultSort.push(n.id)}else t.sortId=i.id,t.defaultSort.push(i.id)}else t.sortId=a.id,t.defaultSort.push(a.id);t.sortList=s,t.getDataList()}else t.selectedRowKeys=[],t.goodsList=[],t.noData=!0}))},onSortSelect:function(t){t.item;var e=t.key;t.selectedKeys;this.sortId=e,this.defaultSort=[e],this.$set(this,"searchForm",{keywords:""}),this.$set(this.pagination,"current",1),this.getDataList()},onOpenChange:function(t){var e=this,s=t.find((function(t){return-1===e.defaultOpenSort.indexOf(t)}));-1===this.defaultOpenSort.indexOf(s)?this.defaultOpenSort=t:this.defaultOpenSort=s?[s]:[]},getDataList:function(t){var e=this;this.selectedRowKeys=[],this.goodsList=[];var s={store_id:this.store_id,search_type:this.currentTab};this.sortId&&(s.sort_id=this.sortId),this.searchForm.keywords&&(this.defaultOpenSort=[],this.defaultSort=[],s.keyword=this.searchForm.keywords,delete s.sort_id),t&&(s.audit_status=t),s.page=this.pagination.current,s.pageSize=this.pagination.pageSize,this.request(o["a"].getGoodsList,s).then((function(t){t.list&&(t.list?e.goodsList=t.list.map((function(t){return t.sort_editable=!1,t.price_editable=!1,t})):e.goodsList=[]),e.$set(e.pagination,"total",t.total)}))},onTabChange:function(t){this.getSortList()},editGoodsSort:function(){var t={store_id:this.store_id};this.$router.push({path:"/merchant/merchant.mall/GoodsSortList",query:t})},editGoods:function(t){var e=this,s={store_id:this.store_id};t?this.request(o["a"].deleteJudge,{goods_ids:[t]}).then((function(a){a[0]?e.$message.warn("该商品正在参加活动，请先将活动失效再来编辑"):(s.goods_id=t,e.$router.push({path:"/merchant/merchant.mall/editGoods",query:s}))})):this.$router.push({path:"/merchant/merchant.mall/editGoods",query:s})},removeGoods:function(t){var e=this,s=[];if(t)s.push(t);else{if(!this.selectedRowKeys.length)return void this.$message.warning("请选择商品");s=this.selectedRowKeys}this.$confirm({title:"确认要删除选中商品吗?",centered:!0,onOk:function(){e.request(o["a"].removeGoods,{goods_ids:s}).then((function(s){!0!==s?t?e.$message.warn("该商品正在参加活动，请先将活动失效再来删除"):e.$message.warn("存在"+s+"个商品正在参加活动，请先将活动失效再来删除"):e.$message.success("删除成功"),e.getDataList()}))},onCancel:function(){}})},setGoodsStatus:function(t,e){this.selectedIds=[t],this.setGoodsStatusRequest(e,1)},changeGoodsStatus:function(t){this.selectedRowKeys.length?(this.selectedIds=this.selectedRowKeys,this.setGoodsStatusRequest(t)):this.$message.warning("请选择商品")},virtualSales:function(t){t?1===t.virtual_set?this.$message.warning("该商品虚拟销量只能平台设置，商家不可进行设置"):(this.selectedRowKeys=[t.goods_id],this.virtual_sales=t.virtual_sales,this.virtual_visible=!0):this.virtual_visible=!0},setVirtualSales:function(){var t=this;this.selectedRowKeys.length?(this.selectedIds=this.selectedRowKeys,this.request(o["a"].setVirtualSales,{goods_ids:this.selectedIds,sales:this.virtual_sales}).then((function(e){!0!==e?1===t.selectedRowKeys.length?t.$message.warn("该商品虚拟销量只能平台设置，商家不可进行设置"):t.$message.warn("存在"+e+"个商品虚拟销量只能平台设置，商家不可进行设置"):t.$message.success("设置成功"),t.virtual_visible=!1,t.getTabList(!0)}))):(this.$message.warning("请选择商品"),this.virtual_visible=!1)},setGoodsStatusRequest:function(t,e){var s=this,a=t?1:0;this.request(o["a"].changeGoodsStatus,{goods_ids:this.selectedIds,status:a}).then((function(a){t?s.$message.success("修改成功"):!0!==a?e?s.$message.warn("该商品正在参加活动，请先将活动失效再来下架"):s.$message.warn("存在"+a+"个商品正在参加活动，请先将活动失效再来下架"):s.$message.success("修改成功"),s.getTabList(!0)}))},changeGoodsSort:function(t,e){var s=this,a=this.goodsList[t];"change"==e||"cancel"==e?(a.sort_editable=!a.sort_editable,this.$set(this.goodsList,t,a)):(a.sort_editable=!1,this.request(o["a"].changeGoodsSort,{goods_id:a.goods_id,sort:this.sortValue}).then((function(t){s.$message.success("修改成功！"),s.getDataList()})))},handleSortChange:function(t){this.sortValue=t},saveSortChange:function(t){var e=this;this.request(o["a"].changeGoodsSort,{goods_id:t.goods_id,sort:t.sort_store}).then((function(t){e.getDataList()}))},changeGoodsPrice:function(t,e){var s=this,a=this.goodsList[t];this.request(o["a"].deleteJudge,{goods_ids:[a.goods_id]}).then((function(i){i[0]?s.$message.warn("该商品正在参加活动，请先将活动失效再来修改价格"):"change"==e||"cancel"==e?(a.price_editable=!a.price_editable,s.$set(s.goodsList,t,a)):"confirm"==e?(a.price_editable=!1,s.updateGoodsPrice({goods_id:a.goods_id,type:"spu",price:s.changedPrice})):(s.goodsId=a.goods_id,s.request(o["a"].getGoodsSkuPrice,{goods_id:a.goods_id}).then((function(t){s.skuInfo=t,s.visible=!0})))}))},handlePriceChange:function(t){this.changedPrice=t},updateGoodsPrice:function(t){var e=this;this.request(o["a"].changeGoodsPrice,t).then((function(t){e.$message.success("修改成功！"),e.getDataList()}))},changeSkuGoodsPrice:function(t,e){var s=this.skuInfo[e];s.price=t,this.$set(this.skuInfo,e,s)},handleOk:function(){this.visible=!1,this.updateGoodsPrice({goods_id:this.goodsId,sku_info:this.skuInfo,type:"sku"})},onPageChange:function(t,e){this.$set(this.pagination,"current",t),this.getDataList()},onPageSizeChange:function(t,e){this.$set(this.pagination,"pageSize",e),this.getDataList()},resetForm:function(){this.$set(this,"searchForm",{keywords:""}),this.$set(this.pagination,"current",1),this.getTabList()},getExport:function(){this.goodsList.length?this.$refs.ExportAddModal.exports():this.$message.warn("当前没有可以导出的内容")},checkQrcode:function(t){this.qrcodeImg=t,this.qrcodeVisible=!0},clickbathAddGoods:function(){if(0==this.sortList.length)return this.$message.error("请先添加分类"),!1;this.selectGoodsVisible=!0},bathAddGoods:function(t){var e=this,s={goods_id:t,store_id:this.store_id,sort_id:this.sortId};this.request(o["a"].goodsBatch,s).then((function(t){e.$message.success(t.msg),e.selectedRowKeys=[],e.getSortList(),e.getGoodsList()}))},onGoodsSelect:function(t){this.selectGoodsVisible=!1,t.ids&&this.bathAddGoods(t.ids)}}},d=c,h=(s("b359"),s("0c7c")),u=Object(h["a"])(d,a,i,!1,null,"d75f2f5e",null);e["default"]=u.exports},bcea:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACBUlEQVRoQ+2Vvy8EQRzF3/coSBQk2KW4CIVCo5DQSCgUFAqFaxQSUShk90QUJH6ERCGySxARjUIi5K7T+0PUbvwHQuIrzi0XjjE3MxHJXHO5/c68eZ/3dvcI//xD/9w/HMBfN+gacA1oJuBuIc0Atbe7BrQj1BRwDWgGqL3dNaAdoaaAa0AzQO3t1hrwYu4nQh7AiQhoQ9vpNwJWAPw9HgPjuuzMKxHSpA0I4wBezBkCLiqYtQJhFMCLeYaA03fzhAwYGQATpWvGIYwBeHscECNOzBNjqpClc1xyjX9XfBbGbUAYAWiLeIUJW2XJT4uAzpLfHetc99BYhBg1DaEN4Ee8DsJaYpYZs/dZ+riNSoOWQ25IPSFPwIhJCC2Az+aJMFcI6Pi7t016m5se65EDMGwKomqAz+YBzIuQDmSvSn+fW8DIgTFoAqIqgC/JAwuFkCKZ+WTeHHFb7duf3IAuhDJAheSXREg7vzWfrGuPOf2M4u3UpwOhBNC6z12pZ9yWPbDL91naVjWfrPci7kwRcgz0lq7tipAWVfSqByCsioA2VQ6rtLY95u5SEz0AFkVIuyqaSgCvwn7EQ6/fIks3Kgf9tNaPuAOEMRHSkaqmMoDqAbbXOwDbCcv0XQOyhGzPXQO2E5bpuwZkCdmeuwZsJyzTdw3IErI9dw3YTlim7xqQJWR7/gIoJ4sxUA2kRAAAAABJRU5ErkJggg=="},bf7d:function(t,e,s){},eb9e:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACD0lEQVRoQ+2Vv0pcQRTGz7kLiws2FhZpQohFYGVh984sSSOshUUsUgjrNhaCpLAQQSRFAvlDBIsgWoiEkCZFIBDcLn0eYM48gfsS+wB75II3XGR1Mp4ZRJjbLHf+fPP9vm+4i/DAH3zg/iEB3HeDqYHUgDCBdIWEAYq3pwbEEQoFUgPCAMXbUwPiCIUCqQFhgOLt0RpQSj0HgCEzf7PWfhI7vUEgCoDWepWZ/1TO/E1E6zEgggPkeT5AxF9TzEaBCAqgtd5i5u+leWYeZFk2YOa1q7HgEMEAlFK7AHBSMb9hrf3Z7/dro9FoiIivYkAEAdBav2Pmg8q12SSiH+V7r9ebGY/HBcTL0BBigDzPPyLih4r510T07xqV481mc7bRaAwBYCUkhAhgivltIvp609em1WrN1ev1cwBYDgVxZ4Dr5hFxxxhz6vpUdjqd+SzLCoilEBB3Aphifs8Yc+wyX84rpR4Vf3IA8EIK4Q1w3Twzv7HWfvlf8xWIx4h4zsxaAuEFoJRaAICLitm3RHToa75c3+12n04mk+I6ta/Gjoho30dPAvCeiD77HDZtrdb6GTMXEIsAsE9ERz6aXgCFsNa6V/waY/76HHTb2na7/aRWq60S0ZmvpjeA7wGx1yeA2Am79FMDroRiz6cGYifs0k8NuBKKPZ8aiJ2wSz814Eoo9nxqIHbCLv3UgCuh2POXPbCeMfyLhFcAAAAASUVORK5CYII="},f431:function(t,e,s){"use strict";s("7f48")}}]);