(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ab221e0","chunk-2d0bacf3"],{3990:function(e,t,i){"use strict";var a={villageInfo:"/community/village_api.VillageConfig/getVillageInfo",baseConfig:"/community/village_api.VillageConfig/baseConfig",buildingIndex:"/community/village_api.Building/index",roomIndex:"/community/village_api.Room/index",ownerIndex:"/community/village_api.Owner/index",ownerReview:"/community/village_api.Owner/review",ownerUnbid:"/community/village_api.Owner/unbind",familyIndex:"/community/village_api.FamilyMember/index",enantIndex:"/community/village_api.Enant/index",buildingList:"/community/village_api.Building/index",deleteBuilding:"/community/village_api.Building/deleteBuilding",buildingInfo:"/community/village_api.Building/buildingInfo",updateBuildingStatus:"/community/village_api.Building/updateBuildingStatus",saveBuildingButler:"/community/village_api.Building/saveBuildingButler",getBuildingButler:"community/village_api.Building/getBuildingButler",updateBuildingInfoByID:"community/village_api.Building/updateBuildingInfoByID",buildingUnitFloor:"community/village_api.Building/unitFloor",buildingFloorLayerRooms:"community/village_api.Building/floorLayerRooms",unitRentalList:"/community/village_api.UnitRental/index",deleteUnitRental:"/community/village_api.UnitRental/deleteUnitRental",unitRentalInfo:"/community/village_api.UnitRental/unitRentalInfo",updateUnitRentalStatus:"/community/village_api.UnitRental/updateUnitRentalStatus",saveUnitRentalButler:"/community/village_api.UnitRental/saveUnitRentalButler",getUnitRentalButler:"community/village_api.UnitRental/getUnitRentalButler",updateUnitRentalInfoByID:"community/village_api.UnitRental/updateUnitRentalInfoByID",unitRentalFloorList:"community/village_api.UnitRental/unitRentalFloorList",updateUnitRentalFloorStatus:"community/village_api.UnitRental/updateUnitRentalFloorStatus",deleteUnitRentalFloor:"community/village_api.UnitRental/deleteUnitRentalFloor",unitRentalFloorInfo:"community/village_api.UnitRental/unitRentalFloorInfo",saveUnitRentalFloorInfo:"community/village_api.UnitRental/saveUnitRentalFloorInfo",unitRentalLayerList:"community/village_api.UnitRental/unitRentalLayerList",unitRentalLayerInfo:"community/village_api.UnitRental/unitRentalLayerInfo",saveUnitRentalLayerInfo:"community/village_api.UnitRental/saveUnitRentalLayerInfo",updateUnitRentalLayerStatus:"community/village_api.UnitRental/updateUnitRentalLayerStatus",deleteUnitRentalLayer:"community/village_api.UnitRental/deleteUnitRentalLayer",thirdVillageUploadFile:"community/village_api.third.Room/villageUploadFile",thirdStartRoomImport:"community/village_api.third.Room/startRoomImport",thirdStartUserImport:"community/village_api.third.Room/startUserImport",thirdStartChargeImport:"community/village_api.third.Room/startChargeImport",thirdRefreshProcess:"community/village_api.third.Room/refreshProcess",ownerList:"/community/village_api.People.Owner/index",servicesImgPreview:"/community/village_api.WorkWeiXin/servicesImgPreview"};t["a"]=a},"5deb":function(e,t,i){},"8f9f":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a-form-model",{ref:"ruleForm",attrs:{rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[i("div",{staticClass:"form_con",staticStyle:{display:"flex","flex-wrap":"wrap"}},e._l(e.baseForm,(function(t,a){return i("a-form-model-item",{key:a,staticStyle:{width:"33.3%"}},[i("div",{attrs:{slot:"label"},slot:"label"},[t.is_must?i("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),i("span",[e._v(e._s(t.title)+"：")])]),1==t.type?i("div",{staticClass:"form_item"},[i("a-input",{staticStyle:{width:"200px"},attrs:{disabled:t.is_disabled,placeholder:"请输入"+t.title},model:{value:e.baseForm[a].value,callback:function(t){e.$set(e.baseForm[a],"value",t)},expression:"baseForm[index].value"}})],1):e._e(),2==t.type?i("div",{staticClass:"form_item"},[i("a-select",{staticStyle:{width:"200px"},attrs:{disabled:t.is_disabled,placeholder:"请选择"+t.title},model:{value:e.baseForm[a].value,callback:function(t){e.$set(e.baseForm[a],"value",t)},expression:"baseForm[index].value"}},e._l(t.use_field,(function(t,a){return i("a-select-option",{attrs:{value:t}},[e._v(e._s(t))])})),1)],1):e._e(),3==t.type?i("div",{staticClass:"form_item",staticStyle:{display:"flex","align-items":"center"}},[i("a-select",{staticStyle:{width:"99px"},attrs:{placeholder:"选择省",disabled:t.is_disabled},on:{change:function(t){return e.handleSelectChange(t,"province_id",a)}},model:{value:e.province_id,callback:function(t){e.province_id=t},expression:"province_id"}},e._l(e.provinceList,(function(t,a){return i("a-select-option",{attrs:{value:t.id+""}},[e._v(e._s(t.name))])})),1),i("a-select",{staticStyle:{width:"99px","margin-left":"2px"},attrs:{placeholder:"选择市",disabled:t.is_disabled},on:{change:function(t){return e.handleSelectChange(t,"city_id",a)}},model:{value:e.city_id,callback:function(t){e.city_id=t},expression:"city_id"}},e._l(e.cityList,(function(t,a){return i("a-select-option",{attrs:{value:t.id+""}},[e._v(e._s(t.name))])})),1)],1):e._e(),4==t.type?i("div",{staticClass:"form_item"},[e.baseForm[a].value?i("a-date-picker",{staticStyle:{width:"200px"},attrs:{disabled:t.is_disabled,"default-value":e.moment(e.baseForm[a].value,"YYYY-MM-DD"),placeholder:"请选择"+t.title,format:"YYYY-MM-DD"}}):i("a-date-picker",{staticStyle:{width:"200px"},attrs:{disabled:t.is_disabled,placeholder:"请选择"+t.title,format:"YYYY-MM-DD"}})],1):e._e()])})),1),e.baseForm?i("a-form-model-item",{attrs:{"wrapper-col":{span:14,offset:2}}},[i("a-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")])],1):e._e()],1)},l=[],n=(i("a9e3"),i("d81d"),i("b0c0"),i("c1df")),o=i.n(n),u=i("8bbf"),r=i.n(u),s=i("ed09"),c=(i("3990"),Object(s["c"])({props:{formParams:{type:Object,default:function(){return{}}},pigcms_id:{type:[String,Number],default:""}},setup:function(e,t){var i=Object(s["h"])({span:6}),a=Object(s["h"])({span:14}),l=Object(s["h"])(!1),n=Object(s["h"])([]);n.value=e.formParams.field_list;var u=Object(s["h"])({}),c=Object(s["h"])(),m=Object(s["h"])([]),d=Object(s["h"])(""),p=Object(s["h"])(""),v=function(){r.a.prototype.request("/community/village_api.Building/getHouseVillageProvince").then((function(e){m.value=e,n.value.map((function(e){if(0==e.value&&(e.value=void 0),3==e.type){var t=e.value.split("#");d.value=0!=t[0]?t[0]:void 0,g.value=0!=t[1]?t[1]:void 0,console.log(e.value,t),m.value.map((function(e){d.value==e.id&&(p.value=e.name,_(d.value,p.value))}))}}))}))},g=Object(s["h"])(""),y=Object(s["h"])([]),_=function(e,t){r.a.prototype.request("/community/village_api.Building/getHouseVillageCity",{id:e,name:t}).then((function(e){y.value=e}))};Object(s["i"])((function(){return e.formParams}),(function(e){n.value=e.field_list,v()}));var f=function(){var t=!1,i=[];n.value.map((function(e){e.is_must&&!e.value&&(t=!0),i.push({key:e.key,value:e.value?e.value:0,type:e.type,title:e.title,source:e.source,is_must:e.is_must})})),t?r.a.prototype.$message.warn("请填写必填项"):l.value?r.a.prototype.$message.warn("正在提交中，请稍等..."):(l.value=!0,r.a.prototype.request("/community/village_api.Building/subRoomBindUserData",{pigcms_id:e.pigcms_id,basic_data:i}).then((function(e){l.value=!1,r.a.prototype.$message.success("保存成功！")})).catch((function(e){l.value=!1})))},b=function(e,t,i){"province_id"==t?(d.value=e,y.value=[],g.value="",m.value.map((function(e){d.value==e.id&&(p.value=e.name,_(d.value,p.value))})),n.value[i].value=d.value+"#"):"city_id"==t&&(g.value=e,n.value[i].value=d.value+"#"+g.value)},R=function(){c.value.resetFields()};return{labelCol:i,wrapperCol:a,baseForm:n,rules:u,onSubmit:f,resetForm:R,moment:o.a,delayPost:l,provinceList:m,province_id:d,province_name:p,getProvince:v,city_id:g,cityList:y,getCity:_,handleSelectChange:b}}})),m=c,d=(i("aaf6"),i("0c7c")),p=Object(d["a"])(m,a,l,!1,null,"05429713",null);t["default"]=p.exports},aaf6:function(e,t,i){"use strict";i("5deb")}}]);