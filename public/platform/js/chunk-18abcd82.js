(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18abcd82"],{"026b":function(t,e){var i="\\ud800-\\udfff",s="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",o=s+a+n,l="\\ufe0e\\ufe0f",r="\\u200d",c=RegExp("["+r+i+o+l+"]");function u(t){return c.test(t)}t.exports=u},"086e":function(t,e){var i="\\ud800-\\udfff",s="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",o=s+a+n,l="\\ufe0e\\ufe0f",r="["+i+"]",c="["+o+"]",u="\\ud83c[\\udffb-\\udfff]",d="(?:"+c+"|"+u+")",p="[^"+i+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",g=d+"?",_="["+l+"]?",y="(?:"+h+"(?:"+[p,m,f].join("|")+")"+_+g+")*",L=_+g+y,b="(?:"+[p+c+"?",c,m,f,r].join("|")+")",S=RegExp(u+"(?="+u+")|"+b+L,"g");function v(t){var e=S.lastIndex=0;while(S.test(t))++e;return e}t.exports=v},2297:function(t,e,i){var s=i("30fc0"),a=i("282f"),n=i("f0b8"),o=i("700f");function l(t,e,i){t=o(t),e=n(e);var l=e?a(t):0;return e&&l<e?s(e-l,i)+t:t}t.exports=l},"24c0":function(t,e,i){},"282f":function(t,e,i){var s=i("ccf3"),a=i("026b"),n=i("086e");function o(t){return a(t)?n(t):s(t)}t.exports=o},"2bbb":function(t,e,i){var s=i("30fc0"),a=i("282f"),n=i("f0b8"),o=i("700f");function l(t,e,i){t=o(t),e=n(e);var l=e?a(t):0;return e&&l<e?t+s(e-l,i):t}t.exports=l},"30fc0":function(t,e,i){var s=i("9b3c"),a=i("5eff"),n=i("9d34"),o=i("026b"),l=i("282f"),r=i("ff8d"),c=Math.ceil;function u(t,e){e=void 0===e?" ":a(e);var i=e.length;if(i<2)return i?s(e,t):e;var u=s(e,c(t/l(e)));return o(e)?n(r(u),0,t).join(""):u.slice(0,t)}t.exports=u},"4d95":function(t,e,i){"use strict";var s={getTicketList:"life_tools/merchant.LifeToolsTicket/getList",getTicketDetail:"life_tools/merchant.LifeToolsTicket/getDetail",ticketDel:"life_tools/merchant.LifeToolsTicket/del",TicketEdit:"life_tools/merchant.LifeToolsTicket/addOrEdit",getLifeToolsList:"life_tools/merchant.LifeTools/getInformationList",setLifeToolsAttrs:"life_tools/merchant.LifeTools/setLifeToolsAttrs",getSportsOrderList:"/life_tools/merchant.SportsOrder/getOrderList",exportToolsOrder:"/life_tools/merchant.SportsOrder/exportToolsOrder",getSportsOrderDetail:"/life_tools/merchant.SportsOrder/getOrderDetail",agreeSportsOrderRefund:"/life_tools/merchant.SportsOrder/agreeRefund",refuseSportsOrderRefund:"/life_tools/merchant.SportsOrder/refuseRefund",getEditInfo:"life_tools/merchant.LifeToolsTicket/getEditInfo",getCategoryList:"life_tools/merchant.LifeToolsCategory/getCategoryList",getMapConfig:"life_tools/merchant.LifeTools/getMapConfig",getAddressList:"life_tools/merchant.LifeTools/getAddressList",addEditLifeTools:"life_tools/merchant.LifeTools/addEditLifeTools",getLifeToolsDetail:"life_tools/merchant.LifeTools/getLifeToolsDetail",delLifeTools:"life_tools/merchant.LifeTools/delLifeTools",getReplyList:"/life_tools/merchant.LifeToolsReply/searchReply",isShowReply:"/life_tools/merchant.LifeToolsReply/isShowReply",getReplyDetails:"/life_tools/merchant.LifeToolsReply/getReplyDetails",delReply:"/life_tools/merchant.LifeToolsReply/delReply",subReply:"/life_tools/merchant.LifeToolsReply/subReply",getReplyContent:"/life_tools/merchant.LifeToolsReply/getReplyContent",getCardList:"/life_tools/merchant.EmployeeCard/getCardList",editCard:"/life_tools/merchant.EmployeeCard/editCard",saveCard:"/life_tools/merchant.EmployeeCard/saveCard",delCard:"/life_tools/merchant.EmployeeCard/delCard",getSportsVerifyList:"/life_tools/merchant.SportsOrder/getVerifyList",exportVerifyRecord:"/life_tools/merchant.SportsOrder/exportVerifyRecord",getLimitedList:"/life_tools/merchant.LifeScenicLimitedAct/getLimitedList",updateLimited:"/life_tools/merchant.LifeScenicLimitedAct/addLimited",limitedChangeState:"/life_tools/merchant.LifeScenicLimitedAct/changeState",removeLimited:"/life_tools/merchant.LifeScenicLimitedAct/del",getLimitedInfo:"/life_tools/merchant.LifeScenicLimitedAct/edit",getMerchantSort:"/life_tools/merchant.LifeToolsTicket/getMerchantSort",getLifeToolsTicket:"/life_tools/merchant.LifeToolsTicket/getLifeToolsTicket",getToolsCardList:"/life_tools/merchant.LifeTools/getToolsCardList",AddOrEditToolsCard:"/life_tools/merchant.LifeTools/AddOrEditToolsCard",getToolsCardEdit:"/life_tools/merchant.LifeTools/getToolsCardEdit",delToolsCard:"/life_tools/merchant.LifeTools/delToolsCard",getAllToolsList:"/life_tools/merchant.LifeTools/getAllToolsList",getToolsCardRecord:"/life_tools/merchant.LifeTools/getToolsCardRecord",getCardOrderList:"/life_tools/merchant.LifeTools/getCardOrderList",getCardOrderDetail:"/life_tools/merchant.LifeTools/getCardOrderDetail",agreeCardOrderRefund:"/life_tools/merchant.LifeTools/agreeCardOrderRefund",refuseCardOrderRefund:"/life_tools/merchant.LifeTools/refuseCardOrderRefund",getSportsActivityList:"/life_tools/merchant.LifeToolsSportsActivity/getSportsActivityList",updateSportsActivityStatus:"/life_tools/merchant.LifeToolsSportsActivity/updateSportsActivityStatus",getSportsActivityOrderList:"/life_tools/merchant.LifeToolsSportsActivity/getSportsActivityOrderList",addSportsActivity:"/life_tools/merchant.LifeToolsSportsActivity/addSportsActivity",editSportsActivity:"/life_tools/merchant.LifeToolsSportsActivity/editSportsActivity",getTravelList:"/life_tools/merchant.LifeToolsGroupTravelAgency/getTravelList",agencyAudit:"/life_tools/merchant.LifeToolsGroupTravelAgency/audit",getStaffList:"/life_tools/merchant.LifeToolsTicket/getStaffList",getAppointList:"life_tools/merchant.LifeToolsAppoint/getList",getAppointMsg:"life_tools/merchant.LifeToolsAppoint/getToolAppointMsg",saveAppoint:"life_tools/merchant.LifeToolsAppoint/saveToolAppoint",lookAppointUser:"life_tools/merchant.LifeToolsAppoint/lookAppointUser",closeAppoint:"life_tools/merchant.LifeToolsAppoint/closeAppoint",exportAppointUserOrder:"life_tools/merchant.LifeToolsAppoint/exportUserOrder",delAppoint:"life_tools/merchant.LifeToolsAppoint/delAppoint",getSeatMap:"/life_tools/merchant.LifeToolsAppoint/getSeatMap",getAppointOrderDetail:"life_tools/merchant.LifeToolsAppoint/getAppointOrderDetail",auditRefund:"life_tools/merchant.LifeToolsAppoint/auditRefund",suspend:"life_tools/merchant.LifeToolsAppoint/suspend",getSportsSecondsKillList:"/life_tools/merchant.LifeToolsSportsSecondsKill/getSecondsKillList",saveSportsSecondsKill:"/life_tools/merchant.LifeToolsSportsSecondsKill/saveSecondsKill",ChangeSportsSecondsKill:"/life_tools/merchant.LifeToolsSportsSecondsKill/ChangeSportsSecondsKill",delSportsSecondsKill:"/life_tools/merchant.LifeToolsSportsSecondsKill/delSecondsKill",getSportsSecondsKillDetail:"/life_tools/merchant.LifeToolsSportsSecondsKill/getSecondsKillDetail",getGroupTicketList:"life_tools/merchant.group/getGroupTicketList",getGroupLifeToolsTicket:"life_tools/merchant.LifeToolsTicket/getLifeToolsTicket",addGroupTicket:"life_tools/merchant.group/addGroupTicket",delGroupTicket:"life_tools/merchant.group/delGroupTicket",editSettingData:"life_tools/merchant.group/editSettingData",editGroupTicket:"life_tools/merchant.group/editGroupTicket",getSettingDataDetail:"life_tools/merchant.group/getSettingDataDetail",getStatisticsData:"life_tools/merchant.LifeToolsGroupOrder/getStatisticsData",getOrderList:"life_tools/merchant.LifeToolsGroupOrder/getOrderList",getOrderAuditList:"/life_tools/merchant.LifeToolsGroupOrder/getAuditGroupOrderList",orderAudit:"/life_tools/merchant.LifeToolsGroupOrder/audit",groupOrderRefand:"life_tools/merchant.LifeToolsGroupOrder/groupOrderRefand",editDistributionPrice:"life_tools/merchant.LifeToolsDistribution/editDistributionPrice",getDistributionSettingDataDetail:"/life_tools/merchant.LifeToolsDistribution/getSettingDataDetail",getDistributionSettingeditSetting:"/life_tools/merchant.LifeToolsDistribution/editSetting",getAtatisticsInfo:"/life_tools/merchant.LifeToolsDistribution/getAtatisticsInfo",getDistributorList:"/life_tools/merchant.LifeToolsDistribution/getDistributorList",getLowerLevel:"/life_tools/merchant.LifeToolsDistribution/getLowerLevel",audit:"/life_tools/merchant.LifeToolsDistribution/audit",getDistributionOrderList:"/life_tools/merchant.LifeToolsDistribution/getDistributionOrderList",editDistributionOrderNote:"/life_tools/merchant.LifeToolsDistribution/editDistributionOrderNote",delDistributor:"/life_tools/merchant.LifeToolsDistribution/delDistributor",addStatement:"/life_tools/merchant.LifeToolsDistribution/addStatement",getStatementList:"/life_tools/merchant.LifeToolsDistribution/getStatement",getStatementDetail:"/life_tools/merchant.LifeToolsDistribution/getStatementDetail",lifeToolsAudit:"/life_tools/platform.LifeTools/lifeToolsAudit",auditTicket:"/life_tools/platform.LifeToolsTicket/auditTicket",getMapCity:"/g=Index&c=Map&a=suggestion",getCarParkList:"/life_tools/merchant.LifeToolsCarPark/getCarParkList",addCarPark:"/life_tools/merchant.LifeToolsCarPark/addCarPark",showCarPark:"/life_tools/merchant.LifeToolsCarPark/showCarPark",getToolsList:"/life_tools/merchant.LifeToolsCarPark/getToolsList",deleteCarPark:"/life_tools/merchant.LifeToolsCarPark/deleteCarPark",statusCarPark:"/life_tools/merchant.LifeToolsCarPark/statusCarPark",wifiList:"life_tools/merchant.LifeToolsWifi/wifiList",wifiAdd:"life_tools/merchant.LifeToolsWifi/wifiAdd",wifiShow:"life_tools/merchant.LifeToolsWifi/wifiShow",wifiStatusChange:"life_tools/merchant.LifeToolsWifi/wifiStatusChange",wifiDelete:"life_tools/merchant.LifeToolsWifi/wifiDelete",scenicMapSave:"/life_tools/merchant.LifeToolsScenicMap/saveMap",scenicMapPlaceList:"/life_tools/merchant.LifeToolsScenicMap/mapPlaceList",scenicMapPlaceSave:"/life_tools/merchant.LifeToolsScenicMap/saveMapPlace",scenicMapPlaceDel:"/life_tools/merchant.LifeToolsScenicMap/mapPlaceDel",scenicMapLineList:"/life_tools/merchant.LifeToolsScenicMap/mapLineList",scenicMapLineSave:"/life_tools/merchant.LifeToolsScenicMap/saveMapLine",scenicMapLineDel:"/life_tools/merchant.LifeToolsScenicMap/mapLineDel",scenicMapScenicList:"/life_tools/merchant.LifeToolsScenicMap/scenicList",scenicMapPlaceCatList:"/life_tools/merchant.LifeToolsScenicMap/categoryList",scenicMapPlaceCategoryDel:"/life_tools/merchant.LifeToolsScenicMap/categoryDel",scenicMapPlaceCategorySave:"/life_tools/merchant.LifeToolsScenicMap/saveCategory",scenicMapList:"/life_tools/merchant.LifeToolsScenicMap/mapList",scenicMapDel:"/life_tools/merchant.LifeToolsScenicMap/mapDel",scenicMapStatusSave:"/life_tools/merchant.LifeToolsScenicMap/saveMapStatus",changeCloseStatus:"life_tools/merchant.LifeTools/changeCloseStatus",getAddEditCardMerchantInfo:"/life_tools/merchant.LifeTools/getAddEditCardMerchantInfo"};e["a"]=s},5335:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mt-10 mb-20 pt-20 pl-20 pr-20 pb-20 bg-ff br-10"},[e("a-tabs",{attrs:{tabBarStyle:{background:"#fff"},size:"large","tab-position":"top","default-active-key":t.tabKey},on:{change:t.selectClassify}},t._l(t.tabList,(function(i){return e("a-tab-pane",{key:i.key,attrs:{tab:i.tab}},[e("a-row",[e("div",{staticStyle:{padding:"20px"}},[e("a-row",{attrs:{gutter:16}},t._l(t.cardList,(function(t){return e("a-col",{key:t.id,attrs:{span:6}},[e("a-card",{staticStyle:{width:"310px",height:"120px"}},[e("a-row",[e("a-col",{attrs:{span:6}},[e("img",{attrs:{width:"65",height:"65",src:"/v20/public/static/life_tools/images/group_all_order.png"}})]),e("a-col",{staticStyle:{"padding-left":"20px"},attrs:{span:15}},[e("a-statistic",{attrs:{value:t.totals,title:t.title}})],1)],1)],1)],1)})),1)],1)]),0==t.navIndex?e("div",[e("a-row",{staticStyle:{margin:"10px 0",display:"flex","align-items":"center"}},[e("a-select",{staticStyle:{width:"120px"},attrs:{"default-value":t.option1[0].label},on:{change:t.handleChange1}},t._l(t.option1,(function(i){return e("a-select-option",{key:i.key,attrs:{value:i.key}},[t._v(t._s(i.label))])})),1),e("a-input",{staticStyle:{width:"15%"},attrs:{placeholder:"名称/手机号"},model:{value:t.seatchValue,callback:function(e){t.seatchValue=e},expression:"seatchValue"}}),e("div",{staticClass:"flag"},[e("p",[t._v(t._s(t.L("状态:")))]),e("a-select",{staticStyle:{width:"120px"},attrs:{"default-value":t.option2[0].label},on:{change:t.handleChange2}},t._l(t.option2,(function(i){return e("a-select-option",{key:i.key,attrs:{value:i.key}},[t._v(t._s(i.label))])})),1)],1),e("a-button",{staticStyle:{margin:"10px 10px 10px 3%"},attrs:{type:"primary"},on:{click:t.seatch}},[t._v(t._s(t.L("搜索")))]),e("a-button",{staticStyle:{margin:"10px 10px 10px 3%"},attrs:{type:"primary"},on:{click:function(e){return t.exportExcal(1)}}},[t._v(t._s(t.L("导出")))])],1),e("div",{staticStyle:{padding:"0 10px"}},[e("a-tabs",{attrs:{tabBarStyle:{background:"#fff"},size:"large","tab-position":"top","default-active-key":t.tabKey},on:{change:t.distributorCategory}},t._l(t.tabDistributorCategoryList,(function(t){return e("a-tab-pane",{key:t.key,attrs:{tab:t.tab}})})),1)],1),e("a-table",{staticClass:"aTable",attrs:{rowSelection:{onChange:t.onSelectChange,selectedRowKeys:t.selectedRowKeys},scroll:{x:1850,y:400},rowKey:"user_id",columns:t.columns,"data-source":t.tabData,pagination:t.pagination},scopedSlots:t._u([{key:"phone",fn:function(i){return e("span",{},[e("span",[t._v(t._s(i||"无"))])])}},{key:"invit_num",fn:function(i,s){return e("span",{},[e("span",[t._v(t._s(s.invit_num?s.invit_num:"无")+"  ")]),e("a",{on:{click:function(e){return t.viewPeople(s)}}},[t._v(t._s(t.L("查看")))])])}},{key:"Distribution_list",fn:function(i,s){return e("span",{},[e("a",{on:{click:function(e){return t.viewDistribution(s)}}},[t._v(t._s(t.L("查看详情")))])])}},{key:"audit_status",fn:function(i){return e("span",{},[0==i?e("span",{staticStyle:{color:"#faad14"}},[t._v(t._s(t.L("未审核")))]):1==i?e("span",{staticStyle:{color:"#52c41a"}},[t._v(t._s(t.L("已认证")))]):2==i?e("span",{staticStyle:{color:"#f5222d"}},[t._v(t._s(t.L("认证失败")))]):t._e()])}},{key:"operation",fn:function(i,s){return e("span",{staticClass:"edit"},[e("a",{on:{click:function(e){return t.showModal(s)}}},[t._v(t._s(0==s.audit_status?"审核":"重新审核"))]),e("a",{staticStyle:{color:"#f5222d"},on:{click:function(e){return t.listDelelt(s)}}},[t._v("   "+t._s("删除"))])])}}],null,!0)})],1):e("div",[e("a-row",{staticStyle:{margin:"10px 0",display:"flex","align-items":"center"}},[e("a-select",{staticStyle:{width:"120px"},on:{change:function(e){return t.statementHandleSelectChange(e,"list","search_type")}},model:{value:t.statementParams.search_type,callback:function(e){t.$set(t.statementParams,"search_type",e)},expression:"statementParams.search_type"}},t._l(t.statementOptions.listSearchTypeOptions,(function(i){return e("a-select-option",{key:i.key,attrs:{value:i.key}},[t._v(t._s(i.label))])})),1),e("a-input",{staticStyle:{width:"15%"},attrs:{placeholder:"请输入搜索内容"},model:{value:t.statementParams.search_content,callback:function(e){t.$set(t.statementParams,"search_content",e)},expression:"statementParams.search_content"}}),e("div",{staticClass:"flag"},[e("p",[t._v(t._s(t.L("状态:")))]),e("a-select",{staticStyle:{width:"120px"},on:{change:function(e){return t.statementHandleSelectChange(e,"list","status")}},model:{value:t.statementParams.status,callback:function(e){t.$set(t.statementParams,"status",e)},expression:"statementParams.status"}},t._l(t.statementOptions.listStatusOptions,(function(i){return e("a-select-option",{key:i.key,attrs:{value:i.key}},[t._v(t._s(i.label))])})),1)],1),e("a-button",{staticStyle:{margin:"10px 10px 10px 3%"},attrs:{type:"primary"},on:{click:function(e){return t.statementHandleClick(0)}}},[t._v(t._s(t.L("搜索")))]),e("a-button",{staticStyle:{margin:"10px 10px 10px 3%"},attrs:{type:"primary"},on:{click:function(e){return t.statementHandleClick(1)}}},[t._v(t._s(t.L("导出")))])],1),e("a-table",{attrs:{columns:t.statementColumns,"data-source":t.statementList,rowKey:"pigcms_id",pagination:t.statementPagination},scopedSlots:t._u([{key:"name",fn:function(i){return e("span",{},[i.length>15?e("a-tooltip",[e("template",{slot:"title"},[t._v(" "+t._s(i)+" ")]),t._v(" "+t._s(i)+" ")],2):e("span",[t._v(t._s(i))])],1)}},{key:"nickname",fn:function(i){return e("span",{},[i.length>15?e("a-tooltip",[e("template",{slot:"title"},[t._v(" "+t._s(i)+" ")]),t._v(" "+t._s(i)+" ")],2):e("span",[t._v(t._s(i))])],1)}},{key:"operation",fn:function(i,s){return e("span",{},[e("a",{on:{click:function(e){return t.showStatementDetailModal(s)}}},[t._v(t._s(t.L("查看详情")))])])}}],null,!0)})],1)],1)})),1),e("a-modal",{attrs:{maskClosable:!1,destroyOnClose:"",title:t.L("审核信息"),width:"46%",visible:t.visible,"confirm-loading":t.confirmLoading,okText:"提交"},on:{ok:t.handleOk,cancel:t.handleCancel}},[e("div",{staticStyle:{padding:"0 40px"}},[e("div",{staticClass:"info-list"},[t._l(t.arletItem,(function(i,s){return e("div",{key:s},["image"==i.type?e("div",{},[e("div",{staticClass:"info"},[e("span",[t._v(t._s(i.title)+"：")]),e("div",{staticStyle:{flex:"1"}},t._l(i.show_value,(function(i,s){return e("img",{key:s,attrs:{alt:"暂无图片",src:i},on:{click:function(e){return t.previewImageClick(i)}}})})),0)])]):e("div",{staticClass:"info"},[e("span",[t._v(t._s(i.title)+"：")]),e("span",[t._v(t._s(i.show_value))])])])})),e("div",{staticClass:"info"},[e("span",[t._v(t._s(t.L("是否审核通过：")))]),e("a-radio-group",{attrs:{options:t.plainOptions,"default-value":t.value1},on:{change:t.onChange1}})],1),e("div",{staticClass:"info"},[e("span",[t._v(t._s(t.L("驳回原因：")))]),e("a-textarea",{attrs:{"auto-size":{minRows:3,maxRows:6}},model:{value:t.submit.audit_msg,callback:function(e){t.$set(t.submit,"audit_msg",e)},expression:"submit.audit_msg"}})],1)],2)])]),e("a-modal",{attrs:{visible:t.previewVisible,footer:null},on:{cancel:t.previewImageCancel}},[e("img",{staticStyle:{width:"100%"},attrs:{alt:"暂无图片",src:t.viewImg}})]),e("a-modal",{attrs:{title:t.L(t.titles.nickname+"的邀请人数"),width:"70%",visible:t.peopleVisible,destroyOnClose:"",footer:null},on:{cancel:function(){t.peopleVisible=!1}}},[e("div",{staticStyle:{padding:"0 10px"}},[e("a-tabs",{attrs:{tabBarStyle:{background:"#fff"},size:"large","tab-position":"top","default-active-key":t.tabKey},on:{change:t.peopleSelect}},t._l(t.tabPeoperList,(function(t){return e("a-tab-pane",{key:t.key,attrs:{tab:t.tab}})})),1),e("a-row",{staticStyle:{margin:"10px 0",display:"flex","align-items":"center"}},[e("a-select",{staticStyle:{width:"160px"},attrs:{defaultValue:t.peopleOption[0].key},on:{change:t.peopleHandleChange},model:{value:t.peopleOptionKey,callback:function(e){t.peopleOptionKey=e},expression:"peopleOptionKey"}},t._l(t.peopleOption,(function(i,s){return e("a-select-option",{key:i.key,attrs:{value:i.key}},[t._v(t._s(i.label))])})),1),e("a-input",{staticStyle:{width:"22%"},attrs:{placeholder:"昵称/手机号"},model:{value:t.peopleValue,callback:function(e){t.peopleValue=e},expression:"peopleValue"}}),e("a-button",{staticStyle:{margin:"10px 10px 10px 3%"},attrs:{type:"primary"},on:{click:t.peopleSearch}},[t._v(t._s(t.L("搜索")))]),e("a-button",{staticStyle:{margin:"10px 10px 10px 3%"},attrs:{type:"primary"},on:{click:function(e){return t.exportExcal(2)}}},[t._v(t._s(t.L("导出")))])],1),e("a-table",{attrs:{rowKey:"user_id",columns:t.peopleColumns,"data-source":t.peopleTabData,pagination:t.peoplePagination,scroll:{y:400}}})],1)]),e("a-modal",{attrs:{title:t.L(t.titles.nickname+"的分销清单"),destroyOnClose:"",width:"85%",visible:t.distributionVisible,footer:null},on:{cancel:function(){t.distributionVisible=!1}}},[e("div",{staticStyle:{padding:"0 10px"}},[e("a-tabs",{attrs:{tabBarStyle:{background:"#fff"},size:"large","tab-position":"top","default-active-key":t.tabKey},on:{change:t.distributionListSelect}},t._l(t.tabDistributionList,(function(t){return e("a-tab-pane",{key:t.key,attrs:{tab:t.tab}})})),1),e("a-row",{staticStyle:{margin:"10px 0",display:"flex","align-items":"center"}},[e("div",{staticStyle:{display:"flex","align-items":"center"}},[e("span",[t._v("选择日期：")]),e("a-range-picker",{on:{change:t.onPickerChange},model:{value:t.timerPicker,callback:function(e){t.timerPicker=e},expression:"timerPicker"}})],1),0==t.distributionIndex?e("a-button",{staticStyle:{margin:"10px 10px 10px 10%"},attrs:{type:"primary"},on:{click:t.settlementSheet}},[t._v(t._s(t.L("生成结算单")))]):t._e()],1),e("a-table",{attrs:{scroll:{y:400},rowSelection:{selectedRowKeys:t.distributionRowKeys,onChange:t.distributionOnSelectChange},rowKey:"id",columns:t.distributionListColumns,"data-source":t.distributionListTabData,pagination:!1},scopedSlots:t._u([{key:"status",fn:function(i){return e("span",{},[0==i?e("span",[t._v(t._s(t.L("待结算")))]):1==i?e("span",[t._v(t._s(t.L("结算中")))]):2==i?e("span",[t._v(t._s(t.L("已结算")))]):t._e()])}},{key:"note",fn:function(i){return e("span",{},[e("span",[t._v(t._s(i||t.L("无")))])])}},{key:"operation",fn:function(i,s){return e("span",{staticClass:"edit"},[0==s.status?e("a",{on:{click:function(e){return t.remarksClick(s)}}},[t._v(t._s(t.L("备注")))]):e("a",[t._v(t._s(t.L("不可操作")))])])}}])}),e("div",{staticStyle:{display:"flex","justify-content":"flex-end","margin-top":"20px"}},[e("a-pagination",{attrs:{"page-size-options":t.distributionListpagination.pageSizeOptions,total:t.distributionListpagination.total,"show-size-changer":"","page-size":t.distributionListpagination.pageSize},on:{change:t.distributionChangePage,showSizeChange:t.ondistributionPageSizeChange},scopedSlots:t._u([{key:"buildOptionText",fn:function(i){return[i.value<=100?e("span",[t._v(t._s(i.value)+"条/页")]):i.value>100?e("span",[t._v("全部")]):t._e()]}}]),model:{value:t.distributionListpagination.current,callback:function(e){t.$set(t.distributionListpagination,"current",e)},expression:"distributionListpagination.current"}})],1)],1)]),e("a-modal",{attrs:{title:t.L("发送结算单"),width:"38%",maskClosable:!1,destroyOnClose:"",visible:t.settlementVisible,footer:null},on:{cancel:function(){t.settlementVisible=!1}}},[e("div",[e("a-form",{ref:"form",attrs:{form:t.form,name:"basic","label-col":{span:6},"wrapper-col":{span:16}},on:{submit:t.handleSubmit}},[e("a-form-item",{attrs:{name:"name",label:"结算单名称"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:t.L("请输入结算单名称")}]}],expression:"['name', { rules: [{ required: true, message: L('请输入结算单名称') }] }]"}],attrs:{placeholder:"请输入结算单名称"}})],1),e("a-form-item",{attrs:{label:t.L("发布单位")}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["company",{rules:[{required:!0,message:t.L("请输入发布单位")}]}],expression:"['company', { rules: [{ required: true, message: L('请输入发布单位') }] }]"}],attrs:{placeholder:"请输入发布单位"}})],1),e("a-form-item",{attrs:{label:t.L("驳回订单金额")}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["reject_money"],expression:"['reject_money']"}],attrs:{placeholder:"请输入驳回订单金额"}})],1),e("div",{staticClass:"submit_div"},[e("a-button",{staticClass:"submit_btn",attrs:{type:"primary","html-type":"submit"}},[t._v(" "+t._s(t.L("确定"))+" ")])],1)],1)],1)]),e("a-modal",{attrs:{title:t.L("备注"),width:"30%",maskClosable:!1,destroyOnClose:"",visible:t.settlementRemarksVisible},on:{ok:t.settlementRemarksOk,cancel:function(){t.settlementRemarksVisible=!1}}},[e("div",{staticClass:"info",staticStyle:{"margin-bottom":"20px"}},[e("span",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.L("门票名称：")))]),e("span",[t._v(t._s(t.noteDetail.tools_title))])]),e("a-textarea",{attrs:{"auto-size":{minRows:3,maxRows:6}},model:{value:t.settlementRemarks,callback:function(e){t.settlementRemarks=e},expression:"settlementRemarks"}})],1),e("a-modal",{attrs:{title:t.L("结算单详情"),width:"70%",destroyOnClose:"",visible:t.statementDetailVisible,footer:null,bodyStyle:{maxHeight:"80vh",overflowY:"auto"}},on:{cancel:function(){return t.statementDetailVisible=!1}}},[e("a-row",{staticClass:"mt-10 mb-10",attrs:{type:"flex",align:"middle"}},[e("a-col",{staticClass:"flex align-center",staticStyle:{display:"flex"},attrs:{span:18}},[e("div",{staticClass:"flex align-center"},[e("span",[t._v("选择日期：")]),e("a-range-picker",{on:{change:t.onStatementDetailPickerChange}})],1),e("div",{staticClass:"flex-1 mt-10 mb-10 ml-10 mr-10"},[e("a-input-group",{attrs:{compact:""}},[e("a-select",{staticStyle:{width:"30%"},on:{change:function(e){return t.statementHandleSelectChange(e,"detail","search_type")}},model:{value:t.statementDetailParams.search_type,callback:function(e){t.$set(t.statementDetailParams,"search_type",e)},expression:"statementDetailParams.search_type"}},t._l(t.statementOptions.detailSearchTypeOptions,(function(i){return e("a-select-option",{key:i.key,attrs:{value:i.key}},[t._v(t._s(i.label))])})),1),e("a-input",{staticStyle:{width:"60%"},attrs:{placeholder:t.L("请输入搜索内容")},model:{value:t.statementDetailParams.search_content,callback:function(e){t.$set(t.statementDetailParams,"search_content",e)},expression:"statementDetailParams.search_content"}})],1)],1)]),e("a-col",{staticClass:"flex align-center justify-between",attrs:{span:6}},[e("a-button",{staticClass:"mt-10 mb-10 ml-10 mr-10",attrs:{type:"primary"},on:{click:function(e){return t.statementDetailSearch(0)}}},[t._v(t._s(t.L("搜索")))]),e("a-button",{staticClass:"mt-10 mb-10 ml-10 mr-10",attrs:{type:"primary"},on:{click:function(e){return t.statementDetailSearch(1)}}},[t._v(t._s(t.L("导出")))])],1)],1),e("a-table",{attrs:{columns:t.statementDetailColumns,"data-source":t.statementDetailList,rowKey:"order_id",pagination:t.statementDetailPagination},scopedSlots:t._u([{key:"note",fn:function(i){return e("span",{attrs:{placement:"topLeft"}},[i.length>15?e("a-tooltip",[e("template",{slot:"title"},[t._v(" "+t._s(i)+" ")]),t._v(" "+t._s(i)+" ")],2):e("span",[t._v(t._s(i))])],1)}}])})],1)],1)},a=[],n=i("8ee2"),o=(i("707a"),i("b9de")),l=(i("c5cb"),i("f597"),i("4afa"),i("54f8"),i("aa48"),i("3446"),i("4d95")),r=i("8bbf"),c=i.n(r);c.a.use(o["a"]);var u={data:function(){return{tabList:[{key:"0",tab:this.L("分销员列表")},{key:"1",tab:this.L("结算单列表")}],tabPeoperList:[{key:"0",tab:this.L("一级用户")},{key:"1",tab:this.L("二级用户")}],tabDistributorCategoryList:[{key:"0",tab:this.L("个人分销员")},{key:"1",tab:this.L("企业分销员")}],tabDistributionList:[{key:"0",tab:this.L("待结算")},{key:"1",tab:this.L("结算中")},{key:"2",tab:this.L("已结算")}],tabKey:"0",cardList:[{totals:0,title:this.L("结算中总金额"),id:0},{totals:0,title:this.L("已结算总金额"),id:1},{totals:0,title:this.L("分销订单总数量"),id:2},{totals:0,title:this.L("分销员总数量"),id:3}],queryParams:{page_size:0,page:1,nickname:"",phone:"",type:0,status:null,user_ids:"",function_type:0},peopleQueryParams:{page_size:0,page:1,user_id:"",content:"",level:1,function_type:0,select_type:0},distributionQueryParams:{page_size:0,page:1,user_id:"",start_time:"",end_time:"",status:0,get_all:0},submit:{user_id:"",audit_status:"",audit_msg:""},option1:[{key:"0",label:"昵称"},{key:"1",label:"手机号"}],option2:[{key:"0",label:"全部"},{key:"1",label:"未审核"},{key:"2",label:"已认证"},{key:"3",label:"认证失败"}],peopleOption:[{key:"1",label:this.L("昵称")},{key:"2",label:this.L("手机号")}],peopleOptionKey:"1",peopleNameType:"1",peopleValue:"",pagination:{pageSize:10,total:0,current:1,page:1,showSizeChanger:!0,onChange:this.changePage,onShowSizeChange:this.onPageSizeChange,pageSizeOptions:["10","20","40","60","80","100"],showTotal:function(t){return"共 ".concat(t," 条记录")}},peoplePagination:{pageSize:10,total:0,current:1,page:1,showSizeChanger:!0,onChange:this.changePage1,onShowSizeChange:this.onProplePageSizeChange,pageSizeOptions:["10","20","40","60","80","100"],showTotal:function(t){return"共 ".concat(t," 条记录")}},distributionListpagination:{pageSize:10,total:0,current:1,page:1,showSizeChanger:!0,pageSizeOptions:["10","20","40","60","80","100","999"]},selectedRowKeys:[],columns:[{title:this.L("呢称"),dataIndex:"nickname",key:"nickname",ellipsis:!0,scopedSlots:{customRender:"nickname"}},{title:this.L("手机号"),dataIndex:"phone",key:"phone",width:120,scopedSlots:{customRender:"phone"}},{title:this.L("佣金"),dataIndex:"commission",key:"commission",scopedSlots:{customRender:"commission"}},{title:this.L("邀请奖金"),dataIndex:"invit_money",key:"invit_money",scopedSlots:{customRender:"invit_money"}},{title:this.L("邀请人数"),dataIndex:"invit_num",key:"invit_num",scopedSlots:{customRender:"invit_num"}},{title:this.L("未结算订单"),dataIndex:"count_settled_not_order",key:"count_settled_not_order"},{title:this.L("未结算订单金额"),dataIndex:"price_settled_not",key:"price_settled_not",width:150},{title:this.L("结算中订单"),dataIndex:"count_settled_in_order",key:"count_settled_in_order",scopedSlots:{customRender:"count_settled_in_order"}},{title:this.L("已结算订单"),dataIndex:"count_settled_order",key:"count_settled_order",scopedSlots:{customRender:"count_settled_order"}},{title:this.L("结算中金额"),dataIndex:"price_settled_in",key:"price_settled_in",scopedSlots:{customRender:"price_settled_in"}},{title:this.L("已结算金额"),dataIndex:"price_settled",key:"price_settled",scopedSlots:{customRender:"price_settled"}},{title:this.L("已结算驳回金额"),dataIndex:"reject_money",width:150,key:"reject_money",scopedSlots:{customRender:"reject_money"}},{title:this.L("状态"),dataIndex:"audit_status",key:"audit_status",scopedSlots:{customRender:"audit_status"}},{title:this.L("分销清单"),dataIndex:"Distribution_list",key:"Distribution_list",fixed:"right",scopedSlots:{customRender:"Distribution_list"}},{title:this.L("操作"),dataIndex:"operation",key:"operation",fixed:"right",width:140,scopedSlots:{customRender:"operation"}}],peopleColumns:[{title:this.L("呢称"),dataIndex:"nickname",key:"nickname"},{title:this.L("手机号"),dataIndex:"phone",key:"phone"},{},{},{title:this.L("邀请人数"),dataIndex:"invit_num",key:"invit_num"}],distributionListColumns:[{title:this.L("订单号"),dataIndex:"real_orderid",key:"real_orderid",ellipsis:!0,scopedSlots:{customRender:"real_orderid"}},{title:this.L("门票名称"),dataIndex:"ticket_title",key:"ticket_title",ellipsis:!0,scopedSlots:{customRender:"ticket_title"}},{title:this.L("景区名称"),dataIndex:"tools_title",key:"tools_title",ellipsis:!0,scopedSlots:{customRender:"tools_title"}},{title:this.L("购买游客"),dataIndex:"nickname",key:"nickname",ellipsis:!0,scopedSlots:{customRender:"nickname"}},{title:this.L("手机号"),dataIndex:"phone",key:"phone",scopedSlots:{customRender:"phone"}},{title:this.L("数量"),dataIndex:"num",key:"num",ellipsis:!0,scopedSlots:{customRender:"num"}},{title:this.L("订单金额"),dataIndex:"price",key:"price",ellipsis:!0,scopedSlots:{customRender:"price"}},{title:this.L("佣金奖励"),dataIndex:"commission_level_1",key:"commission_level_1",ellipsis:!0,scopedSlots:{customRender:"commission_level_1"}},{title:this.L("邀请奖励"),dataIndex:"commission_level_2",key:"commission_level_2",ellipsis:!0,scopedSlots:{customRender:"commission_level_2"}},{title:this.L("状态"),dataIndex:"status",key:"status",ellipsis:!0,scopedSlots:{customRender:"status"}},{title:this.L("下单日期"),dataIndex:"add_time",key:"add_time",scopedSlots:{customRender:"add_time"}},{title:this.L("备注"),dataIndex:"note",key:"note",ellipsis:!0,scopedSlots:{customRender:"note"}},{title:this.L("操作"),dataIndex:"operation",scopedSlots:{customRender:"operation"}}],tabData:[],peopleTabData:[],distributionListTabData:[],plainOptions:[{value:"0",label:this.L("同意")},{value:"1",label:this.L("驳回")}],arletItem:null,viewImg:null,visible:!1,value1:"",confirmLoading:!1,previewVisible:!1,nameFlag:!1,seatchValue:"",fileList:[],previewImage:"",previewImgVisible:!1,peopleVisible:!1,distributionVisible:!1,settlementVisible:!1,form:this.$form.createForm(this,{name:"coordinated"}),formState:{name:"",company:"",reject_money:""},settlementRemarksVisible:!1,settlementRemarks:"",distributionRowKeys:[],titles:{},noteDetail:{},addSment:{user_id:"",name:"",company:"",reject_money:"",order_ids:""},distributionIndex:0,timer:"",navIndex:0,statementParams:{function_type:"0",search_type:"1",search_content:"",status:"2"},statementOptions:{listSearchTypeOptions:[{key:"1",label:"昵称"},{key:"2",label:"手机号"}],listStatusOptions:[{key:"2",label:"全部"},{key:"0",label:"待确定"},{key:"1",label:"已确定"}],detailSearchTypeOptions:[{key:"1",label:"订单号"},{key:"2",label:"门票名称 "},{key:"3",label:"游客"},{key:"4",label:"手机号"}]},statementList:[],statementColumns:[{title:this.L("结算单名称"),dataIndex:"name",scopedSlots:{customRender:"name"},ellipsis:!0},{title:this.L("分销员/企业名称"),dataIndex:"nickname",scopedSlots:{customRender:"nickname"},ellipsis:!0},{title:this.L("手机号"),dataIndex:"phone",scopedSlots:{customRender:"phone"}},{title:this.L("发布时间"),dataIndex:"create_time",scopedSlots:{customRender:"create_time"}},{title:this.L("订单数量"),dataIndex:"order_count",scopedSlots:{customRender:"order_count"}},{title:this.L("应结金额"),dataIndex:"total_money",scopedSlots:{customRender:"total_money"}},{title:this.L("扣除金额"),dataIndex:"reject_money",scopedSlots:{customRender:"reject_money"}},{title:this.L("结算金额"),dataIndex:"money",scopedSlots:{customRender:"money"}},{title:this.L("状态"),dataIndex:"statement_status_msg",scopedSlots:{customRender:"statement_status_msg"}},{title:this.L("结算时间"),dataIndex:"confirm_time"},{title:this.L("操作"),dataIndex:"operation",scopedSlots:{customRender:"operation"}}],statementPagination:{pageSize:10,total:0,current:1,showSizeChanger:!0,onChange:this.onStatementPaginationChange,onShowSizeChange:this.onStatementPaginationPageSizeChange,showTotal:function(t){return"共 ".concat(t," 条记录")}},statementDetailVisible:!1,statementDetailParams:{pigcms_id:"",function_type:"0",search_type:"1",search_content:"",start_time:"",end_time:""},statementDetailPagination:{pageSize:10,total:0,current:1,showSizeChanger:!0,onChange:this.onStatementDetailPaginationChange,onShowSizeChange:this.onStatementDeatilPaginationPageSizeChange,showTotal:function(t){return"共 ".concat(t," 条记录")}},statementDetailList:[],statementDetailColumns:[{title:this.L("订单号"),dataIndex:"real_orderid"},{title:this.L("门票名"),dataIndex:"ticket_title"},{title:this.L("景区名称"),dataIndex:"tools_title"},{title:this.L("游客"),dataIndex:"nickname"},{title:this.L("手机号"),dataIndex:"phone"},{title:this.L("数量"),dataIndex:"num"},{title:this.L("金额"),dataIndex:"price"},{title:this.L("佣金"),dataIndex:"commission_level_1"},{title:this.L("邀请奖金"),dataIndex:"commission_level_2"},{title:this.L("状态"),dataIndex:"status_msg"},{title:this.L("下单日期"),dataIndex:"pay_time"},{title:this.L("备注"),dataIndex:"note",scopedSlots:{customRender:"note"},ellipsis:!0}],timerPicker:[],peopleSelectIndex:0}},created:function(){var t=this;this.request(l["a"].getAtatisticsInfo).then((function(e){t.cardList[0].totals=e.price_settled_in,t.cardList[1].totals=e.price_settled,t.cardList[2].totals=e.order_count,t.cardList[3].totals=e.distributor_count})),this.getLifeToolsList()},computed:{},methods:{getLifeToolsList:function(){var t=this;this.queryParams.page_size=this.pagination.pageSize,this.queryParams.page=this.pagination.current,this.request(l["a"].getDistributorList,this.queryParams).then((function(e){var i=e.data;t.tabData=i,t.pagination.total=e.total}))},onDistributorPageSizeChange:function(t,e){console.log(t,e),this.pagination.current=1,this.pagination.pageSize=e,this.getLifeToolsList()},onPeoplePageSizeChange:function(t,e){this.peoplePagination.current=1,this.peoplePagination.pageSize=e,this.peopelList()},onPageSizeChange:function(t,e){this.pagination.current=1,this.pagination.pageSize=e,this.getLifeToolsList()},onProplePageSizeChange:function(t,e){this.peoplePagination.current=1,this.peoplePagination.pageSize=e,this.peopelList()},selectClassify:function(t){this.navIndex=t,1==this.navIndex&&(this.$set(this.statementParams,"function_type",0),this.getStatementList())},seatch:function(){this.queryParams.function_type=0,this.nameFlag?(this.queryParams.nickname="",this.queryParams.phone=this.seatchValue):(this.queryParams.phone="",this.queryParams.nickname=this.seatchValue),this.getLifeToolsList()},handleChange1:function(t){0==t?this.nameFlag=!1:1==t&&(this.nameFlag=!0)},handleChange2:function(t){0==t?this.queryParams.status=null:1==t?this.queryParams.status=0:2==t?this.queryParams.status=1:3==t&&(this.queryParams.status=2)},distributorCategory:function(t){this.selectedRowKeys=[],this.queryParams.type=t,this.queryParams.function_type=0,this.pagination.current=1,this.getLifeToolsList()},changePage:function(t,e){this.pagination.current=t,this.getLifeToolsList()},onSelectChange:function(t){this.selectedRowKeys=t},viewPeople:function(t){this.titles=t,this.peopleOptionKey="1",this.peopleNameType="1",this.peopleQueryParams.user_id=t.user_id,this.peopleQueryParams.level=1,this.peopleColumns[2]={},this.peopleColumns[3]={},this.peopleSelectIndex=0,this.peopelList(),this.peopleVisible=!0},peopelList:function(){var t=this;this.peopleQueryParams.page_size=this.peoplePagination.pageSize,this.peopleQueryParams.page=this.peoplePagination.current,this.request(l["a"].getLowerLevel,this.peopleQueryParams).then((function(e){t.peopleTabData=e.data,t.peoplePagination.total=e.total,0==t.peopleSelectIndex?(t.peopleColumns[2]={},t.peopleColumns[3]={}):(t.peopleColumns[2]={title:t.L("上级分销员昵称"),dataIndex:"p_nickname"},t.peopleColumns[3]={title:t.L("上级分销员手机号"),dataIndex:"p_phone"})}))},viewDistribution:function(t){this.titles=t,this.timerPicker=[],this.distributionIndex=0,this.distributionRowKeys=[],this.distributionQueryParams.status=0,this.distributionQueryParams.user_id=t.user_id,this.distributionListpagination.pageSize=10,this.timer="",this.distributionQueryParams.start_time="",this.distributionQueryParams.end_time="",this.getDistributionOrderLists(),this.distributionVisible=!0},showModal:function(t){this.visible=!0,this.arletItem=t.custom_form,this.submit.user_id=t.user_id,this.submit.audit_msg=t.audit_msg},listDelelt:function(t){var e=this;this.$confirm({title:this.L("确定要删除此行数据吗？"),content:this.L("删除将不再显示"),centered:!0,onOk:function(){return new Promise((function(i,s){e.request(l["a"].delDistributor,{user_id:t.user_id}).then((function(t){i(),e.$message.success(t.msg),e.getLifeToolsList()}))})).catch((function(){return console.log("Oops errors!")}))}})},handleOk:function(t){var e=this;this.submit.audit_status?(this.confirmLoading=!0,this.request(l["a"].audit,this.submit).then((function(t){e.visible=!1,e.confirmLoading=!1,e.submit.audit_status=null,e.getLifeToolsList(),e.$message.success(t.msg)})).catch((function(t){e.confirmLoading=!1}))):this.$message.info("请勾选是否审核通过单选框再提交")},handleCancel:function(t){this.visible=!1},onChange1:function(t){0==t.target.value?this.submit.audit_status=1:this.submit.audit_status=2},previewImageClick:function(t){this.viewImg=t,this.previewVisible=!0},previewImageCancel:function(){this.previewVisible=!1},changePage1:function(t,e){this.peoplePagination.current=t,this.peopelList()},peopleSelect:function(t){this.peopleSelectIndex=t,0==t?this.peopleOption=[{key:"1",label:this.L("昵称")},{key:"2",label:this.L("手机号")}]:this.peopleOption.push({key:"3",label:this.L("上级分销员昵称")},{key:"4",label:this.L("上级分销员手机号")}),this.peopleQueryParams.level=parseInt(t)+parseInt(1),this.peopleQueryParams.function_type=0,this.peopleQueryParams.content="",this.peopleQueryParams.select_type="1",this.peoplePagination.current=1,this.peopleOptionKey="1",this.peopleNameType="1",this.peopleValue="",this.peopelList()},peopleHandleChange:function(t){this.peopleNameType=t},peopleSearch:function(){this.peopleQueryParams.function_type=0,this.peopleQueryParams.select_type=this.peopleNameType,this.peopleQueryParams.content=this.peopleValue,this.peopelList()},exportExcal:function(t){1==t?(this.queryParams.user_ids="",0==this.selectedRowKeys.length?this.queryParams.function_type=1:(this.queryParams.function_type=1,this.queryParams.user_ids=this.selectedRowKeys.join(",")),this.request(l["a"].getDistributorList,this.queryParams).then((function(t){var e=t.file_url;e&&window.open(e)}))):2==t&&(this.peopleQueryParams.function_type=1,this.request(l["a"].getLowerLevel,this.peopleQueryParams).then((function(t){var e=t.file_url;e&&window.open(e)})))},getDistributionOrderLists:function(){var t=this;this.distributionQueryParams.page_size=this.distributionListpagination.pageSize,this.distributionQueryParams.page=this.distributionListpagination.current,this.request(l["a"].getDistributionOrderList,this.distributionQueryParams).then((function(e){t.distributionListTabData=e.data,t.distributionListpagination.total=e.total,e.total>100&&e.total?t.distributionListpagination.pageSizeOptions.splice(6,1,JSON.stringify(e.total)):t.distributionListpagination.pageSizeOptions.splice(6,1,"120")}))},distributionOnSelectChange:function(t){this.distributionRowKeys=t},distributionChangePage:function(t,e){this.distributionListpagination.current=t,this.getDistributionOrderLists()},ondistributionPageSizeChange:function(t,e){var i=this;this.distributionListpagination.current=1,this.distributionListpagination.pageSize=e,e>100?(console.log("显示全部"),this.distributionQueryParams.get_all=1,this.distributionQueryParams.page_size=e,this.distributionQueryParams.page=this.distributionListpagination.current,this.request(l["a"].getDistributionOrderList,this.distributionQueryParams).then((function(t){i.distributionListTabData=t.data,i.distributionListpagination.total=t.total}))):(console.log("页数显示"),this.distributionQueryParams.get_all=0,this.getDistributionOrderLists())},distributionListSelect:function(t){this.distributionRowKeys=[],this.distributionIndex=t,this.distributionQueryParams.status=t,this.distributionListpagination.current=1,this.distributionListpagination.pageSize=10,this.distributionQueryParams.get_all=0,this.timer="",this.distributionQueryParams.start_time="",this.distributionQueryParams.end_time="",this.timerPicker=[],this.getDistributionOrderLists()},onPickerChange:function(t,e){e[0]&&e[1]?this.timer=e[0]+"-"+e[1]:this.timer="",this.distributionQueryParams.start_time=e[0],this.distributionQueryParams.end_time=e[1],this.getDistributionOrderLists()},settlementSheet:function(){var t=this;this.settlementVisible=!0;var e=this.dayTime(),i=this.$store.state.user.name;this.$nextTick((function(){t.timer?t.form.setFieldsValue({name:t.timer+" 结算单",company:i||""}):t.form.setFieldsValue({name:e+" 结算单",company:i||""})}))},dayTime:function(){var t=new Date,e=(t.getYear(),t.getFullYear(),t.getMonth(),t.getDate(),t.toLocaleDateString()),i=e.replace(/\//g,"-");return i},remarksClick:function(t){console.log(t),this.settlementRemarksVisible=!0,this.noteDetail=t},settlementRemarksOk:function(){var t=this;this.request(l["a"].editDistributionOrderNote,{distribution_order_id:this.noteDetail.id,note:this.settlementRemarks}).then((function(e){t.$message.success(e.msg),t.settlementRemarksVisible=!1,t.getDistributionOrderLists()}))},handleSubmit:function(t){var e=this;t.preventDefault(),this.form.validateFields((function(t,i){t||(e.addSment.order_ids=e.distributionRowKeys.join(","),e.addSment.user_id=e.titles.user_id,e.addSment.name=i.name,e.addSment.reject_money=i.reject_money,e.addSment.company=i.company,e.request(l["a"].addStatement,e.addSment).then((function(t){e.$message.success(t.msg),e.getDistributionOrderLists(),e.settlementVisible=!1})))}))},statementHandleSelectChange:function(t,e,i){"list"==e&&this.$set(this.statementParams,i,t),"detail"==e&&this.$set(this.statementDetailParams,i,t)},statementHandleClick:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;0==t&&this.$set(this.statementPagination,"current",1),this.$set(this.statementParams,"function_type",t),this.getStatementList()},getStatementList:function(){var t=this,e=Object(n["a"])(Object(n["a"])({},this.statementParams),{},{page:this.statementPagination.current,page_size:this.statementPagination.page_size});this.request(l["a"].getStatementList,e).then((function(e){1==t.statementParams.function_type&&e.file_url?window.open(e.file_url):(t.statementList=e.data,t.statementPagination.total=e.total)}))},onStatementPaginationChange:function(t){this.$set(this.statementPagination,"current",t),this.getStatementList()},onStatementPaginationPageSizeChange:function(t,e){this.$set(this.statementPagination,"current",1),this.$set(this.statementPagination,"pageSize",e),this.getStatementList()},showStatementDetailModal:function(t){this.$set(this.statementDetailParams,"pigcms_id",t.pigcms_id),this.$set(this.statementDetailParams,"function_type",0),this.$set(this.statementDetailPagination,"current",1),this.$set(this.statementDetailPagination,"pageSize",10),this.getStatementDetail(!0)},getStatementDetail:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=Object(n["a"])(Object(n["a"])({},this.statementDetailParams),{},{page:this.statementDetailPagination.current,page_size:this.statementDetailPagination.page_size});this.request(l["a"].getStatementDetail,i).then((function(i){1==t.statementDetailParams.function_type&&i.file_url?window.open(i.file_url):(t.statementDetailList=i.data,t.statementDetailPagination.total=i.total),e&&(t.statementDetailVisible=!0)}))},onStatementDetailPickerChange:function(t,e){this.$set(this.statementDetailParams,"start_time",e[0]),this.$set(this.statementDetailParams,"end_time",e[1])},statementDetailSearch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;0==t&&this.$set(this.statementDetailPagination,"current",1),this.$set(this.statementDetailParams,"function_type",t),this.getStatementDetail()},onStatementDetailPaginationChange:function(t){this.$set(this.statementDetailPagination,"current",t),this.getStatementDetail()},onStatementDetailPaginationPageSizeChange:function(t,e){this.$set(this.statementDetailPagination,"current",1),this.$set(this.statementDetailPagination,"pageSize",e),this.getStatementDetail()}}},d=u,p=(i("5c91"),i("75c6"),i("0b56")),m=Object(p["a"])(d,s,a,!1,null,"984017ce",null);e["default"]=m.exports},"5c91":function(t,e,i){"use strict";i("6e17")},"6e17":function(t,e,i){},"707a":function(t,e,i){"use strict";i("f7d0"),i("24c0")},"75c6":function(t,e,i){"use strict";i("e93f")},"9b3c":function(t,e){var i=9007199254740991,s=Math.floor;function a(t,e){var a="";if(!t||e<1||e>i)return a;do{e%2&&(a+=t),e=s(e/2),e&&(t+=t)}while(e);return a}t.exports=a},"9d34":function(t,e,i){var s=i("291a");function a(t,e,i){var a=t.length;return i=void 0===i?a:i,!e&&i>=a?t:s(t,e,i)}t.exports=a},b9b2:function(t,e){var i="\\ud800-\\udfff",s="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",o=s+a+n,l="\\ufe0e\\ufe0f",r="["+i+"]",c="["+o+"]",u="\\ud83c[\\udffb-\\udfff]",d="(?:"+c+"|"+u+")",p="[^"+i+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",g=d+"?",_="["+l+"]?",y="(?:"+h+"(?:"+[p,m,f].join("|")+")"+_+g+")*",L=_+g+y,b="(?:"+[p+c+"?",c,m,f,r].join("|")+")",S=RegExp(u+"(?="+u+")|"+b+L,"g");function v(t){return t.match(S)||[]}t.exports=v},b9de:function(t,e,i){"use strict";var s=i("6d2e"),a=i.n(s),n=i("eb38"),o=i("ddb1"),l=i("1626"),r=i("2bbb"),c=i.n(r),u={name:"AStatisticNumber",functional:!0,render:function(t,e){var i=e.props,s=i.value,a=i.formatter,n=i.precision,o=i.decimalSeparator,l=i.groupSeparator,r=void 0===l?"":l,u=i.prefixCls,d=void 0;if("function"===typeof a)d=a({value:s,h:t});else{var p=String(s),m=p.match(/^(-?)(\d*)(\.(\d+))?$/);if(m){var f=m[1],h=m[2]||"0",g=m[4]||"";h=h.replace(/\B(?=(\d{3})+(?!\d))/g,r),"number"===typeof n&&(g=c()(g,n,"0").slice(0,n)),g&&(g=""+o+g),d=[t("span",{key:"int",class:u+"-content-value-int"},[f,h]),g&&t("span",{key:"decimal",class:u+"-content-value-decimal"},[g])]}else d=p}return t("span",{class:u+"-content-value"},[d])}},d={prefixCls:n["a"].string,decimalSeparator:n["a"].string,groupSeparator:n["a"].string,format:n["a"].string,value:n["a"].oneOfType([n["a"].string,n["a"].number,n["a"].object]),valueStyle:n["a"].any,valueRender:n["a"].any,formatter:n["a"].any,precision:n["a"].number,prefix:n["a"].any,suffix:n["a"].any,title:n["a"].any},p={name:"AStatistic",props:Object(o["t"])(d,{decimalSeparator:".",groupSeparator:","}),inject:{configProvider:{default:function(){return l["a"]}}},render:function(){var t=arguments[0],e=this.$props,i=e.prefixCls,s=e.value,n=void 0===s?0:s,l=e.valueStyle,r=e.valueRender,c=this.configProvider.getPrefixCls,d=c("statistic",i),p=Object(o["g"])(this,"title"),m=Object(o["g"])(this,"prefix"),f=Object(o["g"])(this,"suffix"),h=Object(o["g"])(this,"formatter",{},!1),g=t(u,{props:a()({},this.$props,{prefixCls:d,value:n,formatter:h})});return r&&(g=r(g)),t("div",{class:d},[p&&t("div",{class:d+"-title"},[p]),t("div",{style:l,class:d+"-content"},[m&&t("span",{class:d+"-content-prefix"},[m]),g,f&&t("span",{class:d+"-content-suffix"},[f])])])}},m=i("e02c"),f=i.n(m),h=i("2f42"),g=i("7f1d"),_=i("f972"),y=i.n(_),L=i("2297"),b=i.n(L),S=[["Y",31536e6],["M",2592e6],["D",864e5],["H",36e5],["m",6e4],["s",1e3],["S",1]];function v(t,e){var i=t,s=/\[[^\]]*\]/g,a=(e.match(s)||[]).map((function(t){return t.slice(1,-1)})),n=e.replace(s,"[]"),o=S.reduce((function(t,e){var s=y()(e,2),a=s[0],n=s[1];if(-1!==t.indexOf(a)){var o=Math.floor(i/n);return i-=o*n,t.replace(new RegExp(a+"+","g"),(function(t){var e=t.length;return b()(o.toString(),e,"0")}))}return t}),n),l=0;return o.replace(s,(function(){var t=a[l];return l+=1,t}))}function k(t,e){var i=e.format,s=void 0===i?"":i,a=Object(g["a"])(h)(t).valueOf(),n=Object(g["a"])(h)().valueOf(),o=Math.max(a-n,0);return v(o,s)}var T=1e3/30;function C(t){return Object(g["a"])(h)(t).valueOf()}var x={name:"AStatisticCountdown",props:Object(o["t"])(d,{format:"HH:mm:ss"}),created:function(){this.countdownId=void 0},mounted:function(){this.syncTimer()},updated:function(){this.syncTimer()},beforeDestroy:function(){this.stopTimer()},methods:{syncTimer:function(){var t=this.$props.value,e=C(t);e>=Date.now()?this.startTimer():this.stopTimer()},startTimer:function(){var t=this;this.countdownId||(this.countdownId=window.setInterval((function(){t.$refs.statistic.$forceUpdate(),t.syncTimer()}),T))},stopTimer:function(){var t=this.$props.value;if(this.countdownId){clearInterval(this.countdownId),this.countdownId=void 0;var e=C(t);e<Date.now()&&this.$emit("finish")}},formatCountdown:function(t){var e=t.value,i=t.config,s=this.$props.format;return k(e,a()({},i,{format:s}))},valueRenderHtml:function(t){return t}},render:function(){var t=arguments[0];return t(p,f()([{ref:"statistic"},{props:a()({},this.$props,{valueRender:this.valueRenderHtml,formatter:this.formatCountdown}),on:Object(o["k"])(this)}]))}},P=i("1e51");p.Countdown=x,p.install=function(t){t.use(P["a"]),t.component(p.name,p),t.component(p.Countdown.name,p.Countdown)};e["a"]=p},c2f6:function(t,e){function i(t){return t.split("")}t.exports=i},ccf3:function(t,e,i){var s=i("1f3e"),a=s("length");t.exports=a},e93f:function(t,e,i){},ff8d:function(t,e,i){var s=i("c2f6"),a=i("026b"),n=i("b9b2");function o(t){return a(t)?n(t):s(t)}t.exports=o}}]);