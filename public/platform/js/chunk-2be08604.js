(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2be08604"],{4686:function(t,e,a){},5051:function(t,e,a){"use strict";var s={getCatList:"/new_marketing/merchant.MarketingPackage/getCatList",getCatStoreList:"/new_marketing/merchant.MarketingPackage/getCatSearchList",getMealList:"/new_marketing/merchant.MarketingPackage/getSearchList",getClassifyDetail:"/new_marketing/merchant.MarketingPackage/getCatDetail",getMealDetail:"/new_marketing/merchant.MarketingPackage/getpackageDetail",getPrice:"/new_marketing/merchant.MarketingPackage/getDiscountPayPrice",getPayType:"/new_marketing/merchant.Order/pay_check",checkOrder:"/new_marketing/merchant.Order/pay",checkOrderPayOk:"/new_marketing/merchant.Order/searchPayStatus",getOrderList:"/new_marketing/merchant.order/getOrderList",getStoreUserdDetail:"/new_marketing/merchant.store/getStoreUserdDetail",getOrderDetail:"/new_marketing/merchant.order/getOrderDetail",getCategoryStoreDetail:"/new_marketing/merchant.store/getCategoryStoreDetail",getCategoryStoreList:"/new_marketing/merchant.store/getCategoryStoreList",getRenewPayInfo:"/new_marketing/merchant.order/getPayInfo",savePayInfo:"/new_marketing/merchant.order/savePayInfo",goPay:"/merchant/merchant.pay/goPay"};e["a"]=s},"73e5":function(t,e,a){"use strict";a("4686")},9287:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("div",{staticClass:"bread-crumb bg-ff mb-10"},[a("a-breadcrumb",[a("a-breadcrumb-item",[a("span",{staticClass:"pointer",on:{click:function(e){return t.$router.replace({path:"/merchant/merchant.iframe/menu_999999"})}}},[t._v("首页")])]),a("a-breadcrumb-item",[a("span",{staticClass:"cr-primary"},[t._v("店铺使用情况")])])],1)],1),a("a-card",{attrs:{title:"店铺情况",bordered:!1,headStyle:{fontWeight:"bold"},bodyStyle:{backgroundColor:"#f9f9f9"}}},[a("span",{attrs:{slot:"extra"},slot:"extra"},[a("span",{staticClass:"cr-primary pointer fs-16",on:{click:function(e){return t.$router.push({path:"/new_marketing/merchant/storeMarket"})}}},[a("a-icon",{staticClass:"mr-10",attrs:{type:"shop"}}),t._v("店铺商城 ")],1)]),a("div",{staticClass:"statistical-wrap bg-ff"},[a("a-row",[a("a-col",{attrs:{span:8}},[a("div",{staticClass:"flex align-center justify-center flex-column"},[a("span",{staticClass:"cr-99"},[t._v("店铺总数量")]),a("span",{staticClass:"cr-black fs-28 fw-bold"},[t._v(t._s(t.storeUserdDetail.store_count_buy||0))])])]),a("a-col",{attrs:{span:8}},[a("div",{staticClass:"flex align-center justify-center flex-column border-lr"},[a("span",{staticClass:"cr-99"},[t._v("已使用")]),a("span",{staticClass:"cr-black fs-28 fw-bold"},[t._v(t._s(t.storeUserdDetail.store_count_used||0))])])]),a("a-col",{attrs:{span:8}},[a("div",{staticClass:"flex align-center justify-center flex-column"},[a("span",{staticClass:"cr-99"},[t._v("剩余数量")]),a("span",{staticClass:"cr-black fs-28 fw-bold"},[t._v(t._s(t.storeUserdDetail.store_count_unused||0))])])])],1)],1),t.storeList.length?a("div",{staticClass:"store-wrap mt-10"},[a("a-list",{staticStyle:{width:"100%"},attrs:{grid:{gutter:16,xs:1,sm:1,md:2,lg:2,xl:3,xxl:4},"data-source":t.storeList},scopedSlots:t._u([{key:"renderItem",fn:function(e){return a("a-list-item",{on:{click:function(a){return t.$router.push({path:"/new_marketing/merchant/categoryStoreUseDetail",query:{cat_id:e.cat_id}})}}},[a("a-card",{staticClass:"item flex flex-column justify-between",attrs:{hoverable:"",bodyStyle:{height:"100%"}}},[a("div",{staticClass:"flex-1 flex flex-column justify-around",staticStyle:{height:"100%"}},[a("div",{staticClass:"flex justify-between align-center"},[a("div",{staticClass:"flex align-center flex-1",staticStyle:{overflow:"hidden"}},[a("a-avatar",{staticStyle:{"margin-right":"10px"},attrs:{src:e.cat_pic?e.cat_pic:t.classifyIcon}}),a("span",{staticClass:"flex-1 no-wrap fs-16 fw-bold cr-black"},[t._v(t._s(e.cat_name)+t._s(e.child_cat_name&&e.cat_name?"-"+e.child_cat_name:e.child_cat_name||""))])],1),a("div",{staticClass:"text-nowrap"},[t._v("店铺类型")])]),a("div",[a("a-row",[a("a-col",{attrs:{span:8}},[a("div",{staticClass:"flex align-center justify-center flex-column"},[a("span",{staticClass:"cr-99 text-nowrap"},[t._v("购买店铺数量")]),a("span",{staticClass:"cr-black fs-18 fw-bold"},[t._v(t._s(e.store_count))])])]),a("a-col",{attrs:{span:8}},[a("div",{staticClass:"flex align-center justify-center flex-column border-lr"},[a("span",{staticClass:"cr-99 text-nowrap"},[t._v("正在使用")]),a("span",{staticClass:"cr-black fs-18 fw-bold"},[t._v(t._s(e.used_count))])])]),a("a-col",{attrs:{span:8}},[a("div",{staticClass:"flex align-center justify-center flex-column"},[a("span",{staticClass:"cr-99 text-nowrap"},[t._v("已过期")]),a("span",{staticClass:"cr-black fs-18 fw-bold"},[t._v(t._s(e.overdue_count))])])])],1)],1)]),a("template",{staticClass:"btn flex align-center justify-center",slot:"actions"},[e.unused_count&&0!=e.unused_count?a("a-button",{attrs:{type:"primary",ghost:""}},[t._v("去开店")]):a("span",{staticClass:"fs-14 cr-99"},[t._v("店铺数量已用完")])],1)],2)],1)}}],null,!1,296653401)})],1):t._e()]),a("a-card",{attrs:{title:"购买记录",bordered:!1,headStyle:{fontWeight:"bold"}}},[a("a-table",{attrs:{columns:t.columns,"data-source":t.orderList,pagination:t.pagination,rowKey:"order_id"},scopedSlots:t._u([{key:"order_name",fn:function(e,s){return a("span",{},[t._v(" "+t._s(e||"-")+" "),a("span",{staticClass:"cr-primay"},[t._v(t._s(1==s.order_type&&e?"（续费）":""))])])}},{key:"action",fn:function(e,s){return a("span",{},[a("a-button",{attrs:{type:"link"},on:{click:function(e){return t.actionBtn(e,s,"detail")}}},[t._v("查看详情")])],1)}}])})],1),a("a-drawer",{attrs:{width:"40%",title:"订单详情",placement:"right",closable:!1,visible:t.drawerVisible},on:{close:function(e){t.drawerVisible=!1}}},[t.orderDetail?a("div",[a("div",{staticClass:"flex align-center justify-between fs-16 fw-bold"},[a("span",[a("a-badge",{attrs:{color:"blue"}}),t._v("订单完成")],1),a("span",[t._v(t._s(t.orderDetail.order_type_str))])]),a("div",{staticClass:"ml-10"},[a("div",{staticClass:"flex mt-20"},[a("span",{staticClass:"text-nowrap"},[t._v("下单时间：")]),a("span",{staticClass:"text-wrap flex-1"},[t._v(t._s(t.orderDetail.add_time))])]),a("div",{staticClass:"flex mt-20"},[a("span",{staticClass:"text-nowrap"},[t._v("订单编号：")]),a("span",{staticClass:"text-wrap flex-1"},[t._v(" "+t._s(t.orderDetail.orderid)),a("a-button",{staticClass:"ml-10",attrs:{size:"small"},on:{click:function(e){return t.copyOpt(t.orderDetail.orderid)}}},[t._v("复制")])],1)]),a("div",{staticClass:"flex mt-20"},[a("span",{staticClass:"text-nowrap"},[t._v("电子单据：")]),a("span",{staticClass:"text-wrap flex-1 cr-primary"},[t._v(t._s(t.orderDetail.electronic))])])]),a("a-divider"),a("div",{staticClass:"fs-16 fw-bold line"},[a("span",[t._v("订单信息")])]),"0"==t.orderDetail.order_type?a("div",[a("div",{staticClass:"flex mt-20"},[a("span",{staticClass:"text-nowrap"},[t._v("下单店铺：")]),a("span",{staticClass:"text-wrap flex-1",class:t.orderDetail.store_name?"fw-bold":""},[t._v(t._s(t.orderDetail.store_name||"-"))])]),a("div",{staticClass:"flex mt-20"},[a("span",{staticClass:"text-nowrap"},[t._v("店铺详情：")]),a("span",{staticClass:"text-wrap flex-1"},[t.orderDetail.store_detail&&t.orderDetail.store_detail.length&&Array.isArray(t.orderDetail.store_detail)?a("span",t._l(t.orderDetail.store_detail,(function(e,s){return a("span",{key:s},[a("span",{staticClass:"cr-primary"},[t._v(t._s(e.num))]),t._v("个"+t._s(e.type_name)+t._s(t.orderDetail.pay_years?"（周期"+t.orderDetail.pay_years+"年）":"")+"店 "+t._s(s!=t.orderDetail.store_detail.length-1?"+":"")+" ")])})),0):a("span",[t._v("-")])])]),a("div",{staticClass:"flex mt-20"},[a("span",{staticClass:"text-nowrap"},[t._v("购买周期：")]),a("span",{staticClass:"text-wrap flex-1"},[t._v(t._s(t.orderDetail.pay_years)+"年")])]),a("div",{staticClass:"flex mt-20"},[a("span",{staticClass:"text-nowrap"},[t._v("购买数量：")]),a("span",{staticClass:"text-wrap flex-1"},[t._v(t._s(t.orderDetail.buy_num||"0"))])]),a("div",{staticClass:"flex mt-20"},[a("span",{staticClass:"text-nowrap"},[t._v("店铺总数：")]),a("span",{staticClass:"text-wrap flex-1"},[t._v(t._s(t.orderDetail.store_num||"0"))])])]):t._e(),"1"==t.orderDetail.order_type?a("div",[a("div",{staticClass:"flex mt-20"},[a("span",{staticClass:"text-nowrap"},[t._v("续费店铺：")]),t.orderDetail.store_name||t.orderDetail.store_type_name?a("span",{staticClass:"text-wrap flex-1"},[a("span",{staticClass:"fw-bold"},[t._v(t._s(t.orderDetail.store_name))]),t.orderDetail.store_type_name?a("span",[t._v("（"+t._s(t.orderDetail.store_type_name)+"）")]):t._e()]):a("span",[t._v("-")])]),a("div",{staticClass:"flex mt-20"},[a("span",{staticClass:"text-nowrap"},[t._v("续费周期：")]),a("span",{staticClass:"text-wrap flex-1"},[t._v(t._s(t.orderDetail.pay_years)+"年")])])]):t._e(),a("a-divider"),a("div",[t.orderDetail.discount_money&&0!=t.orderDetail.discount_money?a("div",{staticClass:"text-right cr-99 fs-16"},[t._v(" 已优惠"),a("span",{staticClass:"ml-10"},[t._v("￥"+t._s(t.orderDetail.discount_money))])]):t._e(),a("div",{staticClass:"text-right fs-18 mt-10"},[t._v(" 订单金额："),a("span",{staticClass:"cr-primary ml-5 fw-bold"},[t._v("￥"+t._s(t.orderDetail.total_price))])])])],1):t._e()])],1)},r=[],i=a("c1df"),n=a.n(i),c=a("5051"),l={data:function(){return{classifyIcon:a("bef3"),storeUserdDetail:"",storeList:[],columns:[{title:"订单编号",dataIndex:"orderid",align:"center",width:"14%"},{title:"下单店铺",dataIndex:"order_name",scopedSlots:{customRender:"order_name"},align:"center",width:"14%"},{title:"订购数量",dataIndex:"buy_num",align:"center"},{title:"店铺数量",dataIndex:"store_num",align:"center"},{title:"订单总金额",dataIndex:"total_price",align:"center"},{title:"订单类型",dataIndex:"order_type_str",align:"center"},{title:"支付时间",dataIndex:"pay_time",align:"center",sortDirections:["descend","ascend"],sorter:function(t,e){return n()(t.pay_time).unix()-n()(e.pay_time).unix()}},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},align:"center"}],orderList:[],pagination:{current:1,total:0,pageSize:10,showSizeChanger:!0,showQuickJumper:!0,onChange:this.onPageChange,onShowSizeChange:this.onPageSizeChange,showTotal:function(t){return"共 ".concat(t," 条记录")}},drawerVisible:!1,orderDetail:""}},activated:function(){this.getStoreUserdDetail(),this.getOrderList()},methods:{actionBtn:function(t,e,a){"detail"==a&&(this.drawerVisible=!0,this.getOrderDetail(e.order_id))},getStoreUserdDetail:function(){var t=this;this.request(c["a"].getStoreUserdDetail,{}).then((function(e){t.storeUserdDetail=e||"",t.storeList=e.category_list||[]}))},getOrderList:function(){var t=this,e={page:this.pagination.current,pageSize:this.pagination.pageSize};this.request(c["a"].getOrderList,e).then((function(e){t.orderList=e.list||[],t.$set(t.pagination,"total",e.count||0)}))},onPageChange:function(t,e){this.$set(this.pagination,"current",t),this.getOrderList()},onPageSizeChange:function(t,e){this.$set(this.pagination,"pageSize",e),this.getOrderList()},getOrderDetail:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e){var a={order_id:e};this.request(c["a"].getOrderDetail,a).then((function(e){t.orderDetail=e||""}))}},copyOpt:function(t){var e=this;this.$copyText(t).then((function(t){e.$message.success("复制成功")})).catch((function(t){console.log("copy.err",t),e.$message.error("复制失败")}))}}},o=l,d=(a("73e5"),a("0c7c")),p=Object(d["a"])(o,s,r,!1,null,"4c9114ca",null);e["default"]=p.exports},bef3:function(t,e){t.exports="data:image/png;base64,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"}}]);