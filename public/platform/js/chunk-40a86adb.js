(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40a86adb"],{"001f":function(e,t,a){},"07a9":function(e,t,a){var n=a("4aad"),r=a("6751"),i=a("4b17"),s=a("76dd");function o(e,t,a){e=s(e),t=i(t);var o=t?r(e):0;return t&&o<t?e+n(t-o,a):e}e.exports=o},"126d":function(e,t,a){var n=a("6da8"),r=a("aaec"),i=a("d094");function s(e){return r(e)?i(e):n(e)}e.exports=s},4106:function(e,t,a){var n=a("4aad"),r=a("6751"),i=a("4b17"),s=a("76dd");function o(e,t,a){e=s(e),t=i(t);var o=t?r(e):0;return t&&o<t?n(t-o,a)+e:e}e.exports=o},"4aad":function(e,t,a){var n=a("b0a8"),r=a("ce86"),i=a("c32f"),s=a("aaec"),o=a("6751"),c=a("126d"),l=Math.ceil;function m(e,t){t=void 0===t?" ":r(t);var a=t.length;if(a<2)return a?n(t,e):t;var m=n(t,l(e/o(t)));return s(t)?i(c(m),0,e).join(""):m.slice(0,e)}e.exports=m},6751:function(e,t,a){var n=a("c9ca"),r=a("aaec"),i=a("ab81");function s(e){return r(e)?i(e):n(e)}e.exports=s},"6da8":function(e,t){function a(e){return e.split("")}e.exports=a},"8ce2":function(e,t,a){"use strict";a("001f")},a8ba:function(e,t,a){"use strict";var n=a("41b2"),r=a.n(n),i=a("4d91"),s=a("daa3"),o=a("9cba"),c=a("07a9"),l=a.n(c),m={name:"AStatisticNumber",functional:!0,render:function(e,t){var a=t.props,n=a.value,r=a.formatter,i=a.precision,s=a.decimalSeparator,o=a.groupSeparator,c=void 0===o?"":o,m=a.prefixCls,u=void 0;if("function"===typeof r)u=r({value:n,h:e});else{var f=String(n),d=f.match(/^(-?)(\d*)(\.(\d+))?$/);if(d){var p=d[1],h=d[2]||"0",v=d[4]||"";h=h.replace(/\B(?=(\d{3})+(?!\d))/g,c),"number"===typeof i&&(v=l()(v,i,"0").slice(0,i)),v&&(v=""+s+v),u=[e("span",{key:"int",class:m+"-content-value-int"},[p,h]),v&&e("span",{key:"decimal",class:m+"-content-value-decimal"},[v])]}else u=f}return e("span",{class:m+"-content-value"},[u])}},u={prefixCls:i["a"].string,decimalSeparator:i["a"].string,groupSeparator:i["a"].string,format:i["a"].string,value:i["a"].oneOfType([i["a"].string,i["a"].number,i["a"].object]),valueStyle:i["a"].any,valueRender:i["a"].any,formatter:i["a"].any,precision:i["a"].number,prefix:i["a"].any,suffix:i["a"].any,title:i["a"].any},f={name:"AStatistic",props:Object(s["t"])(u,{decimalSeparator:".",groupSeparator:","}),inject:{configProvider:{default:function(){return o["a"]}}},render:function(){var e=arguments[0],t=this.$props,a=t.prefixCls,n=t.value,i=void 0===n?0:n,o=t.valueStyle,c=t.valueRender,l=this.configProvider.getPrefixCls,u=l("statistic",a),f=Object(s["g"])(this,"title"),d=Object(s["g"])(this,"prefix"),p=Object(s["g"])(this,"suffix"),h=Object(s["g"])(this,"formatter",{},!1),v=e(m,{props:r()({},this.$props,{prefixCls:u,value:i,formatter:h})});return c&&(v=c(v)),e("div",{class:u},[f&&e("div",{class:u+"-title"},[f]),e("div",{style:o,class:u+"-content"},[d&&e("span",{class:u+"-content-prefix"},[d]),v,p&&e("span",{class:u+"-content-suffix"},[p])])])}},d=a("92fa"),p=a.n(d),h=a("5f70"),v=a("2cf8"),b=a("b24f"),_=a.n(b),w=a("4106"),g=a.n(w),y=[["Y",31536e6],["M",2592e6],["D",864e5],["H",36e5],["m",6e4],["s",1e3],["S",1]];function x(e,t){var a=e,n=/\[[^\]]*\]/g,r=(t.match(n)||[]).map((function(e){return e.slice(1,-1)})),i=t.replace(n,"[]"),s=y.reduce((function(e,t){var n=_()(t,2),r=n[0],i=n[1];if(-1!==e.indexOf(r)){var s=Math.floor(a/i);return a-=s*i,e.replace(new RegExp(r+"+","g"),(function(e){var t=e.length;return g()(s.toString(),t,"0")}))}return e}),i),o=0;return s.replace(n,(function(){var e=r[o];return o+=1,e}))}function I(e,t){var a=t.format,n=void 0===a?"":a,r=Object(v["a"])(h)(e).valueOf(),i=Object(v["a"])(h)().valueOf(),s=Math.max(r-i,0);return x(s,n)}var S=1e3/30;function M(e){return Object(v["a"])(h)(e).valueOf()}var C={name:"AStatisticCountdown",props:Object(s["t"])(u,{format:"HH:mm:ss"}),created:function(){this.countdownId=void 0},mounted:function(){this.syncTimer()},updated:function(){this.syncTimer()},beforeDestroy:function(){this.stopTimer()},methods:{syncTimer:function(){var e=this.$props.value,t=M(e);t>=Date.now()?this.startTimer():this.stopTimer()},startTimer:function(){var e=this;this.countdownId||(this.countdownId=window.setInterval((function(){e.$refs.statistic.$forceUpdate(),e.syncTimer()}),S))},stopTimer:function(){var e=this.$props.value;if(this.countdownId){clearInterval(this.countdownId),this.countdownId=void 0;var t=M(e);t<Date.now()&&this.$emit("finish")}},formatCountdown:function(e){var t=e.value,a=e.config,n=this.$props.format;return I(t,r()({},a,{format:n}))},valueRenderHtml:function(e){return e}},render:function(){var e=arguments[0];return e(f,p()([{ref:"statistic"},{props:r()({},this.$props,{valueRender:this.valueRenderHtml,formatter:this.formatCountdown}),on:Object(s["k"])(this)}]))}},k=a("db14");f.Countdown=C,f.install=function(e){e.use(k["a"]),e.component(f.name,f),e.component(f.Countdown.name,f.Countdown)};t["a"]=f},aaec:function(e,t){var a="\\ud800-\\udfff",n="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",s=n+r+i,o="\\ufe0e\\ufe0f",c="\\u200d",l=RegExp("["+c+a+s+o+"]");function m(e){return l.test(e)}e.exports=m},ab81:function(e,t){var a="\\ud800-\\udfff",n="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",s=n+r+i,o="\\ufe0e\\ufe0f",c="["+a+"]",l="["+s+"]",m="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+m+")",f="[^"+a+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",v=u+"?",b="["+o+"]?",_="(?:"+h+"(?:"+[f,d,p].join("|")+")"+b+v+")*",w=b+v+_,g="(?:"+[f+l+"?",l,d,p,c].join("|")+")",y=RegExp(m+"(?="+m+")|"+g+w,"g");function x(e){var t=y.lastIndex=0;while(y.test(e))++t;return t}e.exports=x},afc1:function(e,t,a){"use strict";a.r(t);a("b0c0");var n=function(){var e=this,t=e._self._c;return e.isShow?t("div",[t("a-card",{attrs:{bordered:!1}},[t("a-form-model",{ref:"searchForm",staticStyle:{"margin-bottom":"30px"},attrs:{layout:"inline",form:e.searchInfo,labelCol:{span:6}}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{span:9}},[t("a-form-model-item",{staticStyle:{width:"100%"},attrs:{label:"选择成员"}},[t("div",{staticStyle:{"white-space":"nowrap"}},[t("a-select",{staticClass:"select",model:{value:e.searchInfo.memberType,callback:function(t){e.$set(e.searchInfo,"memberType",t)},expression:"searchInfo.memberType"}},e._l(e.select_person,(function(a,n){return t("a-select-option",{key:n},[e._v(e._s(a.name)+" ")])})),1),t("a-cascader",{staticClass:"cascader",attrs:{placeholder:"请选择",allowClear:!0,options:e.select_person[e.searchInfo.memberType].value},model:{value:e.searchInfo.member,callback:function(t){e.$set(e.searchInfo,"member",t)},expression:"searchInfo.member"}})],1)])],1),t("a-col",{attrs:{span:9}},[t("a-form-model-item",{staticStyle:{width:"100%"},attrs:{label:"离职成员"}},[t("div",{staticStyle:{"white-space":"nowrap"}},[t("a-select",{staticClass:"select",model:{value:e.searchInfo.quitType,callback:function(t){e.$set(e.searchInfo,"quitType",t)},expression:"searchInfo.quitType"}},e._l(e.quit_person,(function(a,n){return t("a-select-option",{key:n},[e._v(e._s(a.name)+" ")])})),1),t("a-cascader",{staticClass:"cascader",attrs:{placeholder:"请选择",allowClear:!0,options:e.quit_person[e.searchInfo.quitType].value},model:{value:e.searchInfo.quitMember,callback:function(t){e.$set(e.searchInfo,"quitMember",t)},expression:"searchInfo.quitMember"}})],1)])],1),t("a-col",{staticStyle:{"text-align":"right"},attrs:{span:6}},[t("a-form-model-item",[t("a-button",{attrs:{type:"primary",htmlType:"submit"},on:{click:e.searchHandle}},[e._v("查询")])],1),t("a-form-model-item",[t("a-button",{on:{click:e.clearSearch}},[e._v("重置")])],1)],1)],1),t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{span:9}},[t("a-form-model-item",{staticStyle:{"margin-top":"20px",width:"100%"},attrs:{label:"人员姓名"}},[t("a-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入姓名",allowClear:!0},model:{value:e.searchInfo.name,callback:function(t){e.$set(e.searchInfo,"name",t)},expression:"searchInfo.name"}})],1)],1),t("a-col",{attrs:{span:9}},[t("a-form-model-item",{staticStyle:{"margin-top":"20px",width:"100%"},attrs:{label:"下单时间"}},[t("a-range-picker",{staticStyle:{width:"300px"},attrs:{ranges:{"过去30天":[e.moment().subtract(30,"days"),e.moment()],"过去15天":[e.moment().subtract(15,"days"),e.moment()],"过去7天":[e.moment().subtract(7,"days"),e.moment()],"今日":[e.moment(),e.moment()]},format:"YYYY-MM-DD"},model:{value:e.searchInfo.time,callback:function(t){e.$set(e.searchInfo,"time",t)},expression:"searchInfo.time"}},[t("a-icon",{attrs:{slot:"suffixIcon",type:"calendar"},slot:"suffixIcon"})],1)],1)],1)],1),t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{span:9}},[t("a-form-model-item",{staticStyle:{"margin-top":"20px",width:"100%"},attrs:{label:"订单类型"}},[t("a-select",{staticClass:"select",staticStyle:{width:"200px"},attrs:{placeholder:"请选择订单类型"},model:{value:e.searchInfo.order_type,callback:function(t){e.$set(e.searchInfo,"order_type",t)},expression:"searchInfo.order_type"}},e._l(e.order_type,(function(a){return t("a-select-option",{key:a.value},[e._v(e._s(a.label)+" ")])})),1)],1)],1),t("a-col",{attrs:{span:9}},[t("a-form-model-item",{staticStyle:{"margin-top":"20px",width:"100%"},attrs:{label:"订单业务"}},[t("a-select",{staticClass:"select",staticStyle:{width:"200px"},attrs:{placeholder:"请选择订单业务"},model:{value:e.searchInfo.order_business,callback:function(t){e.$set(e.searchInfo,"order_business",t)},expression:"searchInfo.order_business"}},e._l(e.order_business,(function(a){return t("a-select-option",{key:a.value},[e._v(e._s(a.label)+" ")])})),1)],1)],1)],1)],1),t("a-row",{directives:[{name:"show",rawName:"v-show",value:e.showMemberInfo.member_name,expression:"showMemberInfo.member_name"}],staticStyle:{"box-shadow":"2px 2px 10px 2px #eee","text-align":"center",padding:"15px 0","border-radius":"5px"},attrs:{type:"flex",justify:"space-around",align:"middle"}},[t("a-col",{attrs:{flex:1}},[t("statistic",{staticClass:"relative",attrs:{value:e.showMemberInfo.member_name},scopedSlots:e._u([{key:"suffix",fn:function(){return[t("span",{directives:[{name:"show",rawName:"v-show",value:1==e.showMemberInfo.is_del,expression:"showMemberInfo.is_del == 1"}],staticClass:"absolute tag"},[e._v("已离职")])]},proxy:!0}],null,!1,4076338734)},[t("template",{slot:"title"},[t("span",[e._v(e._s(e.showMemberInfo.identity_show))])])],2)],1),t("a-col",[t("a-divider",{staticStyle:{height:"45px"},attrs:{type:"vertical"}})],1),t("a-col",{directives:[{name:"show",rawName:"v-show",value:e.showMemberInfo.achievement_tip,expression:"showMemberInfo.achievement_tip"}],attrs:{flex:1}},[t("statistic",{attrs:{value:e.showMemberInfo.achievement}},[t("template",{slot:"title"},[t("span",[e._v(e._s(e.showMemberInfo.achievement_name))]),t("a-tooltip",{staticStyle:{"margin-left":"2px"},attrs:{placement:"top",title:e.showMemberInfo.achievement_tip}},[t("a-icon",{attrs:{type:"exclamation-circle"}})],1)],1)],2)],1),t("a-col",{directives:[{name:"show",rawName:"v-show",value:e.showMemberInfo.achievement_tip,expression:"showMemberInfo.achievement_tip"}]},[t("a-divider",{staticStyle:{height:"45px"},attrs:{type:"vertical"}})],1),t("a-col",{directives:[{name:"show",rawName:"v-show",value:e.showMemberInfo.team_achievement_tip,expression:"showMemberInfo.team_achievement_tip"}]},[t("statistic",{attrs:{value:e.showMemberInfo.team_achievement}},[t("template",{slot:"title"},[t("span",[e._v("团队总业绩")]),t("a-tooltip",{staticStyle:{"margin-left":"2px"},attrs:{placement:"top",title:e.showMemberInfo.team_achievement_tip}},[t("a-icon",{attrs:{type:"exclamation-circle"}})],1)],1)],2)],1),t("a-col",{directives:[{name:"show",rawName:"v-show",value:e.showMemberInfo.team_achievement_tip,expression:"showMemberInfo.team_achievement_tip"}]},[t("a-divider",{staticStyle:{height:"45px"},attrs:{type:"vertical"}})],1),t("a-col",{directives:[{name:"show",rawName:"v-show",value:e.showMemberInfo.area_team_achievement_tip,expression:"showMemberInfo.area_team_achievement_tip"}]},[t("statistic",{attrs:{value:e.showMemberInfo.area_team_achievement}},[t("template",{slot:"title"},[t("span",[e._v("区域团队总业绩")]),t("a-tooltip",{staticStyle:{"margin-left":"2px"},attrs:{placement:"top",title:e.showMemberInfo.area_team_achievement_tip}},[t("a-icon",{attrs:{type:"exclamation-circle"}})],1)],1)],2)],1),t("a-col",{directives:[{name:"show",rawName:"v-show",value:e.showMemberInfo.area_team_achievement_tip,expression:"showMemberInfo.area_team_achievement_tip"}]},[t("a-divider",{staticStyle:{height:"45px"},attrs:{type:"vertical"}})],1),t("a-col",[t("statistic",{attrs:{value:e.showMemberInfo.commission}},[t("template",{slot:"title"},[t("span",[e._v("总提成")]),t("a-tooltip",{staticStyle:{"margin-left":"2px"},attrs:{placement:"top",title:e.showMemberInfo.commission_tip}},[t("a-icon",{attrs:{type:"exclamation-circle"}})],1)],1)],2)],1)],1)],1),t("div",{staticClass:"bg-ff"}),t("a-card",{attrs:{bordered:!1}},[t("a-table",{staticStyle:{"min-height":"700px"},attrs:{columns:e.columns,"data-source":e.orderList,rowKey:"order_id",pagination:e.pagination},scopedSlots:e._u([{key:"order_business",fn:function(a){return t("span",{},[e._v(" "+e._s(0==a?"店铺":"社区")+" ")])}},{key:"order_type",fn:function(a){return t("span",{},[e._v(" "+e._s(0==a?"新订单":"续费订单")+" ")])}},{key:"action",fn:function(a,n){return t("span",{},[t("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.orderShowHandle(n)}}},[e._v("查看详情")])])}}],null,!1,178844610)})],1),e.orderVisible?t("a-drawer",{attrs:{width:"60%",title:"订单详情",placement:"right",closable:!1,visible:e.orderVisible},on:{close:function(t){e.orderVisible=!1}}},[t("OrderDetail",{attrs:{orderId:e.orderId}})],1):e._e()],1):e._e()},r=[],i=(a("e7c6"),a("a8ba")),s=a("c1df"),o=a.n(s),c=a("aa80"),l=a("126e"),m={name:"MarketingArtisanList",components:{OrderDetail:c["default"],statistic:i["a"]},data:function(){return{columns:[{title:"订单编号",dataIndex:"orderid",align:"center",key:""},{title:"商家/物业名称",dataIndex:"merchant_name",align:"center"},{title:"订单业务",dataIndex:"order_business",align:"center",scopedSlots:{customRender:"order_business"}},{title:"下单店铺/套餐",dataIndex:"store_name",align:"center"},{title:"订单总金额",dataIndex:"total_price",align:"center"},{title:"业务员",dataIndex:"member_name",align:"center"},{title:"订购数量",dataIndex:"buy_num",align:"center"},{title:"店铺数量",dataIndex:"store_num",align:"center"},{title:"订单类型",dataIndex:"order_type",align:"center",scopedSlots:{customRender:"order_type"}},{title:"支付时间",dataIndex:"pay_time",sorter:!0,align:"center"},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},align:"center"}],pagination:{current:1,total:0,pageSize:10,showSizeChanger:!0,onChange:this.onPageChange,onShowSizeChange:this.onPageSizeChange,showTotal:function(e){return"共 ".concat(e," 条记录")}},orderId:"",orderVisible:!1,orderList:[],searchInfo:{name:"",member:[],memberType:0,quitMember:[],quitType:0,order_type:-1,order_business:-1,time:[],start_time:"",end_time:"",member_type:0},select_person:{},quit_person:{},isShow:!1,showMemberInfo:{}}},watch:{"searchInfo.quitType":{immediate:!0,handler:function(e,t){console.log("离职成员类型",e,t)}}},created:function(){this.getSearchData(),this.searchInfo.time=[this.moment().startOf("month"),this.moment()],this.searchHandle()},mounted:function(){},methods:{moment:o.a,getSearchData:function(){var e=this;this.request(l["a"].getCommissionSearchData).then((function(t){e.select_person=t.select_person,e.quit_person=t.quit_person,e.order_business=t.order_business,e.order_type=t.order_type,e.isShow=!0}))},getSearchList:function(){this.request(l["a"].getCommissionList)},orderShowHandle:function(e){this.orderId=e.order_id,this.orderVisible=!0},searchHandle:function(e){var t=this;e&&e.preventDefault();var a=this.searchInfo;a.time.length>0?(a.start_time=a.time[0].format("YYYY-MM-DD"),a.end_time=a.time[1].format("YYYY-MM-DD")):(a.start_time="",a.end_time=""),a=JSON.parse(JSON.stringify(this.searchInfo)),0==a.member.length?a.member="":1==a.member.length?a.member=a.member[0]:a.member=a.member[1],a.quitMember.length>0&&(a.quitMember=a.quitMember[0]),a.member_type=a.member?a.memberType:a.quitType,a.page=this.pagination.current,a.pageSize=this.pagination.pageSize,this.request(l["a"].getCommissionList,a).then((function(e){t.orderList=e.data||[],t.$set(t.pagination,"total",e.total||0);var a=e.member_name,n=void 0===a?"":a,r=e.achievement,i=void 0===r?0:r,s=e.commission,o=void 0===s?0:s,c=e.identity,l=void 0===c?1:c,m=e.team_achievement,u=void 0===m?0:m,f=e.area_team_achievement,d=void 0===f?0:f,p=e.is_del,h=void 0===p?0:p,v="",b="",_="",w="",g="",y="";switch(l){case 1:v="业务员",b="业绩总额",_="该业务员的业绩总金额",y="该业务员的订单总提成";break;case 2:v="业务经理",b="个人总业绩",_="该业务经理个人业绩总金额",w="该业务经理团队所有成员的业绩总金额",y="该业务经理（包含团队抽成以及个人业绩抽成）提成总和";break;case 3:v="区域代理",g="该区域代理绑定的所有下级团队业绩总金额",y="该区域代理 绑定的所有下级团队的总抽成";break;case 4:v="区域代理",b="个人总业绩",_="该区域代理在业务经理身份下的个人业绩总金额",w="该区域代理绑定的所有下级团队业绩总金额",g="该区域代理 绑定的所有下级团队业绩总金额",y="该区域代理所有身份（业务经理）下的抽成总和";break;case 5:v="技术员",y="该技术人员抽取所属团队总订单的总抽成";break;case 6:v="技术主管",y="该技术主管抽取的总提成（技术人员抽成+技术主管抽成）"}t.showMemberInfo={member_name:n,achievement:i,commission:o,identity:l,identity_show:v,team_achievement:u,area_team_achievement:d,is_del:h,achievement_name:b,achievement_tip:_,team_achievement_tip:w,area_team_achievement_tip:g,commission_tip:y}}))},clearSearch:function(){this.searchInfo=this.$options.data().searchInfo,this.orderList=[],this.$set(this.pagination,"current",1),this.searchInfo.time=[this.moment().startOf("month"),this.moment()],this.searchHandle()},onPageChange:function(e,t){this.$set(this.pagination,"current",e),this.searchHandle()},onPageSizeChange:function(e,t){this.$set(this.pagination,"pageSize",t),this.$set(this.pagination,"current",1),this.searchHandle()}}},u=m,f=(a("8ce2"),a("2877")),d=Object(f["a"])(u,n,r,!1,null,"59159995",null);t["default"]=d.exports},b0a8:function(e,t){var a=9007199254740991,n=Math.floor;function r(e,t){var r="";if(!e||t<1||t>a)return r;do{t%2&&(r+=e),t=n(t/2),t&&(e+=e)}while(t);return r}e.exports=r},b886:function(e,t,a){},c32f:function(e,t,a){var n=a("2b10");function r(e,t,a){var r=e.length;return a=void 0===a?r:a,!t&&a>=r?e:n(e,t,a)}e.exports=r},c9ca:function(e,t,a){var n=a("ef5d"),r=n("length");e.exports=r},d094:function(e,t){var a="\\ud800-\\udfff",n="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",s=n+r+i,o="\\ufe0e\\ufe0f",c="["+a+"]",l="["+s+"]",m="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+m+")",f="[^"+a+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",v=u+"?",b="["+o+"]?",_="(?:"+h+"(?:"+[f,d,p].join("|")+")"+b+v+")*",w=b+v+_,g="(?:"+[f+l+"?",l,d,p,c].join("|")+")",y=RegExp(m+"(?="+m+")|"+g+w,"g");function x(e){return e.match(y)||[]}e.exports=x},e7c6:function(e,t,a){"use strict";a("b2a3"),a("b886")}}]);