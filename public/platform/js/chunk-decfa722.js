(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-decfa722"],{"048c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADqUlEQVRoQ+2ZXWwMURTH/2dnW0RKI213+yFKGh+JiGhEREgrCBERIR3xxDOpmX3wqhIvou2uhgdvHq0IEaEhghDxGV9BqiEIa6etSIOmZLtzZKYj6d5u25nuzCyy93XuPef3v+dj791L+McH/eP8+D8FVB/n+ekUqtyKTjqFrr4DpLllb6SdUREIx/gGgAYPnJ3SFNrj1G7oGO8ixnowDmkqvRfXZwgoj/JSifDEqRPb8xlzs0FkXd/CgfBMxEHYYX1/ryk0d1wB4Sg3gGBEwIvxXVNohi3DLRwMl+I0gO0Z8xmNmko3x0whDwV0povQ3LeX3kwkoP4kF30aRJyAbQJ8t6bSAscR0BTyrVPVdfCUgTTiTNgqgDICaNKa6exfK6CmnacNkZnzWwTINAXQlGymc9mil7G72VLIjwiEjvJ0KkYcjM0CZIp0yMkInR8r9fIuoOwIlwSnIA5gkwD5i3XIPRG6MF7d5FXArA6eUczmzm8UIAct+IsTFX3eBNRGuXQwgDgxNgiQA2DImkqXJoI3vudFQE07z0pLiDNjnQD5A4wmTaVOO/B5EVDVymV60Mz5tQLkNwKakgpdsQvvu4DQUa6gIhM+46zFQL+kQ/4coatO4H0VUBHjUAA4A2CNAPmVGXKPStecwvsmoCzKlcGA2W1WC5BfLPjrk4H3RUBNO1enjG4DrBIge61uk3E4cyrE0y5U1cazdcnM+ZUCWI9VsLfsAoejXDvhfcDNo0RlK8/h4W6zQoBMWseD23bgy09wnZTCYwAlAEZdijyJgLFbILNgl4+EZCAhMeTPKt2xA2/MCcf48shjRlBHzacIJf6sd11AKMrzaBi+XoD8qDPkXpXu2oW3BHDGfOFS46qA8nauk4xuAyzLcEr4YHYbhe47gfdVQHUbzzcKloGlAvw7s9so9NApvG8Cqlp5oXU8WCLAv6U0diYj9Ggy8L4IqIzyIh7O+cVCrr4hQE6qZHSQSY9wjL2tgXCMH4jdBoxuCZATKj2dNLm10FMBFTFeEgCeCZBdOiD3KvQ8V3jPU6i2haf+LEWv9SNj+HvFBLlnP71wA95zAaaDKO8G4SCAe9BxWIvQS7fgfRHgJmw2W57WgNfwhQgYO+DHH1vjRbKQQoUI5FjphRTKcQPdX+70QuM+QY4WxxNgPq8O4XWOLjxdLgWxILGPuv848fOZ1Q1hNzWFGkcayvr+ZT63AqVueHTLRhro78tyv/DtAc8tIaKdggCvdtau3d+cjBBPKZkkcgAAAABJRU5ErkJggg=="},"22af":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIYAAACgCAYAAADJjBS6AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAT4SURBVHhe7Z2LTuJAAEX3/z9PBIJBAr4Q8REFFUXs5rIMTPSCPDrQruckZ90lMC3TIy22uH+yHBmPx1m73c5qtVp2fHyMJVLbrNPpTLehyDWMZrNpF4rlsdFoZJPJJL8w7u7u7IKwfPb7/fzC6Ha784HPzs6y5+dnLJHaZmH7nZ+f5xfG5eXlfGD93S0ci+vV1RVh4HcJA62EgVbCQCthoJUw0EoYaN1LGL1eL7u9vcUCqZ9MDwYDG4UkjF/ucDgkDPyuXjkIA7+5URgvLy/T6yh0yrVer29lpVKZD1ytVnGPhm2gE2Euhti1w9ABCRfW/D+2Wi0bRHDtMDRQPDCW31W78rXDiF8tRqPR9NIuLJ86FAjbcdUuZe0wwj8klJf44J8wYA5hgIUwwEIYYCEMsBAGWAgDLIQBFsIAC2GAhTDAQhhgIQywEAZYCAMshAEWwgALYYCFMMBCGGA5aBj6/Y9uYWVQE/I/QxhbShiLeSCMSMJYzANhRBLGYh4II5IwFvNAGJGEsZgHwogkjMU85B4GFBfCAAthgIUwwEIYYCEMsBAGWAgDLIQBFsIAC2GAhTDActAwPj8/7cIwjW9vb7OZ/xnC+EUSBloJA62lCQOKC2GAhTDAQhhgIQywEAZYCAMshAEWwgALYYCFMMBCGGA5aBicRNuvnF1FK2GglTDQyvUYsDOEARbCAAthgIUwwEIYYCEMsBAGWAgDLIQBFsIAC2GA5aBhcBJtv3J2Fa2EgVbCQCvXY8DOEAZYCAMshAEWwgALYYCFMMBCGGAhDLAQBlgIAyyEAZaDh+EWhmkcjUazWf8ZwvhFEgZaCQOtpQoDiglhgIUwwEIYYCEMsBAGWAgDLIQBFsIAC2GAhTDAQhhgIYwVuIkos4U5iaZPVx/SyWQye5rb4SaizBYmjNfXV/ugfToej2dPdXPcRJRZwojUOmyLm4gySxhfhM1JEka9Xp/e0O12k6uVcysWC5uTNIx92Wg0ssFgYFdQwubkHob+CDfs01arZVdQwubkHoYGvbi4mN8Y22w2s16vl5vxwqVbQQmbkyQM8XWjBR8eHmb3yId4t7VsdwKbkywMsSwODZYXhJGGpGGI6+vr+R1i84qDMNKQPAyh44Fwp1gNvCuEkYa9hCGWvXJo8F0gjDSsCkMxhK9S8/5VPSY8Xm9GloYhbm5u5neO1e3bQhhpiMPY1fv7+9VhiH6/bx+s3c02EEYa8grj5ORkOt6PYQgV5AbZJg7CSEMcRq1W21htF43x8fExHW+tMIT2TWHBsTr/sQmEkYY4DH0j78raYQgt8OjoaL4CQR3RrgthpOGgYQgttFKpzFciqBVbB8JIw8HDEPoxeViJWL3N+QnCSEMhwhBPT09ZtVqdr0xQ74dXQRhpKEwY4vHxcXpEG1YouCoOwkhDocIQeuVwxxzL4iCMNBQuDKEN7HYrnU5ndo8FhJGGQoYhhsOh3a202+3p/74YIIw0FDYMoTjiDR/UZXwhDsJIQ6HDENqw7pUjxEEYaSh8GEIb18Wha0gJIw2lCEPow0sujljCyI/ShCEUhzvmCBJGfpQqDLEqDsLIj9KFIfThXBeH3sUonK+6X5GAq9XBfZjXPD7ysZcwhFZeVwfFYWAaN/mU/DL2FoZQHPrcqnsymI+6iDsP9hqGeH9/z05PT6eB6BVEX3E3NY+a0zyOLf6RZX8BwtMEUxRorzMAAAAASUVORK5CYII="},3037:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACp0lEQVRoQ+2ZPWgUQRTH/+/iV6GFkOP2Uln4hUnjBwhWRggoIliJ2ggWgoLJrh6k9CwVZTdbaGGhlaKFYGNAEK0EQW00CkGwEW9yHiIoiBr3yZx7cW+zl93LHLc7sNPuzO7/N/95M2/eEjRvpLl+5ABpO9gTBwyXt+EPjmAA98Q4vY2DMmzeKyx6GtcvyfPeADj8BsAwgBlh0kinDxsuF+Gh3nouTFL+vvIL5GyC8GRBNGO00+yG+xLjQc2iw0lmulOfVAGaoggnxQTdXC5E+gBSeQHDSWInCjIbAEBdfEUZVfK6dSIrAPJAulEz6ZReAIxZEDYHNoAzwqLr3UCk6wBjtG0H+xfU+8QE/d/VYmiyALATwJWAzpl5xljDoloSJ1IHkGdG2eHbDBwLCL4rTDqqDcDgJV63YhVehOLhorCoGgeRCQekyEUnOvBQmHRQG4AmhMPnF+KBMSksuqwVQBNCJnxAMenJnJklFDfT2UzmlshckwLlDqjcB5A7IDMPxZY7oHi5zx3Il1C/ltCQw1sKHj5/PEdfgnGvhQOGzS4IZ33hFWHS1RaEHgAOfwCwIap4pQeAzVUQLgQAZud/YVdjkr5pAeDn6tMA9rcgCLhTM+m4NgBDLm/3PDwGsD4QxBUwXi63Ntr3XMiw+TQI19qyj3BppIvibt8B/LvrLRBOBOMhdBlPXJ1OBcCPh3cAtkbmgVl3QIouTfEIMV5rC7CoghAk0cGBlt6Sw48IGAsHddI/NKnFQFsu5PAPAGuiTunwEuvmzEh6z1K+DxSneNOALJP7zQOMuklzUQI2urz6u4dnAHYAeLW2gD3vx+lnUrFR/ZQB5EsHbS6vLOAQ/cb9TxVqLCWo5PBuYhxgwvScSc9VxMuxPQFQFaEyPgdQmb1ejNXegb8pjylP7QRfzgAAAABJRU5ErkJggg=="},"4bfa":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACO0lEQVRoQ+2WT2sTURTFz0mk+A1mih/AzyFuhLppUgVFcKHgwrSdgbootFAKulB0JojoQsGNiwp1Y2k3Ilm46KKbLrpQEKRgM2kLuijoouFKJJmGcULy/gxSeFnm3XPvPef3Xghxyj885fvDGfjfBB0BR8AwAXeFDAM0ljsCxhEaNnAEDAM0ljsCxhEaNnAEDAM0lmsR8CK51gYahyGbxht0G3ixXKbgKAnZUOmpbMCLJSIQANgpAdW9gJ9VBubV+nVZhGC5c1Y+g/Pfa/wyak9lA34s9wA87AygYLtdRnV/hl9HHZit8yKZJ/Gg933hBjqD/FjeArjSHbrVJbGrasKvyxwEj3o6EgvNWd5X6aNMoNc8Y2LzuIzq4TT3Rh0+HkkgRNRXP5cEfDyqPjWtKuivz5j4hBIqyQwPhvX0Y6kBeJrWCWpJyGfDdHnn2gQGkGiM/UJld54/Bi0zHssdAV70zgW43Qr4Smf5v+9QVziIBAUfjscweXCXR/882FhuEXiZ4hfcaIZ8Y7KDFQM5D3vj7E9Uvi3xd0rqidxECa/77u5UM+CqyfLWCOReJ8H75BwmcZVtry7XKThJmphIZrluurx1Azkk3oFYgWAlvfOCi62QH20sX4iBHBMnuwouqP5VGGbU2hvIDsr8xAIFLF8Ygb438RzAJQGmWwHXhqWpc14YAZ1ldDTOgE5qNjWOgM00dXo5Ajqp2dQ4AjbT1OnlCOikZlPjCNhMU6eXI6CTmk2NI2AzTZ1efwBNIpsx5fSC1QAAAABJRU5ErkJggg=="},"547d":function(t,e,i){"use strict";i("e0b6")},"7c9a":function(t,e,i){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"drag-box"},[e("draggable",{staticClass:"list-group",attrs:{list:t.dataList,handle:".handle"},on:{end:function(e){return t.getNewData("drag")}}},t._l(t.dataList,(function(i){return e("div",{key:i.id,staticClass:"box"},[e("drag-item",{attrs:{content:i,draggable:t.draggable,editable:t.editable,show:!0,type:"1"},on:{handleItemClick:t.handleItemClick}}),i.children&&i.children.length?[e("draggable",{staticClass:"list-group",attrs:{list:i.children,handle:".handle"},on:{end:function(e){return t.getNewData("drag")}}},t._l(i.children,(function(a){return e("div",{key:a.id,staticClass:"box"},[e("drag-item",{attrs:{content:a,draggable:t.draggable,editable:t.editable,show:i.open,type:"2"},on:{handleItemClick:t.handleItemClick}}),a.children&&a.children.length?[e("draggable",{staticClass:"list-group",attrs:{list:a.children,handle:".handle"},on:{end:function(e){return t.getNewData("drag")}}},t._l(a.children,(function(s){return e("div",{key:s.id,staticClass:"box"},[e("drag-item",{attrs:{content:s,draggable:t.draggable,editable:t.editable,show:a.open&&i.open,type:"3"},on:{handleItemClick:t.handleItemClick}})],1)})),0)]:t._e()],2)})),0)]:t._e()],2)})),0)],1)},s=[],n=i("d4f0"),o=(i("19f1"),i("c5cb"),i("08c7"),i("3335")),r=i.n(o),l=function(){var t=this,e=t._self._c;return t.show?e("div",{staticClass:"handle",class:[t.currentSelected,t.currentClass],on:{click:function(e){return e.stopPropagation(),t.handleClick("click")},mouseenter:t.onMouseOver,mouseleave:t.onMouseOut}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.draggable,expression:"draggable"}],staticClass:"img-container"},[t.showIcon?e("a-tooltip",[e("template",{slot:"title"},[t._v("拖动整行排序")]),e("img",{staticClass:"drag-img",attrs:{src:i("3037")}})],2):t._e()],1),e("div",{staticClass:"title-con"},[e("span",{staticClass:"title"},[t._v(t._s(t.content.title))]),void 0!=t.content.goods_count?e("span",[t._v("（"+t._s(t.content.goods_count)+"）")]):t._e()]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.editable,expression:"editable"}],staticClass:"img-container",on:{click:function(e){return e.stopPropagation(),t.handleClick("edit")}}},[t.showIcon?e("img",{staticClass:"edit-img",attrs:{src:i("048c")}}):t._e()]),t.content.children&&t.content.children.length&&t.showIcon?e("div",{staticClass:"img-container"},[t.content.open?e("img",{attrs:{src:i("bcea")}}):e("img",{attrs:{src:i("4bfa")}})]):t._e(),t.content.children&&t.content.children.length&&!t.showIcon?e("div",{staticClass:"img-container"},[t.content.open?e("img",{attrs:{src:i("eb9e")}}):e("img",{attrs:{src:i("8b11")}})]):t._e()]):t._e()},c=[],d={name:"DragItem",props:{content:{type:Object,default:function(){return{}}},type:{type:[Number,String],default:1},draggable:{type:Boolean,default:!0},editable:{type:Boolean,default:!0},show:{type:Boolean,default:!1}},computed:{currentClass:function(){return 1==this.type?"first-box":2==this.type?"second-box":"third-box"},currentSelected:function(){return 1==this.content.selected?"parentactive":2==this.content.selected?"active":""}},data:function(){return{showIcon:!1}},mounted:function(){},methods:{handleClick:function(t){this.$emit("handleItemClick",{type:t,data:this.content})},onMouseOver:function(){this.showIcon=!0},onMouseOut:function(){this.showIcon=!1}}},h=d,u=(i("547d"),i("0b56")),g=Object(u["a"])(h,l,c,!1,null,"786f264e",null),A=g.exports,f={name:"DragBox",components:{draggable:r.a,DragItem:A},props:{list:{type:Array,default:function(){return[]}},draggable:{type:Boolean,default:!0},editable:{type:Boolean,default:!0},defaultSelect:{type:Boolean,default:!0},select:{type:[Number,String],default:0}},data:function(){return{dataList:[],selectedId:0,selectedItem:{}}},watch:{defaultSelect:function(t){this.select&&(t?this.defaultSelectFirst():this.initList(this.dataList))},select:function(t){t&&(this.selectedId=t,this.setListSelected(this.dataList,this.selectedId),this.setFather(this.dataList))}},mounted:function(){this.initData()},methods:{initData:function(){this.dataList=JSON.parse(JSON.stringify(this.list)),console.log(this.dataList),this.dataList.length&&(this.initList(this.dataList),console.log(this.dataList),this.select?(this.selectedId=this.select,this.setListSelected(this.dataList,this.selectedId),this.setFather(this.dataList)):this.defaultSelect&&this.defaultSelectFirst())},defaultSelectFirst:function(){var t=this.dataList[0];this.getSelectedId(t),this.selectedItem=t,t.children&&t.children.length&&(t.open=!0,t.children[0].open=!0),this.$set(this.dataList,0,t),this.setListSelected(this.dataList,this.selectedId),this.setFather(this.dataList)},initList:function(t){var e=this;t.forEach((function(t){t.selected=0,t.children&&t.children.length&&(t.open=!1,e.initList(t.children))})),this.dataList=JSON.parse(JSON.stringify(t))},getSelectedId:function(t){t.children&&t.children.length?this.getSelectedId(t.children[0]):this.selectedId=t.id},setListSelected:function(t,e){var i=this;t.forEach((function(t,a){t.id==e?(t.selected=2,i.selectedItem=t):t.selected=0,t.children&&t.children.length&&i.setListSelected(t.children,e)})),this.dataList=JSON.parse(JSON.stringify(t))},setFather:function(t){var e=this.selectedItem.fid;if(0!=e){var i,a=Object(n["a"])(t);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(s.id==e)return this.selectedItem=s,void(s.selected=1);if(s.children&&s.children.length){var o=this.getParentId(s.children,e);o&&(this.selectedItem=o,this.setFather(this.dataList))}}}catch(r){a.e(r)}finally{a.f()}}},getParentId:function(t,e){var i,a=Object(n["a"])(t);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(s.id==e)return s.selected=1,s}}catch(o){a.e(o)}finally{a.f()}},setMenuOpen:function(t){var e=0,i={};0==t.fid?this.dataList.forEach((function(a,s){t.id==a.id&&(t.open=!t.open,e=s,i=a)})):this.dataList.forEach((function(a,s){if(t.fid==a.id){var o,r=Object(n["a"])(a.children);try{for(r.s();!(o=r.n()).done;){var l=o.value;l.id==t.id&&(l.open=!l.open)}}catch(c){r.e(c)}finally{r.f()}e=s,i=a}})),this.$set(this.dataList,e,i)},handleItemClick:function(t){var e=t.type,i=t.data;"click"==e&&(i.children&&i.children.length?this.setMenuOpen(i):(this.setListSelected(this.dataList,i.id),this.setFather(this.dataList))),this.getNewData(e,JSON.parse(JSON.stringify(i)))},getNewData:function(t,e){var i=JSON.parse(JSON.stringify(this.dataList));if(i.length){var a,s=Object(n["a"])(i);try{for(s.s();!(a=s.n()).done;){var o=a.value;delete o.selected,delete o.open}}catch(r){s.e(r)}finally{s.f()}"drag"==t?this.$emit("handleChange",{type:t,data:i}):(delete e.selected,delete e.open,"edit"==t&&this.$emit("handleChange",{type:t,data:e}),"click"!=t||e.children&&0!=e.children.length||this.$emit("handleChange",{type:t,data:e}))}else console.log("数据出错了")}}},m=f,p=(i("f431"),Object(u["a"])(m,a,s,!1,null,"6774c60e",null));e["a"]=p.exports},"815e":function(t,e,i){},"8b11":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACQklEQVRoQ+2Wv2uTQRjHnyfZ8z9kcr+7f0BcBF2a1EERHBRcKnSog6CL0A6KdCiig4KLQw26KLqIvINDCc/diwQDFlwc6tDBpUMI9B55pSnHS0JyP4IULlPI3fd7z/f7uTcJwhl/4RmfH3KA/00wE8gEIhvIVyiywGh5JhBdYaRBJhBZYLQ8E4iuMNIgE4gsMFoeREApdZWZC6317+gJTgyEEJcbjcYRERU+nt4BlFLbzLwOAN8RsUtEP3wOnLZXSvkAAB5Wa81m81y/399f1NM7gBDiLiI+OjngGwB0tdY/Fz2wvk9KeQ8AtiafLz1AdZCU8g0AXKneIyIxcxXil28IKeUGADye6BDxPhFt+vh4E5iYuyEAYM9a2y3L8mDRw4UQ64i47ezf0Fo/WVR/GtpX4O6vhfhqre2UZXk4z1MptcbMO5N9zLxmjHk6TzdtPZjADBLFeDzuDAaDP7OGUUrdZubnzrW5RUQvQ4b/d4VDhbNIMPPn0Wi0MhwOj+reSqmbzPzCaf66MeZ1zAxJAtQfbGb+1Gq1OkVRjBxSNwDgldP8KhG9jRk+GYFp1wkR37fb7ZVer3cspbwGAKdNI+IlIvoYO3zyAHUSiPjOWruLiLvOtblgjPmSYvilBKiHcAdFxPO+fxXmBU32DNQPqn3FVj94yYdfGgHnmXgGABeZ+Y4x5sO8NkPWl0YgZJgQTQ4Q0lpKTSaQss0Qr0wgpLWUmkwgZZshXplASGspNZlAyjZDvDKBkNZSajKBlG2GeP0F2Ou2MQxMJhwAAAAASUVORK5CYII="},"8c77":function(t,e,i){"use strict";i.r(e);i("3849"),i("54f8");var a=function(){var t=this,e=t._self._c;return e("a-modal",{attrs:{title:t.title,width:900,visible:t.visible,maskClosable:!1,confirmLoading:t.confirmLoading},on:{ok:t.handleSubmit,cancel:t.handleCancel}},[e("a-spin",{attrs:{spinning:t.confirmLoading,height:800}},[e("a-form",{attrs:{form:t.form}},[e("a-form-item",{attrs:{label:"排序",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[e("a-col",{attrs:{span:18}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["sort",{initialValue:t.detail.sort}],expression:"['sort', {initialValue:detail.sort}]"}],attrs:{placeholder:"0，越大越靠前"}})],1),e("a-col",{attrs:{span:6}})],1),e("a-form-item",{attrs:{label:"部门名称",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[e("a-col",{attrs:{span:18}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{initialValue:t.detail.name,rules:[{required:!0,message:"请输入部门名称,最多8个字！"},{max:8,message:"部门名称最多8个字！"}]}],expression:"['name', {initialValue:detail.name,rules: [{required: true, message: '请输入部门名称,最多8个字！'},{max:8, message: '部门名称最多8个字！'}]}]"}],attrs:{placeholder:"请输入部门名称,最多8个字",maxLength:8}})],1),e("a-col",{attrs:{span:6}})],1),e("a-form-item",{attrs:{label:"部分介绍",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[e("a-col",{attrs:{span:18}},[e("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["des",{initialValue:t.detail.des}],expression:"['des', {initialValue:detail.des}]"}],attrs:{placeholder:"请输入部门介绍"}})],1),e("a-col",{attrs:{span:6}})],1)],1)],1)],1)},s=[],n=i("2396"),o=i("567c"),r={data:function(){return{title:"新建",labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this),detail:{id:0,name:"",sort:0,des:""},id:0,fid:0}},mounted:function(){},methods:{add:function(t){this.title="添加",this.visible=!0,this.id="0",this.fid=t,this.detail={id:0,name:"",sort:0,des:""},this.checkedKeys=[]},edit:function(t){console.log("erererererer",t),this.visible=!0,this.id=t,this.getEditInfo(),this.id>0?this.title="编辑":this.title="添加",console.log(this.title)},handleSubmit:function(){var t=this,e=this.form.validateFields;this.confirmLoading=!0,e((function(e,i){e?t.confirmLoading=!1:(i.id=t.id,i.fid=t.fid,t.request(o["a"].subBranch,i).then((function(e){t.detail.id>0?t.$message.success("编辑成功"):t.$message.success("添加成功"),setTimeout((function(){t.form=t.$form.createForm(t),t.visible=!1,t.confirmLoading=!1,t.$emit("ok",i)}),1500)})).catch((function(e){t.confirmLoading=!1})),console.log("values",i))}))},handleCancel:function(){var t=this;this.visible=!1,setTimeout((function(){t.id="0",t.form=t.$form.createForm(t)}),500)},getEditInfo:function(){var t=this;this.request(o["a"].getBranchInfo,{id:this.id}).then((function(e){console.log(e),t.detail={id:0,name:"",sort:0,des:""},"object"==Object(n["a"])(e.info)&&(t.detail=e.info)}))}}},l=r,c=(i("fdac"),i("0b56")),d=Object(c["a"])(l,a,s,!1,null,null,null);e["default"]=d.exports},"99e1":function(t,e,i){},"9c14":function(t,e,i){"use strict";i.r(e);i("54f8");var a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"components-layout-demo-basic"}},[e("a-layout",[e("a-layout",{staticStyle:{padding:"0 20px",background:"#fff"}},[e("a-layout-sider",{staticStyle:{"min-width":"300px"}},[e("div",{style:"margin:10px 5px 5px 5px"},[e("a-input",{staticStyle:{width:"180px",height:"28px"},attrs:{placeholder:"搜索成员、部门"},model:{value:t.queryParam.con,callback:function(e){t.$set(t.queryParam,"con",e)},expression:"queryParam.con"}}),e("a-button",{staticClass:"add-goods",staticStyle:{height:"28px"},attrs:{type:"primary"},on:{click:function(e){return t.search_all()}}},[t._v("搜索")])],1),[e("a-tree",{attrs:{treeData:t.treeData,"default-expand-all":t.defaultExpandAll,"selected-keys":[t.default_selected]},on:{select:t.onSelect},scopedSlots:t._u([{key:"edit_out",fn:function(i){return[e("span",{staticClass:"node-title",attrs:{id:"title-item"}},[t._v(t._s(i.title)+" ")]),e("div",{staticStyle:{float:"right",position:"absolute",right:"10px","margin-top":"-24px"}},[e("span",{staticClass:"icon-wrap"},[e("a",{on:{click:function(e){return t.delAlert(i.id)}}},[e("a-icon",{attrs:{type:"close"}})],1)]),e("span",{staticClass:"icon-wrap",staticStyle:{"margin-left":"10px"}},[e("a",{on:{click:function(e){return t.$refs.createModal.edit(i.id)}}},[e("a-icon",{attrs:{type:"form"}})],1)])])]}},{key:"edit_outs",fn:function(i){return[e("span",{staticClass:"node-title"},[t._v(t._s(i.title)+" ")]),e("span",{staticClass:"icon-wrap",staticStyle:{"margin-left":"30px"}},[e("a",{on:{click:function(e){return t.delAlert(i.assets_id)}}},[e("a-icon",{attrs:{type:"close"}})],1)]),e("span",{staticClass:"icon-wrap",staticStyle:{"margin-left":"10px"}},[e("a",{on:{click:function(e){return t.$refs.createModal.edit(i.assets_id)}}},[e("a-icon",{attrs:{type:"form"}})],1)])]}}])})]],2),e("div",{staticClass:"line"}),t.treeData&&t.treeData.length>0&&t.workerList?e("a-layout-content",[e("div",{staticStyle:{"margin-top":"10px",width:"1200px",height:"40px"}},[e("a-input-group",{staticStyle:{width:"270px"},attrs:{compact:""}},[e("label",{staticStyle:{"margin-top":"5px","font-size":"20px","font-weight":"bold"}},[t._v(t._s(t.treeData[0].title)+"（共"+t._s(t.pagination.total)+"人）")])])],1),e("hr",{staticStyle:{color:"#ddd"}}),e("div",{staticClass:"board-content",staticStyle:{"margin-top":"5px"}},[e("a-button",{staticClass:"add-goods",attrs:{type:"primary"},on:{click:function(e){return t.$refs.createModal.add(t.id)}}},[t._v("添加子组织")]),e("a-button",{staticClass:"add-goods",attrs:{type:"primary"},on:{click:function(e){return t.$refs.createModals.add(t.id)}}},[t._v("添加人员")]),e("a-button",{staticClass:"add-goods",attrs:{type:"primary"},on:{click:function(e){return t.delete_all()}}},[t._v("批量删除")])],1),t.workerList?e("a-table",{attrs:{"row-selection":t.rowSelection,columns:t.columns,"data-source":t.workerList,pagination:t.pagination,rowKey:"worker_id",scroll:{y:this.clientHeight-230},loading:t.loading},on:{change:t.tableChange},scopedSlots:t._u([{key:"tags",fn:function(i){return e("span",{},t._l(i,(function(i){return e("a-tag",{staticStyle:{"margin-bottom":"5px"},attrs:{color:"#FCBE79"}},[t._v(" "+t._s(i)+" ")])})),1)}},{key:"grid_member_label",fn:function(i,a){return e("span",{},[e("div",[t._v(t._s(a.grid_member_label.name))]),1==a.grid_member_label.status?e("a-tag",{staticClass:"grid_member_label_0719",attrs:{color:a.grid_member_label.color}},[t._v(" "+t._s(a.grid_member_label.tips)+" ")]):t._e()],1)}},{key:"action",fn:function(i,a){return e("span",{},[e("a",{on:{click:function(e){return t.$refs.createModals.edit(a.worker_id)}}},[t._v("查看")]),e("a",{staticStyle:{"margin-left":"20px"},on:{click:function(e){return t.$refs.createModals.edit(a.worker_id,t.assets_id)}}},[t._v("编辑")]),e("a-popconfirm",{staticClass:"ant-dropdown-link",staticStyle:{"margin-left":"20px"},attrs:{title:"确认删除?","ok-text":"是","cancel-text":"否"},on:{confirm:function(e){return t.deleteConfirm(a.worker_id)},cancel:t.cancel}},[e("a",{attrs:{href:"#"}},[t._v("删除")])])],1)}}],null,!1,973622669)}):t._e()],1):e("a-layout-content",[e("div",{staticStyle:{width:"98%"}},[e("div",{staticStyle:{"text-align":"center","margin-top":"15%"}},[e("img",{attrs:{src:t.imgUrl}}),e("p",{staticStyle:{color:"#0a0a0a","font-size":"16px"}},[t._v("您还没有添加任何数据")]),e("p",{staticStyle:{color:"#626262","margin-top":"-50px","font-size":"14px"}},[t._v("您需要添加分类，再添加资产")])]),e("div",{staticStyle:{"text-align":"center","margin-top":"-30px"}},[e("a-button",{staticClass:"add-goods",attrs:{type:"primary"},on:{click:function(e){return t.$refs.createModal.add()}}},[t._v("立即添加")])],1)])])],1),e("child-info",{ref:"createModal",attrs:{height:800,width:1200},on:{ok:t.handleOks}}),e("member-info",{ref:"createModals",attrs:{width:1200},on:{ok:t.handleOks}}),e("member-look",{ref:"createModalLook",attrs:{height:800,width:1200},on:{ok:t.handleOks}})],1)],1)},s=[],n=i("8ee2"),o=(i("075f"),i("7c9a")),r=i("2f42"),l=i.n(r),c=i("567c"),d=i("8c77"),h=i("9747"),u=i("0b33"),g=[{title:"parent 1",key:"0-1",children:[{title:"leaf",key:"1-1",id:1},{title:"leaf",key:"1-2",id:2}]},{title:"parent 2",key:"0-2",children:[{title:"leaf",key:"2-1"},{title:"leaf",key:"2-2"}]}],A=[],f=[],m={name:"OrganizationList",components:{DragBox:o["a"],childInfo:d["default"],memberInfo:h["default"],memberLook:u["default"]},data:function(){return this.cacheData=A.map((function(t){return Object(n["a"])({},t)})),{form:this.$form.createForm(this),id:0,queryParam:{assets_id:"0",num:"",status:"0",time:"",con:""},columns:[{title:"编号",dataIndex:"work_num",width:"8%"},{title:"姓名",dataIndex:"work_name"},{title:"手机号码",width:"8%",dataIndex:"work_phone"},{title:"账号",dataIndex:"work_account"},{title:"职务",dataIndex:"work_job"},{title:"部门",dataIndex:"organization_txt",width:"20%",scopedSlots:{customRender:"tags"}},{title:"标签",dataIndex:"grid_member_label",scopedSlots:{customRender:"grid_member_label"}},{title:"操作",key:"action",dataIndex:"",width:"13%",scopedSlots:{customRender:"action"}}],data:A,sortList:f,workerList:[],type:"",defaultExpandAll:!0,clientHeight:0,loading:!1,sortLoading:!1,treeData:g,assets_id:0,pagination:{pageSize:10,total:10},search:{page:1,con:""},page:1,dateFormat:"YYYY/MM/DD",start_time:"",end_time:"",workers_id_arr:[],imgUrl:i("22af"),default_selected:"",autoExpandParent:!0}},watch:{$route:{handler:function(){this.queryParam.store_id=this.$route.query.store_id,this.queryParam.sort_id=0,this.getSortList()},deep:!0}},created:function(){},mounted:function(){var t=this;this.clientHeight=window.document.body.clientHeight,window.onresize=function(){t.clientHeight=window.document.body.clientHeight},this.getSortList()},computed:{hasSelected:function(){return this.selectedRowKeys.length>0},rowSelection:function(){var t=this;return{onChange:function(e,i){console.log("selectedRows: ",i),i!=[]&&(t.workers_id_arr=i)},getCheckboxProps:function(t){return{props:{}}}}}},methods:{moment:l.a,date_moment:function(t,e){return t?l()(t,e):""},onSelect:function(t,e){if(console.log("345435",t[0]),t[0]){var i=t[0].split("-");2==i.length?this.queryParam.id=0:this.queryParam.id=i[i.length-1],this.id=this.queryParam.id,this.default_selected=t[0],this.queryParam.con="",this.getworkerList()}},onCheck:function(t,e){console.log("onCheck",t,e)},onChange:function(t,e){this.start_time=e[0],this.end_time=e[1],this.queryParam.time=e},handleOks:function(){this.getSortList()},tableChange:function(t){t.current&&t.current>0&&(this.page=t.current,this.getworkerList())},getSortList:function(){var t=this;console.log("222",this.queryParam),this.sortLoading=!0,this.sortList=[],this.request(c["a"].getTissueNav).then((function(e){t.sortLoading=!1,t.treeData=e.menu_list,e&&e.key.length>0&&(t.queryParam.assets_id=e.key[0].assets_id,t.default_selected=e.key[0].key,t.queryParam.assets_id,t.assets_id=t.queryParam.assets_id,t.getworkerList())}))},search_all:function(){this.getworkerList()},getworkerList:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.loading=!0,this.queryParam["page"]=this.page,this.request(c["a"].getMemberList,this.queryParam).then((function(i){if(""!=t.queryParam.con&&i.list.length>0){var a=i.list[0].organization_ids.split(",");t.default_selected="0-"+i.street_id+"-"+a[0],t.defaultExpandAll=!0}else i.organization_id&&i.organization_id>0&&(t.default_selected="0-"+i.street_id+"-"+i.organization_id,t.defaultExpandAll=!0);t.workerList=i.list,e&&(t.tabColumn=i.tabs),i.list&&i.list.length>0?(t.pagination.total=i.count?i.count:0,t.pagination.pageSize=i.total_limit?i.total_limit:10):(t.pagination.total=0,t.pagination.pageSize=i.total_limit?i.total_limit:10),t.loading=!1}))},cancel:function(){},querys:function(){console.log("search",this.queryParam),this.getworkerList()},resetList:function(){this.queryParam.num="",this.queryParam.status="",this.queryParam.time="",this.start_time="",this.end_time="",this.getworkerList()},delAlert:function(t){var e=this;this.$confirm({title:"提示",content:"您确定要删除该部门吗？",okText:"是",okType:"danger",cancelText:"否",onOk:function(){e.delClassifyNav(t)},onCancel:function(){console.log("Cancel")}})},deleteConfirm:function(t){var e=this;this.request(c["a"].delWorker,{worker_id:t}).then((function(t){e.$message.success("删除成功"),e.getworkerList()}))},delete_all:function(){var t=this;if(""==this.workers_id_arr)return this.$message.error("请选择删除的数据"),!1;this.request(c["a"].delWorker,{worker_id:this.workers_id_arr}).then((function(e){t.$message.success("删除成功"),t.getworkerList()}))},delClassifyNav:function(t){var e=this;this.request(c["a"].delBranch,{id:t}).then((function(t){t?(e.$message.success("操作成功"),e.id=0,e.queryParam.id=0,e.getSortList()):e.$message.error("操作失败")}))},delAssetsAlert:function(t){var e=this;this.$confirm({title:"提示",content:"您确定要删除该分类吗？",okText:"是",okType:"danger",cancelText:"否",onOk:function(){e.delAssets(t)},onCancel:function(){console.log("Cancel")}})},delAssets:function(t){var e=this;this.request(c["a"].delAssets,{assets_id:t}).then((function(t){t?(e.$message.success("操作成功"),e.getSortList()):e.$message.error("操作失败")}))}}},p=m,w=(i("fe492"),i("0b56")),C=Object(w["a"])(p,a,s,!1,null,"2b77b16c",null);e["default"]=C.exports},bcea:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACBUlEQVRoQ+2Vvy8EQRzF3/coSBQk2KW4CIVCo5DQSCgUFAqFaxQSUShk90QUJH6ERCGySxARjUIi5K7T+0PUbvwHQuIrzi0XjjE3MxHJXHO5/c68eZ/3dvcI//xD/9w/HMBfN+gacA1oJuBuIc0Atbe7BrQj1BRwDWgGqL3dNaAdoaaAa0AzQO3t1hrwYu4nQh7AiQhoQ9vpNwJWAPw9HgPjuuzMKxHSpA0I4wBezBkCLiqYtQJhFMCLeYaA03fzhAwYGQATpWvGIYwBeHscECNOzBNjqpClc1xyjX9XfBbGbUAYAWiLeIUJW2XJT4uAzpLfHetc99BYhBg1DaEN4Ee8DsJaYpYZs/dZ+riNSoOWQ25IPSFPwIhJCC2Az+aJMFcI6Pi7t016m5se65EDMGwKomqAz+YBzIuQDmSvSn+fW8DIgTFoAqIqgC/JAwuFkCKZ+WTeHHFb7duf3IAuhDJAheSXREg7vzWfrGuPOf2M4u3UpwOhBNC6z12pZ9yWPbDL91naVjWfrPci7kwRcgz0lq7tipAWVfSqByCsioA2VQ6rtLY95u5SEz0AFkVIuyqaSgCvwn7EQ6/fIks3Kgf9tNaPuAOEMRHSkaqmMoDqAbbXOwDbCcv0XQOyhGzPXQO2E5bpuwZkCdmeuwZsJyzTdw3IErI9dw3YTlim7xqQJWR7/gIoJ4sxUA2kRAAAAABJRU5ErkJggg=="},bf4b:function(t,e,i){},e0b6:function(t,e,i){},eb9e:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACD0lEQVRoQ+2Vv0pcQRTGz7kLiws2FhZpQohFYGVh984sSSOshUUsUgjrNhaCpLAQQSRFAvlDBIsgWoiEkCZFIBDcLn0eYM48gfsS+wB75II3XGR1Mp4ZRJjbLHf+fPP9vm+4i/DAH3zg/iEB3HeDqYHUgDCBdIWEAYq3pwbEEQoFUgPCAMXbUwPiCIUCqQFhgOLt0RpQSj0HgCEzf7PWfhI7vUEgCoDWepWZ/1TO/E1E6zEgggPkeT5AxF9TzEaBCAqgtd5i5u+leWYeZFk2YOa1q7HgEMEAlFK7AHBSMb9hrf3Z7/dro9FoiIivYkAEAdBav2Pmg8q12SSiH+V7r9ebGY/HBcTL0BBigDzPPyLih4r510T07xqV481mc7bRaAwBYCUkhAhgivltIvp609em1WrN1ev1cwBYDgVxZ4Dr5hFxxxhz6vpUdjqd+SzLCoilEBB3Aphifs8Yc+wyX84rpR4Vf3IA8EIK4Q1w3Twzv7HWfvlf8xWIx4h4zsxaAuEFoJRaAICLitm3RHToa75c3+12n04mk+I6ta/Gjoho30dPAvCeiD77HDZtrdb6GTMXEIsAsE9ERz6aXgCFsNa6V/waY/76HHTb2na7/aRWq60S0ZmvpjeA7wGx1yeA2Am79FMDroRiz6cGYifs0k8NuBKKPZ8aiJ2wSz814Eoo9nxqIHbCLv3UgCuh2POXPbCeMfyLhFcAAAAASUVORK5CYII="},f431:function(t,e,i){"use strict";i("815e")},fdac:function(t,e,i){"use strict";i("bf4b")},fe492:function(t,e,i){"use strict";i("99e1")}}]);