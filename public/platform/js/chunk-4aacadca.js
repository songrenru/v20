(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4aacadca"],{"2c43":function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"components-layout-demo-basic"}},[e("a-modal",{attrs:{title:"编辑导航分类",footer:null},on:{cancel:function(a){return t.hidelModel()}},model:{value:t.visible_staff,callback:function(a){t.visible_staff=a},expression:"visible_staff"}},[e("a-form",t._b({on:{submit:t.handleSubmit}},"a-form",{labelCol:{span:7},wrapperCol:{span:16}},!1),[e("a-form-item",{attrs:{label:"推荐标题",required:!0}},[e("a-row",[e("a-col",{attrs:{span:14}},[e("a-input",{attrs:{placeholder:"请输推荐标题"},model:{value:t.formData.title,callback:function(a){t.$set(t.formData,"title",a)},expression:"formData.title"}})],1)],1)],1),e("a-form-item",{attrs:{label:"副标题"}},[e("a-row",[e("a-col",{attrs:{span:14}},[e("a-input",{attrs:{placeholder:"请输副标题"},model:{value:t.formData.description,callback:function(a){t.$set(t.formData,"description",a)},expression:"formData.description"}})],1)],1)],1),e("a-form-item",{attrs:{label:"导航内容","wrapper-col":{span:17}}},[e("a-row",[e("a-col",{attrs:{span:24}},[e("a-radio-group",{on:{change:t.typeChange},model:{value:t.formData.type,callback:function(a){t.$set(t.formData,"type",a)},expression:"formData.type"}},[e("a-radio",{attrs:{value:1}},[t._v(" 子分类店铺 ")]),e("a-radio",{attrs:{value:2}},[t._v(" 种草话题 ")])],1)],1)],1)],1),1==t.formData.type?e("a-form-item",{attrs:{label:"店铺分类","wrapper-col":{span:17}}},[e("a-row",[e("a-col",{attrs:{span:13}},[e("a-tree-select",{staticStyle:{width:"100%"},attrs:{value:t.formData.ids,dropdownStyle:{height:"200px"},"tree-data":t.cat_sel,"tree-checkable":"","search-placeholder":"全部",replaceFields:{title:"cat_name",value:"cat_id",key:"key",children:"children"}},on:{change:t.handleChange}})],1),e("a-col",{staticClass:"text-right",attrs:{span:9}},[t._v(" 不选择则为全部 ")])],1)],1):t._e(),2==t.formData.type?e("a-form-item",{attrs:{label:"选择话题","wrapper-col":{span:17}}},[e("a-row",[e("a-col",{attrs:{span:13}},[e("a-select",{staticStyle:{width:"100%"},attrs:{mode:"multiple",placeholder:"全部",value:t.formData.ids},on:{change:t.handleChange}},t._l(t.huati,(function(a){return e("a-select-option",{key:a,attrs:{value:a.cat_id}},[t._v(" "+t._s(a.cat_name)+" ")])})),1)],1),e("a-col",{staticClass:"text-right",attrs:{span:9}},[t._v(" 不选择则为全部 ")])],1)],1):t._e(),2==t.formData.type?e("a-form-item",{attrs:{label:"话题展示规则",required:!0}},[e("a-select",{model:{value:t.formData.show_sort_type,callback:function(a){t.$set(t.formData,"show_sort_type",a)},expression:"formData.show_sort_type"}},[e("a-select-option",{attrs:{value:1}},[t._v(" 按动态点赞数 ")]),e("a-select-option",{attrs:{value:2}},[t._v(" 按动态浏览量 ")]),e("a-select-option",{attrs:{value:3}},[t._v(" 按动态评论数 ")])],1)],1):t._e(),1==t.formData.type?e("a-form-item",{attrs:{label:"店铺展示规则",required:!0}},[e("a-select",{model:{value:t.formData.show_sort_type,callback:function(a){t.$set(t.formData,"show_sort_type",a)},expression:"formData.show_sort_type"}},[e("a-select-option",{attrs:{value:1}},[t._v(" 按销量 ")]),e("a-select-option",{attrs:{value:2}},[t._v(" 按距离 ")]),e("a-select-option",{attrs:{value:3}},[t._v(" 按评分 ")]),e("a-select-option",{attrs:{value:4}},[t._v(" 按店铺上架时间排序 ")])],1)],1):t._e(),1==t.formData.type?e("a-form-item",{attrs:{label:"内容展示样式"}},[e("a-select",{model:{value:t.formData.show_type,callback:function(a){t.$set(t.formData,"show_type",a)},expression:"formData.show_type"}},[e("a-select-option",{attrs:{value:2}},[t._v(" 列表样式一 ")]),e("a-select-option",{attrs:{value:1}},[t._v(" 列表样式二 ")]),e("a-select-option",{attrs:{value:3}},[t._v(" 瀑布流 ")])],1)],1):t._e(),e("a-form-item",{attrs:{label:"排序"}},[e("a-row",[e("a-col",{attrs:{span:6}},[e("a-input",{model:{value:t.formData.sort,callback:function(a){t.$set(t.formData,"sort",a)},expression:"formData.sort"}})],1)],1)],1),e("a-form-item",{attrs:{"wrapper-col":{span:20,offset:6}}},[e("a-row",{attrs:{type:"flex",justify:"center",align:"top"}},[e("a-col",{staticClass:"text-left",attrs:{span:4}},[e("a-button",{attrs:{type:"default"},on:{click:function(a){return t.hidelModel()}}},[t._v(" 取消 ")])],1),e("a-col",{staticClass:"text-center",attrs:{span:6}},[e("a-button",{attrs:{type:"primary","html-type":"submit"}},[t._v(" 确定 ")])],1),e("a-col",{attrs:{span:6}})],1)],1)],1)],1)],1)},r=[],i=(e("a9e3"),e("4fa1")),s={name:"DiypageFeedCategoryEdit",props:{category_id:{type:[String,Number],default:"0"},cat_id:{type:[String,Number],default:"0"}},data:function(){return{visible_staff:!0,spinning:!1,size:"default",queryParam:{cat_id:this.cat_id,category_id:""},huati:[],cat_sel:[],formData:{cat_id:this.cat_id,title:"",description:"",type:1,ids:[],show_sort_type:1,show_type:1,sort:0}}},mounted:function(){this.queryParam.cat_id=this.cat_id,this.queryParam.category_id=this.category_id,this.formData.cat_id=this.cat_id,this.getLists()},activated:function(){this.queryParam.cat_id=this.cat_id,this.queryParam.category_id=this.category_id,this.formData.cat_id=this.cat_id,this.getLists()},created:function(){this.queryParam.cat_id=this.cat_id,this.queryParam.category_id=this.category_id,this.formData.cat_id=this.cat_id},methods:{handleChange:function(t){console.log(t,"selectedItems"),this.formData.ids=t,console.log(this.formData.ids,"this.formData.ids===this.formData.ids")},typeChange:function(){this.formData.ids=[]},popupScroll:function(){console.log("popupScroll")},getLists:function(){var t=this;this.request(i["a"].diypageFeedCategoryEdit,this.queryParam).then((function(a){t.queryParam.category_id>0&&(t.formData=a),t.cat_sel=a.cat_sel,t.huati=a.huati}))},handleSubmit:function(){var t=this;this.request(i["a"].diypageFeedCategorySave,this.formData).then((function(a){if(a){t.$message.success("保存成功！");var e={id:1};t.$emit("changeEditModel",e)}}))},hidelModel:function(){var t={id:0};this.$emit("changeEditModel",t)}}},l=s,c=e("2877"),n=Object(c["a"])(l,o,r,!1,null,"1e6905cd",null);a["default"]=n.exports},"4fa1":function(t,a,e){"use strict";var o={getLists:"/common/platform.DiypageFeedCategory/diypageFeedCategoryList",diypageFeedCategoryEdit:"/common/platform.DiypageFeedCategory/diypageFeedCategoryEdit",diypageFeedCategorySave:"/common/platform.DiypageFeedCategory/diypageFeedCategorySave",diypageFeedCategoryDel:"/common/platform.DiypageFeedCategory/diypageFeedCategoryDel",diypageFeedCategoryStoreList:"/common/platform.DiypageFeedCategory/diypageFeedCategoryStoreList",diypageFeedCategoryStoreSortEdit:"/common/platform.DiypageFeedCategory/diypageFeedCategoryStoreSortEdit"};a["a"]=o}}]);