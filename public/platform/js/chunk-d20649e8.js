(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d20649e8"],{4928:function(o,e,t){"use strict";t.r(e);var a=function(){var o=this,e=o.$createElement,t=o._self._c||e;return t("div",[t("a-form-model-item",{staticClass:"mb-10",attrs:{label:"标签组",labelCol:{span:3}}},[t("a-radio-group",{on:{change:o.goodsTagGroupChange},model:{value:o.labelGroup,callback:function(e){o.labelGroup=e},expression:"labelGroup"}},o._l(o.goodsTagGroupList,(function(e,a){return t("a-radio",{key:a,staticStyle:{"margin-bottom":"20px"},attrs:{value:e.id,disabled:!e.id}},[t("a-input",{staticStyle:{width:"100px"},attrs:{placeholder:"标签名"},on:{blur:function(t){return o.addLabelOpt(t,"1",e)},change:function(e){return o.addLabelChange()}},model:{value:e.name,callback:function(t){o.$set(e,"name",t)},expression:"groupItem.name"}})],1)})),1),t("a-button",{staticClass:"cr-primary",staticStyle:{padding:"0 10px","border-color":"#1890ff"},attrs:{icon:"plus"},on:{click:o.addTagGroup}},[o._v(" 新增 ")])],1),o.showTags?t("a-form-model-item",{attrs:{label:"标签",labelCol:{span:3}}},[t("a-checkbox-group",{on:{change:o.goodsTagChange},model:{value:o.labelIds,callback:function(e){o.labelIds=e},expression:"labelIds"}},o._l(o.goodsTagList,(function(e,a){return t("a-checkbox",{key:a,staticStyle:{"margin-bottom":"20px"},attrs:{value:e.id}},[t("a-input",{staticStyle:{width:"100px"},attrs:{placeholder:"标签名"},on:{blur:function(t){return o.addLabelOpt(t,"2",e)},change:function(e){return o.addLabelChange()}},model:{value:e.name,callback:function(t){o.$set(e,"name",t)},expression:"item.name"}})],1)})),1),t("a-button",{staticClass:"cr-primary",staticStyle:{padding:"0 10px","border-color":"#1890ff"},attrs:{icon:"plus"},on:{click:o.addTag}},[o._v(" 新增 ")])],1):o._e()],1)},s=[],r=(t("d3b7"),t("159b"),t("498a"),t("4b77")),i={props:{labelInfo:{type:[String,Object],default:""}},data:function(){return{labelGroup:this.labelInfo&&this.labelInfo.labelGroup?this.labelInfo.labelGroup:"",labelIds:this.labelInfo&&this.labelInfo.labelIds?this.labelInfo.labelIds:[],goodsTagGroupList:[],currentTagGroupIndex:0,showTags:!(!this.labelInfo||!this.labelInfo.labelGroup),goodsTagList:[],labelInfoForm:[],checkAddLabelChange:!1}},watch:{labelInfo:{immediate:!0,handler:function(o){o&&(o.labelGroup&&(this.showTags=!0,this.getGoodsTagList()),this.$set(this,"labelGroup",o.labelGroup||""),this.$set(this,"labelIds",o.labelIds||[]))}},labelGroup:{immediate:!0,handler:function(o){o&&this.getGoodsTagList()}}},mounted:function(){this.getLabelList()},methods:{addTagGroup:function(){this.goodsTagGroupList.push({id:"",name:"",child:[]})},addTag:function(){var o=this;this.goodsTagGroupList.length&&this.goodsTagGroupList.forEach((function(e,t){e.id==o.labelGroup&&(e.child||(e.child=[]),e.child.push({id:"",name:""}),o.$set(o.goodsTagGroupList,t,e),o.getGoodsTagList())}))},goodsTagGroupChange:function(o){this.showTags=!0;var e=o.target.value;this.currentTagGroupIndex=e,this.labelInfoForm=this.labelInfoForm?this.labelInfoForm:{},this.$set(this.labelInfoForm,"labelGroup",o.target.value),this.$emit("getLabelGroup",this.labelInfoForm),this.getGoodsTagList()},getGoodsTagList:function(){var o=this;this.goodsTagGroupList.length&&this.goodsTagGroupList.forEach((function(e){e.id==o.labelGroup&&(o.goodsTagList=e.child)}))},goodsTagChange:function(o){console.log(o,"labelIds==labelIds==labelIds"),this.$set(this.labelInfoForm,"labelIds",o),this.$emit("getLabelGroup",this.labelInfoForm)},getLabelList:function(){var o=this;this.request(r["a"].getLabelList).then((function(e){o.goodsTagGroupList=e.list,!o.labelGroup&&o.goodsTagGroupList&&o.goodsTagGroupList.length&&(o.labelGroup=o.goodsTagGroupList[0]["id"],o.getGoodsTagList())}))},addLabelOpt:function(o,e,t){var a=this;if(t.id&&""==o.target.value.trim())return this.$message.error("请输入标签名称"),void this.$emit("checkLabelReslut");if(""!=o.target.value.trim()&&this.checkAddLabelChange){var s={name:o.target.value,fid:"2"==e?this.labelGroup:"",id:t.id};this.request(r["a"].addLabel,s).then((function(o){a.checkAddLabelChange=!1,t.id||a.getLabelList()})).catch((function(o){a.checkAddLabelChange=!1}))}},addLabelChange:function(){this.checkAddLabelChange=!0}}},n=i,g=t("2877"),l=Object(g["a"])(n,a,s,!1,null,"48b66c74",null);e["default"]=l.exports},"4b77":function(o,e,t){"use strict";var a,s=t("ade3"),r=(a={addLabel:"/group/merchant.goods/addLabel",getLabelList:"/group/merchant.goods/getLabelList",getMerchantStoreList:"/group/merchant.goods/getMerchantStoreList",getAllArea:"/common/common.area/getAllArea",getGoodsCashingDetail:"/group/merchant.goods/getGoodsCashingDetail",getGroupEditInfo:"/group/merchant.goods/getGroupEditInfo"},Object(s["a"])(a,"getGoodsCashingDetail","/group/merchant.goods/getGoodsCashingDetail"),Object(s["a"])(a,"saveCashingGoods","/group/merchant.goods/submitCashing"),Object(s["a"])(a,"saveNomalGoods","/group/merchant.goods/saveNomalGoods"),Object(s["a"])(a,"getGoodsNormalDetail","/group/merchant.goods/getGoodsNormalDetail"),Object(s["a"])(a,"getGoodsList","/group/merchant.goods/getGoodsList"),Object(s["a"])(a,"courseAppoint","/group/merchant.Goods/courseAppoint"),Object(s["a"])(a,"getCourseAppointDetail","/group/merchant.Goods/getCourseAppointDetail"),Object(s["a"])(a,"setStoreRecommend","/group/merchant.goods/setStoreRecommend"),Object(s["a"])(a,"getStoreRecommend","/group/merchant.goods/getStoreRecommend"),Object(s["a"])(a,"getGoodsOrderList","/group/merchant.goods/getGoodsOrderList"),Object(s["a"])(a,"saveBookingAppoint","/group/merchant.Goods/saveBookingAppoint"),Object(s["a"])(a,"showBookingAppoint","/group/merchant.Goods/showBookingAppoint"),Object(s["a"])(a,"getStoreList","/group/merchant.AppointManage/getStoreList"),Object(s["a"])(a,"getGiftMsg","/group/merchant.AppointManage/getGiftMsg"),Object(s["a"])(a,"updateAppointGift","/group/merchant.AppointManage/updateAppointGift"),Object(s["a"])(a,"getAppointArriveList","/group/merchant.AppointManage/getAppointArriveList"),Object(s["a"])(a,"updateAppointArriveStatus","/group/merchant.AppointManage/updateAppointArriveStatus"),Object(s["a"])(a,"getGoodsOrderDetail","/group/merchant.goods/getGoodsOrderDetail"),Object(s["a"])(a,"orderExportUrl","/group/merchant.goods/exportOrder"),Object(s["a"])(a,"noteInfo","/group/merchant.goods/noteInfo"),Object(s["a"])(a,"orderDetail","/group/merchant.goods/orderDetail"),Object(s["a"])(a,"updateOrderNote","/group/merchant.goods/updateOrderNote"),Object(s["a"])(a,"getRatioList","/group/merchant.goods/getRatioList"),Object(s["a"])(a,"getGoodsCouponList","/group/merchant.goods/getGoodsCouponList"),Object(s["a"])(a,"couponDetail","/group/merchant.goods/couponDetail"),Object(s["a"])(a,"couponVerify","/group/merchant.goods/couponVerify"),Object(s["a"])(a,"exportGoodsCouponList","/group/merchant.goods/exportGoodsCouponList"),Object(s["a"])(a,"groupPackageLists","/group/merchant.goods/groupPackageLists"),Object(s["a"])(a,"showGroupPackage","/group/merchant.goods/showGroupPackage"),Object(s["a"])(a,"saveGroupPackage","/group/merchant.goods/saveGroupPackage"),Object(s["a"])(a,"delGroupPackage","/group/merchant.goods/delGroupPackage"),Object(s["a"])(a,"delPackageBindGroup","/group/merchant.goods/delPackageBindGroup"),a);e["a"]=r}}]);