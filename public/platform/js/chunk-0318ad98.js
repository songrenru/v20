(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0318ad98"],{6995:function(e,a,t){"use strict";t("e2af")},"735a":function(e,a,t){"use strict";t.r(a);var l=function(){var e=this,a=e._self._c;return a("a-modal",{attrs:{title:e.modelTitle,width:900,visible:e.visible,"confirm-loading":e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleSubCancel}},[a("a-form-model",{ref:"ruleForm",attrs:{model:e.labelForm,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("div",{staticClass:"add_black"},[a("a-form-model-item",{attrs:{label:"分组名称",prop:"cat_id"}},[a("a-select",{attrs:{"show-search":"",placeholder:"请选择分组名称","filter-option":e.filterOption,value:e.labelForm.cat_id},on:{change:function(a){return e.handleSelectChange(a,"cat_id")}}},e._l(e.cateList,(function(t,l){return a("a-select-option",{attrs:{value:t.cat_id}},[e._v(" "+e._s(t.cat_name)+" ")])})),1)],1),"remove"==e.label_type?a("a-form-model-item",{attrs:{label:"标签名称"}},[a("a-input",{attrs:{disabled:!0},model:{value:e.select_names_str,callback:function(a){e.select_names_str=a},expression:"select_names_str"}})],1):a("a-form-model-item",{attrs:{label:"标签名称",prop:"label_name"}},[a("a-input",{attrs:{placeholder:"请输入标签名称"},model:{value:e.labelForm.label_name,callback:function(a){e.$set(e.labelForm,"label_name",a)},expression:"labelForm.label_name"}})],1)],1)])],1)},i=[],n=t("a0e0"),r={props:{visible:{type:Boolean,default:!1},modelTitle:{type:String,default:""},label_type:{type:String,default:"add"},label_id:{type:String,default:""},cat_id:{type:String,default:""},select_keys:{type:Array,default:function(){return[]}},select_names:{type:Array,default:function(){return[]}},select_names_str:{type:String,default:""}},watch:{visible:{immediate:!0,handler:function(e){e&&this.getLabelCatList()}},label_id:{immediate:!0,handler:function(e){"edit"==this.label_type&&this.getLabelInfo()}},cat_id:{immediate:!0,handler:function(e){}}},data:function(){return{confirmLoading:!1,labelCol:{span:4},wrapperCol:{span:14},labelForm:{cat_id:""},rules:{cat_id:[{required:!0,message:"请选择分组",trigger:"blur"}],label_name:[{required:!0,message:"请输入标签名称",trigger:"blur"}]},cateList:[]}},methods:{clearForm:function(){this.labelForm={cat_id:""}},getLabelInfo:function(){var e=this;e.label_id&&e.request(n["a"].getLabelInfo,{label_id:e.label_id}).then((function(a){e.labelForm=a,e.labelForm.label_id=a.id,(a.cat_id=99999)&&(e.labelForm.cat_id="未分组")}))},getLabelCatList:function(){var e=this;e.request(n["a"].getLabelCatList,{}).then((function(a){e.cateList=a}))},handleSubmit:function(e){var a=this;a.confirmLoading=!0,a.$refs.ruleForm.validate((function(e){if(!e)return a.confirmLoading=!1,!1;var t=n["a"].addCarLabel;"edit"==a.label_type&&("未分组"==a.labelForm.cat_id&&(a.labelForm.cat_id=99999),t=n["a"].editLabel),"remove"==a.label_type&&(t=n["a"].moveLabel,a.labelForm.label_id=a.select_keys),a.request(t,a.labelForm).then((function(e){"edit"==a.label_type?a.$message.success("编辑成功！"):"add"==a.label_type?a.$message.success("添加成功！"):"remove"==a.label_type&&a.$message.success("移动成功！"),a.$emit("closeLabel",!0),a.clearForm(),a.confirmLoading=!1})).catch((function(e){a.confirmLoading=!1}))}))},handleSubCancel:function(e){this.confirmLoading=!1,this.$emit("closeLabel"),"remove"!=this.label_type&&(this.clearForm(),this.$refs.ruleForm.resetFields())},handleSelectChange:function(e,a){this.labelForm[a]=e,this.$forceUpdate()},filterOption:function(e,a){return a.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0}}},o=r,s=(t("6995"),t("0b56")),c=Object(s["a"])(o,l,i,!1,null,"82ea25b4",null);a["default"]=c.exports},e2af:function(e,a,t){}}]);