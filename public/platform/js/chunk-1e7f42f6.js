(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e7f42f6"],{"14fb":function(a,e,t){"use strict";t.r(e);var i=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("a-modal",{attrs:{title:a.title,width:900,visible:a.visible,maskClosable:!1,confirmLoading:a.confirmLoading},on:{ok:a.handleSubmit,cancel:a.handleCancel}},[t("a-spin",{attrs:{spinning:a.confirmLoading,height:800}},[t("a-form",{attrs:{form:a.form}},[t("a-form-item",{attrs:{label:"套餐名称",labelCol:a.labelCol,wrapperCol:a.wrapperCol}},[t("a-col",{attrs:{span:18}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["package_title",{initialValue:a.detail.package_title,rules:[{required:!0,message:"请输入套餐名称！"}]}],expression:"['package_title', {initialValue:detail.package_title,rules: [{required: true, message: '请输入套餐名称！'}]}]"}]})],1),t("a-col",{attrs:{span:6}})],1),t("a-form-item",{attrs:{label:"套餐试用期限",labelCol:a.labelCol,wrapperCol:a.wrapperCol}},[t("a-row",[t("a-col",{attrs:{span:18}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["package_try_days",{initialValue:a.detail.package_try_days,rules:[{required:!0,message:"请输入套餐适用期限！"}]}],expression:"['package_try_days', {initialValue:detail.package_try_days,rules: [{required: true, message: '请输入套餐适用期限！'}]}]"}]})],1),t("a-col",{attrs:{span:6}},[t("a-span",{staticClass:"tip-txt"},[a._v("单位：天")])],1)],1)],1),t("a-form-item",{attrs:{label:"套餐价格",labelCol:a.labelCol,wrapperCol:a.wrapperCol}},[t("a-row",[t("a-col",{attrs:{span:18}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["package_price",{initialValue:a.detail.package_price,rules:[{required:!0,message:"请输入套餐价格！"}]}],expression:"['package_price', {initialValue:detail.package_price,rules: [{required: true, message: '请输入套餐价格！'}]}]"}]})],1),t("a-col",{attrs:{span:6}},[t("a-span",{staticClass:"tip-txt"},[a._v("单位：元/年(366天)")])],1)],1)],1),t("a-form-item",{attrs:{label:"套餐最多可购买期限",labelCol:a.labelCol,wrapperCol:a.wrapperCol}},[t("a-row",[t("a-col",{attrs:{span:18}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["package_limit_num",{initialValue:a.detail.package_limit_num,rules:[{required:!0,message:"请输入套餐最多可购买期限！"}]}],expression:"['package_limit_num', {initialValue:detail.package_limit_num,rules: [{required: true, message: '请输入套餐最多可购买期限！'}]}]"}]})],1),t("a-col",{attrs:{span:6}},[t("a-span",{staticClass:"tip-txt"},[a._v("单位：年")]),t("a-tooltip",{attrs:{placement:"right"}},[t("template",{slot:"title"},[t("span",[a._v("套餐最多购买期限")])]),t("a-button",{staticClass:"add-box-tip"},[t("a-icon",{staticClass:"tip-txt",attrs:{type:"question"}})],1)],2)],1)],1)],1),t("a-form-item",{attrs:{label:"文字说明",labelCol:a.labelCol,wrapperCol:a.wrapperCol}},[t("a-col",{attrs:{span:18}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["txt_des",{initialValue:a.detail.txt_des,rules:[{message:"请输入文字说明！"}]}],expression:"['txt_des', {initialValue:detail.txt_des,rules: [{message: '请输入文字说明！'}]}]"}]})],1),t("a-col",{attrs:{span:6}})],1),t("a-form-item",{attrs:{label:"所含房间数",labelCol:a.labelCol,wrapperCol:a.wrapperCol}},[t("a-row",[t("a-col",{attrs:{span:18}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["room_num",{initialValue:a.detail.room_num,rules:[{required:!0,message:"请输入所含房间数！"}]}],expression:"['room_num', {initialValue:detail.room_num,rules: [{required: true, message: '请输入所含房间数！'}]}]"}]})],1),t("a-col",{attrs:{span:6}},[t("a-span",{staticClass:"tip-txt"},[a._v("单位：间")]),t("a-tooltip",{attrs:{placement:"right"}},[t("template",{slot:"title"},[t("span",[a._v("此为套餐内赠与的免费房间数")])]),t("a-button",{staticClass:"add-box-tip"},[t("a-icon",{staticClass:"tip-txt",attrs:{type:"question"}})],1)],2)],1)],1)],1),t("a-form-item",{attrs:{label:"排序值",labelCol:a.labelCol,wrapperCol:a.wrapperCol}},[t("a-col",{attrs:{span:18}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["sort",{initialValue:a.detail.sort}],expression:"['sort',{initialValue:detail.sort}]"}]})],1),t("a-col",{attrs:{span:6}},[t("a-tooltip",{attrs:{placement:"right"}},[t("template",{slot:"title"},[t("span",[a._v("此值越大排序越靠前")])]),t("a-button",{staticClass:"add-box-tip"},[t("a-icon",{staticClass:"tip-txt",attrs:{type:"question"}})],1)],2)],1)],1),t("a-form-item",{attrs:{label:"状态",labelCol:a.labelCol,wrapperCol:a.wrapperCol}},[t("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{initialValue:1==a.detail.status,valuePropName:"checked"}],expression:"['status',{initialValue:detail.status==1 ? true : false,valuePropName: 'checked'}]"}],attrs:{"checked-children":"开启","un-checked-children":"关闭"}})],1),t("span",{staticStyle:{"margin-left":"75px","font-weight":"bold"}},[a._v("选择功能应用")]),t("a-form-item",{attrs:{label:"物业管理后台",labelCol:a.labelCol,wrapperCol:a.wrapperCol}},[t("a-checkbox-group",{attrs:{name:"bind_arr",options:a.property,value:a.detail.property},on:{change:a.onChange},model:{value:a.detail.property,callback:function(e){a.$set(a.detail,"property",e)},expression:"detail.property"}})],1),t("a-form-item",{attrs:{label:"小区管理后台",labelCol:a.labelCol,wrapperCol:a.wrapperCol}},[t("a-checkbox-group",{attrs:{name:"bind_arr",options:a.community,value:a.detail.community},on:{change:a.onChanges},model:{value:a.detail.community,callback:function(e){a.$set(a.detail,"community",e)},expression:"detail.community"}})],1)],1)],1)],1)},r=[],o=t("53ca"),l=(t("99af"),t("df93")),s={data:function(){return{title:"添加套餐",labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this),property:[],community:[],showMethod:[],detail:{package_id:0,package_title:"",package_try_days:"",package_price:"",package_limit_num:"",txt_des:"",room_num:"",status:1,sort:0,type:0,operate_type:0,details:"",community:[],property:[]},packageId:"",property_arr:[],community_arr:[],value:[]}},mounted:function(){},methods:{add:function(){this.title="添加套餐",this.visible=!0,this.packageId="0",this.property_arr=[],this.community_arr=[],this.detail={package_id:0,package_title:"",package_try_days:"",package_price:"",package_limit_num:"",txt_des:"",room_num:"",status:1,sort:0,type:0,operate_type:0,details:"",community:[],property:[]},this.getFunctionApp()},edit:function(a){this.visible=!0,this.packageId=a,this.property_arr=[],this.community_arr=[],this.detail={package_id:0,package_title:"",package_try_days:"",package_price:"",package_limit_num:"",txt_des:"",room_num:"",status:1,sort:0,type:0,operate_type:0,details:"",community:[],property:[]},this.getEditInfo(),this.getFunctionApp(),console.log(this.packageId),this.packageId>0?this.title="编辑套餐":this.title="添加套餐",console.log(this.title)},handleSubmit:function(){var a=this,e=this.form.validateFields;this.confirmLoading=!0,e((function(e,t){e?a.confirmLoading=!1:(t.package_id=a.packageId,a.community_arr.length<=0&&(a.community_arr=a.detail.community),a.property_arr.length<=0&&(a.property_arr=a.detail.property),t.bind_arr=a.property_arr.concat(a.community_arr),a.request(l["a"].addPackage,t).then((function(e){a.packageId>0?a.$message.success("编辑成功"):a.$message.success("添加成功"),setTimeout((function(){a.form=a.$form.createForm(a),a.visible=!1,a.confirmLoading=!1,a.$emit("ok",t)}),1500)})).catch((function(e){a.confirmLoading=!1})),console.log("values",t))}))},onChange:function(a){this.property_arr=a,this.detail.property=a,console.log("property_arr",this.property_arr)},onChanges:function(a){this.community_arr=a,this.detail.community=a,console.log("community_arr",this.community_arr)},handleCancel:function(){var a=this;this.visible=!1,setTimeout((function(){a.packageId="0",a.form=a.$form.createForm(a)}),500)},getFunctionApp:function(){var a=this;this.request(l["a"].getFunctionApp,{package_id:this.packageId}).then((function(e){"object"==Object(o["a"])(e)&&(a.community=e.community,a.property=e.property),console.log("shuju",e)}))},getEditInfo:function(){var a=this;this.request(l["a"].getEditInfo,{package_id:this.packageId}).then((function(e){console.log(e),a.detail={package_id:0,package_title:"",package_try_days:"",package_price:"",package_limit_num:"",txt_des:"",room_num:"",status:1,sort:0,type:0,operate_type:0,details:"",community:[],property:[]},"object"==Object(o["a"])(e.info)&&(a.detail=e.info),console.log("detail",a.detail)}))}}},n=s,c=(t("44fa"),t("0c7c")),p=Object(c["a"])(n,i,r,!1,null,null,null);e["default"]=p.exports},"44fa":function(a,e,t){"use strict";t("46b8")},"46b8":function(a,e,t){},df93:function(a,e,t){"use strict";var i={packageList:"/community/platform.PrivilegePackage/getList",getEditInfo:"/community/platform.PrivilegePackage/detailPrivilegePackage",getFunctionApp:"/community/platform.PrivilegePackage/getFunctionApplication",delPackage:"/community/platform.PrivilegePackage/delPrivilegePackage",addPackage:"/community/platform.PrivilegePackage/addPrivilegePackage",packageOrderList:"/community/platform.PackageOrder/getList",packageOrderInfo:"/community/platform.PackageOrder/getInfo",roomPackageList:"/community/platform.RoomPackage/getList",addRoomPackage:"/community/platform.RoomPackage/addRoomPackage",detailRoomPackage:"/community/platform.RoomPackage/getDetails",delRoomPackage:"/community/platform.RoomPackage/delRoomPackage",packageRoomOrderList:"/community/platform.PackageRoomOrder/getList",packageRoomOrderInfo:"/community/platform.PackageRoomOrder/getInfo"};e["a"]=i}}]);