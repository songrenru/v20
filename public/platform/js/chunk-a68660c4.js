(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a68660c4","chunk-2d0b6a79","chunk-2d0b6a79","chunk-2d0b3786"],{"1da1":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("d3b7");function i(e,t,a,i,r,n,l){try{var o=e[n](l),s=o.value}catch(d){return void a(d)}o.done?t(s):Promise.resolve(s).then(i,r)}function r(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var l=e.apply(t,a);function o(e){i(l,r,n,o,s,"next",e)}function s(e){i(l,r,n,o,s,"throw",e)}o(void 0)}))}}},2909:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var i=a("6b75");function r(e){if(Array.isArray(e))return Object(i["a"])(e)}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function n(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var l=a("06c5");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e){return r(e)||n(e)||Object(l["a"])(e)||o()}},"37a5":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-tabs",{attrs:{"default-active-key":"1"}},[a("a-tab-pane",{key:"1",attrs:{tab:e.title}})],1),a("div",{staticClass:"mt-10 mb-20 pt-20 pl-20 pr-20 pb-20 bg-ff br-10"},[a("a-form",{attrs:{form:e.form,"label-col":{span:5},"wrapper-col":{span:8}},on:{submit:e.handleSubmit}},[a("a-form-item",{attrs:{label:"信用卡名称",help:"建议不要超过10个字"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["title",{initialValue:e.detail.title,rules:[{required:!0,message:"请输入信用卡名称!"}]}],expression:"['title', { initialValue: detail.title,rules: [{ required: true, message: '请输入信用卡名称!' }] }]"}],attrs:{"field-names":"title",placeholder:"请输入信用卡名称"}})],1),a("a-form-item",{attrs:{label:"信用卡简介"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["introduce",{initialValue:e.detail.introduce,rules:[{required:!0,message:"请输入信用卡简介!"}]}],expression:"['introduce', { initialValue: detail.introduce,rules: [{ required: true, message: '请输入信用卡简介!' }] }]"}],attrs:{"field-names":"introduce",placeholder:"请输入信用卡简介",help:"请用一句话描述信用卡的优势"}})],1),a("a-form-item",{attrs:{label:"信用卡权益"}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["credit_card_equities",{initialValue:e.detail.credit_card_equities,rules:[{required:!0,message:"请输入信用卡权益!"}]}],expression:"['credit_card_equities', { initialValue: detail.credit_card_equities,rules: [{ required: true, message: '请输入信用卡权益!' }] }]"}],attrs:{placeholder:"请输入信用卡权益"}})],1),a("a-form-item",{attrs:{label:"联系电话"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone",{initialValue:e.detail.phone,rules:[{required:!0,message:"请输入联系电话!"}]}],expression:"['phone', { initialValue: detail.phone,rules: [{ required: true, message: '请输入联系电话!' }] }]"}],attrs:{"field-names":"phone",placeholder:"请输入联系电话"}})],1),a("a-form-item",{attrs:{label:"发布人"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["release_people",{initialValue:e.detail.release_people,rules:[{required:!0,message:"请输入发布人!"}]}],expression:"['release_people', { initialValue: detail.release_people,rules: [{ required: true, message: '请输入发布人!' }] }]"}],attrs:{"field-names":"release_people",placeholder:"请输入发布人"}})],1),e.detail.banking_id?a("a-form-item",{attrs:{label:"修改人"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["edit_people",{initialValue:e.detail.edit_people,rules:[{required:!0,message:"请输入修改人!"}]}],expression:"['edit_people', { initialValue: detail.edit_people,rules: [{ required: true, message: '请输入修改人!' }] }]"}],attrs:{"field-names":"edit_people",placeholder:"请输入修改人"}})],1):e._e(),a("a-form-item",{attrs:{label:"上传产品图片",help:"建议536*336px"}},[a("a-upload",{attrs:{name:"reply_pic","file-list":e.fileListCover,action:e.uploadImg,headers:e.headers,"list-type":"picture-card"},on:{preview:e.handlePreviewCover,change:function(t){return e.upLoadChangeCover(t)}}},[e.fileListCover.length<1?a("div",[a("a-icon",{attrs:{type:"plus"}}),a("div",{staticClass:"ant-upload-text"},[e._v("上传图片")])],1):e._e()]),a("a-modal",{attrs:{visible:e.previewVisibleCover,footer:null},on:{cancel:e.handleCancelCover}},[a("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:e.previewImageCover}})])],1),a("a-form-item",{attrs:{"wrapper-col":{span:12,offset:5}}},[a("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v(" 提交 ")])],1)],1)],1)],1)},r=[],n=a("2909"),l=a("1da1"),o=(a("fb6a"),a("d81d"),a("b0c0"),a("96cf"),a("b706")),s=a("7b3f"),d={components:{},data:function(){return{type:"credit_card",headers:{authorization:"authorization-text"},uploadImg:"/v20/public/index.php"+s["a"].uploadImg+"?upload_dir=/banking/credit_card",baseData:{banking_id:0,type:"credit_card",title:"",introduce:"",images:"",cover_image:"",phone:"",release_people:"",credit_card_equities:""},title:"新建信用卡",detail:{},fileList:[],fileListCover:[],previewVisible:!1,previewVisibleCover:!1,previewImage:null,previewImageCover:null,form:this.$form.createForm(this,{name:"coordinated"})}},mounted:function(){console.log("mounted"),this.resetForm(),this.$route.query.banking_id&&(this.detail.banking_id=this.$route.query.banking_id,this.getBankingDetail())},watch:{$route:function(e,t){var a=e.query;a.banking_id?(this.detail.banking_id=a.banking_id,this.getBankingDetail()):this.resetForm()}},methods:{resetForm:function(){this.title="新建信用卡",this.form.resetFields(),this.detail=this.baseData},getBankingDetail:function(){var e=this;this.title="编辑信用卡",this.request(o["a"].getBankingDetail,{banking_id:this.detail.banking_id}).then((function(t){e.detail=t,e.fileListCover[0]={uid:1,name:"image.png",status:"done",url:t.cover_image,data:t.cover_image}}))},handlePreviewCover:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.url||e.preview){a.next=4;break}return a.next=3,getBase64(e.originFileObj);case 3:e.preview=a.sent;case 4:t.previewImageCover=e.url||e.preview,t.previewVisibleCover=!0;case 6:case"end":return a.stop()}}),a)})))()},upLoadChangeCover:function(e){var t=this,a=Object(n["a"])(e.fileList);a=a.slice(-1),a=a.map((function(a){return a.response&&(a.url=a.response.data.full_url,t.detail.cover_image=e.file.response.data.image),a})),this.fileListCover=a,"done"===e.file.status||"error"===e.file.status&&this.$message.error("".concat(e.file.name," 上传失败."))},handleCancelCover:function(){this.previewVisibleCover=!1},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){if(!e){if(console.log(a,"values"),console.log(t.detail,"detail"),a.banking_id=t.detail.banking_id,a.cover_image=t.detail.cover_image,a.images=t.detail.cover_image,a.type=t.detail.type,!t.detail.cover_image)return t.$message.error("请上传产品图片！"),!1;t.request(o["a"].saveBanking,a).then((function(e){t.resetForm(),t.$message.success(t.L("操作成功！")),localStorage.setItem("refresh",1),t.$router.push({path:"/banking/platform.banking/BankingList"})}))}}))}}},u=d,c=a("2877"),p=Object(c["a"])(u,i,r,!1,null,null,null);t["default"]=p.exports},"7b3f":function(e,t,a){"use strict";var i={uploadImg:"/common/common.UploadFile/uploadImg"};t["a"]=i},b706:function(e,t,a){"use strict";var i={getBankingList:"/banking/platform.Banking/getList",getBankingDetail:"/banking/platform.Banking/getDetail",saveBanking:"/banking/platform.Banking/saveBanking",getBankingLogList:"/banking/platform.Banking/getLogList",delBanking:"/banking/platform.Banking/delBanking",getApplyList:"/banking/platform.BankingApply/getList",changeStatus:"/banking/platform.BankingApply/changeStatus",exportUrl:"/banking/platform.BankingApply/export",getVillageList:"/banking/platform.BankingApply/getVillageList",getBankingConfigList:"/banking/platform.Banking/getConfigDataList",editSeting:"/banking/platform.Banking/editSeting",getInformationList:"/banking/platform.Banking/getInformationList",delInformation:"/banking/platform.Banking/delInformation",getInformationData:"/banking/platform.Banking/getInformationData",editOrAddInformation:"/banking/platform.Banking/editOrAddInformation"};t["a"]=i}}]);