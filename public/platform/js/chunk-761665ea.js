(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-761665ea"],{"48c9":function(t,e,a){},"60e9":function(t,e,a){"use strict";a("48c9")},"6e77":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-suggestions-list-box"},[1==t.is_customized_meter_reading?a("div",{staticClass:"search-box",staticStyle:{margin:"0px 0px 10px 20px"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{staticStyle:{"padding-left":"5px","padding-right":"10px"},attrs:{md:3}},[a("label",{staticStyle:{"margin-top":"5px"}},[t._v("缴费类型：")]),a("a-select",{staticStyle:{width:"110px"},attrs:{placeholder:"请选择缴费类型"},model:{value:t.search.fee_type,callback:function(e){t.$set(t.search,"fee_type",e)},expression:"search.fee_type"}},[a("a-select-option",{attrs:{value:"0"}},[t._v("全部")]),a("a-select-option",{attrs:{value:"1"}},[t._v("预存")]),a("a-select-option",{attrs:{value:"2"}},[t._v("抵扣")])],1)],1),1!=t.cockpit||1==t.is_customized_meter_reading?a("a-col",{staticStyle:{"padding-left":"5px","padding-right":"10px"},attrs:{md:3}},[a("label",{staticStyle:{"margin-top":"5px"}},[t._v("预存类型：")]),a("a-select",{staticStyle:{width:"110px"},attrs:{placeholder:"请选择预存类型"},model:{value:t.money_type,callback:function(e){t.money_type=e},expression:"money_type"}},[a("a-select-option",{attrs:{value:"0"}},[t._v("全部")]),1==t.is_customized_meter_reading?a("a-select-option",{attrs:{value:"4"}},[t._v("冷水")]):t._e(),1==t.is_customized_meter_reading?a("a-select-option",{attrs:{value:"3"}},[t._v("热水")]):t._e(),1==t.is_customized_meter_reading?a("a-select-option",{attrs:{value:"2"}},[t._v("电费")]):t._e(),a("a-select-option",{attrs:{value:"1"}},[t._v("物业费")])],1)],1):t._e(),a("a-col",{staticStyle:{"padding-left":"5px","padding-right":"10px"},attrs:{md:6}},[a("label",{staticStyle:{"margin-top":"5px"}},[t._v("预存时间：")]),a("a-range-picker",{staticStyle:{width:"310px"},attrs:{allowClear:!0},on:{change:t.dateOnChange},model:{value:t.search_data,callback:function(e){t.search_data=e},expression:"search_data"}},[a("a-icon",{attrs:{slot:"suffixIcon",type:"calendar"},slot:"suffixIcon"})],1)],1),a("a-col",{staticStyle:{"padding-left":"5px","padding-right":"10px"},attrs:{md:3}},[a("a-input-group",{attrs:{compact:""}},[a("p",{staticStyle:{"margin-top":"5px"}},[t._v("姓名：")]),a("a-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入姓名"},model:{value:t.search.name,callback:function(e){t.$set(t.search,"name",e)},expression:"search.name"}})],1)],1),a("a-col",{staticStyle:{"padding-left":"5px","padding-right":"10px"},attrs:{md:3}},[a("a-input-group",{attrs:{compact:""}},[a("p",{staticStyle:{"margin-top":"5px"}},[t._v("手机号：")]),a("a-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入手机号"},model:{value:t.search.phone,callback:function(e){t.$set(t.search,"phone",e)},expression:"search.phone"}})],1)],1),a("a-col",{staticStyle:{"padding-left":"10px","padding-right":"10px"},attrs:{md:2}},[a("a-button",{attrs:{type:"primary",icon:"search"},on:{click:function(e){return t.searchList()}}},[t._v(" 查询 ")])],1),1==t.is_customized_meter_reading?a("a-col",{staticStyle:{"padding-left":"5px","padding-right":"10px"},attrs:{md:2}},[a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.excelExportData()}}},[t._v("Excel导出")])],1):t._e()],1)],1):t._e(),a("a-table",{staticClass:"components-table-demo-nested",attrs:{columns:t.columns,"data-source":t.data,pagination:t.pagination,loading:t.loading,"row-key":function(t){return t.id}},on:{change:t.table_change},scopedSlots:t._u([{key:"money",fn:function(e,i){return a("span",{},[1==i.type?a("div",{staticStyle:{color:"green"}},[t._v(t._s(i.money))]):t._e(),2==i.type?a("div",{staticStyle:{color:"red"}},[t._v(t._s(i.money))]):t._e()])}}])}),a("a-modal",{attrs:{title:"导出提示",width:450,visible:t.exportVisible,maskClosable:!1,confirmLoading:t.confirmLoading,footer:null,closable:!1,centered:!0}},[a("div",{staticStyle:{padding:"15px",color:"black","font-size":"16px"}},[t._v(" 正在为您导出数据，你稍等 . . . ")])])],1)},n=[],o=(a("ac1f"),a("841c"),a("a0e0")),s=(a("c1df"),[{title:"订单编号",dataIndex:"order_no",key:"order_no"},{title:"预存时间",dataIndex:"add_time",key:"add_time"},{title:"金额变更前（元）",dataIndex:"current_money",key:"current_money"},{title:"缴费金额（元）",dataIndex:"money",key:"money",scopedSlots:{customRender:"money"}},{title:"金额变更后（元）",dataIndex:"after_price",key:"after_price"},{title:"备注",dataIndex:"desc",key:"desc"}]),c=[],r={name:"balanceList",filters:{},components:{},data:function(){return{pagination:{current:1,pageSize:10,total:10,showTotal:function(t){return"共 ".concat(t," 条")}},search:{uid:"",page:1,fee_type:"0",name:"",phone:"",date:[]},form:this.$form.createForm(this),visible:!1,loading:!1,data:c,search_data:[],columns:s,title:"",confirmLoading:!1,is_customized_meter_reading:0,cockpit:0,uid:"",money_type:"0",exportVisible:!1}},mounted:function(){this.getConfigCustomization(),this.loading=!0,this.exportVisible=!1,this.getListData()},methods:{getConfigCustomization:function(){var t=this;this.request(o["a"].getConfigCustomization).then((function(e){console.log("+++++++",e),t.is_customized_meter_reading=0,e&&e.is_customized_meter_reading&&(t.is_customized_meter_reading=e.is_customized_meter_reading),e&&e.cockpit&&(t.cockpit=e.cockpit),1==t.is_customized_meter_reading&&(t.columns=[{title:"姓名",dataIndex:"name",key:"name"},{title:"手机号",dataIndex:"phone",key:"phone"},{title:"订单编号",dataIndex:"order_no",key:"order_no"},{title:"预存类型",dataIndex:"money_type_str",key:"money_type_str"},{title:"预存时间",dataIndex:"add_time",key:"add_time"},{title:"金额变更前（元）",dataIndex:"current_money",key:"current_money"},{title:"缴费金额（元）",dataIndex:"money",key:"money",scopedSlots:{customRender:"money"}},{title:"金额变更后（元）",dataIndex:"after_price",key:"after_price"},{title:"备注",dataIndex:"desc",key:"desc"}])}))},getListData:function(){var t=this;this.search["page"]=this.pagination.current,this.search["money_type"]=this.money_type,this.request(o["a"].storageUserBalanceRecord,this.search).then((function(e){t.pagination.total=e.count?e.count:0,t.pagination.pageSize=e.total_limit?e.total_limit:10,t.data=e.list,t.loading=!1,t.confirmLoading=!0,t.visible=!0}))},handleCancel:function(){var t=this;this.visible=!1,setTimeout((function(){t.id="0",t.form=t.$form.createForm(t)}),500)},dateOnChange:function(t,e){this.search.date=e,console.log("search",this.search)},cancel:function(){},excelExportData:function(){var t=this;this.exportVisible=!0,this.loading=!0,this.confirmLoading=!0,this.search["uid"]=this.uid,this.search["money_type"]=this.money_type,this.request(o["a"].excelExportBalanceRecord,this.search).then((function(e){console.log("res",e),e&&e.url&&(window.location.href=e.url),t.loading=!1,t.exportVisible=!1,t.confirmLoading=!1})).catch((function(e){t.loading=!1,t.exportVisible=!1,t.confirmLoading=!1}))},table_change:function(t){var e=this;console.log("e",t),t.current&&t.current>0&&(e.pagination.current=t.current,e.getListData())},searchList:function(){console.log("search",this.search),this.table_change({current:1,pageSize:10,total:10})},resetList:function(){this.search.keyword="",this.search.page=1,this.table_change({current:1,pageSize:10,total:10})}}},l=r,d=(a("60e9"),a("71d7"),a("2877")),p=Object(d["a"])(l,i,n,!1,null,"d193a1c0",null);e["default"]=p.exports},"71d7":function(t,e,a){"use strict";a("950a7")},"950a7":function(t,e,a){}}]);