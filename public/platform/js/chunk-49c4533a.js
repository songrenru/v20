(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49c4533a"],{"23b9":function(t,e,a){"use strict";a("9cec")},"9cec":function(t,e,a){},a810:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-10 mb-20 pt-20 pl-20 pr-20 pb-20 bg-ff br-10"},[a("router-link",{attrs:{to:{path:"/merchant/merchant.card/goodsList"}}},[a("a-button",{staticStyle:{margin:"10px 10px"},attrs:{type:"primary"}},[t._v(t._s(t.L("会员商品列表")))])],1),a("router-link",{attrs:{to:{path:"/merchant/merchant.card/goodsSort"}}},[a("a-button",{staticStyle:{margin:"10px 10px"},attrs:{type:"default"}},[t._v(t._s(t.L("类型管理")))])],1),a("a-button",{attrs:{type:"default"},on:{click:function(e){return t.$refs.goodsModel.showEdit(0)}}},[t._v(" 添加商品 ")]),a("router-link",{attrs:{to:{path:"/merchant/merchant.card/verificationList"}}},[a("a-button",{staticStyle:{margin:"10px 10px"},attrs:{type:"default"}},[t._v(t._s(t.L("核销列表")))])],1),a("a-table",{staticStyle:{background:"#ffffff"},attrs:{columns:t.columns,rowKey:"id","data-source":t.goodsList,pagination:t.pagination},on:{change:t.changePage},scopedSlots:t._u([{key:"image",fn:function(t){return a("span",{},[a("img",{staticClass:"goods-image",staticStyle:{width:"80px",height:"80px","object-fit":"cover"},attrs:{src:t}})])}},{key:"action",fn:function(e){return a("span",{},[a("a",{staticClass:"inline-block",staticStyle:{"margin-right":"10px"},on:{click:function(a){return t.$refs.goodsModel.showEdit(e)}}},[t._v(t._s(t.L("编辑")))]),a("a",{staticClass:"inline-block",on:{click:function(a){return t.delGoods(e)}}},[t._v(t._s(t.L("删除")))])])}}])}),a("goods-edit",{ref:"goodsModel",on:{loadRefresh:t.getData}})],1)},o=[],i=a("6c54"),s=a("7309"),r={components:{goodsEdit:s["default"]},data:function(){return{store_id:0,goodsList:[],isAllCheck:!1,pagination:{pageSize:10,total:0,current:1,page:1},queryParam:{page:1},columns:[{title:this.L("商品名称"),dataIndex:"name"},{title:this.L("商品图片"),dataIndex:"image",scopedSlots:{customRender:"image"}},{title:this.L("有效期"),dataIndex:"expiry_date"},{title:this.L("分类"),dataIndex:"sort.name"},{title:this.L("库存"),dataIndex:"stock_num"},{title:this.L("操作"),dataIndex:"goods_id",key:"goods_id",scopedSlots:{customRender:"action"}}]}},watch:{},created:function(){},mounted:function(){this.getData()},methods:{getData:function(){var t=this;this.queryParam.pageSize=this.pagination.pageSize,this.queryParam.page=this.pagination.current,this.request(i["a"].getGoodsList,this.queryParam).then((function(e){t.pagination.total=e.total,t.goodsList=e.data}))},handleTableChange:function(t){t.current&&t.current>0&&(this.queryParam["page"]=t.current)},changePage:function(t,e){this.pagination.current=t.current,this.getData()},editGoods:function(t){this.$router.push({path:"/merchant/merchant.card/goodsEdit",query:{goods_id:t}})},delGoods:function(t){var e=this;this.$confirm({title:"是否确定删除该商品?",centered:!0,onOk:function(){e.request(i["a"].delGoods,{goods_id:t}).then((function(t){e.$message.success("操作成功！"),e.getData()}))},onCancel:function(){}})},addGoodsBtn:function(){console.log("添加商品"),$refs.goodsModel.getDetail()}}},c=r,d=(a("23b9"),a("0c7c")),u=Object(d["a"])(c,n,o,!1,null,null,null);e["default"]=u.exports}}]);