(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3707e31e","chunk-1c7398bc","chunk-b41e7130","chunk-72078c56"],{"0660":function(e,a,t){},"126e":function(e,a,t){"use strict";var n={regionalAgencyList:"/new_marketing/platform.RegionalAgency/regionalAgencyList",findArea:"/new_marketing/platform.RegionalAgency/findArea",findRight:"/new_marketing/platform.RegionalAgency/findRight",findRightEdit:"/new_marketing/platform.RegionalAgency/findRightEdit",addRegionalAgency:"/new_marketing/platform.RegionalAgency/addRegionalAgency",editRegionalAgency:"/new_marketing/platform.RegionalAgency/editRegionalAgency",saveRegionalAgency:"/new_marketing/platform.RegionalAgency/saveRegionalAgency",delRegionalAgency:"/new_marketing/platform.RegionalAgency/delRegionalAgency",reduceWin:"/new_marketing/platform.RegionalAgency/reduceWin",addReduce:"/new_marketing/platform.RegionalAgency/addReduce",getTeamList1:"/new_marketing/platform.RegionalAgency/getTeamList",updatePercent:"/new_marketing/platform.RegionalAgency/updatePercent",getMarketingArtisanList:"/new_marketing/platform.MarketingArtisan/getMarketingArtisanList",getMarketingArtisanCreate:"/new_marketing/platform.MarketingArtisan/getMarketingArtisanCreate",getMarketingArtisanInfo:"/new_marketing/platform.MarketingArtisan/getMarketingArtisanInfo",getMarketingArtisanDir:"/new_marketing/platform.MarketingArtisan/getMarketingArtisanDir",getDirectorList:"/new_marketing/platform.MarketingArtisan/getDirectorList",getMarketingArtisanDel:"/new_marketing/platform.MarketingArtisan/getMarketingArtisanDel",getMarketingDirectorList:"/new_marketing/platform.MarketingDirector/getMarketingDirectorList",getMarketingDirectorCreate:"/new_marketing/platform.MarketingDirector/getMarketingDirectorCreate",getMarketingDirectorInfo:"/new_marketing/platform.MarketingDirector/getMarketingDirectorInfo",getMarketingDirectorDel:"/new_marketing/platform.MarketingDirector/getMarketingDirectorDel",getMarketingDirectorRemove:"/new_marketing/platform.MarketingDirector/getMarketingDirectorRemove",getMarketingDirectorArtisan:"/new_marketing/platform.MarketingDirector/getMarketingDirectorArtisan",getManagerList:"/new_marketing/platform.ServiceManager/serviceManagerList",addManager:"/new_marketing/platform.ServiceManager/addServiceManager",editManager:"/new_marketing/platform.ServiceManager/saveServiceManager",delNoTeamManager:"/new_marketing/platform.ServiceManager/doDelManager",getTeamMemberList:"/new_marketing/platform.ServiceManager/getTeamPerson",upgradeManager:"/new_marketing/platform.ServiceManager/doUpLevel",deleteManager:"/new_marketing/platform.ServiceManager/doDelServiceManager",demoteManager:"/new_marketing/platform.ServiceManager/doDownLevel",getAreaList:"/new_marketing/platform.Region/regionList",getClassifyPriceList:"/new_marketing/platform.Region/classPriceList",saveAreaPriceForm:"/new_marketing/platform.Region/addRegion",saveClassifyPriceForm:"/new_marketing/platform.Region/addClassPrice",deleteAreaPriceForm:"/new_marketing/platform.Region/delRegion",getAreaMealList:"/new_marketing/platform.MarketingPackage/getAreaSearchList",saveAreaMealForm:"/new_marketing/platform.MarketingPackage/editAreaPost",saveAreaMealStatus:"/new_marketing/platform.MarketingPackage/setAreaStatus",getStoreTypeList:"/new_marketing/platform.MarketingPackage/getStoreTypeList",addMeal:"/new_marketing/platform.MarketingPackage/add",getMealList:"/new_marketing/platform.MarketingPackage/getSearchList",deleteMeal:"/new_marketing/platform.MarketingPackage/del",editMeal:"/new_marketing/platform.MarketingPackage/editPost",getCommissionSearchData:"/new_marketing/platform.MarketingPersonSettle/getSearchData",getCommissionList:"/new_marketing/platform.MarketingPersonSettle/getSearchList",teamManagementList:"/new_marketing/platform.TeamManagement/teamManagementList",teamPerformance:"/new_marketing/platform.TeamManagement/teamPerformance",serviceManagerList:"/new_marketing/platform.TeamManagement/serviceManagerList",serviceManagerNoList:"/new_marketing/platform.TeamManagement/serviceManagerNoList",regionalAgentList:"/new_marketing/platform.TeamManagement/regionalAgentList",artisanList:"/new_marketing/platform.TeamManagement/artisanList",teamManagementAdd:"/new_marketing/platform.TeamManagement/teamManagementAdd",teamManagementBasic:"/new_marketing/platform.TeamManagement/teamManagementBasic",teamManagementReplace:"/new_marketing/platform.TeamManagement/teamManagementReplace",teamManagementUpgrade:"/new_marketing/platform.TeamManagement/teamManagementUpgrade",teamBusinessList:"/new_marketing/platform.TeamManagement/teamBusinessList",teamManagementDel:"/new_marketing/platform.TeamManagement/teamManagementDel",teamManagementTransfer:"/new_marketing/platform.TeamManagement/teamManagementTransfer",teamManagementDiss:"/new_marketing/platform.TeamManagement/teamManagementDiss",teamMemberAdd:"/new_marketing/platform.TeamManagement/teamMemberAdd",teamManagementEdit:"/new_marketing/platform.TeamManagement/teamManagementEdit",teamMemberEdit:"/new_marketing/platform.TeamManagement/teamMemberEdit",teamMemberCode:"/new_marketing/platform.TeamManagement/teamMemberCode",teamManagementSavage:"/new_marketing/platform.TeamManagement/teamManagementSavage",teamManagementMerchantList:"/new_marketing/platform.TeamManagement/teamManagementMerchantList",teamManagementSavageDetail:"/new_marketing/platform.TeamManagement/teamManagementSavageDetail",getCommunityOrderDetail:"/new_marketing/platform.TeamManagement/getCommunityOrderDetail",positionReviewList:"/new_marketing/platform.PositionReview/positionReviewList",getTeamList:"/new_marketing/platform.PositionReview/getTeamList",reviewAgree:"/new_marketing/platform.PositionReview/reviewAgree",reviewDisagree:"/new_marketing/platform.PositionReview/reviewDisagree",getOrderList:"/new_marketing/platform.OrderInfo/orderList",getAreaUidByProvince:"/new_marketing/platform.OrderInfo/getAreaUidByProvince",getTeamIdByAreaUid:"/new_marketing/platform.OrderInfo/getTeamIdByAreaUid",getOrderDetail:"/new_marketing/platform.OrderInfo/getOrderInfo",teamManagementMerchantTransferList:"/new_marketing/platform.TeamManagement/teamManagementMerchantTransferList",teamManagementMerchantTransferCreate:"/new_marketing/platform.TeamManagement/teamManagementMerchantTransferCreate",getMerchantList:"/new_marketing/platform.Merchant/getMerchantList",getMerchantStoreList:"/new_marketing/platform.Merchant/getMerchantStoreList",teamMembeInfo:"/new_marketing/platform.TeamManagement/teamMembeInfo",getPropertyList:"/new_marketing/platform.MarketingProperty/getPropertyList",villageTransferBusiness:"/new_marketing/platform.MarketingProperty/transferBusiness",teamMerchantOrderList:"/new_marketing/platform.TeamManagement/teamMerchantOrderList",getHousePropertyList:"/new_marketing/platform.HouseProperty/getHousePropertyList",getHousePropertyDetail:"/new_marketing/platform.HouseProperty/getHousePropertyDetail"};a["a"]=n},"5bd4":function(e,a,t){"use strict";t.r(a);t("b0c0");var n=function(){var e=this,a=e._self._c;return a("a-modal",{attrs:{title:e.title,width:640,visible:e.visible,confirmLoading:e.confirmLoading},on:{cancel:e.handleCancel}},[a("a-form-model",[a("a-form-item",{attrs:{label:e.L("姓名"),labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:!0}},[a("a-input",{attrs:{placeholder:"请输入名称"},model:{value:e.formData.name,callback:function(a){e.$set(e.formData,"name",a)},expression:"formData.name"}})],1),a("a-form-item",{attrs:{label:e.L("选择区域"),labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:!0}},[a("a-cascader",{attrs:{options:e.areas,placeholder:"选择",value:e.sel_areas},on:{change:e.onChangeArea}})],1),a("a-form-item",{attrs:{label:e.L("绑定账号"),labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:!0}},[a("a-input",{attrs:{placeholder:"请输入手机号"},on:{blur:function(a){return e.findRight()}},model:{value:e.formData.phone,callback:function(a){e.$set(e.formData,"phone",a)},expression:"formData.phone"}})],1),a("a-form-item",{attrs:{label:e.L("店铺业务抽成比例"),labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input-number",{attrs:{min:0},model:{value:e.formData.store_percent,callback:function(a){e.$set(e.formData,"store_percent",a)},expression:"formData.store_percent"}}),a("span",{staticClass:"ml-10"},[e._v("% 不填写则代表无提成,即为0")])],1),a("a-form-item",{attrs:{label:e.L("社区业务抽成比例"),labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input-number",{attrs:{min:0},model:{value:e.formData.village_percent,callback:function(a){e.$set(e.formData,"village_percent",a)},expression:"formData.village_percent"}}),a("span",{staticClass:"ml-10"},[e._v("% 不填写则代表无提成,即为0")])],1),a("a-form-item",{attrs:{label:e.L("备注"),labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-textarea",{attrs:{placeholder:"请输入备注",autoSize:{minRows:3,maxRows:5}},model:{value:e.formData.note,callback:function(a){e.$set(e.formData,"note",a)},expression:"formData.note"}})],1)],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:e.handleCancel}},[e._v(e._s(e.L("取消")))]),a("a-button",{key:"submit",attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v(e._s(e.L("确定")))])],1)],2)},r=[],i=t("290c"),o=t("da05"),l=t("126e"),s={name:"addRegionalAgent",components:{ACol:o["b"],ARow:i["a"]},data:function(){return{title:"添加区域代理",visible:!1,confirmLoading:!1,areas:[],sel_areas:[],formData:{name:"",uid:0,province_id:0,city_id:0,area_id:0,store_percent:0,village_percent:0,note:"",phone:""},labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}}}},methods:{add:function(){var e=this;this.visible=!0,this.sel_areas=[],this.formData={name:"",uid:0,province_id:0,city_id:0,area_id:0,percent:0,note:"",phone:""},this.request(l["a"].findArea,{}).then((function(a){e.areas=a})).catch((function(a){e.confirmLoading=!1}))},edit:function(e){this.detail.cat_id=e,this.detail.cat_id>0?(this.title=this.L("编辑子分类"),this.getEditInfo()):this.title=this.L("添加子分类")},findRight:function(){var e=this;this.request(l["a"].findRight,{phone:this.formData.phone}).then((function(a){1==a.status?(e.$message.success(e.L("此用户可以添加")),e.formData.uid=a.data.uid):2==a.status?(e.formData.uid=0,e.$message.error(e.L("此用户id已经是业务员,不可以直接成为区域代理"))):(e.formData.uid=0,e.$message.error(e.L("用户不存在")))})).catch((function(a){e.confirmLoading=!1}))},onChangeArea:function(e){this.formData.province_id=e[0],this.formData.city_id=e[1],this.formData.area_id=e[2],this.sel_areas=[e[0],e[1],e[2]]},handleCancel:function(){this.visible=!1},handleSubmit:function(){var e=this;this.confirmLoading=!0,this.sel_areas.length>0?this.request(l["a"].addRegionalAgency,this.formData).then((function(a){a&&e.$message.success(e.L("添加成功")),e.$emit("handleUpdate",{}),setTimeout((function(){e.visible=!1,e.confirmLoading=!1,e.$emit("ok","")}),1500)})).catch((function(a){e.confirmLoading=!1})):this.$message.error(this.L("区域必选"))}}},m=s,c=t("2877"),g=Object(c["a"])(m,n,r,!1,null,"208d3904",null);a["default"]=g.exports},a684:function(e,a,t){"use strict";t.r(a);t("b0c0");var n=function(){var e=this,a=e._self._c;return a("a-modal",{attrs:{title:e.title,width:640,visible:e.visible,confirmLoading:e.confirmLoading},on:{cancel:e.handleCancel}},[a("a-form-model",{ref:"form"},[a("a-form-item",{attrs:{label:e.L("姓名"),labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:!0}},[a("a-input",{attrs:{placeholder:"请输入名称"},model:{value:e.formData.name,callback:function(a){e.$set(e.formData,"name",a)},expression:"formData.name"}})],1),a("a-form-item",{attrs:{label:e.L("选择区域"),labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:!0}},[a("a-cascader",{attrs:{options:e.areas,placeholder:"选择",value:e.sel_areas},on:{change:e.onChangeArea}})],1),a("a-form-item",{attrs:{label:e.L("绑定账号"),labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:!0}},[a("a-input",{attrs:{placeholder:"请输入手机号",disabled:"true"},model:{value:e.formData.phone,callback:function(a){e.$set(e.formData,"phone",a)},expression:"formData.phone"}})],1),a("a-form-item",{attrs:{label:e.L("店铺业务抽成比例"),labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input-number",{attrs:{min:0},model:{value:e.formData.store_percent,callback:function(a){e.$set(e.formData,"store_percent",a)},expression:"formData.store_percent"}}),a("span",{staticClass:"ml-10"},[e._v("% 不填写则代表无提成,即为0")])],1),a("a-form-item",{attrs:{label:e.L("社区业务抽成比例"),labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input-number",{attrs:{min:0},model:{value:e.formData.village_percent,callback:function(a){e.$set(e.formData,"village_percent",a)},expression:"formData.village_percent"}}),a("span",{staticClass:"ml-10"},[e._v("% 不填写则代表无提成,即为0")])],1),a("a-form-item",{attrs:{label:e.L("下级邀请码"),labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("span",{staticClass:"ml-10"},[e._v(e._s(e.formData.invitation_code))])]),a("a-form-item",{attrs:{label:e.L("备注"),labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-textarea",{attrs:{placeholder:"请输入备注",autoSize:{minRows:3,maxRows:5}},model:{value:e.formData.note,callback:function(a){e.$set(e.formData,"note",a)},expression:"formData.note"}})],1)],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:e.handleCancel}},[e._v(e._s(e.L("取消")))]),a("a-button",{key:"submit",attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v(e._s(e.L("确定")))])],1)],2)},r=[],i=t("290c"),o=t("da05"),l=t("126e"),s={name:"editRegionalAgent",components:{ACol:o["b"],ARow:i["a"]},data:function(){return{title:"添加区域代理",visible:!1,confirmLoading:!1,areas:[],sel_areas:[],editid:0,formData:{id:0,name:"",uid:0,province_id:0,city_id:0,area_id:0,store_percent:0,village_percent:0,note:"",phone:"",invitation_code:""},labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}}}},methods:{edit:function(e){this.formData.id=e,this.editid=e,this.title=this.L("编辑子分类"),this.getEditInfo()},findRight:function(){var e=this;this.request(l["a"].findRightEdit,{phone:this.formData.phone,id:this.editid}).then((function(a){2==a.status?(e.formData.uid=0,e.$message.error(e.L("用户已存在"))):0==a.status?(e.$message.error(e.L("用户不存在")),e.formData.uid=0):e.formData.uid=a.data.uid})).catch((function(a){e.confirmLoading=!1}))},onChangeArea:function(e){this.formData.province_id=e[0],this.formData.city_id=e[1],this.formData.area_id=e[2],this.sel_areas=[e[0],e[1],e[2]]},handleCancel:function(){this.visible=!1},handleSubmit:function(){var e=this;this.confirmLoading=!0,this.formData.id=this.editid,this.sel_areas.length>0?this.request(l["a"].saveRegionalAgency,this.formData).then((function(a){a&&e.$message.success(e.L("保存成功")),e.$emit("handleUpdate",{}),setTimeout((function(){e.visible=!1,e.confirmLoading=!1,e.$emit("ok","")}),1500)})).catch((function(a){e.confirmLoading=!1})):this.$message.error(this.L("区域必选"))},getEditInfo:function(){var e=this;this.request(l["a"].editRegionalAgency,{id:this.formData.id}).then((function(a){e.visible=!0,e.formData=a.list,e.sel_areas=[e.formData.province_id,e.formData.city_id,e.formData.area_id],e.areas=a.areaList}))}}},m=s,c=t("2877"),g=Object(c["a"])(m,n,r,!1,null,"24a55df2",null);a["default"]=g.exports},b824:function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e._self._c;return a("div",{staticClass:"bg-ff wrap"},[a("div",{staticClass:"page-title"},[a("a",{staticStyle:{color:"grey"},on:{click:function(a){return e.backfnc()}}},[e._v("区域代理")]),e._v("/"),a("a",[e._v("团队代理")])]),a("div",{staticClass:"content"},[a("div",{staticStyle:{width:"100%",border:"1px solid lightblue","background-color":"#E6F7FF",height:"40px","line-height":"40px","padding-left":"15px"}},[e._v(" 已选择"+e._s(e.total_num)+"项 团队总业绩: "+e._s(e.achievement)+" "),a("a",{staticClass:"label-sm blue",on:{click:function(a){return e.reset()}}},[e._v("清空")])]),a("a-table",{attrs:{columns:e.columns,"data-source":e.data,rowKey:"id","row-selection":{selectedRowKeys:e.selectedRows,onChange:e.onSelectChange}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"action",fn:function(t,n){return a("span",{},[a("a",{staticClass:"label-sm blue",on:{click:function(a){return e.$refs.editRegionalAgent.edit(n.id)}}},[e._v("编辑")]),a("a-dropdown",[a("a",{staticClass:"ant-dropdown-link",on:{click:function(e){return e.preventDefault()}}},[e._v(" 更多 "),a("a-icon",{attrs:{type:"down"}})],1),a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[a("a-menu-item",{on:{click:function(a){return e.$refs.reduceRegionalAgent.add(n.id)}}},[e._v(" 降级 ")]),a("a-menu-item",{on:{click:function(a){return e.delData(n.id)}}},[e._v(" 移除 ")])],1)],1)],1)}}])},[a("span",{attrs:{slot:"customName"},slot:"customName"},[e._v(" 代理抽成比例 "),a("a-icon",{staticStyle:{color:"#ff6b81"},attrs:{type:"smile-o"},on:{click:e.clikPersent}})],1)])],1)])},r=[],i=(t("ac1f"),t("5319"),t("d81d"),t("c1df")),o=t.n(i),l=t("126e"),s=t("290c"),m=t("da05"),c=t("5bd4"),g=t("a684"),d=(t("202f"),t("d5a3")),f=[],p=[{title:"姓名",dataIndex:"name",scopedSlots:{customRender:"name"}},{title:"团队人数",dataIndex:"team_nums",scopedSlots:{customRender:"team_nums"}},{title:"业务经理",dataIndex:"manager_name",slots:{customRender:"manager_name"}},{title:"技术人员",dataIndex:"tec_name",scopedSlots:{customRender:"tec_name"},align:"center"},{title:"创建时间",dataIndex:"add_time",scopedSlots:{customRender:"add_time"},align:"center"},{title:"团队总业绩",dataIndex:"total_performance",scopedSlots:{customRender:"total_performance"},align:"center"}],u={name:"MarketingAreaTeamList",components:{ReduceRegionalAgent:d["default"],EditRegionalAgent:g["default"],AddRegionalAgent:c["default"],ACol:m["b"],ARow:s["a"]},data:function(){return{total_num:0,achievement:0,visible:!1,columns:p,selectedRows:f,data:[],areaList:[],formData:{id:0},queryParam:{page:1,pageSize:10,education:-1,job_age:"",status:-1,keywords:"",cates:"",mer_id:0}}},activated:function(){this.formData.id=this.$route.query.id,this.getRegionalAgencyList()},methods:{moment:o.a,reset:function(){this.data=[],this.getRegionalAgencyList()},getRegionalAgencyList:function(){var e=this;this.total_num=0,this.achievement=0,this.selectedRows=[],this.request(l["a"].getTeamList1,this.formData).then((function(a){e.data=a}))},backfnc:function(){this.$router.replace("/new_marketing/platform/regionalAgencyList")},clikPersent:function(){alert(13123)},handleUpdate:function(){this.getRegionalAgencyList()},changeArea:function(e){this.formData.province_id=e[0]||0,this.formData.city_id=e[1]||0,this.formData.area_id=e[2]||0,this.formData.check_areaList=[e[0],e[1],e[2]]},date_moment:function(e,a){return e?o()(e,a):null},onDateRangeChange:function(e,a){this.$set(this.formData,"time",[e[0],e[1]]),this.$set(this.formData,"start_time",a[0]),this.$set(this.formData,"end_time",a[1])},delData:function(e){var a=this;this.$confirm({title:"是否确定移除该区域代理?",centered:!0,onOk:function(){a.request(l["a"].delRegionalAgency,{id:e}).then((function(e){a.$set(a.pagination,"current",1),a.getRegionalAgencyList()}))},onCancel:function(){}})},onSelectChange:function(e,a){var t=this;this.selectedRows=[],this.total_num=a.length,this.achievement=0;var n=0;a.length&&a.map((function(e){t.selectedRows.push(e.id),n+=1*e.total_performance})),this.achievement=n},handleTableChange:function(e){e.current&&e.current>0&&(this.queryParam["page"]=e.current)},onPageChange:function(e,a){this.queryParam.page=e,this.$set(this.pagination,"current",e)},onPageSizeChange:function(e,a){this.$set(this.pagination,"pageSize",a)}}},h=u,_=(t("cc1b"),t("2877")),k=Object(_["a"])(h,n,r,!1,null,"b270a57c",null);a["default"]=k.exports},cc1b:function(e,a,t){"use strict";t("0660")},d5a3:function(e,a,t){"use strict";t.r(a);t("b0c0");var n=function(){var e=this,a=e._self._c;return a("a-modal",{attrs:{title:e.title,width:640,visible:e.visible,confirmLoading:e.confirmLoading},on:{cancel:e.handleCancel}},[a("a-form-model",{attrs:{model:e.formData}},[a("a-form-item",{attrs:{label:e.L("选择接手区域代理:"),labelCol:e.labelCol,wrapperCol:e.wrapperCol,help:e.L("该区代当前下级团队将归属新区域代理管理")}},[a("a-select",{attrs:{placeholder:"请选择"},on:{change:e.handleSelectChange},model:{value:e.formData.sel_id,callback:function(a){e.$set(e.formData,"sel_id",a)},expression:"formData.sel_id"}},e._l(e.manager,(function(t,n){return a("a-select-option",{key:n,attrs:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),a("a-form-item",{attrs:{label:e.L("降级身份"),labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-radio-group",{model:{value:e.formData.identity,callback:function(a){e.$set(e.formData,"identity",a)},expression:"formData.identity"}},[a("a-radio",{attrs:{value:2}},[e._v(" 业务经理")]),a("a-radio",{attrs:{value:1}},[e._v(" 业务员")])],1)],1),1==e.formData.identity?a("a-form-item",{attrs:{label:e.L("选择团队:"),labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:!0,help:e.L("降级为业务员后 将归属该团队")}},[a("a-select",{attrs:{placeholder:"请选择"},on:{change:e.handleSelectChange1}},e._l(e.team,(function(t,n){return a("a-select-option",{key:n,attrs:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1):e._e()],1),a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:e.handleCancel}},[e._v(e._s(e.L("取消")))]),a("a-button",{key:"submit",attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v(e._s(e.L("确定")))])],1)],2)},r=[],i=t("290c"),o=t("da05"),l=t("126e"),s={name:"reduceRegionalAgent",components:{ACol:o["b"],ARow:i["a"]},data:function(){return{title:"降级",visible:!1,confirmLoading:!1,manager:[],team:[],formData:{id:0,sel_id:void 0,identity:1,team_id:0,percent:0},labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}}}},methods:{add:function(e){var a=this;this.visible=!0,this.formData={id:e,sel_id:void 0,identity:2,team_id:0,percent:0},this.manager=[],this.team=[],this.request(l["a"].reduceWin,{id:e}).then((function(e){a.manager=e.manager,a.team=e.team})).catch((function(e){a.confirmLoading=!1}))},handleSelectChange:function(e){this.formData.sel_id=e},handleSelectChange1:function(e){this.formData.team_id=e},findRight:function(){var e=this;this.request(l["a"].findRight,{phone:this.formData.phone}).then((function(a){a.status?(e.$message.success(e.L("此用户可以添加")),e.formData.uid=a.data.uid):(e.formData.uid=0,e.$message.error(e.L("没有这个用户信息")))})).catch((function(a){e.confirmLoading=!1}))},onChangeArea:function(e){this.formData.province_id=e[0],this.formData.city_id=e[1],this.formData.area_id=e[2],this.sel_areas=[e[0],e[1],e[2]]},handleCancel:function(){this.manager=[],this.team=[],this.formData.sel_id=void 0,this.visible=!1},handleSubmit:function(){var e=this;this.confirmLoading=!0,this.request(l["a"].addReduce,this.formData).then((function(a){a&&e.$message.success(e.L("已降级")),e.$emit("handleUpdate",{}),setTimeout((function(){e.visible=!1,e.confirmLoading=!1,e.$emit("ok","")}),1500)})).catch((function(a){e.confirmLoading=!1}))}}},m=s,c=t("2877"),g=Object(c["a"])(m,n,r,!1,null,"3007ad86",null);a["default"]=g.exports}}]);