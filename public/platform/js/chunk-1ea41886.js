(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ea41886","chunk-41a9becf","chunk-340f2d48","chunk-25fd3226","chunk-748b470d"],{"0180":function(t,e,a){"use strict";a("ddd5")},"0242":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",[e("componentDesc",{attrs:{content:t.desc}}),t.formDataDecorate?e("div",{staticClass:"content"},[e("a-form-model",{attrs:{model:t.formDataDecorate,"label-col":t.labelCol,"wrapper-col":t.wrapperCol,labelAlign:"left"}},[e("div",{staticClass:"ant-form-item-label fs-16 cr-black"},[t._v(" "+t._s(t.L("热搜词列表"))+" ")]),e("div",{staticClass:"flex align-center justify-between mb-20"},[e("span",{staticClass:"ant-form-explain"},[t._v(t._s(t.L("用于热搜关键词管理")))]),e("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.setOpt()}}},[t._v(t._s(t.L("设置")))])],1),e("a-form-model-item",{attrs:{label:t.L("热搜标题")}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(t.L("勾选代表展示 热搜 标题")))]),e("a-checkbox",{attrs:{checked:1==t.formDataDecorate.is_show_title},on:{change:t.isChange}})],1)])],1)],1):t._e(),e("a-modal",{attrs:{title:t.L("热搜词列表"),visible:t.visible,destroyOnClose:!0,width:"60%",cancelText:t.L("取消"),okText:t.L("确定"),bodyStyle:{maxHeight:"700px",overflowY:"auto"}},on:{ok:t.getOpt,cancel:function(e){t.visible=!1}}},[e("HotWordsList",{attrs:{sourceInfo:t.sourceInfo}})],1)],1)},s=[],i=a("a2f8"),n=a("9686"),r=a("8b83"),l={components:{componentDesc:i["default"],HotWordsList:r["default"]},props:{formContent:{type:[String,Object],default:""}},data:function(){return{desc:{title:"热搜关键词",desc:"设置推荐热搜关键词后，对应热搜词即可展示在频道页头部"},labelCol:{span:5},wrapperCol:{span:18},formDataDecorate:"",visible:!1}},watch:{formContent:{deep:!0,handler:function(t,e){if(t)for(var a in this.formDataDecorate={},t)this.$set(this.formDataDecorate,a,t[a]);else this.formDataDecorate=""}},formDataDecorate:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t)}}},computed:{sourceInfo:function(){return this.$store.state.customPage.sourceInfo}},mounted:function(){if(this.formContent)for(var t in this.formDataDecorate={},this.formContent)this.$set(this.formDataDecorate,t,this.formContent[t])},methods:{isChange:function(t){this.$set(this.formDataDecorate,"is_show_title",t.target.checked?"1":"2")},getOpt:function(){var t=this,e={source:this.sourceInfo.source||"",source_id:this.sourceInfo.source_id||""};this.request(n["a"].getSearchHotList,e).then((function(e){t.$set(t.formDataDecorate,"list",e.list||[]),t.visible=!1}))},setOpt:function(){this.visible=!0}}},c=l,d=(a("772a"),a("0b56")),u=Object(d["a"])(c,o,s,!1,null,"7e1039e1",null);e["default"]=u.exports},"02ae":function(t,e,a){},"02b2":function(t,e,a){"use strict";a("02ae")},"0321":function(t,e,a){},"03c3":function(t,e,a){"use strict";a("5534")},"0bc9":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return t.formDataDecorate?e("div",[e("componentDesc",{attrs:{content:t.desc}}),e("div",{staticClass:"content"},[e("a-form-model",{attrs:{model:t.formDataDecorate,"label-col":t.labelCol,"wrapper-col":t.wrapperCol,labelAlign:"left"}},[e("div",{staticClass:"fs-16 fw-bold"},[t._v(t._s(t.L("添加瓷片")))]),t._l(t.formDataDecorate.list,(function(a,o){return e("div",{key:o,staticClass:"group-menu-wrap mt-20"},[e("a-icon",{directives:[{name:"show",rawName:"v-show",value:t.formDataDecorate.list.length>2,expression:"formDataDecorate.list.length > 2"}],staticClass:"delIcon",attrs:{type:"close-circle"},on:{click:function(e){return t.delOpt(o)}}}),e("div",{staticClass:"flex"},[e("div",{staticClass:"uploadImgWrap",on:{click:function(e){return t.chooseImage(a,o)}}},[t.formDataDecorate.list&&t.formDataDecorate.list[o].image?e("div",{staticClass:"pointer img-wrap"},[e("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:a.image,alt:""}}),e("span",{staticClass:"img-update"},[t._v(t._s(t.L("更换图片")))])]):e("div",[e("div",{staticClass:"flex align-center justify-center flex-column pointer img-wrap"},[e("a-icon",{attrs:{type:"plus"}}),e("span",[t._v(t._s(t.L("添加图片")))])],1),e("span",{staticClass:"cr-red"},[t._v(t._s(t.L("请选择一张图片")))])])]),e("div",{staticClass:"flex-1 linkUrl"},[e("a-form-model-item",{attrs:{label:t.L("标题"),rules:{required:!0}}},[e("a-input",{attrs:{placeholder:t.L("请输入标题")},model:{value:a.title,callback:function(e){t.$set(a,"title",e)},expression:"item.title"}})],1),e("a-form-model-item",{attrs:{label:t.L("副标题")}},[e("a-input",{attrs:{placeholder:t.L("请输入副标题")},model:{value:a.sub_title,callback:function(e){t.$set(a,"sub_title",e)},expression:"item.sub_title"}})],1)],1)]),e("div",{staticClass:"mt-20"},[e("a-form-model-item",{attrs:{label:t.L("链接")}},[e("div",{staticClass:"flex"},[e("a-input",{staticStyle:{resize:"none"},attrs:{type:"textarea",autoSize:""},model:{value:a.link_url,callback:function(e){t.$set(a,"link_url",e)},expression:"item.link_url"}}),e("a-button",{staticClass:"ml-5",on:{click:function(e){return t.getLinkUrl(a,o)}}},[t._v(t._s(t.L("链接库选择")))])],1)])],1),e("div",[e("a-form-model-item",{attrs:{label:t.L("角标"),labelCol:{span:3},wrapperCol:{span:21}}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(1==a.show_badge?t.L("显示"):t.L("不显示")))]),e("a-checkbox",{attrs:{checked:1==a.show_badge},on:{change:function(e){return t.isChange(e,o)}}})],1)]),1==a.show_badge?e("a-form-model-item",{attrs:{label:""}},[e("a-input",{staticStyle:{width:"100px"},model:{value:a.badge_val,callback:function(e){t.$set(a,"badge_val",e)},expression:"item.badge_val"}})],1):t._e()],1)],1)})),t.formDataDecorate.list.length<5?e("div",{staticClass:"mt-20 mb-20"},[e("a-button",{attrs:{block:""},on:{click:function(e){return t.addOpt()}}},[e("a-icon",{attrs:{type:"plus"}}),t._v(t._s(t.L("添加瓷片区")))],1)],1):t._e(),e("a-form-model-item",{attrs:{label:t.L("瓷片样式")}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(t.getLabel(t.styleTypeOptions,t.formDataDecorate.style_type)))]),e("div",[e("a-radio-group",{attrs:{"button-style":"solid"},on:{change:function(e){return t.radioChange(e,"style_type")}},model:{value:t.formDataDecorate.style_type,callback:function(e){t.$set(t.formDataDecorate,"style_type",e)},expression:"formDataDecorate.style_type"}},t._l(t.styleTypeOptions,(function(t){return e("a-radio-button",{key:t.value,attrs:{value:t.value}},[e("IconFont",{staticClass:"itemIcon",attrs:{type:t.icon}})],1)})),1)],1)])])],2)],1),e("choose-image",{ref:"chooseImage",attrs:{max:1,upload_dir:"/decorate/images",type:"image"},on:{callback:t.callback}})],1):t._e()},s=[],i=(a("c5cb"),a("08c7"),a("4afa"),a("a2f8")),n=a("5bb2"),r=a("6cf3"),l={components:{componentDesc:i["default"],IconFont:n["a"],ChooseImage:r["a"]},props:{formContent:{type:[String,Object],default:""}},data:function(){return{desc:{title:"瓷片区",desc:"最少需添加2个，最多可添加至5个瓷片区"},labelCol:{span:4},wrapperCol:{span:20},formDataDecorate:"",styleTypeOptions:[{value:"1",label:this.L("投影"),icon:"iconcatCustomPageShadow"},{value:"2",label:this.L("描边"),icon:"iconcatCustomPageBorder"}]}},watch:{formDataDecorate:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t)}}},computed:{sourceInfo:function(){return this.$store.state.customPage.sourceInfo}},mounted:function(){if(this.formContent)for(var t in this.formDataDecorate={},this.formContent)this.$set(this.formDataDecorate,t,this.formContent[t])},methods:{getLabel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="";return t.length&&t.forEach((function(t){t.value==e&&(a=t.label)})),a},addOpt:function(){var t=this.formDataDecorate.list||[];5!=t.length?(t.push({title:"",sub_title:"",link_url:"",image:"",show_badge:"1",badge_val:""}),this.$set(this.formDataDecorate,"list",t)):this.$message.error(this.L("最多添加至5个瓷片区"))},delOpt:function(t){var e=this.formDataDecorate.list||[];e.length&&e.splice(t,1),console.log("curIndex",t),console.log("list",e),this.$set(this.formDataDecorate,"list",e)},chooseImage:function(t,e){this.currentIndex=e,this.$refs.chooseImage.openDialog()},callback:function(t){var e=t.list,a=e.length?e[0]:"",o=this.formDataDecorate.list||[],s=o[this.currentIndex];this.$set(s,"image",a),this.$set(o,this.currentIndex,s),this.$set(this.formDataDecorate,"list",o)},isChange:function(t,e){var a=this.formDataDecorate.list||[],o=a[e];this.$set(o,"show_badge",t.target.checked?"1":"2"),this.$set(a,e,o),this.$set(this.formDataDecorate,"list",a)},getLinkUrl:function(t,e){var a=this;this.$LinkBases({source:this.$store.state.customPage.sourceInfo.source,type:"h5",source_id:this.$store.state.customPage.sourceInfo.source_id,handleOkBtn:function(t){a.$nextTick((function(){var o=a.formDataDecorate.list||[],s=o[e];a.$set(s,"link_url",t.url),a.$set(o,e,s),a.$set(a.formDataDecorate,"list",o)}))}})},radioChange:function(t,e){this.$set(this.formDataDecorate,e,t.target.value)}}},c=l,d=(a("db11"),a("0b56")),u=Object(d["a"])(c,o,s,!1,null,"31d55ff8",null);e["default"]=u.exports},"0e58":function(t,e,a){},1029:function(t,e,a){"use strict";a("8feb")},1238:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",[e("componentDesc",{attrs:{content:t.desc}}),t.formDataDecorate?e("div",{staticClass:"content"},[e("a-form-model",{attrs:{model:t.formDataDecorate,"label-col":t.labelCol,"wrapper-col":t.wrapperCol,labelAlign:"left"}},[e("a-form-model-item",{attrs:{label:t.L("倒角设置")}},[e("div",{staticClass:"flex aligin-center justify-between"},[e("span",[t._v(t._s(t.getLabel(t.borderRadiusOptions,t.formDataDecorate.border_radius)))]),e("a-radio-group",{attrs:{"button-style":"solid"},model:{value:t.formDataDecorate.border_radius,callback:function(e){t.$set(t.formDataDecorate,"border_radius",e)},expression:"formDataDecorate.border_radius"}},t._l(t.borderRadiusOptions,(function(t){return e("a-radio-button",{key:t.value,attrs:{value:t.value}},[e("IconFont",{staticClass:"itemIcon",attrs:{type:t.icon}})],1)})),1)],1)]),e("a-form-model-item",{attrs:{label:t.L("边距设置")}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(1==t.formDataDecorate.show_distance?t.L("显示"):t.L("不显示")))]),e("a-checkbox",{attrs:{checked:1==t.formDataDecorate.show_distance},on:{change:function(e){return t.isChange(e,"show_distance")}}})],1)]),e("a-form-model-item",{attrs:{label:t.L("区块样式")}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(1==t.formDataDecorate.style_type?t.L("卡片投影"):t.L("不显示卡片投影")))]),e("a-checkbox",{attrs:{checked:1==t.formDataDecorate.style_type},on:{change:function(e){return t.isChange(e,"style_type")}}})],1)]),e("a-form-model-item",{attrs:{label:t.L("背景设置")}},[e("div",{staticClass:"flex aligin-center justify-between mt-10"},[e("span"),e("a-radio-group",{on:{change:t.radioChange},model:{value:t.formDataDecorate.bg_type,callback:function(e){t.$set(t.formDataDecorate,"bg_type",e)},expression:"formDataDecorate.bg_type"}},t._l(t.bgTypeOptions,(function(a){return e("a-radio",{key:a.value,attrs:{value:a.value}},[t._v(" "+t._s(a.label)+" ")])})),1)],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:"1"==t.formDataDecorate.bg_type,expression:"formDataDecorate.bg_type == '1'"}],staticClass:"flex align-center color-picker-wrap"},[e("span",{staticClass:"color-name mr-20"},[t._v(" "+t._s(t.formDataDecorate.bg_val)+" ")]),e("label",{staticClass:"color-picker-label",style:[{background:t.formDataDecorate.bg_val}],attrs:{for:"title_color"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formDataDecorate.bg_val,expression:"formDataDecorate.bg_val"}],attrs:{type:"color",id:"title_color"},domProps:{value:t.formDataDecorate.bg_val},on:{input:function(e){e.target.composing||t.$set(t.formDataDecorate,"bg_val",e.target.value)}}})])]),e("div",{directives:[{name:"show",rawName:"v-show",value:"2"==t.formDataDecorate.bg_type,expression:"formDataDecorate.bg_type == '2'"}],staticClass:"uploadImgWrap",on:{click:function(e){return t.chooseImage()}}},[t.formDataDecorate.bg_val?e("div",{staticClass:"pointer img-wrap"},[e("img",{staticStyle:{"max-width":"100%","min-height":"100%"},attrs:{src:t.formDataDecorate.bg_val,alt:""}}),e("span",{staticClass:"img-update"},[t._v(t._s(t.L("更换图片")))])]):e("div",[e("div",{staticClass:"flex align-center justify-center flex-column pointer img-wrap"},[e("a-icon",{attrs:{type:"plus"}}),e("span",[t._v(t._s(t.L("添加图片")))])],1),e("span",{staticClass:"cr-red"},[t._v(t._s(t.L("请选择一张图片")))])])])],1)],1):t._e(),e("choose-image",{ref:"chooseImage",attrs:{max:1,upload_dir:"/decorate/images",type:"image"},on:{callback:t.callback}})],1)},s=[],i=(a("c5cb"),a("08c7"),a("a2f8")),n=a("5bb2"),r=a("6cf3"),l={components:{componentDesc:i["default"],IconFont:n["a"],ChooseImage:r["a"]},props:{formContent:{type:[String,Object],default:""}},data:function(){return{desc:{title:"自由区块",desc:"区块内部可自定义堆砌其他组件"},formDataDecorate:"",labelCol:{span:4},wrapperCol:{span:20},borderRadiusOptions:[{value:"1",label:this.L("圆角"),icon:"iconCustomPageRightAngle"},{value:"2",label:this.L("直角"),icon:"iconCustomPageBorderRadius"}],bgTypeOptions:[{value:"1",label:this.L("自定义颜色")},{value:"2",label:this.L("图片")}]}},watch:{formDataDecorate:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t)}}},mounted:function(){if(this.formContent)for(var t in this.formDataDecorate={},this.formContent)this.$set(this.formDataDecorate,t,this.formContent[t])},methods:{getLabel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="";return t.length&&t.forEach((function(t){t.value==e&&(a=t.label)})),a},isChange:function(t,e){this.$set(this.formDataDecorate,e,t.target.checked?"1":"2")},radioChange:function(t){this.$set(this.formDataDecorate,"bg_val","1"==t.target.value?"#ffffff":"")},chooseImage:function(){this.$refs.chooseImage.openDialog()},callback:function(t){var e=t.list,a=e.length?e[0]:"";this.$set(this.formDataDecorate,"bg_val",a)}}},c=l,d=(a("bc16"),a("0b56")),u=Object(d["a"])(c,o,s,!1,null,"51f0575a",null);e["default"]=u.exports},"168a":function(t,e,a){"use strict";a.r(e);a("54f8"),a("3849");var o=function(){var t=this,e=t._self._c;return e("a-modal",{attrs:{title:t.title,width:640,visible:t.visible,confirmLoading:t.confirmLoading},on:{ok:t.handleSubmit,cancel:t.handleCancel}},[e("a-spin",{attrs:{spinning:t.confirmLoading}},[e("a-form",{attrs:{form:t.form}},[e("a-form-item",{attrs:{label:"搜索词",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{initialValue:t.detail.name,rules:[{required:!0,message:"请输入搜索词名称"}]}],expression:"['name', {initialValue:detail.name,rules: [{required: true, message: '请输入搜索词名称'}]}]"}]})],1),e("a-form-item",{attrs:{label:"排序值",labelCol:t.labelCol,wrapperCol:t.wrapperCol,help:"值越大，排序越前"}},[e("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["sort",{initialValue:t.detail.sort}],expression:"['sort',{initialValue:detail.sort}]"}],attrs:{min:0}})],1)],1)],1)],1)},s=[],i=a("d043"),n={props:{sourceInfo:{type:[String,Object],default:""}},data:function(){return{title:"新建搜索词",labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this),detail:{id:0,name:"",sort:0,is_hot:"0"},id:"0"}},mounted:function(){this.getEditInfo()},methods:{add:function(){this.visible=!0,this.id="0",this.detail={id:0,name:"",sort:0,is_hot:"0"}},edit:function(t){this.visible=!0,this.id=t,this.getEditInfo(),console.log(this.getEditInfo()),this.id>0?this.title="编辑搜索词":this.title="新建搜索词"},handleSubmit:function(){var t=this,e=this.form.validateFields;this.confirmLoading=!0,e((function(e,a){e?t.confirmLoading=!1:(a.id=t.id,a.source=t.sourceInfo.source,a.source_id=t.sourceInfo.source_id,t.request(i["a"].getHotWordsEdit,a).then((function(e){t.id>0?t.$message.success("编辑成功"):t.$message.success("添加成功"),setTimeout((function(){t.form=t.$form.createForm(t),t.visible=!1,t.confirmLoading=!1,t.$emit("ok",a)}),1500)})).catch((function(e){t.confirmLoading=!1})))}))},handleCancel:function(){this.visible=!1,this.id="0",this.form=this.$form.createForm(this)},getEditInfo:function(){var t=this;this.request(i["a"].getWordDetail,{id:this.id,source:this.sourceInfo.source,source_id:this.sourceInfo.source_id}).then((function(e){t.detail=e}))}}},r=n,l=a("0b56"),c=Object(l["a"])(r,o,s,!1,null,null,null);e["default"]=c.exports},1811:function(t,e,a){"use strict";a("b8ad")},2159:function(t,e,a){},2240:function(t,e,a){"use strict";a("7688")},"27b4":function(t,e,a){},"2a26":function(t,e,a){"use strict";a("8d7d")},"30b0":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return t.formDataDecorate?e("div",{key:t.componentId,staticClass:"mall-activities-decorate-wrap"},[e("componentDesc",{attrs:{content:t.desc}}),e("div",{staticClass:"content"},[e("a-form-model",{attrs:{model:t.formDataDecorate,"label-col":t.labelCol,"wrapper-col":t.wrapperCol,rules:t.rules,labelAlign:"left"}},[e("a-form-model-item",{attrs:{label:t.L("标题内容"),prop:"title"}},[e("a-input",{attrs:{placeholder:t.L("请输入"),maxLength:8},model:{value:t.formDataDecorate.title,callback:function(e){t.$set(t.formDataDecorate,"title",e)},expression:"formDataDecorate.title"}})],1),e("a-form-model-item",{attrs:{label:t.L("排列样式")}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(t.getLabel(t.$store.state.customPage.styleTypeOptions,t.formDataDecorate.style_type)))]),e("div",[e("a-radio-group",{attrs:{"button-style":"solid"},on:{change:t.styleTypechange},model:{value:t.formDataDecorate.style_type,callback:function(e){t.$set(t.formDataDecorate,"style_type",e)},expression:"formDataDecorate.style_type"}},t._l(t.$store.state.customPage.styleTypeOptions,(function(t){return e("a-radio-button",{key:t.value,attrs:{value:t.value}},[e("IconFont",{staticClass:"itemIcon",attrs:{type:t.icon}})],1)})),1)],1)])]),e("a-form-model-item",{attrs:{label:t.L("显示内容")}},[t.formDataDecorate.show_filed&&t.formDataDecorate.show_filed.length?e("a-row",t._l(t.formDataDecorate.show_filed,(function(a,o){return e("a-col",{key:a.value,attrs:{span:12}},[a.is_show?e("a-checkbox",{attrs:{checked:1==a.is_checked},on:{change:function(e){return t.showFiledChange(e,o)}}},[t._v(" "+t._s(a.label)+" ")]):t._e()],1)})),1):t._e()],1),"5"!=t.formDataDecorate.style_type&&t.isShowFiled("buy_btn")?e("a-form-model-item",{attrs:{label:t.L("购买按钮样式"),labelCol:{span:6},wrapperCol:{span:18}}},[e("a-row",[e("a-col",{staticClass:"text-right"},[e("a-radio-group",{attrs:{"button-style":"solid",size:"small"},model:{value:t.formDataDecorate.buyBtn_style,callback:function(e){t.$set(t.formDataDecorate,"buyBtn_style",e)},expression:"formDataDecorate.buyBtn_style"}},t._l(t.buyBtnStyleOptions,(function(a){return e("a-radio-button",{key:a.value,attrs:{value:a.value}},[t._v(" "+t._s(a.label)+" ")])})),1)],1)],1)],1):t._e(),"5"!=t.formDataDecorate.style_type&&t.isShowFiled("buy_btn")?e("a-form-model-item",{attrs:{label:t.L("按钮名称"),prop:"buyBtn_name"}},[e("a-input",{attrs:{maxLength:4,placeholder:t.L("请输入按钮名称")},model:{value:t.formDataDecorate.buyBtn_name,callback:function(e){t.$set(t.formDataDecorate,"buyBtn_name",e)},expression:"formDataDecorate.buyBtn_name"}})],1):t._e(),e("a-form-model-item",{attrs:{label:t.L("隐藏已售罄的活动"),labelCol:{span:7},wrapperCol:{span:17}}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(1==t.formDataDecorate.is_showSellOut?t.L("已隐藏"):t.L("不隐藏")))]),e("a-checkbox",{attrs:{checked:1==t.formDataDecorate.is_showSellOut},on:{change:function(e){return t.isShowChange(e,"is_showSellOut")}}})],1)]),e("a-form-model-item",{attrs:{label:t.L("隐藏已结束的活动"),labelCol:{span:7},wrapperCol:{span:17}}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(1==t.formDataDecorate.is_showActivityEnd?t.L("已隐藏"):t.L("不隐藏")))]),e("a-checkbox",{attrs:{checked:1==t.formDataDecorate.is_showActivityEnd},on:{change:function(e){return t.isShowChange(e,"is_showActivityEnd")}}})],1)])],1)],1),t.formDataDecorate.list&&t.formDataDecorate.list.length?e("div",{staticClass:"list-wrap"},[e("draggable",{model:{value:t.formDataDecorate.list,callback:function(e){t.$set(t.formDataDecorate,"list",e)},expression:"formDataDecorate.list"}},t._l(t.formDataDecorate.list,(function(a){return e("div",{key:a.coupon_id,staticClass:"flex list-item"},[e("div",{staticClass:"text-nowrap"},[e("a-icon",{staticClass:"mr-10",attrs:{type:"menu"}}),t._v(t._s(t.desc.title)+"：")],1),e("div",{staticClass:"flex-1 text-wrap"},[t._v(" "+t._s(a.goods_name)+" ")])])})),0)],1):t._e(),e("div",{staticClass:"mt-20 mb-20 padding-24"},[e("a-button",{attrs:{block:""},on:{click:function(e){return t.addBtn()}}},[e("a-icon",{attrs:{type:"plus"}}),t._v(t._s(t.L("添加活动"))+" ")],1)],1),e("a-modal",{attrs:{title:t.L("活动商品"),visible:t.visible,destroyOnClose:!0,width:"60%",cancelText:t.L("取消"),okText:t.L("确定")},on:{ok:t.handleOk,cancel:t.handleCancel}},[e("a-row",{staticClass:"mb-20",attrs:{type:"flex",justify:"space-between"}},[e("a-col",[e("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.getList()}}},[t._v(" "+t._s(t.L("刷新"))+" ")])],1),e("a-col",{staticClass:"flex align-center"},[e("a-input",{attrs:{placeholder:t.L("搜索")},on:{change:t.inputChange,pressEnter:t.inputChange},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[e("a-icon",{attrs:{slot:"prefix",type:"search"},slot:"prefix"})],1)],1)],1),e("a-table",{attrs:{"row-selection":{selectedRowKeys:t.selectedRowKeys,onSelect:t.onSelect,onSelectAll:t.onSelectAll},columns:t.columns,rowKey:"goods_id",scroll:{y:442},pagination:t.pagination,"data-source":t.dataList}})],1)],1):t._e()},s=[],i=(a("075f"),a("c5cb"),a("08c7"),a("6e84"),a("7023"),a("5079"),a("cd5d"),a("a2f8")),n=a("5bb2"),r=a("9686"),l=a("3335"),c=a.n(l),d={components:{componentDesc:i["default"],IconFont:n["a"],draggable:c.a},props:{formContent:{type:[String,Object],default:""}},data:function(){var t=this;return{labelCol:{span:5},wrapperCol:{span:19},formDataDecorate:"",columns:[{title:this.L("活动ID"),dataIndex:"act_id",key:"act_id",align:"center"},{title:this.L("商品名称"),dataIndex:"goods_name",key:"goods_name",align:"center"},{title:this.L("开始时间"),dataIndex:"start_time",key:"start_time",align:"center"},{title:this.L("结束时间"),dataIndex:"end_time",key:"end_time",align:"center"}],rules:{title:{required:!0,message:this.L("标题内容必填"),trigger:""},buyBtn_name:{required:!0,message:this.L("按钮名称必填"),trigger:""}},dataList:[],visible:!1,pagination:{current:1,pageSize:10,total:0,"show-total":function(e){return!!e&&t.L("共 X1 条记录",{X1:e})},"show-size-changer":!0,"show-quick-jumper":!0,onChange:this.onPageChange,onShowSizeChange:this.onPageSizeChange},keyword:"",buyBtnStyleOptions:[{value:"1",label:this.L("方形线框")},{value:"2",label:this.L("方形实心")},{value:"3",label:this.L("圆角线框")},{value:"4",label:this.L("圆角实心")}],selectList:[]}},watch:{formDataDecorate:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t)}}},computed:{sourceInfo:function(){return this.$store.state.customPage.sourceInfo},componentId:function(){return this.$store.state.customPage.componentId},desc:function(){var t="";return"mallLimited"==this.componentId?t=this.L("限时秒杀"):"mallBargain"==this.componentId?t=this.L("砍价"):"mallGroup"==this.componentId?t=this.L("拼团"):"mallPeriod"==this.componentId&&(t=this.L("周期购")),{title:t}},selectedRowKeys:function(){var t=this.selectList||[];return t.length?t.map((function(t){return t.goods_id})):[]}},mounted:function(){if(this.formContent)for(var t in this.formDataDecorate={},this.formContent)this.$set(this.formDataDecorate,t,this.formContent[t]);this.$store.dispatch("updateStyleTypeOptions")},methods:{getLabel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="";return t.length&&t.forEach((function(t){t.value==e&&(a=t.label)})),a},isShowFiled:function(t){var e=this.formDataDecorate.show_filed||[],a=!0;return e.length&&e.forEach((function(e){e.value==t&&(a=e.is_checked)})),a},isShowChange:function(t,e){this.$set(this.formDataDecorate,e,t.target.checked?1:2)},styleTypechange:function(t){var e=this;this.$set(this.formDataDecorate,"style_type",t.target.value);var a=this.formDataDecorate.show_filed||[];a.length&&(a=a.map((function(a){return"buy_btn"==a.value&&("5"==t.target.value?a.is_show=!1:a.is_show=!0),"mallLimited"==e.componentId&&"reduce_money"==a.value&&"5"==t.target.value?a.is_show=!1:a.is_show=!0,a}))),this.$set(this.formDataDecorate,"show_filed",a),this.$store.dispatch("updatePageScroll",!0)},showFiledChange:function(t,e){this.$set(this.formDataDecorate["show_filed"][e],"is_checked",t.target.checked)},onPageChange:function(t,e){this.$set(this.pagination,"current",t),this.getList()},onPageSizeChange:function(t,e){this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",e),this.getList()},addBtn:function(){this.selectList=this.formDataDecorate.list?JSON.parse(JSON.stringify(this.formDataDecorate.list)):[],this.visible=!0,this.keyword="",this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",10),this.getList()},getList:function(){var t=this,e={source:this.sourceInfo.source,source_id:this.sourceInfo.source_id,keyword:this.keyword,hd_type:this.formDataDecorate.hd_type,page:this.pagination.current,pageSize:this.pagination.pageSize};this.request(r["a"].getMallActInfo,e).then((function(e){e.list&&e.list.length&&(e.list=e.list.map((function(t){return t.key="".concat(t.act_id,"_").concat(t.goods_id),t}))),t.dataList=e.list||[],t.$set(t.pagination,"total",parseInt(e.total))}))},inputChange:function(){""===this.keyword.trim()&&0!=this.keyword||(this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",10),this.getList())},handleOk:function(){this.$set(this.formDataDecorate,"list",this.selectList),this.handleCancel()},handleCancel:function(){this.visible=!1,this.keyword="",this.selectList=[]},onSelect:function(t,e,a,o){if(e)this.selectList.push(t);else if(this.selectList.length){var s=this.selectList.findIndex((function(e){return e.goods_id==t.goods_id}));-1!=s&&this.$delete(this.selectList,s)}},onSelectAll:function(t,e,a){this.selectList=t?this.selectList.concat(a):this.selectList.concat(a).filter((function(t){return-1==a.findIndex((function(e){return e.goods_id==t.goods_id}))}))}}},u=d,f=(a("03c3"),a("0b56")),m=Object(f["a"])(u,o,s,!1,null,"04a8c850",null);e["default"]=m.exports},"312a":function(t,e,a){"use strict";a("e8dc")},"334d":function(t,e,a){"use strict";a("ab9d")},"380a":function(t,e,a){},3884:function(t,e,a){"use strict";a.r(e);a("6e84"),a("54f8");var o=function(){var t=this,e=t._self._c;return t.formDataDecorate?e("div",[e("componentDesc",{attrs:{content:t.desc}}),e("div",{staticClass:"content"},[e("a-form-model",{attrs:{model:t.formDataDecorate,"label-col":t.labelCol,"wrapper-col":t.wrapperCol,labelAlign:"left"}},[e("a-form-model-item",{attrs:{label:t.L("排列样式")}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(t.getLabel(t.$store.state.customPage.styleTypeOptions,t.formDataDecorate.style_type)))]),e("div",[e("a-radio-group",{attrs:{"button-style":"solid"},on:{change:function(e){return t.$store.dispatch("updatePageScroll",!0)}},model:{value:t.formDataDecorate.style_type,callback:function(e){t.$set(t.formDataDecorate,"style_type",e)},expression:"formDataDecorate.style_type"}},t._l(t.$store.state.customPage.styleTypeOptions,(function(t){return e("a-radio-button",{key:t.value,attrs:{value:t.value}},[e("IconFont",{staticClass:"itemIcon",attrs:{type:t.icon}})],1)})),1)],1)])]),e("a-form-model-item",{attrs:{label:t.L("颜色")}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(t.getLabel(t.bgColorOptions,t.formDataDecorate.bg_color)))]),e("div",{staticClass:"flex align-center"},t._l(t.bgColorOptions,(function(a){return e("span",{key:a.value,staticClass:"color-item pointer",class:{active:a.value==t.formDataDecorate.bg_color},style:{background:a.value},on:{click:function(e){return t.bgColorOpt(a)}}})})),0)])]),e("a-form-model-item",{staticClass:"margin-bottom-none",attrs:{label:t.L("隐藏已抢完及失效的券"),labelCol:{span:10},wrapperCol:{span:14}}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(1==t.formDataDecorate.is_show?t.L("显示"):t.L("隐藏")))]),e("a-checkbox",{attrs:{checked:1==t.formDataDecorate.is_show},on:{change:t.isShowChange}})],1)]),e("div",{staticClass:"ant-form-explain"},[t._v(t._s(t.L("当页面无可显示优惠券时，优惠券区块将隐藏")))])],1)],1),t.formDataDecorate.list&&t.formDataDecorate.list.length?e("div",{staticClass:"list-wrap"},[e("draggable",{model:{value:t.formDataDecorate.list,callback:function(e){t.$set(t.formDataDecorate,"list",e)},expression:"formDataDecorate.list"}},t._l(t.formDataDecorate.list,(function(a){return e("div",{key:a.coupon_id,staticClass:"flex list-item"},[e("div",{staticClass:"text-nowrap"},[e("a-icon",{staticClass:"mr-10",attrs:{type:"menu"}}),t._v(t._s(t.L("优惠券"))+"：")],1),e("div",{staticClass:"flex-1 text-wrap"},[t._v(" "+t._s("".concat(a.name).concat(a.discount_txt?" ("+a.discount_txt+")":""))+" ")])])})),0)],1):t._e(),e("div",{staticClass:"mt-20 mb-20 padding-24"},[e("a-button",{attrs:{block:""},on:{click:function(e){return t.addBtn()}}},[e("a-icon",{attrs:{type:"plus"}}),t._v(t._s(t.L("添加优惠券"))+" ")],1)],1),e("a-modal",{attrs:{title:t.L("已发布的优惠券"),visible:t.visible,destroyOnClose:!0,width:"60%",cancelText:t.L("取消"),okText:t.L("确定")},on:{ok:t.handleOk,cancel:t.handleCancel}},[e("a-row",{staticClass:"mb-20",attrs:{type:"flex",justify:"space-between"}},[e("a-col",[e("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.getList(!0)}}},[t._v(" "+t._s(t.L("刷新"))+" ")])],1),e("a-col",[e("a-input",{attrs:{placeholder:t.L("搜索")},on:{change:t.inputChange,pressEnter:t.inputChange},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[e("a-icon",{attrs:{slot:"prefix",type:"search"},slot:"prefix"})],1)],1)],1),e("a-table",{attrs:{"row-selection":{selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange},columns:t.columns,rowKey:"coupon_id",scroll:{y:442},pagination:t.pagination,"data-source":t.dataList},scopedSlots:t._u([{key:"num",fn:function(a,o){return e("span",{},[t._v(" "+t._s(o.had_pull)+"/"+t._s(o.num)+" ")])}}],null,!1,2872827810)})],1)],1):t._e()},s=[],i=(a("c5cb"),a("08c7"),a("075f"),a("cd5d"),a("7023"),a("a2f8")),n=a("5bb2"),r=a("9686"),l=a("3335"),c=a.n(l),d={components:{componentDesc:i["default"],IconFont:n["a"],draggable:c.a},props:{formContent:{type:[String,Object],default:""}},data:function(){var t=this;return{desc:{title:"优惠券",desc:"最多添加10张优惠券"},labelCol:{span:4},wrapperCol:{span:20},formDataDecorate:"",bgColorOptions:[{value:"#e74c2c",label:"#e74c2c",font_color:"#ffffff"},{value:"#ffe9b7",label:"#ffe9b7",font_color:"#f39343"},{value:"#ffffff",label:"#ffffff",font_color:"#000000",discount_font_color:"#dc4726",dashed_color:"#e0e0e0"},{value:"#000000",label:"#000000",font_color:"#ffffff"},{value:"#e0f4e4",label:"#e0f4e4",font_color:"#4cac5a"}],columns:[{title:this.L("面值"),dataIndex:"discount",key:"discount",scopedSlots:{customRender:"discount"}},{title:this.L("优惠券名称"),dataIndex:"name",key:"name"},{title:this.L("已领取/总共"),dataIndex:"num",key:"num",scopedSlots:{customRender:"num"}}],dataList:[],visible:!1,pagination:{current:1,pageSize:10,total:0,"show-total":function(e){return!!e&&t.L("共 X1 条记录",{X1:e})},"show-size-changer":!0,"show-quick-jumper":!0,onChange:this.onPageChange,onShowSizeChange:this.onPageSizeChange},selectedRowKeys:[],keyword:"",dataAllList:[]}},watch:{formContent:{deep:!0,handler:function(t,e){if(t)for(var a in this.formDataDecorate={},t)this.$set(this.formDataDecorate,a,t[a]);else this.formDataDecorate=""}},formDataDecorate:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t)}}},computed:{sourceInfo:function(){return this.$store.state.customPage.sourceInfo}},mounted:function(){if(this.formContent)for(var t in this.formDataDecorate={},this.formContent)this.$set(this.formDataDecorate,t,this.formContent[t]);this.$store.dispatch("updateStyleTypeOptions")},methods:{getLabel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="";return t.length&&t.forEach((function(t){t.value==e&&(a=t.label)})),a},bgColorOpt:function(t){this.$set(this.formDataDecorate,"bg_color",t.value),this.$set(this.formDataDecorate,"font_color",t.font_color),this.$set(this.formDataDecorate,"discount_font_color",t.discount_font_color||t.font_color),this.$set(this.formDataDecorate,"dashed_color",t.dashed_color||t.font_color)},isShowChange:function(t){this.$set(this.formDataDecorate,"is_show",t.target.checked?1:2)},addBtn:function(){var t=this.formDataDecorate.list||[];t.length&&(this.selectedRowKeys=t.map((function(t){return t.coupon_id}))),this.visible=!0,this.keyword="",this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",10),this.getList()},getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a={source:this.sourceInfo.source,source_id:this.sourceInfo.source_id,keyword:this.keyword,page:this.pagination.current,pageSize:this.pagination.pageSize};this.request(r["a"].getCoupons,a).then((function(a){t.dataList=a.list||[],(!t.dataAllList.length||e)&&a.list&&a.list.length&&(t.dataAllList=a.list),t.$set(t.pagination,"total",parseInt(a.total))}))},onPageChange:function(t,e){this.$set(this.pagination,"current",t)},onPageSizeChange:function(t,e){this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",e)},onSelectChange:function(t){t.length>10?(this.$message.error(this.L("最多可添加10张优惠券")),this.selectedRowKeys=t.filter((function(t,e){if(e<10)return t}))):this.selectedRowKeys=t},inputChange:function(){""===this.keyword.trim()&&0!=this.keyword||(this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",10),this.getList())},handleOk:function(){var t=this,e=[];this.selectedRowKeys.length&&this.dataAllList.length&&this.selectedRowKeys.forEach((function(a){t.dataAllList.forEach((function(t){a==t.coupon_id&&e.push(t)}))})),this.$set(this.formDataDecorate,"list",e),this.visible=!1,this.selectedRowKeys=[],this.dataAllList=[]},handleCancel:function(){this.visible=!1,this.selectedRowKeys=[],this.keyword="",this.dataAllList=[]}}},u=d,f=(a("efec"),a("0b56")),m=Object(f["a"])(u,o,s,!1,null,"76990912",null);e["default"]=m.exports},"3d1a":function(t,e,a){"use strict";a.r(e);a("54f8");var o=function(){var t=this,e=t._self._c;return t.formDataDecorate?e("div",[e("componentDesc",{attrs:{content:t.desc}}),e("div",{staticClass:"content"},[e("a-form-model",{attrs:{model:t.formDataDecorate,"label-col":t.labelCol,"wrapper-col":t.wrapperCol,labelAlign:"left"}},[e("a-form-model-item",{staticStyle:{"margin-top":"24px"},attrs:{label:t.L("显示方式")}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(t.getLabel(t.$store.state.customPage.styleTypeOptions,t.formDataDecorate.style_type)))]),e("div",[e("a-radio-group",{attrs:{"button-style":"solid"},on:{change:function(e){return t.$store.dispatch("updatePageScroll",!0)}},model:{value:t.formDataDecorate.style_type,callback:function(e){t.$set(t.formDataDecorate,"style_type",e)},expression:"formDataDecorate.style_type"}},t._l(t.$store.state.customPage.styleTypeOptions,(function(t){return e("a-radio-button",{key:t.value,attrs:{value:t.value}},[e("IconFont",{staticClass:"itemIcon",attrs:{type:t.icon}})],1)})),1)],1)])]),e("a-divider"),e("div",[e("a-form-model-item",{attrs:{label:t.L("添加图片"),labelCol:{span:24},wrapperCol:{span:24}}},[e("span",[t._v(t._s(t.L("最多添加10个广告，鼠标拖拽调整广告顺序，建议尺寸750x350像素")))])]),e("div",{staticClass:"content mt-20"},[e("div",{staticClass:"add-nav-wrap mb-20"},[e("draggable",{attrs:{disabled:t.isDisabled},model:{value:t.formDataDecorate.list,callback:function(e){t.$set(t.formDataDecorate,"list",e)},expression:"formDataDecorate.list"}},t._l(t.formDataDecorate.list,(function(a,o){return e("div",{key:o,staticClass:"group-menu-wrap flex align-center",on:{click:function(e){e.stopPropagation(),t.isDisabled=!1}}},[e("a-icon",{staticClass:"delIcon",attrs:{type:"close-circle"},on:{click:function(e){return t.delCurNav(a,o)}}}),e("div",{staticClass:"uploadImgWrap",on:{click:function(e){return t.chooseImage(a,o)}}},[t.formDataDecorate.list&&t.formDataDecorate.list[o].pic?e("div",{staticClass:"pointer img-wrap",class:{"flex align-center justify-center":1==t.formDataDecorate.style_type}},[e("img",{staticStyle:{width:"100%"},style:{height:1==t.formDataDecorate.style_type?"auto":"100%"},attrs:{src:a.pic,alt:""}}),e("span",{staticClass:"img-update"},[t._v(t._s(t.L("更换图片")))])]):e("div",[e("div",{staticClass:"flex align-center justify-center flex-column pointer img-wrap"},[e("a-icon",{attrs:{type:"plus"}}),e("span",[t._v(t._s(t.L("添加图片")))])],1),e("span",{staticClass:"cr-red"},[t._v(t._s(t.L("请添加广告图片")))])])]),e("div",{staticClass:"flex-1 linkUrl"},[e("a-form-model-item",{attrs:{label:t.L("标题")}},[e("a-input",{attrs:{placeholder:t.L("建议十个字以内,可不填")},on:{mouseenter:function(e){t.isDisabled=!0},mouseleave:function(e){t.isDisabled=!1},click:function(e){e.stopPropagation(),t.isDisabled=!0}},model:{value:a.name,callback:function(e){t.$set(a,"name",e)},expression:"item.name"}})],1),e("a-form-model-item",{attrs:{label:t.L("链接")}},[e("a-input",{staticStyle:{resize:"none"},attrs:{type:"textarea",autoSize:""},on:{mouseenter:function(e){t.isDisabled=!0},mouseleave:function(e){t.isDisabled=!1},click:function(e){e.stopPropagation(),t.isDisabled=!0}},model:{value:a.link_url,callback:function(e){t.$set(a,"link_url",e)},expression:"item.link_url"}}),e("a-button",{on:{click:function(e){return t.getLinkUrl(a,o)}}},[t._v(t._s(t.L("链接库选择")))])],1)],1)],1)})),0)],1)]),t.formDataDecorate.list&&t.formDataDecorate.list.length<10?e("div",{staticClass:"mt-20 mb-20"},[e("a-button",{attrs:{block:""},on:{click:t.addNavGroup}},[e("a-icon",{attrs:{type:"plus"}}),t._v(t._s(t.L("添加广告")))],1)],1):t._e()],1),e("a-divider"),e("div",[e("a-form-model-item",{attrs:{label:t.L("图片倒角")}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(t.getLabel(t.picRadiusOptions,t.formDataDecorate.pic_radius)))]),e("div",[e("a-radio-group",{attrs:{"button-style":"solid"},model:{value:t.formDataDecorate.pic_radius,callback:function(e){t.$set(t.formDataDecorate,"pic_radius",e)},expression:"formDataDecorate.pic_radius"}},t._l(t.picRadiusOptions,(function(t){return e("a-radio-button",{key:t.value,attrs:{value:t.value}},[e("IconFont",{staticClass:"itemIcon",attrs:{type:t.icon}})],1)})),1)],1)])]),e("a-form-model-item",{attrs:{label:t.L("页面边距")}},[e("a-row",{attrs:{type:"flex"}},[e("a-col",{attrs:{span:17}},[e("a-slider",{attrs:{max:30,min:0},model:{value:t.formDataDecorate.page_distance,callback:function(e){t.$set(t.formDataDecorate,"page_distance",e)},expression:"formDataDecorate.page_distance"}})],1),e("a-col",{attrs:{span:6,offset:1}},[e("a-input-number",{attrs:{min:0,max:30},model:{value:t.formDataDecorate.page_distance,callback:function(e){t.$set(t.formDataDecorate,"page_distance",e)},expression:"formDataDecorate.page_distance"}})],1)],1)],1)],1)],1)],1),[e("choose-image",{ref:"chooseNavPic",attrs:{max:1,upload_dir:"/decorate/images",type:"image"},on:{callback:t.uploadNavIconCallback}})]],2):t._e()},s=[],i=(a("c5cb"),a("08c7"),a("4afa"),a("a2f8")),n=a("5bb2"),r=a("3335"),l=a.n(r),c=a("6cf3"),d={components:{componentDesc:i["default"],IconFont:n["a"],draggable:l.a,ChooseImage:c["a"]},props:{formContent:{type:[String,Object],default:""}},data:function(){return{desc:{title:this.L("图片广告")},labelCol:{span:4},wrapperCol:{span:20},formDataDecorate:"",list:[],currentIndex:0,picRadiusOptions:[{value:"1",label:this.L("直角"),icon:"iconCustomPageRightAngle"},{value:"2",label:this.L("圆角"),icon:"iconCustomPageBorderRadius"}],isDisabled:!1}},watch:{formDataDecorate:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t)}}},mounted:function(){if(this.formContent)for(var t in this.formDataDecorate={},this.formContent)this.$set(this.formDataDecorate,t,this.formContent[t]);this.$store.dispatch("updateStyleTypeOptions")},methods:{getLabel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="";return t.length&&t.forEach((function(t){t.value==e&&(a=t.label)})),a},addNavGroup:function(){this.currentIndex=this.formDataDecorate.list.length;var t=this.formDataDecorate.list||[];t.push({name:"",link_url:"",pic:""}),this.$set(this.formDataDecorate,"list",t)},delCurNav:function(t,e){var a=this.formDataDecorate.list||[];a.length&&a.splice(e,1),this.$set(this.formDataDecorate,"list",a)},getLinkUrl:function(t,e){var a=this;this.currentIndex=e,this.$LinkBases({source:this.$store.state.customPage.sourceInfo.source,type:"h5",source_id:this.$store.state.customPage.sourceInfo.source_id,handleOkBtn:function(t){a.$nextTick((function(){var e=a.formDataDecorate.list||[],o=e[a.currentIndex];a.$set(o,"link_url",t.url),a.$set(e,a.currentIndex,o),a.$set(a.formDataDecorate,"list",e)}))}})},resetOpt:function(t){var e=this.formContent;this.$set(this.formDataDecorate,t,e[t])},chooseImage:function(t,e){this.currentIndex=e,this.$refs.chooseNavPic.openDialog()},uploadNavIconCallback:function(t){var e=t.list,a=e.length?e[0]:"",o=this.formDataDecorate.list||[],s=o[this.currentIndex];this.$set(s,"pic",a),this.$set(o,this.currentIndex,s),this.$set(this.formDataDecorate,"list",o)}}},u=d,f=(a("334d"),a("0b56")),m=Object(f["a"])(u,o,s,!1,null,"2188f74c",null);e["default"]=m.exports},"3ea1":function(t,e,a){"use strict";a("8856")},"3f8b":function(t,e,a){},"3ff6":function(t,e,a){"use strict";a("4a91")},4031:function(t,e,a){"use strict";var o={getLists:"/mall/merchant.MerchantStoreMall/getStoreList",perfectedStore:"/mall/merchant.MerchantStoreMall/perfectedStore",getStoreConfigList:"/mall/merchant.MerchantStoreMall/getStoreConfigList",getShippingList:"/mall/merchant.MallShipping/getShippingList",updateShipping:"/mall/merchant.MallShipping/addShipping",changeState:"/mall/merchant.MallShipping/changeState",removeShipping:"/mall/merchant.MallShipping/del",getShippingInfo:"/mall/merchant.MallShipping/edit",getMerchantSort:"/mall/merchant.MallGoods/getMerchantSort",getMallGoods:"/mall/merchant.MallGoods/getMallGoodsSelect",getGiveList:"/mall/merchant.MallGive/getGiveList",giveAdd:"/mall/merchant.MallGive/addGive",giveChangeState:"/mall/merchant.MallGive/changeState",giveDel:"/mall/merchant.MallGive/del",getGiveInfo:"/mall/merchant.MallGive/edit",getPlatSort:"/mall/merchant.MallGoods/getPlatformSort",getStoreSort:"/mall/merchant.MallGoods/getMerchantSort",getPrepareList:"/mall/merchant.MallPrepare/getPrepareList",updatePrepare:"/mall/merchant.MallPrepare/addPrepare",prepareChangeState:"/mall/merchant.MallPrepare/changeState",removePrepare:"/mall/merchant.MallPrepare/del",getPrepareInfo:"/mall/merchant.MallPrepare/edit",getReachedList:"/mall/merchant.MallReached/getReachedList",updateReachedList:"/mall/merchant.MallReached/addReached",getReachedInfo:"/mall/merchant.MallReached/edit",reachedChangeState:"/mall/merchant.MallReached/changeState",reachedDel:"/mall/merchant.MallReached/del",addRobot:"/mall/merchant.MallGroup/addRobot",delRobot:"/mall/merchant.MallGroup/delRobot",getRobotList:"/mall/merchant.MallGroup/getRobotList",getRobotName:"/mall/merchant.MallGroup/getRobotName",getUploadImages:"/common/common.UploadFile/getUploadImages",getGoodsSort:"/mall/merchant.MallGoods/getMerchantSort",getGoodsStatus:"/mall/merchant.MallGoods/getNumbers",getGoodsList:"/mall/merchant.MallGoods/getGoodsList",changeGoodsStatus:"/mall/merchant.MallGoods/setStatusLot",setVirtualSales:"/mall/merchant.MallGoods/setVirtualSales",changeGoodsSort:"/mall/merchant.MallGoods/setSort",getGoodsSkuPrice:"/mall/merchant.MallGoods/getGoodsSkuInfo",changeGoodsPrice:"/mall/merchant.MallGoods/setGoodsSkuInfo",getPlatProps:"/mall/merchant.MallGoods/getPlatformProperties",getFreightList:"/mall/merchant.MallGoods/getfreightList",getServiceList:"/mall/merchant.MallGoods/dealService",removeGoods:"/mall/merchant.MallGoods/delGoods",updateGoods:"/mall/merchant.MallGoods/addOrEditGoods",exportGoods:"/mall/merchant.MallGoods/exportGoods",getGoodsInfo:"/mall/merchant.MallGoods/getEditGoods",getGroupList:"/mall/merchant.MallGroup/getGroupList",groupAdd:"/mall/merchant.MallGroup/addGroup",groupChangeState:"/mall/merchant.MallGroup/changeState",groupDel:"/mall/merchant.MallGroup/del",getGroupInfo:"/mall/merchant.MallGroup/editDetail",getPeriodicList:"/mall/merchant.MallPeriodic/getPeriodicList",updatePeriodic:"/mall/merchant.MallPeriodic/addPeriodic",periodicChangeState:"/mall/merchant.MallPeriodic/changeState",removePeriodic:"/mall/merchant.MallPeriodic/del",getPeriodicInfo:"/mall/merchant.MallPeriodic/edit",getBargainList:"/mall/merchant.MallBargain/getBargainList",bargainAdd:"/mall/merchant.MallBargain/addBargain",bargainChangeState:"/mall/merchant.MallBargain/changeState",bargainDel:"/mall/merchant.MallBargain/del",getBargainInfo:"/mall/merchant.MallBargain/editDetail",getMinusDiscountList:"/mall/merchant.MallFullMinusDiscount/getFullMinusDiscountList",updateMinusDiscount:"/mall/merchant.MallFullMinusDiscount/addFullMinusDiscount",minusDiscountChangeState:"/mall/merchant.MallFullMinusDiscount/changeState",removeMinusDiscount:"/mall/merchant.MallFullMinusDiscount/del",getMinusDiscountInfo:"/mall/merchant.MallFullMinusDiscount/edit",getLimitedList:"/mall/merchant.MallLimited/getLimitedList",updateLimited:"/mall/merchant.MallLimited/addLimited",limitedChangeState:"/mall/merchant.MallLimited/changeState",removeLimited:"/mall/merchant.MallLimited/del",getLimitedInfo:"/mall/merchant.MallLimited/edit",getGoodsSortList:"/mall/merchant.MallGoodsSort/getSortList",delGoodsSort:"/mall/merchant.MallGoodsSort/delSort",editGoodsSort:"/mall/merchant.MallGoodsSort/addOrEditSort",getEditSort:"/mall/merchant.MallGoodsSort/getEditSort",editSort:"/mall/merchant.MallGoodsSort/saveSort",saveStatus:"/mall/merchant.MallGoodsSort/saveStatus",getAllGoodsSort:"/mall/merchant.MallGoodsSort/getSort",getStoreList:"/mall/merchant.MallMerchantReply/getStores",getReplyList:"/mall/merchant.MallMerchantReply/searchReply",addComment:"/mall/merchant.MallMerchantReply/merchantReply",getReplyDetails:"/mall/merchant.MallMerchantReply/getReplyDetails",getShowHomePage:"/mall/merchant.MallMerchantReply/getShowHomePage",getQualityReviews:"/mall/merchant.MallMerchantReply/getQualityReviews",getShowHomePageCancel:"/mall/merchant.MallMerchantReply/getShowHomePageCancel",getQualityReviewsCancel:"/mall/merchant.MallMerchantReply/getQualityReviewsCancel",getOrderList:"/mall/merchant.MallOrder/searchOrders",getOrderDetails:"/mall/merchant.MallOrder/getOrderDetails",getCollect:"/mall/merchant.MallOrder/getCollect",getDiscount:"/mall/merchant.MallOrder/getDiscount",exportOrder:"/mall/merchant.MallOrder/exportOrder ",deleteJudge:"/mall/merchant.MallGoods/deleteJudge ",getTemplateList:"/mall/merchant.ExpressTemplate/index",getTemplateAreaList:"/mall/merchant.ExpressTemplate/ajax_area",getTemplateAreaNameList:"/mall/merchant.ExpressTemplate/get_area_name",addTemplate:"/mall/merchant.ExpressTemplate/save",editTemplate:"/mall/merchant.ExpressTemplate/edit",delTemplate:"/mall/merchant.ExpressTemplate/delete",goodsBatch:"/mall/merchant.MallGoods/goodsBatch",viewLogistics:"/mall/merchant.MallOrder/viewLogistics",orderPrintTicket:"/mall/merchant.MallOrder/printOrder"};e["a"]=o},"41ffa":function(t,e,a){"use strict";a("88d5")},43158:function(t,e,a){"use strict";a("6e32")},"497b":function(t,e,a){"use strict";a("0e58")},"4a91":function(t,e,a){},"4bb5d":function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var o=a("ea87");function s(t){if(Array.isArray(t))return Object(o["a"])(t)}a("6073"),a("2c5c"),a("c5cb"),a("36fa"),a("02bf"),a("a617"),a("17c8");function i(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var n=a("9877");function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return s(t)||i(t)||Object(n["a"])(t)||r()}},"501a":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",[e("componentDesc",{attrs:{content:t.desc}}),t.formData?e("div",{staticClass:"content"},[e("a-form-model",{attrs:{model:t.formData,"label-col":t.labelCol,"wrapper-col":t.wrapperCol,labelAlign:"left"}},[e("a-form-model-item",{attrs:{label:t.L("拨号按钮")}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(1==t.formData.show_phone_icon?t.L("显示"):t.L("不显示")))]),e("a-checkbox",{attrs:{checked:1==t.formData.show_phone_icon,disabled:2==t.formData.show_address_icon,"default-checked":2==t.formData.show_address_icon},on:{change:t.showPhoneChange}})],1)]),e("a-form-model-item",{attrs:{label:t.L("店铺地址")}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(1==t.formData.show_address_icon?t.L("显示"):t.L("不显示")))]),e("a-checkbox",{attrs:{checked:1==t.formData.show_address_icon,disabled:2==t.formData.show_phone_icon,"default-checked":2==t.formData.show_phone_icon},on:{change:t.showAddChange}})],1)])],1)],1):t._e()],1)},s=[],i=a("a2f8"),n={components:{componentDesc:i["default"]},props:{formContent:{type:[String,Object],default:""}},data:function(){return{desc:{title:this.L("联系店铺")},labelCol:{span:4},wrapperCol:{span:20},formData:""}},watch:{formContent:{deep:!0,handler:function(t,e){if(t)for(var a in this.formData={},t)this.$set(this.formData,a,t[a]);else this.formData=""}},formData:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t)}}},mounted:function(){if(this.formContent)for(var t in this.formData={},this.formContent)this.$set(this.formData,t,this.formContent[t])},methods:{showPhoneChange:function(t){this.$set(this.formData,"show_phone_icon",t.target.checked?1:2)},showAddChange:function(t){this.$set(this.formData,"show_address_icon",t.target.checked?1:2)}}},r=n,l=(a("c6f4"),a("0b56")),c=Object(l["a"])(r,o,s,!1,null,"7777002e",null);e["default"]=c.exports},5083:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",[e("componentDesc",{attrs:{content:t.desc}}),e("div",{staticClass:"content"},[e("div",{staticClass:"sub-title flex align-center justify-between"},[e("span",[t._v(t._s(t.L("自定义页面模块：")))]),t.formData&&!t.formData.id?e("a-button",{attrs:{type:"primary",ghost:""},on:{click:function(e){return t.indexSetOpt()}}},[e("span",{staticStyle:{padding:"0 10px"}},[t._v(t._s(t.L("添加")))])]):t._e()],1),t.formData&&t.formData.id?e("div",{staticClass:"select-page flex align-center justify-between"},[e("span",{staticClass:"text-els",staticStyle:{"max-width":"300px"}},[t._v(t._s(t.formData.page_title))]),e("span",[e("a-icon",{attrs:{type:"edit"},on:{click:function(e){return t.indexSetOpt()}}}),e("a-icon",{attrs:{type:"delete"},on:{click:function(e){return t.delCueMod()}}})],1)]):t._e()]),e("selectCustomPage",{ref:"selectCustomPage",attrs:{isCustomModule:!0},on:{getIndexPageOpt:t.getIndexPageOpt}})],1)},s=[],i=a("a2f8"),n=a("da20"),r={components:{componentDesc:i["default"],selectCustomPage:n["default"]},props:{formContent:{type:[String,Object],default:""}},data:function(){return{desc:{title:this.L("自定义模块")},formData:""}},computed:{sourceInfo:function(){return this.$store.state.customPage.sourceInfo},pageInfo:function(){return this.$store.state.customPage.pageInfo}},watch:{formData:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t)}}},mounted:function(){if(this.formContent)for(var t in this.formData={},this.formContent)this.$set(this.formData,t,this.formContent[t])},methods:{getIndexPageOpt:function(t){var e=t.current||"";e&&(this.$set(this.formData,"page_title",e.page_title||0==e.page_title?e.page_title:""),this.$set(this.formData,"id",e.id||""))},indexSetOpt:function(){this.$refs.selectCustomPage.openModal({id:this.formData.id,sourceInfo:this.sourceInfo})},delCueMod:function(){this.formData={}}}},l=r,c=(a("62bb"),a("0b56")),d=Object(c["a"])(l,o,s,!1,null,"51a11c33",null);e["default"]=d.exports},"53f9":function(t,e,a){"use strict";a("66e4")},5534:function(t,e,a){},"58c7":function(t,e,a){},"5b9d":function(t,e,a){},"5e3f":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return t.formDataDecorate?e("div",{staticClass:"magic-square-decorate-wrap"},[e("componentDesc",{attrs:{content:t.desc}}),e("div",{staticClass:"content"},[e("a-form-model",{attrs:{model:t.formDataDecorate,"label-col":t.labelCol,"wrapper-col":t.wrapperCol,labelAlign:"left"}},[e("a-form-model-item",{attrs:{label:t.L("魔方密度")}},[e("a-select",{attrs:{placeholder:t.L("请选择")},on:{change:t.densityChange},model:{value:t.formDataDecorate.density,callback:function(e){t.$set(t.formDataDecorate,"density",e)},expression:"formDataDecorate.density"}},t._l(t.densityOptions,(function(a){return e("a-select-option",{key:a.value,attrs:{value:a.value}},[t._v(" "+t._s(a.label)+" ")])})),1)],1),e("div",{staticClass:"width-100 mb-20"},[e("p",{staticClass:"cr-red"},[t._v(t._s(t.L("魔方布局")))]),e("p",{staticClass:"ant-form-explain"},[t._v(t._s(t.L("移动鼠标选定布局区域大小")))]),e("div",{staticClass:"decorate-cube mt-10 flex flex-wrap",on:{mouseleave:function(e){return e.stopPropagation(),t.clearSelecting()}}},[t._l(t.densityNum,(function(a,o){return e("ul",{key:o,staticClass:"cube-row"},t._l(t.densityNum,(function(o,s){return e("li",{key:o+"_"+s,staticClass:"cube-item flex align-center justify-center",class:{"item-selecting":t.isSelecting(o,a),"item-selected":t.isSelected(o,a)},style:{width:t.cubeItemWidth+"px",height:t.cubeItemHeight+"px"},attrs:{"data-x":o,"data-y":a},on:{click:function(e){return t.onClickCubeItem(e)},mouseenter:function(e){return t.onEnterCubeItem(e)}}},[e("a-icon",{staticClass:"plus-icon",attrs:{type:"plus"}})],1)})),0)})),t._l(t.formDataDecorate.list,(function(a,o){return e("div",{key:o+"_"+o,staticClass:"cube-selected",class:{active:t.currentIndex==o},style:{width:t.getCubeSelectedWidth(a)+"px",height:t.getCubeSelectedHeight(a)+"px",top:t.getCubeSelectedTop(a)+"px",left:t.getCubeSelectedLeft(a)+"px"},on:{click:function(e){return t.currentCubeSelected(a,o)}}},[a?e("div",{staticClass:"cube-selected-text flex justify-center align-center"},[a.image?e("img",{attrs:{src:a.image,alt:""}}):e("span",{staticStyle:{"user-select":"none"}},[t._v(" "+t._s(Math.round(750/t.formDataDecorate.density*(parseInt(a.end.y)-parseInt(a.start.y)+1)))+" x "+t._s(Math.round(750/t.formDataDecorate.density*(parseInt(a.end.x)-parseInt(a.start.x)+1)))+t._s(t.L("像素或同等比例"))+" ")])]):t._e(),e("div",{directives:[{name:"show",rawName:"v-show",value:t.currentIndex==o,expression:"currentIndex == index"}],staticClass:"close-icon",on:{click:function(e){return e.stopPropagation(),t.cubeSelectedDel(a,o)}}},[e("a-icon",{attrs:{type:"close-circle"}})],1)])}))],2),e("p",{directives:[{name:"show",rawName:"v-show",value:t.tips,expression:"tips"}],staticClass:"cr-red mt-10"},[t._v(t._s(t.tips))]),-1!=t.currentIndex&&t.formDataDecorate.list&&t.formDataDecorate.list.length?e("div",{staticClass:"mt-20 flex"},[e("div",{staticClass:"uploadImgWrap",on:{click:function(e){return t.chooseImage()}}},[t.formDataDecorate.list[t.currentIndex].image?e("div",{staticClass:"pointer imgwrap"},[e("img",{staticStyle:{"max-width":"100%","min-height":"100%"},attrs:{src:t.formDataDecorate.list[t.currentIndex].image,alt:""}}),e("span",{staticClass:"img-update"},[t._v(t._s(t.L("更换图片")))])]):e("div",{staticClass:"flex align-center justify-center flex-column pointer imgwrap"},[e("a-icon",{attrs:{type:"plus"}}),e("span",[t._v(t._s(t.L("添加图片")))])],1)]),e("div",{staticClass:"flex-1 linkUrl"},[e("a-form-model-item",{attrs:{label:t.L("链接")}},[e("a-input",{staticStyle:{resize:"none"},attrs:{type:"textarea",autoSize:""},model:{value:t.formDataDecorate.list[t.currentIndex].link_url,callback:function(e){t.$set(t.formDataDecorate.list[t.currentIndex],"link_url",e)},expression:"formDataDecorate.list[currentIndex].link_url"}}),e("a-button",{on:{click:function(e){return t.getLinkUrl()}}},[t._v(t._s(t.L("链接库选择")))])],1)],1)]):t._e()]),e("a-form-model-item",{attrs:{label:t.L("图片间隙")}},[e("a-row",{attrs:{type:"flex"}},[e("a-col",{attrs:{span:17}},[e("a-slider",{attrs:{max:30,min:0},model:{value:t.formDataDecorate.img_distance,callback:function(e){t.$set(t.formDataDecorate,"img_distance",e)},expression:"formDataDecorate.img_distance"}})],1),e("a-col",{attrs:{span:6,offset:1}},[e("a-input-number",{attrs:{min:0,max:30},model:{value:t.formDataDecorate.img_distance,callback:function(e){t.$set(t.formDataDecorate,"img_distance",e)},expression:"formDataDecorate.img_distance"}})],1)],1)],1),e("a-form-model-item",{attrs:{label:t.L("页面间距")}},[e("a-row",{attrs:{type:"flex"}},[e("a-col",{attrs:{span:17}},[e("a-slider",{attrs:{max:30,min:0},model:{value:t.formDataDecorate.page_distance,callback:function(e){t.$set(t.formDataDecorate,"page_distance",e)},expression:"formDataDecorate.page_distance"}})],1),e("a-col",{attrs:{span:6,offset:1}},[e("a-input-number",{attrs:{min:0,max:30},model:{value:t.formDataDecorate.page_distance,callback:function(e){t.$set(t.formDataDecorate,"page_distance",e)},expression:"formDataDecorate.page_distance"}})],1)],1)],1)],1)],1),e("choose-image",{ref:"chooseImage",attrs:{max:1,upload_dir:"/decorate/images",type:"image"},on:{callback:t.uploadCallback}})],1):t._e()},s=[],i=(a("19f1"),a("4afa"),a("c5cb"),a("08c7"),a("a2f8")),n=a("6cf3"),r={components:{componentDesc:i["default"],ChooseImage:n["a"]},props:{formContent:{type:[String,Object],default:""}},data:function(){return{desc:{title:"魔方"},labelCol:{span:4},wrapperCol:{span:20},formDataDecorate:"",densityOptions:[{value:"2",label:"2*2",size:375},{value:"4",label:"4*4",size:188},{value:"5",label:"5*5",size:150},{value:"6",label:"6*6",size:125},{value:"7",label:"7*7",size:107}],cubeWidth:420,cubeHeight:420,cudeSelecting:{tempStart:null,tempEnd:null,start:null,end:null,data:[]},currentIndex:-1,cudeCommonCoord:[]}},watch:{formDataDecorate:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t)}}},computed:{densityNum:function(){var t=this.formDataDecorate.density||2;return parseInt(t)},cubeItemHeight:function(){return this.cubeHeight/this.densityNum},cubeItemWidth:function(){return this.cubeWidth/this.densityNum},uploadData:function(){return{upload_dir:"/decorate/images",source:this.$store.state.customPage.sourceInfo.source,source_id:this.$store.state.customPage.sourceInfo.source_id,is_decorate:1}},tips:function(){var t="";if((!this.formDataDecorate.list||this.formDataDecorate.list&&!this.formDataDecorate.list.length)&&(t=this.L("请选定布局大小")),-1!=this.currentIndex&&this.formDataDecorate.list&&this.formDataDecorate.list.length){var e=this.formDataDecorate.list[this.currentIndex],a=e.image,o=void 0===a?"":a;e.link_url;o||(t=this.L("请添加图片"))}return t}},created:function(){if(this.formContent)for(var t in this.formDataDecorate={},this.formContent)"img_distance"!=t&&"page_distance"!=t||(this.formContent[t]=Number(this.formContent[t])),this.$set(this.formDataDecorate,t,this.formContent[t])},methods:{densityChange:function(t){this.$set(this.formDataDecorate,"list",[]),this.clearSelecting(),this.currentIndex=-1},updateSelecting:function(){var t=this.cudeSelecting.tempStart,e=this.cudeSelecting.tempEnd;this.cudeSelecting.start={x:Math.min(t.x,e.x),y:Math.min(t.y,e.y)},this.cudeSelecting.end={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)}},clearSelecting:function(){this.cudeSelecting.tempStart=null,this.cudeSelecting.tempEnd=null,this.cudeSelecting.start=null,this.cudeSelecting.end=null,this.cudeCommonCoord=[]},coordFromCubeEvent:function(t){var e=t.currentTarget,a=e.getAttribute("data-x"),o=e.getAttribute("data-y");return{x:a,y:o}},onClickCubeItem:function(t){var e=t.currentTarget.getAttribute("class");if(this.currentIndex=-1,-1===e.indexOf("item-selected")){var a=this.coordFromCubeEvent(t);if(null==this.cudeSelecting.tempStart)return this.cudeSelecting.tempStart=a,this.cudeSelecting.tempEnd=a,this.cudeSelecting.start=a,void(this.cudeSelecting.end=a);this.cudeCommonCoord.length||(this.cudeSelecting.tempEnd=a),this.updateSelecting();var o={start:this.cudeSelecting.start,end:this.cudeSelecting.end},s=this.formDataDecorate.list||[];this.cudeSelecting.data.splice(0),s.push(o),this.$set(this.formDataDecorate,"list",s),this.currentIndex=s.length-1,this.clearSelecting()}else console.log("已经被占用")},onEnterCubeItem:function(t){if(this.cudeSelecting.tempStart){var e=this.coordFromCubeEvent(t);if(this.cudeCommonCoord=this.isCanSelect(e.x,e.y)||[],this.cudeCommonCoord.length)return;this.cudeSelecting.tempEnd=e,this.updateSelecting()}},isContain:function(t,e,a){return a.start.x<=t&&t<=a.end.x&&a.start.y<=e&&e<=a.end.y},isSelecting:function(t,e){var a=this.cudeSelecting;return!!a.tempStart&&this.isContain(t,e,a)},isCanSelect:function(t,e){var a=this.cudeSelecting,o=[],s=this.formDataDecorate.list||[];if(a.tempStart&&s.length){for(var i={x:Math.min(a.tempStart.x,t),y:Math.min(a.tempStart.y,e)},n={x:Math.max(a.tempStart.x,t),y:Math.max(a.tempStart.y,e)},r=[],l=i.x;l<=n.x;l++)for(var c=i.y;c<=n.y;c++)r.push(l+""+c);s.forEach((function(t,e){if(!t.dataCoord){t.dataCoord=[];for(var a=t.start.x;a<=t.end.x;a++)for(var s=t.start.y;s<=t.end.y;s++)t.dataCoord.push(a+""+s)}t.dataCoord&&t.dataCoord.length&&r.forEach((function(e){-1!==t.dataCoord.indexOf(e)&&o.push(e)}))}))}return o},isSelected:function(t,e){for(var a=this.formDataDecorate.list||[],o=0;o<a.length;o++)if(this.isContain(t,e,a[o]))return!0;return!1},getCubeSelectedWidth:function(t){return(parseInt(t.end.y)-parseInt(t.start.y)+1)*this.cubeItemWidth},getCubeSelectedHeight:function(t){return(parseInt(t.end.x)-parseInt(t.start.x)+1)*this.cubeItemHeight},getCubeSelectedTop:function(t){return(t.start.x-1)*this.cubeItemHeight},getCubeSelectedLeft:function(t){return(t.start.y-1)*this.cubeItemWidth},currentCubeSelected:function(t,e){this.currentIndex=e,this.clearSelecting()},cubeSelectedDel:function(t,e){this.formDataDecorate.list.splice(e,1),this.currentIndex=-1},chooseImage:function(){this.$refs.chooseImage.openDialog()},uploadCallback:function(t){var e=t.list,a=void 0===e?[]:e,o=a.length?a[0]:"",s=this.formDataDecorate.list||[],i=s[this.currentIndex];this.$set(i,"image",o),this.$set(s,this.currentIndex,i),this.$set(this.formDataDecorate,"list",s)},getLinkUrl:function(){var t=this;this.$LinkBases({source:this.$store.state.customPage.sourceInfo.source,type:"h5",source_id:this.$store.state.customPage.sourceInfo.source_id,handleOkBtn:function(e){console.log("handleOk",e),t.$nextTick((function(){var a=t.formDataDecorate.list||[],o=a[t.currentIndex];t.$set(o,"link_url",e.url),t.$set(a,t.currentIndex,o),t.$set(t.formDataDecorate,"list",a)}))}})}}},l=r,c=(a("7b3b"),a("0b56")),d=Object(c["a"])(l,o,s,!1,null,"58c8b2b4",null);e["default"]=d.exports},6054:function(t,e,a){"use strict";a("0321")},"628a":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return t.formData?e("div",[e("componentDesc",{attrs:{content:t.desc}}),e("div",{staticClass:"content"},[e("a-form-model",{attrs:{model:t.formData,"label-col":t.labelCol,"wrapper-col":t.wrapperCol,labelAlign:"left"}},[e("a-form-model-item",{staticClass:"flex-end",attrs:{label:t.L("背景颜色")}},[e("div",{staticClass:"flex align-center color-picker-wrap"},[e("span",{staticClass:"color-name"},[t._v(t._s(t.formData.bg_color))]),e("label",{staticClass:"color-picker-label",style:[{background:t.formData.bg_color}],attrs:{for:"bg_color"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.bg_color,expression:"formData.bg_color"}],attrs:{type:"color",id:"bg_color"},domProps:{value:t.formData.bg_color},on:{input:function(e){e.target.composing||t.$set(t.formData,"bg_color",e.target.value)}}})]),e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.resetOpt("bg_color")}}},[t._v(t._s(t.L("重置")))])],1)]),e("a-form-model-item",{staticStyle:{"margin-top":"24px","margin-bottom":"0"},attrs:{label:t.L("显示方式")}},[e("span",[t._v(t._s(t.getLabel(t.$store.state.customPage.styleTypeOptions,t.formData.style_type)))])]),e("div",{staticClass:"flex align-center justify-between",staticStyle:{padding:"0 0 40px"}},[e("div",[e("a-radio-group",{attrs:{"button-style":"solid"},model:{value:t.formData.style_type,callback:function(e){t.$set(t.formData,"style_type",e)},expression:"formData.style_type"}},t._l(t.$store.state.customPage.styleTypeOptions,(function(t){return e("a-radio-button",{key:t.value,attrs:{value:t.value,size:"large"}},[e("IconFont",{staticClass:"itemIcon",staticStyle:{padding:"0 20px","font-size":"16px"},attrs:{type:t.icon}})],1)})),1)],1)]),e("a-form-model-item",{attrs:{label:t.L("设置背景图"),labelCol:{span:24},wrapperCol:{span:24}}},[e("div",{staticStyle:{"padding-top":"4px",width:"100px"},on:{click:t.chooseImage}},[t.formData.bg_img?e("div",{staticClass:"pointer img-wrap img-wrap-active"},[e("img",{staticStyle:{"max-width":"100%","min-height":"100%"},attrs:{src:t.formData.bg_img,alt:""}}),e("span",{staticClass:"img-update"},[t._v(t._s(t.L("更换图片")))]),e("a-icon",{staticClass:"del-icon",attrs:{type:"close-circle"},on:{click:function(e){return e.stopPropagation(),t.delImg()}}})],1):e("div",{staticClass:"flex align-center justify-center flex-column pointer img-wrap"},[e("a-icon",{staticStyle:{"font-size":"18px"},attrs:{type:"plus"}}),e("span",[t._v(t._s(t.L("添加图片")))])],1)])])],1)],1),e("choose-image",{ref:"chooseHeaderPic",attrs:{max:1,upload_dir:"/decorate/images",type:"image"},on:{callback:t.uploadHeaderImgCb}})],1):t._e()},s=[],i=(a("c5cb"),a("08c7"),a("a2f8")),n=a("5bb2"),r=a("6cf3"),l={components:{componentDesc:i["default"],IconFont:n["a"],ChooseImage:r["a"]},props:{formContent:{type:[String,Object],default:""}},data:function(){return{desc:{title:this.L("店铺头部")},labelCol:{span:4},wrapperCol:{span:20},formData:"",bg_color:"#06c1ae"}},watch:{formContent:{deep:!0,handler:function(t,e){if(t)for(var a in this.formData={},t)this.$set(this.formData,a,t[a]);else this.formData=""}},formData:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t)}}},mounted:function(){if(this.formContent)for(var t in this.formData={},this.formContent)this.$set(this.formData,t,this.formContent[t]);this.$store.dispatch("updateStyleTypeOptions")},methods:{getLabel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="";return t.length&&t.forEach((function(t){t.value==e&&(a=t.label)})),a},resetOpt:function(t){this.$set(this.formData,t,this[t])},chooseImage:function(){this.$refs.chooseHeaderPic.openDialog()},uploadHeaderImgCb:function(t){var e=t.list;this.$set(this.formData,"bg_img",e[0])},delImg:function(){this.$set(this.formData,"bg_img","")}}},c=l,d=(a("c599"),a("0b56")),u=Object(d["a"])(c,o,s,!1,null,"54bdff56",null);e["default"]=u.exports},"62bb":function(t,e,a){"use strict";a("58c7")},"654a":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return t.formData?e("div",[e("componentDesc",{attrs:{content:t.desc}}),t.formData?e("div",{staticClass:"content"},[e("a-form-model",{attrs:{model:t.formData,"label-col":t.labelCol,"wrapper-col":t.wrapperCol,labelAlign:"left"}},[e("a-form-model-item",{attrs:{label:t.L("公告"),labelCol:{span:8},wrapperCol:{span:20},prop:"noticeTxt",rules:{required:!0,message:t.L("请填写公告内容"),trigger:""}}},[e("a-input",{staticStyle:{resize:"none"},attrs:{placeholder:t.L("请填写公告内容"),autoSize:"",type:"textarea"},model:{value:t.formData.noticeTxt,callback:function(e){t.$set(t.formData,"noticeTxt",e)},expression:"formData.noticeTxt"}})],1),e("a-form-model-item",{staticClass:"flex-end",attrs:{label:t.L("背景颜色"),labelCol:{span:5},wrapperCol:{span:19}}},[e("div",{staticClass:"flex align-center color-picker-wrap"},[e("span",{staticClass:"color-name"},[t._v(t._s(t.formData.bg_color))]),e("label",{staticClass:"color-picker-label",style:[{background:t.formData.bg_color}],attrs:{for:"bg_color"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.bg_color,expression:"formData.bg_color"}],attrs:{type:"color",id:"bg_color"},domProps:{value:t.formData.bg_color},on:{input:function(e){e.target.composing||t.$set(t.formData,"bg_color",e.target.value)}}})]),e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.resetOpt("bg_color")}}},[t._v(t._s(t.L("重置")))])],1)]),e("a-form-model-item",{staticClass:"flex-end",attrs:{label:t.L("文字颜色"),labelCol:{span:5},wrapperCol:{span:19}}},[e("div",{staticClass:"flex align-center color-picker-wrap"},[e("span",{staticClass:"color-name"},[t._v(t._s(t.formData.font_color))]),e("label",{staticClass:"color-picker-label",style:[{background:t.formData.font_color}],attrs:{for:"font_color"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.font_color,expression:"formData.font_color"}],attrs:{type:"color",id:"font_color"},domProps:{value:t.formData.font_color},on:{input:function(e){e.target.composing||t.$set(t.formData,"font_color",e.target.value)}}})]),e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.resetOpt("font_color")}}},[t._v(t._s(t.L("重置")))])],1)])],1)],1):t._e()],1):t._e()},s=[],i=(a("c5cb"),a("08c7"),a("a2f8")),n=a("5bb2"),r={components:{componentDesc:i["default"],IconFont:n["a"]},props:{formContent:{type:[String,Object],default:""}},data:function(){return{desc:{title:this.L("公告")},labelCol:{span:4},wrapperCol:{span:20},formData:"",bg_color:"#FFF3DB",font_color:"#666666"}},watch:{formContent:{deep:!0,handler:function(t,e){if(t)for(var a in this.formData={},t)this.$set(this.formData,a,t[a]);else this.formData=""}},formData:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t)}}},mounted:function(){if(this.formContent)for(var t in this.formData={},this.formContent)this.$set(this.formData,t,this.formContent[t])},methods:{getLabel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="";return t.length&&t.forEach((function(t){t.value==e&&(a=t.label)})),a},resetOpt:function(t){this.$set(this.formData,t,this[t])}}},l=r,c=(a("53f9"),a("0b56")),d=Object(c["a"])(l,o,s,!1,null,"40faa9b6",null);e["default"]=d.exports},"66e4":function(t,e,a){},"66f7":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",[e("componentDesc",{attrs:{content:t.desc}}),t.formDataDecorate?e("div",{staticClass:"content"},[e("a-form-model",{attrs:{model:t.formDataDecorate,"label-col":t.labelCol,"wrapper-col":t.wrapperCol,labelAlign:"left"}},[e("a-form-model-item",{attrs:{label:t.L("文案"),prop:"txt",rules:{required:!0,message:t.L("文案不能为空"),trigger:""}}},[e("a-input",{attrs:{maxLength:4},model:{value:t.formDataDecorate.txt,callback:function(e){t.$set(t.formDataDecorate,"txt",e)},expression:"formDataDecorate.txt"}}),e("span",{staticClass:"online-service-desc"},[t._v(t._s(t.L("文案建议4个字")))])],1)],1)],1):t._e()],1)},s=[],i=a("a2f8"),n={components:{componentDesc:i["default"]},props:{formContent:{type:[String,Object],default:""}},data:function(){return{desc:{title:this.L("在线客服")},labelCol:{span:20},wrapperCol:{span:20},formDataDecorate:""}},watch:{formDataDecorate:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t)}}},mounted:function(){if(this.formContent)for(var t in this.formDataDecorate={},this.formContent)this.$set(this.formDataDecorate,t,this.formContent[t])}},r=n,l=(a("43158"),a("0b56")),c=Object(l["a"])(r,o,s,!1,null,"920a8746",null);e["default"]=c.exports},"6cf3":function(t,e,a){"use strict";var o=function(){var t=this,e=t._self._c;return e("a-modal",{staticClass:"dialog",attrs:{title:"请选择素材",width:"800px",centered:"",visible:t.visible,bodyStyle:{position:"relative"},destroyOnClose:!0},on:{ok:t.handleOk,cancel:t.handleCancel}},[this.checkedList.length>0?e("a-button",{staticClass:"delelt-item",attrs:{type:"danger"},on:{click:t.deleteItem}},[t._v("删除")]):t._e(),e("a-tabs",{attrs:{type:"card",defaultActiveKey:"1"},on:{change:t.onTabChange}},[e("a-tab-pane",{key:"1",attrs:{tab:"从素材库选择"}},[e("div",{staticClass:"content scroll_content1"},[t.imageList.length?t._l(t.imageList,(function(o,s){return e("div",{key:"img_"+s,staticClass:"img-list",style:o.selected?"border: 1px solid rgb(24,144,255)":"",on:{click:function(e){return t.chooseImage(o,s)}}},["image"==t.type?e("img",{staticClass:"goods-img",attrs:{src:o.img}}):t._e(),"video"==t.type?e("video",{staticClass:"goods-img",attrs:{src:o.img.url,poster:o.img.image}}):t._e(),e("img",{directives:[{name:"show",rawName:"v-show",value:o.selected,expression:"item.selected"}],staticClass:"selected",attrs:{src:a("c660")}})])})):[e("div",{staticClass:"no-data"},[t._v("暂无素材")])]],2)]),e("a-tab-pane",{key:"2",attrs:{tab:"上传新素材"}},[e("div",{staticClass:"content scroll_content"},[t.checkedList.length<this.max?[e("a-upload",{attrs:{action:t.action,name:t.uploadName,data:{upload_dir:t.upload_dir,store_id:t.store_id},"list-type":"picture-card","file-list":t.uploadList,multiple:t.multiple,showUploadList:t.showUploadList,accept:t.accept,"before-upload":t.beforeUpload},on:{change:t.handleUploadChange}},[t.showUpload?e("div",[e("a-icon",{staticStyle:{"font-size":"32px",color:"#999"},attrs:{type:t.loading?"loading":"plus"}})],1):t._e()])]:[e("div",{staticClass:"no-data"},[t._v("您最多可选择"+t._s(t.max)+"个"+t._s(t.typeTxt))])]],2)])],1)],1)},s=[],i=a("4bb5d"),n=(a("19f1"),a("075f"),a("c5cb"),a("08c7"),a("54f8"),a("9ae4"),a("4afa"),a("02bf"),a("a617"),a("4031")),r={name:"ChooseImage",props:{name:{type:String,default:""},max:{type:Number,default:0},upload_dir:{type:String,default:""},store_id:{type:[String,Number],default:""},type:{type:String,default:"image"}},data:function(){return{visible:!1,uploadList:[],imageList:[],checkedList:[],typeTxt:"图片",action:"/v20/public/index.php/common/common.UploadFile/uploadPictures",deleteItemUrl:"/common/common.UploadFile/deleteMallImage",uploadName:"reply_pic",showUploadList:!0,loading:!1}},computed:{showUpload:function(){return 0==this.max||this.uploadList.length+this.checkedList.length<this.max||!this.showUploadList},multiple:function(){return 1!=this.max&&this.checkedList.length!=this.max-1},accept:function(){return"image"==this.type?"image/*":"video/*"}},watch:{type:function(){this.initData()}},mounted:function(){var t=this;this.$nextTick((function(){t.initData()}))},methods:{initData:function(){this.typeTxt="image"==this.type?"图片":"视频",this.action="image"==this.type?"/v20/public/index.php/common/common.UploadFile/uploadPictures":"/v20/public/index.php/common/common.UploadFile/uploadVideo",this.uploadName="image"==this.type?"reply_pic":"reply_mv",this.showUploadList="image"==this.type},openDialog:function(){this.visible=!0,this.init()},getImageList:function(){var t=this,e={type:this.type,dir:this.upload_dir};""!=this.store_id&&(e.store_id=this.store_id),this.request(n["a"].getUploadImages,e).then((function(e){e.length&&(t.imageList=e.map((function(e){return"image"==t.type?{img:e,selected:!1}:{img:{url:e.url,image:e.image,vtime:e.vtime,id:e.id},selected:!1}})))}))},init:function(){var t=this;this.$set(this,"uploadList",[]),this.$set(this,"checkedList",[]),this.$set(this,"imageList",[]),this.$nextTick((function(){t.getImageList()}))},handleOk:function(){var t=this;console.log(this.checkedList);var e=[],a=location.origin;this.checkedList.length&&("image"==this.type?e=Object(i["a"])(this.checkedList):(e.push(this.checkedList[0].url),e.push(this.checkedList[0].image),e.push(this.checkedList[0].vtime))),this.uploadList.length&&this.showUploadList&&this.uploadList.forEach((function(o){o.response&&o.response.data&&("image"==t.type?e.push(a+o.response.data):"video"==t.type&&(e.push(a+o.response.data.url),e.push(o.response.data.image),e.push(o.response.data.vtime)))})),console.log(111111111,e),0!=e.length?(this.$emit("callback",{list:e,name:this.name}),this.handleCancel()):this.$message.error("至少得选择一个素材")},handleCancel:function(){this.visible=!1},onTabChange:function(t){},handleUploadChange:function(t){var e=t.file,a=t.fileList;console.log("----------file",e),console.log("----------fileList",a);var o=e.status,s=e.response;if("uploading"==o&&(this.loading=!0),"done"===o){if(1e3==s.status){var n=this.max-this.checkedList.length;a=a.slice(-n),"video"==this.type&&(this.showUploadList={showPreviewIcon:!1,showRemoveIcon:!0})}else s.msg&&this.$message.error(s.msg),"video"==this.type&&(this.showUploadList=!1);this.loading=!1}"error"==o&&(this.loading=!1,this.$message.error("上传失败")),this.uploadList=Object(i["a"])(a)},chooseImage:function(t,e){if(t.selected){for(var a in t.selected=!1,this.$set(this.imageList,e,t),this.checkedList)if(this.checkedList[a]==t.img)return void this.checkedList.splice(a,1)}else this.checkedList.length==this.max-this.uploadList.length?this.$message.warning("您最多可选择（包含上传）"+this.max+"个"+this.typeTxt):(t.selected=!0,this.checkedList.push(t.img),this.$set(this.imageList,e,t))},beforeUpload:function(t){return Promise.all([this.checkType(t)])},checkType:function(t){var e=this;return new Promise((function(a,o){-1==t.type.indexOf(e.type)?(e.$message.error(e.L("image"==e.type?"您上传的图片文件格式不正确！请重新选择":"您上传的视频文件格式不正确！请重新选择")),o()):(console.log("类型正确"),a())}))},deleteItem:function(){var t=this,e=[];"image"==this.type?e=this.checkedList:this.checkedList.forEach((function(t){e.push(t.id)})),this.$confirm({title:"确定删除吗?",okText:"确定",okType:"danger",centered:!0,cancelText:"取消",onOk:function(){console.log("OK"),t.request(t.deleteItemUrl,"image"==t.type?{url_lists:e}:{ids:e}).then((function(e){t.$message.success("删除成功！"),t.init()}))}})}}};var l=r,c=(a("cacd"),a("0b56")),d=Object(c["a"])(l,o,s,!1,null,"c303f9e6",null);e["a"]=d.exports},"6e32":function(t,e,a){},"6f6d":function(t,e,a){},7688:function(t,e,a){},"772a":function(t,e,a){"use strict";a("380a")},"77a6":function(t,e,a){},7858:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",[e("componentDesc",{attrs:{content:t.desc}}),t.formDataDecorate?e("div",{staticClass:"rich-text-content"},[e("a-form-model",{attrs:{model:t.formDataDecorate,"label-col":t.labelCol,"wrapper-col":t.wrapperCol,labelAlign:"left"}},[e("a-form-model-item",{staticClass:"flex-end",attrs:{label:t.L("背景颜色")}},[e("div",{staticClass:"flex align-center color-picker-wrap"},[e("span",{staticClass:"color-name"},[t._v(t._s(t.formDataDecorate.bg_color))]),e("label",{staticClass:"color-picker-label",style:[{background:t.formDataDecorate.bg_color}],attrs:{for:"bg_color"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formDataDecorate.bg_color,expression:"formDataDecorate.bg_color"}],attrs:{type:"color",id:"bg_color"},domProps:{value:t.formDataDecorate.bg_color},on:{input:function(e){e.target.composing||t.$set(t.formDataDecorate,"bg_color",e.target.value)}}})]),e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.resetOpt("bg_color")}}},[t._v(t._s(t.L("重置")))])],1)]),e("a-form-model-item",{attrs:{label:t.L("是否全屏显示"),labelCol:{span:6},wrapperCol:{span:18}}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s("full"==t.formDataDecorate.show_full_screen?t.L("全屏显示"):t.L("不全屏显示")))]),e("a-checkbox",{staticStyle:{padding:"0 15px"},attrs:{checked:"full"==t.formDataDecorate.show_full_screen},on:{change:t.isShowChange}})],1)])],1),e("custom-rich-text",{ref:"richText",attrs:{info:t.formDataDecorate.richTextCode,height:600,autoHeight:!0},on:{"update:info":function(e){return t.$set(t.formDataDecorate,"richTextCode",e)}}})],1):t._e()],1)},s=[],i=a("a2f8"),n=a("5bb2"),r=a("6ec16"),l={components:{componentDesc:i["default"],IconFont:n["a"],CustomRichText:r["a"]},props:{formContent:{type:[String,Object],default:""}},data:function(){return{desc:{title:"富文本",desc:"小程序富文本展示以实际效果为准，左侧预览仅供参考"},formDataDecorate:"",labelCol:{span:4},wrapperCol:{span:20},bg_color:"#ffffff"}},watch:{formContent:{deep:!0,handler:function(t,e){if(t)for(var a in this.formDataDecorate={},t)this.$set(this.formDataDecorate,a,t[a]);else this.formDataDecorate=""}},formDataDecorate:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t)}}},mounted:function(){var t=this;if(this.formContent)for(var e in this.formDataDecorate={},this.formContent)this.$set(this.formDataDecorate,e,this.formContent[e]);this.$nextTick((function(){if(t.$refs.richText&&t.$refs.richText.myConfig){var e=[["undo","redo","bold","italic","underline","strikethrough","indent","subscript","fontborder","superscript","formatmatch","source","blockquote","pasteplain","selectall","print","preview","horizontal","removeformat","time","date","unlink","insertrow","insertcol","mergeright","mergedown","deleterow","deletecol","splittorows","splittocols","splittocells","deletecaption","inserttitle","mergecells","deletetable","cleardoc","insertparagraphbeforetable","fontfamily","fontsize","paragraph","simpleupload","insertimage","edittable","edittd","link","emotion","spechars","searchreplace","insertvideo","help","justifyleft","justifyright","justifycenter","justifyjustify","forecolor","backcolor","insertorderedlist","insertunorderedlist","fullscreen","directionalityltr","directionalityrtl","rowspacingtop","rowspacingbottom","pagebreak","imagenone","imageleft","imageright","imagecenter","lineheight","edittip ","customstyle","autotypeset","touppercase","tolowercase","inserttable"]];t.$set(t.$refs.richText.myConfig,"toolbars",e)}}))},methods:{resetOpt:function(t){this.$set(this.formDataDecorate,t,this[t])},isShowChange:function(t){this.$set(this.formDataDecorate,"show_full_screen",t.target.checked?"full":"unfull")}}},c=l,d=(a("8b9b"),a("0b56")),u=Object(d["a"])(c,o,s,!1,null,"3a50504e",null);e["default"]=u.exports},"7b3b":function(t,e,a){"use strict";a("b68d")},"803f":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",[e("componentDesc",{attrs:{content:t.desc}}),t.formDataDecorate?e("div",{staticClass:"content"},[e("a-form-model",{attrs:{model:t.formDataDecorate,"label-col":t.labelCol,"wrapper-col":t.wrapperCol,labelAlign:"left"}},[e("a-form-model-item",{attrs:{label:t.L("选择样式")}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(t.getLabel(t.lineStyle,t.formDataDecorate.aux_line_style)))]),e("div",[e("a-radio-group",{attrs:{"button-style":"solid"},model:{value:t.formDataDecorate.aux_line_style,callback:function(e){t.$set(t.formDataDecorate,"aux_line_style",e)},expression:"formDataDecorate.aux_line_style"}},t._l(t.lineStyle,(function(t){return e("a-radio-button",{key:t.value,attrs:{value:t.value}},[e("IconFont",{staticClass:"itemIcon",attrs:{type:t.icon}})],1)})),1)],1)])]),e("a-form-model-item",{attrs:{label:t.L("左右边距")}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(t.getLabel(t.lineMargin,t.formDataDecorate.left_right_margin)))]),e("div",[e("a-radio-group",{attrs:{"button-style":"solid"},model:{value:t.formDataDecorate.left_right_margin,callback:function(e){t.$set(t.formDataDecorate,"left_right_margin",e)},expression:"formDataDecorate.left_right_margin"}},t._l(t.lineMargin,(function(t){return e("a-radio-button",{key:t.value,attrs:{value:t.value}},[e("IconFont",{staticClass:"itemIcon",attrs:{type:t.icon}})],1)})),1)],1)])]),e("a-form-model-item",{staticClass:"flex-end",attrs:{label:t.L("辅助线颜色"),labelCol:{span:5},wrapperCol:{span:19}}},[e("div",{staticClass:"flex align-center color-picker-wrap"},[e("span",{staticClass:"color-name"},[t._v(t._s(t.formDataDecorate.aux_line_color))]),e("label",{staticClass:"color-picker-label",style:[{background:t.formDataDecorate.aux_line_color}],attrs:{for:"aux_line_color"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formDataDecorate.aux_line_color,expression:"formDataDecorate.aux_line_color"}],attrs:{type:"color",id:"aux_line_color"},domProps:{value:t.formDataDecorate.aux_line_color},on:{input:function(e){e.target.composing||t.$set(t.formDataDecorate,"aux_line_color",e.target.value)}}})]),e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.resetOpt("aux_line_color")}}},[t._v(t._s(t.L("重置")))])],1)])],1)],1):t._e()],1)},s=[],i=(a("c5cb"),a("08c7"),a("a2f8")),n=a("5bb2"),r={components:{componentDesc:i["default"],IconFont:n["a"]},props:{formContent:{type:[String,Object],default:""}},data:function(){return{desc:{title:this.L("辅助线")},labelCol:{span:4},wrapperCol:{span:20},formDataDecorate:"",lineStyle:[{value:"solid",label:this.L("实线"),icon:"iconCustomPageBorderLine"},{value:"dashed",label:this.L("虚线"),icon:"iconCustomPageBorderDashed"}],lineMargin:[{value:"noMargin",label:this.L("无边距"),icon:"iconCustomPagePadding0"},{value:"hasMargin",label:this.L("有边距"),icon:"iconCustomPagePadding"}],aux_line_color:"#e5e5e5"}},watch:{formContent:{deep:!0,handler:function(t,e){if(t)for(var a in this.formDataDecorate={},t)this.$set(this.formDataDecorate,a,t[a]);else this.formDataDecorate=""}},formDataDecorate:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t)}}},mounted:function(){if(this.formContent)for(var t in this.formDataDecorate={},this.formContent)this.$set(this.formDataDecorate,t,this.formContent[t])},methods:{getLabel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="";return t.length&&t.forEach((function(t){t.value==e&&(a=t.label)})),a},resetOpt:function(t){this.$set(this.formDataDecorate,t,this[t])}}},l=r,c=(a("2240"),a("0b56")),d=Object(c["a"])(l,o,s,!1,null,"bb3ed5fa",null);e["default"]=d.exports},8856:function(t,e,a){},"88d5":function(t,e,a){},"89d7":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return t.formDataDecorate?e("div",{staticClass:"mallGoodsDecorateWrap"},[e("componentDesc",{attrs:{content:t.desc}}),e("div",[e("a-form-model",{attrs:{model:t.formDataDecorate,"label-col":t.labelCol,"wrapper-col":t.wrapperCol,labelAlign:"left"}},[e("div",{staticClass:"content mt-20"},[e("a-form-model-item",{attrs:{label:t.L("视频")}},[e("a-row",[e("a-col",{staticClass:"text-right"},[e("a-radio-group",{attrs:{defaultValue:1},on:{change:function(e){return t.switchVideoTab(e)}},model:{value:t.formDataDecorate.video_type_val,callback:function(e){t.$set(t.formDataDecorate,"video_type_val",e)},expression:"formDataDecorate.video_type_val"}},[e("a-radio",{attrs:{value:"1"}},[t._v(t._s(t.L("选择视频")))]),e("a-radio",{attrs:{value:"2"}},[t._v(t._s(t.L("粘贴视频地址")))])],1)],1)],1)],1),e("div",{staticClass:"add-video-rap mb-20"},["1"==t.formDataDecorate.video_type_val?e("div",{staticClass:"flex flex-wrap"},[e("div",[e("div",{staticClass:"mb-20 mt-10 fs-14"},[t._v(" "+t._s(t.L("建议视频宽高比16:9，大小10MB以内"))+" ")]),t.formDataDecorate.choose_video_list&&t.formDataDecorate.choose_video_list[1]?e("div",{staticClass:"add-video-btn add-video-over flex justify-center align-center pointer cr-primary",staticStyle:{position:"relative"}},[e("img",{attrs:{src:t.formDataDecorate.choose_video_list[1],alt:""}}),e("a-icon",{key:"close-circle",staticClass:"delIcon",attrs:{type:"close-circle"},on:{click:t.delCurVideo}}),e("a-icon",{key:"play-circle",staticClass:"playCircleIcon",attrs:{type:"play-circle"}})],1):e("div",[e("div",{staticClass:"add-video-btn flex justify-center align-center pointer cr-primary",on:{click:t.addVideo}},[e("a-icon",{attrs:{type:"plus"}})],1),e("div",{staticClass:"cr-red mt-10"},[t._v(" "+t._s(t.L("请添加视频"))+" ")])])])]):e("div",[e("div",{staticClass:"mt-10"},[e("a-input",{attrs:{placeholder:t.L("请填写视频地址")},model:{value:t.formDataDecorate.paste_video_url,callback:function(e){t.$set(t.formDataDecorate,"paste_video_url",e)},expression:"formDataDecorate.paste_video_url"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.formDataDecorate.paste_video_url,expression:"!formDataDecorate.paste_video_url"}],staticClass:"cr-red mt-10"},[t._v(" "+t._s(t.L("请填写视频地址"))+" ")])],1)])]),e("a-form-model-item",{attrs:{label:t.L("封面图")}},["1"==t.formDataDecorate.video_type_val?e("a-row",[e("a-col",{staticClass:"text-right"},[e("a-radio-group",{on:{change:function(e){return t.switchSurfaceTab(e)}},model:{value:t.formDataDecorate.surface_type_val,callback:function(e){t.$set(t.formDataDecorate,"surface_type_val",e)},expression:"formDataDecorate.surface_type_val"}},[e("a-radio",{attrs:{value:"1"}},[t._v(t._s(t.L("原视频封面图")))]),e("a-radio",{attrs:{value:"2"}},[t._v(t._s(t.L("自定义封面图")))])],1)],1)],1):t._e()],1),"2"==t.formDataDecorate.surface_type_val||"2"==t.formDataDecorate.video_type_val?e("div",{staticClass:"add-video-rap mb-20"},[e("div",{staticClass:"flex flex-wrap"},[e("div",{on:{click:t.addSurface}},[e("div",{staticClass:"mb-20 mt-10 fs-14"},[t._v(" "+t._s(t.L("建议图片宽高比16:9"))+" ")]),t.formDataDecorate.choose_surface_list&&t.formDataDecorate.choose_surface_list[0]?e("div",{staticClass:"add-video-btn flex justify-center align-center pointer cr-primary",staticStyle:{position:"relative"}},[e("img",{attrs:{src:t.formDataDecorate.choose_surface_list[0],alt:""}}),e("div",[e("span",{staticClass:"img-update"},[t._v(t._s(t.L("更换图片")))])])]):e("div",[e("div",{staticClass:"add-video-btn flex justify-center align-center pointer cr-primary"},[e("a-icon",{attrs:{type:"plus"}})],1),e("div",{staticClass:"cr-red mt-10"},[t._v(" "+t._s(t.L("请添加封面"))+" ")])])])])]):t._e()],1)])],1),[e("choose-image",{ref:"addVideo",attrs:{max:1,upload_dir:"/decorate/videos",type:"video"},on:{callback:t.uploadVideoCallback}})],[e("choose-image",{ref:"addSurface",attrs:{max:1,upload_dir:"/decorate/images",type:"image"},on:{callback:t.uploadSurfaceCallback}})]],2):t._e()},s=[],i=a("a2f8"),n=a("6cf3"),r=a("5bb2"),l={components:{componentDesc:i["default"],IconFont:r["a"],ChooseImage:n["a"]},props:{formContent:{type:[String,Object],default:""}},data:function(){return{desc:{title:this.L("视频")},labelCol:{span:4},wrapperCol:{span:20},formDataDecorate:""}},computed:{},watch:{formDataDecorate:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t)}}},mounted:function(){if(this.formContent)for(var t in this.formDataDecorate={},this.formContent)this.$set(this.formDataDecorate,t,this.formContent[t])},methods:{addVideo:function(){this.$refs.addVideo.openDialog()},uploadVideoCallback:function(t){var e=t.list;this.$set(this.formDataDecorate,"choose_video_list",e)},switchVideoTab:function(t){this.$set(this.formDataDecorate,"video_type_val",t.target.value),this.formDataDecorate.surface_type_val="2"},delCurVideo:function(){this.formDataDecorate.choose_video_list=null},switchSurfaceTab:function(t){this.$set(this.formDataDecorate,"surface_type_val",t.target.value)},addSurface:function(){this.$refs.addSurface.openDialog()},uploadSurfaceCallback:function(t){var e=t.list;this.$set(this.formDataDecorate,"choose_surface_list",e)}}},c=l,d=(a("1029"),a("0b56")),u=Object(d["a"])(c,o,s,!1,null,"1bc555be",null);e["default"]=u.exports},"8b83":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",[e("a-button",{staticStyle:{margin:"15px 20px 15px auto"},attrs:{type:"primary",icon:"plus"},on:{click:function(e){return t.$refs.createModal.add()}}},[t._v("新建搜索词")]),e("a-button",{staticClass:"icon_btn",on:{click:function(e){return t.delete_selected_word()}}},[t._v("删除")]),e("a-table",{attrs:{columns:t.columns,"data-source":t.searchHotList,pagination:t.pagination,rowKey:"pigcms_id","row-selection":{selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange}},on:{change:t.tableChange},scopedSlots:t._u([t._l(["sort"],(function(a){return{key:a,fn:function(o,s,i){return[e("div",{key:a},[s.editable?e("a-tooltip",{attrs:{trigger:["focus"],placement:"topLeft","overlay-class-name":"numeric-input"}},[e("template",{slot:"title"},[t._v("值越大，搜索词排序越靠前")]),e("a-input",{staticStyle:{margin:"-5px 2px",width:"56px"},attrs:{value:o},on:{change:function(e){return t.handleChange(e.target.value,i,a)}}})],2):[t._v(" "+t._s(o)+" ")],e("span",{staticClass:"editable-row-operations"},[s.editable?e("span",[e("a",{on:{click:function(){return t.save(i)}}},[t._v("保存")]),e("a-divider",{attrs:{type:"vertical"}}),e("a",{on:{click:function(){return t.cancel(i)}}},[t._v("取消")])],1):e("span",[e("a",{attrs:{disabled:""!==t.editingKey},on:{click:function(){return t.edit(i)}}},[t._v("编辑")])])])],2)]}}})),{key:"action",fn:function(a,o){return e("span",{},[e("a",{on:{click:function(e){return t.$refs.createModal.edit(o.pigcms_id)}}},[t._v("编辑")]),e("a-divider",{attrs:{type:"vertical"}}),e("a-popconfirm",{staticClass:"ant-dropdown-link",attrs:{title:"确认删除?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(e){return t.deleteConfirm(o.pigcms_id)},cancel:t.cancel}},[e("a",{attrs:{href:"#"}},[t._v("删除")])])],1)}}],null,!0)}),e("create-search-hot-words",{ref:"createModal",attrs:{sourceInfo:t.sourceInfo},on:{ok:t.handleOk}})],1)},s=[],i=a("bcc3"),n=a("4bb5d"),r=a("8ee2"),l=(a("075f"),a("3849"),a("d043")),c=a("168a"),d={0:{status:"default",text:"否"},1:{status:"error",text:"是"}},u=[],f={name:"SearchHotList",components:{CreateSearchHotWords:c["default"]},props:{sourceInfo:{type:[String,Object],default:""}},data:function(){return this.cacheData=u.map((function(t){return Object(r["a"])({},t)})),{sortedInfo:null,searchHotList:u,queryParam:{page:1,pageSize:10},pagination:{pageSize:10,total:10,"show-total":function(t){return"共 ".concat(t," 条记录")},"show-size-changer":!0,"show-quick-jumper":!0},editingKey:"",selectedRowKeys:[]}},filters:{statusFilter:function(t){return d[t].text},statusTypeFilter:function(t){return d[t].status}},created:function(){},computed:{columns:function(){var t=this.sortedInfo,e=this.filteredInfo;t=t||{},e=e||{};var a=[{title:"关键词",dataIndex:"name"},{title:"排序",dataIndex:"sort",width:"20%",scopedSlots:{customRender:"sort"},sorter:function(t,e){return t.sort-e.sort}},{title:"操作",dataIndex:"",scopedSlots:{customRender:"action"}}];return a}},mounted:function(){this.getSearchHotList()},methods:Object(i["a"])({delete_selected_word:function(){var t=this;this.selectedRowKeys.length<1?this.$message.success("请选择一条记录"):this.request(l["a"].delWords,{ids:this.selectedRowKeys}).then((function(e){t.getSearchHotList(),t.$message.success("删除成功")}))},onSelectChange:function(t){this.selectedRowKeys=t},getSearchHotList:function(){var t=this;this.$set(this.queryParam,"source",this.sourceInfo.source),this.$set(this.queryParam,"source_id",this.sourceInfo.source_id),this.request(l["a"].getHotWordsList,this.queryParam).then((function(e){console.log("res",e),t.searchHotList=e.list,t.pagination.total=e.total}))},add:function(){},handleOk:function(){this.getSearchHotList()},deleteConfirm:function(t){var e=this;this.request(l["a"].delWords,{ids:[t]}).then((function(t){e.getSearchHotList(),e.$message.success("删除成功")}))},cancel:function(){},tableChange:function(t,e,a){this.queryParam["pageSize"]=t.pageSize,t.current&&t.current>0&&(this.queryParam["page"]=t.current,this.getSearchHotList())},handleChange:function(t,e,a){var o=Object(n["a"])(this.searchHotList),s=o[e];s&&(s[a]=t,this.searchHotList=o)},edit:function(t){var e=Object(n["a"])(this.searchHotList),a=e[t];this.editingKey=t,a&&(a.editable=!0,this.searchHotList=e)},save:function(t){var e=this,a=Object(n["a"])(this.searchHotList),o=Object(n["a"])(this.cacheData),s=a[t];o[t];s&&(delete s.editable,this.searchHotList=a,Object.assign(s,this.cacheData[t]),this.cacheData=o),console.log(s),this.request(l["a"].getHotWordsEditSort,{id:s.pigcms_id,sort:s.sort}).then((function(t){e.getSearchHotList()})),this.editingKey=""}},"cancel",(function(t){var e=Object(n["a"])(this.searchHotList),a=e[t];this.editingKey="",a&&(Object.assign(a,this.cacheData[t]),delete a.editable,this.searchHotList=e),this.getSearchHotList()}))},m=f,h=(a("497b"),a("41ffa"),a("0b56")),p=Object(h["a"])(m,o,s,!1,null,"0c2704d0",null);e["default"]=p.exports},"8b9b":function(t,e,a){"use strict";a("9493")},"8d7d":function(t,e,a){},"8feb":function(t,e,a){},9251:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",[e("componentDesc",{attrs:{content:t.desc}}),t.formDataDecorate?e("div",{staticClass:"content"},[e("a-form-model",{attrs:{model:t.formDataDecorate,"label-col":t.labelCol,"wrapper-col":t.wrapperCol,labelAlign:"left"}},[e("a-form-model-item",{attrs:{label:t.L("文案")}},[e("a-input",{attrs:{maxLength:4},model:{value:t.formDataDecorate.txt,callback:function(e){t.$set(t.formDataDecorate,"txt",e)},expression:"formDataDecorate.txt"}})],1)],1)],1):t._e()],1)},s=[],i=a("a2f8"),n={components:{componentDesc:i["default"]},props:{formContent:{type:[String,Object],default:""}},data:function(){return{desc:{title:"进入店铺"},labelCol:{span:4},wrapperCol:{span:20},formDataDecorate:""}},watch:{formContent:{deep:!0,handler:function(t,e){if(t)for(var a in this.formDataDecorate={},t)this.$set(this.formDataDecorate,a,t[a]);else this.formDataDecorate=""}},formDataDecorate:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t)}}},mounted:function(){if(this.formContent)for(var t in this.formDataDecorate={},this.formContent)this.$set(this.formDataDecorate,t,this.formContent[t])}},r=n,l=(a("9259"),a("0b56")),c=Object(l["a"])(r,o,s,!1,null,"a5154ca6",null);e["default"]=c.exports},9259:function(t,e,a){"use strict";a("f515")},"927a":function(t,e,a){"use strict";a("d7f5")},9493:function(t,e,a){},"956e":function(t,e,a){"use strict";a.r(e);a("54f8");var o=function(){var t=this,e=t._self._c;return t.formDataDecorate?e("div",[e("componentDesc",{attrs:{content:t.desc}}),e("div",{staticClass:"content"},[e("a-form-model",{attrs:{model:t.formDataDecorate,"label-col":t.labelCol,"wrapper-col":t.wrapperCol,labelAlign:"left"}},[e("div",[e("a-form-model-item",{attrs:{label:t.L("展示样式")}},[e("a-radio-group",{model:{value:t.formDataDecorate.show_merDetail,callback:function(e){t.$set(t.formDataDecorate,"show_merDetail",e)},expression:"formDataDecorate.show_merDetail"}},t._l(t.showMerDetail,(function(a){return e("a-radio",{key:a.value,attrs:{value:a.value}},[t._v(" "+t._s(a.label)+" ")])})),1)],1),e("a-form-model-item",{attrs:{label:t.L("公告")}},[e("a-input",{staticStyle:{resize:"none"},attrs:{placeholder:t.L("请输入"),autoSize:"",type:"textarea"},model:{value:t.formDataDecorate.notice,callback:function(e){t.$set(t.formDataDecorate,"notice",e)},expression:"formDataDecorate.notice"}})],1),"store"!=t.$store.state.customPage.sourceInfo.source?e("a-form-model-item",{attrs:{label:t.L("选择店铺")}},[e("a-select",{attrs:{placeholder:t.L("请选择")},on:{change:t.storeChange},model:{value:t.formDataDecorate.store_id,callback:function(e){t.$set(t.formDataDecorate,"store_id",e)},expression:"formDataDecorate.store_id"}},t._l(t.storeList,(function(a){return e("a-select-option",{key:a.store_id,attrs:{value:a.store_id}},[t._v(t._s(a.name))])})),1)],1):t._e()],1),t.formDataDecorate.list&&t.formDataDecorate.list.length?e("div",{staticClass:"group-wrap"},[e("draggable",{attrs:{disabled:t.isDisabled},model:{value:t.formDataDecorate.list,callback:function(e){t.$set(t.formDataDecorate,"list",e)},expression:"formDataDecorate.list"}},t._l(t.formDataDecorate.list,(function(a,o){return e("div",{key:a.id,staticClass:"group-menu-wrap",on:{click:function(e){e.stopPropagation(),t.isDisabled=!1}}},[e("a-icon",{staticClass:"delIcon",attrs:{type:"close-circle"},on:{click:function(e){return t.goodsDelOpt(a,o)}}}),e("a-form-model-item",{attrs:{label:t.L("商品来源")}},[e("span",{staticClass:"group-name"},[t._v(t._s(a.name))])]),e("a-form-model-item",{attrs:{label:t.L("显示商品数量"),labelCol:{span:6},wrapperCol:{span:18}}},[e("a-radio-group",{model:{value:a.show_num_type,callback:function(e){t.$set(a,"show_num_type",e)},expression:"item.show_num_type"}},[e("a-radio",{attrs:{value:"1"}},[e("a-input-number",{attrs:{placeholder:t.L("自定义"),min:1,max:a.children.length},on:{mouseenter:function(e){t.isDisabled=!0},mouseleave:function(e){t.isDisabled=!1},click:function(e){t.isDisabled=!0}},model:{value:a.show_num,callback:function(e){t.$set(a,"show_num",e)},expression:"item.show_num"}})],1),e("a-radio",{attrs:{value:"2"}},[t._v(t._s(t.L("全部")))])],1)],1)],1)})),0)],1):t._e(),e("div",{staticClass:"mt-20 mb-20 padding-24"},[e("a-button",{attrs:{block:""},on:{click:function(e){return t.addBtn()}}},[e("a-icon",{attrs:{type:"plus"}}),t._v(t._s(t.L("添加商品分组"))+" ")],1)],1)])],1),e("a-modal",{attrs:{title:t.L("商品分组"),visible:t.visible,destroyOnClose:!0,width:"60%",cancelText:t.L("取消"),okText:t.L("确定")},on:{ok:t.handleOk,cancel:t.handleCancel}},[e("a-row",{staticClass:"mb-20",attrs:{type:"flex",justify:"space-between"}},[e("a-col",[e("a-button",{on:{click:function(e){return t.initGetList()}}},[t._v(" "+t._s(t.L("刷新"))+" ")])],1),e("a-col",{staticClass:"flex align-center"},[e("a-input",{attrs:{placeholder:t.L("搜索")},on:{change:t.inputChange,pressEnter:t.inputChange},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[e("a-icon",{attrs:{slot:"prefix",type:"search"},slot:"prefix"})],1)],1)],1),e("a-table",{attrs:{"row-selection":{selectedRowKeys:t.selectedRowKeys,getCheckboxProps:t.getCheckboxProps,onSelect:t.onSelect,onSelectAll:t.onSelectAll},columns:t.columns,rowKey:"id",scroll:{y:442},pagination:t.pagination,childrenColumnName:null,"data-source":t.dataList}})],1)],1):t._e()},s=[],i=a("4bb5d"),n=(a("075f"),a("c5cb"),a("08c7"),a("5079"),a("6e84"),a("cd5d"),a("4afa"),a("7023"),a("a2f8")),r=a("9686"),l=a("3335"),c=a.n(l),d={components:{componentDesc:n["default"],draggable:c.a},props:{formContent:{type:[String,Object],default:""}},data:function(){var t=this;return{desc:{title:"外卖菜单",desc:"单页面中外卖模块具有唯一性和永久置底性；选择商品来源后，左侧实时预览暂不支持显示其包含的商品数据。"},labelCol:{span:4},wrapperCol:{span:20},formDataDecorate:"",showMerDetail:[{value:"1",label:this.L("显示商家详情")},{value:"2",label:this.L("不显示商家详情")}],visible:!1,dataList:[],columns:[{title:this.L("分组名称"),dataIndex:"name",key:"name",align:"left"}],keyword:"",pagination:{current:1,pageSize:10,total:0,"show-total":function(e){return!!e&&t.L("共 X1 条记录",{X1:e})},"show-size-changer":!0,"show-quick-jumper":!0,onChange:this.onPageChange,onShowSizeChange:this.onPageSizeChange},isDisabled:!1,storeList:[],selectList:[]}},watch:{formDataDecorate:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t)}}},computed:{selectedRowKeys:function(){var t=this.selectList||[];return t.length?t.map((function(t){return t.id})):[]}},mounted:function(){"store"!=this.$store.state.customPage.sourceInfo.source&&this.getStoreList();var t="store"==this.$store.state.customPage.sourceInfo.source?this.$store.state.customPage.sourceInfo.source_id:this.formDataDecorate.store_id||void 0;if(this.formContent)for(var e in this.formContent)if("list"==e&&this.formContent[e]&&this.formContent[e].length){var a=this.formContent[e];t=a.length?a[0].store_id:void 0,a.forEach((function(t){void 0==t.show_num_type&&(t.show_num_type=-1==t.show_num?"2":"1")}))}this.formDataDecorate=this.formContent||"",this.$set(this.formDataDecorate,"store_id",t)},methods:{getStoreList:function(){var t=this,e={source:this.$store.state.customPage.sourceInfo.source,source_id:this.$store.state.customPage.sourceInfo.source_id};this.request(r["a"].getStoreList,e).then((function(e){t.storeList=e||[]}))},storeChange:function(t){this.formDataDecorate.list=[]},addBtn:function(){if(this.formDataDecorate.store_id){var t=this.formDataDecorate.list||[];t.length&&(this.selectList=Object(i["a"])(t)),this.visible=!0,this.initGetList()}else this.$message.error(this.L("请选择店铺"))},onPageChange:function(t,e){this.$set(this.pagination,"current",t),this.getList()},onPageSizeChange:function(t,e){this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",e),this.getList()},onSelect:function(t,e,a,o){if(e)this.selectList.push(t);else if(this.selectList.length){var s=this.selectList.findIndex((function(e){return e.id==t.id}));-1!=s&&this.$delete(this.selectList,s)}},onSelectAll:function(t,e,a){this.selectList=t?this.selectList.concat(a):this.selectList.concat(a).filter((function(t){return-1==a.findIndex((function(e){return e.id==t.id}))}))},getCheckboxProps:function(t){return{props:{disabled:!t.children||t.children&&!t.children.length}}},initGetList:function(){this.keyword="",this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",10),this.getList()},getList:function(){var t=this,e={source:"store",source_id:this.formDataDecorate.store_id,keyword:this.keyword,page:this.pagination.current,pageSize:this.pagination.pageSize};this.request(r["a"].getShopGoodsGroup,e).then((function(e){t.dataList=e.list||[],t.$set(t.pagination,"total",parseInt(e.total))}))},goodsDelOpt:function(t,e){var a=this.formDataDecorate.list||[];a.length&&a.splice(e,1),this.$set(this.formDataDecorate,"list",a)},inputChange:function(){""===this.keyword.trim()&&0!=this.keyword||(this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",10),this.getList())},handleOk:function(){this.selectList.length&&(this.selectList=this.selectList.map((function(t){return t.show_num="10",t.show_num_type=1,t}))),this.$set(this.formDataDecorate,"list",this.selectList),this.handleCancel()},handleCancel:function(){this.visible=!1,this.selectList=[],this.keyword=""},showNumTypeChange:function(){this.$emit("updatePageInfo",this.formDataDecorate)}}},u=d,f=(a("927a"),a("0b56")),m=Object(f["a"])(u,o,s,!1,null,"44c4a308",null);e["default"]=m.exports},9686:function(t,e,a){"use strict";var o={getMicroPageList:"/common/common.DecoratePage/getMicroPageList",getpersonalDec:"/common/common.DecoratePage/getpersonalDec",delMicroPage:"/common/common.DecoratePage/delMicroPage",setHomePage:"/common/common.DecoratePage/setHomePage",addOrEditpersonalDec:"/common/common.DecoratePage/addOrEditpersonalDec",getNavBottomDec:"/common/common.DecoratePage/getNavBottomDec",addOrEditNavBottom:"/common/common.DecoratePage/addOrEditNavBottom",getSuspendedWindow:"/common/common.DecoratePage/getSuspendedWindow",addOrEditSuspendedWindow:"/common/common.DecoratePage/addOrEditSuspendedWindow",getIndexPage:"/common/common.DecoratePage/getIndexPage",getEditMicoPage:"/common/common.DecoratePage/getEditMicoPage",getCoupons:"/common/common.DecoratePage/getCoupons",getActInfo:"/common/common.DecoratePage/getActInfo",getMallActInfo:"/common/common.DecoratePage/getMallActInfo",getMallGoods:"/common/common.DecoratePage/getMallGoods",getMallGoodsGroup:"/common/common.DecoratePage/getMallGoodsGroup",getShopGoodsGroup:"/common/common.DecoratePage/getShopGoodsGroup",getShopGoods:"/common/common.DecoratePage/getShopGoods",addOrEditMicroPage:"/common/common.DecoratePage/addOrEditMicroPage",getMerchantStoreMsg:"/common/common.DecoratePage/getMerchantStoreMsg",getDiypageModel:"/common/platform.diypage/getDiypageModel",getDiypageDetail:"/common/platform.diypage/getDiypageDetail",getFeedCategoryList:"/common/platform.diypage/getFeedCategoryList",getSearchHotList:"/common/platform.diypage/getSearchHotList",saveDiypage:"/common/platform.diypage/saveDiypage",getMerchantCategoryChildList:"/common/platform.diypage/getMerchantCategoryChildList",getStoreList:"/common/common.DecoratePage/getStore"};e["a"]=o},"9e66":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return t.formDataDecorate?e("div",[e("componentDesc",{attrs:{content:t.desc}}),e("div",{staticClass:"content"},[e("a-form-model",{attrs:{model:t.formDataDecorate,"label-col":t.labelCol,"wrapper-col":t.wrapperCol,labelAlign:"left"}},[e("div",[e("div",{staticClass:"mt-20 fs-16 fw-bold"},[t._v(t._s(t.L("轮播图片")))]),e("div",[t._v(" "+t._s(t.L("鼠标拖拽调整广告图片顺序，宽度一定，高度自适应"))+" ")]),e("div",{staticClass:"mt-20"},[e("div",{staticClass:"add-nav-wrap mb-20"},[e("draggable",{attrs:{disabled:t.isDisabled},model:{value:t.formDataDecorate.list,callback:function(e){t.$set(t.formDataDecorate,"list",e)},expression:"formDataDecorate.list"}},t._l(t.formDataDecorate.list,(function(a,o){return e("div",{key:o,staticClass:"group-menu-wrap flex align-center",on:{click:function(e){e.stopPropagation(),t.isDisabled=!1}}},[e("a-icon",{directives:[{name:"show",rawName:"v-show",value:t.formDataDecorate.list.length>2,expression:"formDataDecorate.list.length > 2"}],staticClass:"delIcon",attrs:{type:"close-circle"},on:{click:function(e){return t.delOpt(o)}}}),e("div",{staticClass:"uploadImgWrap",on:{click:function(e){return t.chooseImage(a,o)}}},[t.formDataDecorate.list&&t.formDataDecorate.list[o].image?e("div",{staticClass:"pointer img-wrap"},[e("img",{ref:"image",refInFor:!0,staticStyle:{width:"100%",height:"100%"},attrs:{src:a.image,alt:""}}),e("span",{staticClass:"img-update"},[t._v(t._s(t.L("更换图片")))])]):e("div",[e("div",{staticClass:"flex align-center justify-center flex-column pointer img-wrap"},[e("a-icon",{attrs:{type:"plus"}}),e("span",[t._v(t._s(t.L("添加图片")))])],1),e("span",{staticClass:"cr-red"},[t._v(t._s(t.L("请添加轮播图片")))])])]),e("div",{staticClass:"flex-1 linkUrl"},[e("a-form-model-item",{attrs:{label:t.L("标题")}},[e("a-input",{attrs:{placeholder:t.L("建议十个字以内,可不填")},on:{mouseenter:function(e){t.isDisabled=!0},mouseleave:function(e){t.isDisabled=!1},click:function(e){e.stopPropagation(),t.isDisabled=!0}},model:{value:a.title,callback:function(e){t.$set(a,"title",e)},expression:"item.title"}})],1),e("a-form-model-item",{attrs:{label:t.L("链接")}},[e("div",{staticClass:"flex"},[e("a-input",{staticStyle:{resize:"none"},attrs:{type:"textarea",autoSize:""},on:{mouseenter:function(e){t.isDisabled=!0},mouseleave:function(e){t.isDisabled=!1},click:function(e){e.stopPropagation(),t.isDisabled=!0}},model:{value:a.link_url,callback:function(e){t.$set(a,"link_url",e)},expression:"item.link_url"}}),e("a-button",{staticClass:"ml-5",on:{click:function(e){return t.getLinkUrl(a,o)}}},[t._v(t._s(t.L("链接库选择")))])],1)])],1)],1)})),0)],1)]),t.formDataDecorate.list&&t.formDataDecorate.list.length<5?e("div",{staticClass:"mt-20 mb-20"},[e("a-button",{attrs:{block:""},on:{click:function(e){return t.addOpt()}}},[e("a-icon",{attrs:{type:"plus"}}),t._v(t._s(t.L("添加广告")))],1)],1):t._e()]),e("a-divider"),e("div",[e("a-form-model-item",{attrs:{label:t.L("轮播图样式"),labelCol:{span:5},wrapperCol:{span:18}}},[e("div",{staticClass:"flex aligin-center justify-between"},[e("span",[t._v(t._s(t.getLabel(t.pageDistanceOptions,t.formDataDecorate.show_distance)))]),e("a-radio-group",{attrs:{"button-style":"solid"},model:{value:t.formDataDecorate.show_distance,callback:function(e){t.$set(t.formDataDecorate,"show_distance",e)},expression:"formDataDecorate.show_distance"}},t._l(t.pageDistanceOptions,(function(t){return e("a-radio-button",{key:t.value,attrs:{value:t.value}},[e("IconFont",{staticClass:"itemIcon",attrs:{type:t.icon}})],1)})),1)],1)]),e("a-form-model-item",{attrs:{label:t.L("轮播间隔")}},[e("a-row",{attrs:{type:"flex"}},[e("a-col",{attrs:{span:16}},[e("a-slider",{attrs:{min:0},model:{value:t.formDataDecorate.duration,callback:function(e){t.$set(t.formDataDecorate,"duration",e)},expression:"formDataDecorate.duration"}})],1),e("a-col",{attrs:{span:7,offset:1}},[e("a-input-number",{attrs:{min:0},model:{value:t.formDataDecorate.duration,callback:function(e){t.$set(t.formDataDecorate,"duration",e)},expression:"formDataDecorate.duration"}}),e("span",{staticClass:"ml-5"},[t._v("S")])],1)],1)],1)],1)],1)],1),[e("choose-image",{ref:"chooseImage",attrs:{max:1,upload_dir:"/decorate/images",type:"image"},on:{callback:t.callback}})]],2):t._e()},s=[],i=(a("c5cb"),a("08c7"),a("19f1"),a("4afa"),a("a2f8")),n=a("5bb2"),r=a("3335"),l=a.n(r),c=a("6cf3"),d={components:{componentDesc:i["default"],IconFont:n["a"],draggable:l.a,ChooseImage:c["a"]},props:{formContent:{type:[String,Object],default:""}},data:function(){return{desc:{title:"轮播图",desc:"轮播图广告位展示，最多可添加5条广告"},labelCol:{span:4},wrapperCol:{span:20},formDataDecorate:"",list:[],currentIndex:0,pageDistanceOptions:[{value:"2",label:this.L("无页面边距"),icon:"iconcatCustomPageNoMargin"},{value:"1",label:this.L("有页面边距"),icon:"iconcatCustomPageMargin"}],isDisabled:!1}},watch:{formDataDecorate:{deep:!0,handler:function(t){var e=this;t&&t.list&&t.list.length&&t.list.forEach((function(a,o){0==o&&a.image&&e.getImgInfo(a.image,(function(a){t.img_height=a.height,t.img_width=a.width,e.$emit("updatePageInfo",t)}))})),this.$emit("updatePageInfo",t)}}},mounted:function(){var t=this;if(this.formContent)for(var e in this.formDataDecorate={},this.formContent)if("duration"==e&&(this.formContent[e]=Number(this.formContent[e])),this.$set(this.formDataDecorate,e,this.formContent[e]),"list"==e&&this.formContent[e]&&this.formContent[e].length){var a=this.formContent[e];a.forEach((function(e,a){0==a&&e.image&&t.getImgInfo(e.image,(function(e){t.$set(t.formDataDecorate,"img_height",e.height),t.$set(t.formDataDecorate,"img_width",e.width)}))}))}},methods:{getLabel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="";return t.length&&t.forEach((function(t){t.value==e&&(a=t.label)})),a},addOpt:function(){var t=this.formDataDecorate.list||[];5!=t.length?(t.push({title:"",link_url:"",image:""}),this.$set(this.formDataDecorate,"list",t)):this.$message.error(this.L("最多可添加5条广告"))},delOpt:function(t){var e=this.formDataDecorate.list||[];e.length&&e.splice(t,1),this.$set(this.formDataDecorate,"list",e)},getLinkUrl:function(t,e){var a=this;this.currentIndex=e,this.$LinkBases({source:this.$store.state.customPage.sourceInfo.source,type:"h5",source_id:this.$store.state.customPage.sourceInfo.source_id,handleOkBtn:function(t){a.$nextTick((function(){var e=a.formDataDecorate.list||[],o=e[a.currentIndex];a.$set(o,"link_url",t.url),a.$set(e,a.currentIndex,o),a.$set(a.formDataDecorate,"list",e)}))}})},chooseImage:function(t,e){this.currentIndex=e,this.$refs.chooseImage.openDialog()},callback:function(t){var e=t.list,a=e.length?e[0]:"",o=this.formDataDecorate.list||[],s=o[this.currentIndex];this.$set(s,"image",a),this.$set(o,this.currentIndex,s),this.$set(this.formDataDecorate,"list",o)},getImgInfo:function(t,e){var a=new Image;a.src=t,a.onload=function(){e&&a&&e(a)}}}},u=d,f=(a("3ff6"),a("0b56")),m=Object(f["a"])(u,o,s,!1,null,"77f29bda",null);e["default"]=m.exports},"9f4e":function(t,e,a){"use strict";a("c931")},ab9d:function(t,e,a){},ac06:function(t,e,a){"use strict";a("e8b8")},b56a:function(t,e,a){"use strict";a.r(e);a("54f8");var o=function(){var t=this,e=t._self._c;return t.formDataDecorate?e("div",[e("componentDesc",{attrs:{content:t.desc}}),e("div",{staticClass:"content"},[e("a-form-model",{attrs:{model:t.formDataDecorate,"label-col":t.labelCol,"wrapper-col":t.wrapperCol,labelAlign:"left"}},[e("div",{staticClass:"content mt-20"},[e("div",{staticClass:"add-nav-wrap mb-20"},[e("draggable",{attrs:{disabled:t.isDisabled},model:{value:t.formDataDecorate.list,callback:function(e){t.$set(t.formDataDecorate,"list",e)},expression:"formDataDecorate.list"}},t._l(t.formDataDecorate.list,(function(a,o){return e("div",{key:o,staticClass:"group-menu-wrap flex align-center",on:{click:function(e){e.stopPropagation(),t.isDisabled=!1}}},[e("a-icon",{staticClass:"delIcon",attrs:{type:"close-circle"},on:{click:function(e){return t.delCurNav(a,o)}}}),e("div",{staticClass:"uploadImgWrap",on:{click:function(e){return t.chooseImage(a,o)}}},[t.formDataDecorate.list&&t.formDataDecorate.list[o].nav_icon?e("div",{staticClass:"pointer img-wrap"},[e("img",{staticStyle:{"max-width":"100%","min-height":"100%"},attrs:{src:a.nav_icon,alt:""}}),e("span",{staticClass:"img-update"},[t._v(t._s(t.L("更换图片")))])]):e("div",[e("div",{staticClass:"flex align-center justify-center flex-column pointer img-wrap"},[e("a-icon",{attrs:{type:"plus"}}),e("span",[t._v(t._s(t.L("添加图片")))])],1),e("span",{staticClass:"cr-red"},[t._v(t._s(t.L("请选择一张图片")))])])]),e("div",{staticClass:"flex-1 linkUrl"},[e("a-form-model-item",{attrs:{label:t.L("标题")}},[e("a-input",{attrs:{placeholder:t.L("请输入导航标题")},on:{mouseenter:function(e){t.isDisabled=!0},mouseleave:function(e){t.isDisabled=!1},click:function(e){e.stopPropagation(),t.isDisabled=!0}},model:{value:a.name,callback:function(e){t.$set(a,"name",e)},expression:"item.name"}})],1),e("a-form-model-item",{attrs:{label:t.L("链接")}},[e("a-input",{staticStyle:{resize:"none"},attrs:{type:"textarea",autoSize:""},on:{mouseenter:function(e){t.isDisabled=!0},mouseleave:function(e){t.isDisabled=!1},click:function(e){e.stopPropagation(),t.isDisabled=!0}},model:{value:a.link_url,callback:function(e){t.$set(a,"link_url",e)},expression:"item.link_url"}}),e("a-button",{on:{click:function(e){return t.getLinkUrl(a,o)}}},[t._v(t._s(t.L("链接库选择")))])],1)],1)],1)})),0)],1)]),t.formDataDecorate.list.length<4?e("div",{staticClass:"mt-20 mb-20"},[e("a-button",{attrs:{block:""},on:{click:t.addNavGroup}},[e("a-icon",{attrs:{type:"plus"}}),t._v(t._s(t.L("添加图文导航")))],1)],1):t._e(),e("a-form-model-item",{staticClass:"flex-end",attrs:{label:t.L("背景颜色")}},[e("div",{staticClass:"flex align-center color-picker-wrap"},[e("span",{staticClass:"color-name"},[t._v(t._s(t.formDataDecorate.bg_color))]),e("label",{staticClass:"color-picker-label",style:[{background:t.formDataDecorate.bg_color}],attrs:{for:"bg_color"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formDataDecorate.bg_color,expression:"formDataDecorate.bg_color"}],attrs:{type:"color",id:"bg_color"},domProps:{value:t.formDataDecorate.bg_color},on:{input:function(e){e.target.composing||t.$set(t.formDataDecorate,"bg_color",e.target.value)}}})]),e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.resetOpt("bg_color")}}},[t._v(t._s(t.L("重置")))])],1)]),e("a-form-model-item",{staticClass:"flex-end",attrs:{label:t.L("文字颜色")}},[e("div",{staticClass:"flex align-center color-picker-wrap"},[e("span",{staticClass:"color-name"},[t._v(t._s(t.formDataDecorate.font_color))]),e("label",{staticClass:"color-picker-label",style:[{background:t.formDataDecorate.font_color}],attrs:{for:"font_color"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formDataDecorate.font_color,expression:"formDataDecorate.font_color"}],attrs:{type:"color",id:"font_color"},domProps:{value:t.formDataDecorate.font_color},on:{input:function(e){e.target.composing||t.$set(t.formDataDecorate,"font_color",e.target.value)}}})]),e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.resetOpt("font_color")}}},[t._v(t._s(t.L("重置")))])],1)])],1)],1),[e("choose-image",{ref:"chooseNavPic",attrs:{max:1,upload_dir:"/decorate/images",type:"image"},on:{callback:t.uploadNavIconCallback}})]],2):t._e()},s=[],i=(a("4afa"),a("a2f8")),n=a("5bb2"),r=a("3335"),l=a.n(r),c=a("6cf3"),d={components:{componentDesc:i["default"],IconFont:n["a"],draggable:l.a,ChooseImage:c["a"]},props:{formContent:{type:[String,Object],default:""}},data:function(){return{desc:{title:"图文导航",desc:"默认展示4个导航，若需更多导航，请继续添加该组件"},labelCol:{span:4},wrapperCol:{span:20},formDataDecorate:"",list:[],currentIndex:0,bg_color:"#ffffff",font_color:"#000000",isDisabled:!1}},watch:{formDataDecorate:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t)}}},mounted:function(){if(this.formContent)for(var t in this.formDataDecorate={},this.formContent)this.$set(this.formDataDecorate,t,this.formContent[t])},methods:{addNavGroup:function(){var t=this.formDataDecorate.list||[];t.push({name:"",link_url:"",nav_icon:""}),this.$set(this.formDataDecorate,"list",t)},delCurNav:function(t,e){var a=this.formDataDecorate.list||[];a.length&&a.splice(e,1),this.$set(this.formDataDecorate,"list",a)},getLinkUrl:function(t,e){var a=this;this.currentIndex=e,this.$LinkBases({source:this.$store.state.customPage.sourceInfo.source,type:"h5",source_id:this.$store.state.customPage.sourceInfo.source_id,handleOkBtn:function(t){a.$nextTick((function(){var e=a.formDataDecorate.list||[],o=e[a.currentIndex];a.$set(o,"link_url",t.url),a.$set(e,a.currentIndex,o),a.$set(a.formDataDecorate,"list",e)}))}})},resetOpt:function(t){this.$set(this.formDataDecorate,t,this[t])},chooseImage:function(t,e){this.currentIndex=e,this.$refs.chooseNavPic.openDialog()},uploadNavIconCallback:function(t){var e=t.list,a=e.length?e[0]:"",o=this.formDataDecorate.list||[],s=o[this.currentIndex];this.$set(s,"nav_icon",a),this.$set(o,this.currentIndex,s),this.$set(this.formDataDecorate,"list",o)}}},u=d,f=(a("6054"),a("0b56")),m=Object(f["a"])(u,o,s,!1,null,"61f25e76",null);e["default"]=m.exports},b68d:function(t,e,a){},b8ad:function(t,e,a){},bc16:function(t,e,a){"use strict";a("27b4")},c599:function(t,e,a){"use strict";a("f3d9")},c649:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",[e("componentDesc",{attrs:{content:t.desc}}),t.formDataDecorate?e("div",{staticClass:"content"},[e("a-form-model",{attrs:{model:t.formDataDecorate,"label-col":t.labelCol,"wrapper-col":t.wrapperCol,labelAlign:"left"}},[e("a-form-model-item",{staticClass:"form-model",attrs:{label:t.L("频道导航样式")}},[e("div",{staticClass:"flex align-center"},[e("span",{staticClass:"ml-20"},[t._v(t._s(t.getLabel(t.styleTypeOptions,t.formDataDecorate.style_type)))]),e("span",{staticClass:"ml-20"},[t._v(t._s("1"==t.formDataDecorate.style_type?t.L("建议尺寸X1 X X2px",{X1:100,X2:100}):t.L("建议尺寸X1 X X2px",{X1:48,X2:48})))])])]),e("div",[e("a-radio-group",{attrs:{"button-style":"solid"},on:{change:function(e){return t.radioChange(e,"style_type")}},model:{value:t.formDataDecorate.style_type,callback:function(e){t.$set(t.formDataDecorate,"style_type",e)},expression:"formDataDecorate.style_type"}},t._l(t.styleTypeOptions,(function(t){return e("a-radio-button",{key:t.value,attrs:{value:t.value}},[e("IconFont",{attrs:{type:t.icon}})],1)})),1)],1),e("a-form-model-item",{staticClass:"mt-20 form-model",attrs:{label:t.L("频道展示行数")}},[e("div",{staticClass:"flex align-center"},[e("span",{staticClass:"ml-20"},[t._v(t._s(t.getLabel(t.showColumnOptions,t.formDataDecorate.show_column)))])])]),e("div",[e("a-radio-group",{attrs:{"button-style":"solid"},model:{value:t.formDataDecorate.show_column,callback:function(e){t.$set(t.formDataDecorate,"show_column",e)},expression:"formDataDecorate.show_column"}},t._l(t.showColumnOptions,(function(a){return e("a-radio-button",{key:a.value,attrs:{value:a.value}},[t._v(" "+t._s(a.label)+" ")])})),1)],1),t._l(t.formDataDecorate.list,(function(a,o){return e("div",{key:o,staticClass:"group-menu-wrap mt-20"},[e("a-icon",{staticClass:"delIcon",attrs:{type:"close-circle"},on:{click:function(e){return t.delOpt(o)}}}),e("div",{staticClass:"flex"},[e("div",{staticClass:"uploadImgWrap",on:{click:function(e){return t.chooseImage(a,o)}}},[t.formDataDecorate.list&&t.formDataDecorate.list[o].image?e("div",{staticClass:"pointer img-wrap"},[e("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:a.image,alt:""}}),e("span",{staticClass:"img-update"},[t._v(t._s(t.L("更换图片")))])]):e("div",[e("div",{staticClass:"flex align-center justify-center flex-column pointer img-wrap"},[e("a-icon",{attrs:{type:"plus"}}),e("span",[t._v(t._s(t.L("添加图片")))])],1),e("span",{staticClass:"cr-red"},[t._v(t._s(t.L("请选择一张图片")))])])]),e("div",{staticClass:"flex-1 linkUrl"},[e("a-form-model-item",{attrs:{label:t.L("标题"),rules:{required:!0},wrapperCol:{span:19}}},[e("a-input",{attrs:{placeholder:t.L("请输入导航标题"),maxLength:4},model:{value:a.title,callback:function(e){t.$set(a,"title",e)},expression:"item.title"}})],1),e("a-form-model-item",{attrs:{label:t.L("链接"),wrapperCol:{span:19}}},[e("a-dropdown",{attrs:{getPopupContainer:function(t){return t.parentNode}}},[e("a-menu",{attrs:{slot:"overlay"},on:{click:function(e){return t.handleMenuClick(e,o)}},slot:"overlay"},[t._l(t.linkUrlOptions,(function(a){return["1"!=a.value?e("a-menu-item",{key:a.value},[t._v(" "+t._s(a.label)+" ")]):e("a-sub-menu",{key:a.value,attrs:{title:a.label}},t._l(a.children,(function(a,o){return e("a-menu-item",{key:o},[t._v(t._s(a.label))])})),1)]}))],2),e("a-button",{staticClass:"text-nowrap text-els flex justify-between align-center",staticStyle:{width:"242px"}},[e("span",{staticClass:"text-nowrap text-els flex-1 text-left"},[t._v(t._s("1"==a.link_type?a.link_url_label?a.link_url_label:t.L("跳转页面方式"):a.link_url?a.link_url:t.L("跳转页面方式"))+" ")]),e("a-icon",{attrs:{type:"down"}})],1)],1)],1)],1)]),e("div",[e("a-form-model-item",{attrs:{label:t.L("角标"),labelCol:{span:3},wrapperCol:{span:21}}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(1==a.show_badge?t.L("显示"):t.L("不显示")))]),e("a-checkbox",{attrs:{checked:1==a.show_badge},on:{change:function(e){return t.isChange(e,o)}}})],1)]),1==a.show_badge?e("a-form-model-item",{attrs:{label:""}},[e("a-input",{staticStyle:{width:"100px"},attrs:{maxLength:3},model:{value:a.badge_val,callback:function(e){t.$set(a,"badge_val",e)},expression:"item.badge_val"}})],1):t._e()],1)],1)})),e("div",{staticClass:"mt-20 mb-20"},[e("a-button",{attrs:{block:""},on:{click:function(e){return t.addOpt()}}},[e("a-icon",{attrs:{type:"plus"}}),t._v(t._s(t.L("添加导航")))],1)],1)],2)],1):t._e(),e("choose-image",{ref:"chooseImage",attrs:{max:1,upload_dir:"/decorate/images",type:"image"},on:{callback:t.callback}}),e("a-modal",{attrs:{title:t.L("自定义链接"),visible:t.visible,destroyOnClose:!0,width:"60%",cancelText:t.L("取消"),okText:t.L("确定")},on:{ok:t.handleOk,cancel:t.handleCancel}},[e("a-row",{staticClass:"mb-20",attrs:{type:"flex",justify:"space-between"}},[e("a-col",{attrs:{span:"4"}},[t._v(" "+t._s(t.L("链接地址"))+"： ")]),e("a-col",{attrs:{span:"20"}},[e("a-input",{attrs:{placeholder:t.L("请输入")},model:{value:t.inputLinkUrl,callback:function(e){t.inputLinkUrl=e},expression:"inputLinkUrl"}})],1)],1)],1)],1)},s=[],i=(a("c5cb"),a("08c7"),a("4afa"),a("6e84"),a("a2f8")),n=a("5bb2"),r=a("6cf3"),l=a("9686"),c={components:{componentDesc:i["default"],IconFont:n["a"],ChooseImage:r["a"]},props:{formContent:{type:[String,Object],default:""}},data:function(){return{desc:{title:"频道导航栏列表"},labelCol:{span:5},wrapperCol:{span:18},formDataDecorate:"",styleTypeOptions:[{value:"1",label:this.L("大图"),icon:"iconcatCustomPageBigImg"},{value:"2",label:this.L("小图"),icon:"iconcatCustomPageSmallImg"}],showColumnOptions:[{value:"1",label:this.L("X1行轮播",{X1:1}),icon:"iconCustomPageStyleType8"},{value:"2",label:this.L("X1行轮播",{X1:2}),icon:"iconCustomPageStyleType8"},{value:"3",label:this.L("X1行轮播",{X1:3}),icon:"iconCustomPageStyleType8"},{value:"4",label:this.L("X1行轮播",{X1:4}),icon:"iconCustomPageStyleType8"}],currentIndex:-1,linkUrlOptions:[{value:"1",label:this.L("绑定子分类店铺数据"),children:[]},{value:"2",label:this.L("功能库链接")},{value:"3",label:this.L("自定义链接")}],visible:!1,inputLinkUrl:""}},watch:{formDataDecorate:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t)}}},mounted:function(){if(this.formContent)for(var t in this.formDataDecorate={},this.formContent)this.$set(this.formDataDecorate,t,this.formContent[t]);this.getMerchantCategoryChildList()},methods:{getLabel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="";return t.length&&t.forEach((function(t){t.value==e&&(a=t.label)})),a},addOpt:function(){var t=this.formDataDecorate.list||[];t.push({title:this.L("标题X1",{X1:t.length+1}),link_url:"",image:"",show_badge:"1",badge_val:""}),this.$set(this.formDataDecorate,"list",t)},delOpt:function(t){var e=this.formDataDecorate.list||[];e.length&&e.splice(t,1),this.$set(this.formDataDecorate,"list",e)},chooseImage:function(t,e){this.currentIndex=e,this.$refs.chooseImage.openDialog()},callback:function(t){var e=t.list,a=e.length?e[0]:"",o=this.formDataDecorate.list||[],s=o[this.currentIndex];this.$set(s,"image",a),this.$set(o,this.currentIndex,s),this.$set(this.formDataDecorate,"list",o)},isChange:function(t,e){var a=this.formDataDecorate.list||[],o=a[e];this.$set(o,"show_badge",t.target.checked?"1":"2"),this.$set(a,e,o),this.$set(this.formDataDecorate,"list",a)},getMerchantCategoryChildList:function(){var t=this,e={cat_id:this.$store.state.customPage.sourceInfo.source_id};this.request(l["a"].getMerchantCategoryChildList,e).then((function(e){var a=e.list||[];a.length&&(a.forEach((function(t){t.value=t.cat_url,t.label=t.cat_name})),t.linkUrlOptions.forEach((function(t){"1"==t.value&&(t.children=t.children.concat(a))})))}))},getLinkUrl:function(){var t=this;this.$LinkBases({source:this.$store.state.customPage.sourceInfo.source,type:"h5",source_id:this.$store.state.customPage.sourceInfo.source_id,handleOkBtn:function(e){t.$nextTick((function(){var a=t.formDataDecorate.list||[],o=a[t.currentIndex];t.$set(o,"link_url",e.url),t.$set(a,t.currentIndex,o),t.$set(t.formDataDecorate,"list",a)}))}})},handleOk:function(){var t=this.formDataDecorate.list||[],e=t[this.currentIndex];console.log("this.currentIndex",this.currentIndex),this.$set(e,"link_url",this.inputLinkUrl),this.$set(t,this.currentIndex,e),this.$set(this.formDataDecorate,"list",t),this.handleCancel()},handleCancel:function(){this.visible=!1,this.inputLinkUrl=""},handleMenuClick:function(t,e){this.currentIndex=e;var a=t.keyPath[t.keyPath.length-1],o=this.formDataDecorate.list||[],s=o[this.currentIndex];if("1"==a){var i=t.key,n="".concat(this.linkUrlOptions[0].label,"/").concat(this.linkUrlOptions[0]["children"][i]["label"]),r="".concat(this.linkUrlOptions[0]["children"][i]["value"]);this.$set(s,"link_url",r),this.$set(s,"link_url_label",n)}else"2"==a?this.getLinkUrl():"3"==a&&(this.visible=!0);this.$set(s,"link_type",a),this.$set(o,this.currentIndex,s),this.$set(this.formDataDecorate,"list",o)},radioChange:function(t,e){this.$set(this.formDataDecorate,e,t.target.value)}}},d=c,u=(a("1811"),a("0b56")),f=Object(u["a"])(d,o,s,!1,null,"0cbfe55d",null);e["default"]=f.exports},c660:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjkxMTg5NkE3M0VBMTExRUI4NUFDODgzODc3Q0QyMDMwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjkxMTg5NkE4M0VBMTExRUI4NUFDODgzODc3Q0QyMDMwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OTExODk2QTUzRUExMTFFQjg1QUM4ODM4NzdDRDIwMzAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OTExODk2QTYzRUExMTFFQjg1QUM4ODM4NzdDRDIwMzAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5BTNpWAAAEdklEQVR42uybXUgUURTH7272EIXSU4Gt4ENFBUmkD0X0Ke2mCEJpPQRFSgXRh0JFVGRRvRQqRi+ZYB9UJhRpDxqaJlJRD0Fg9VLBbg9G9JAEQkH1P+tZma6zu7PNx96Z6cDhjuPsnfv7zz33a+YGhAM2t/n3WiQheAGn2mOyGDzK6eTx6KHAoN1lC9gEXIgkAg/DN8Bn/WNW3+H98F54DwT5qKwAgM5FUs/Aq2x6YMMsSCPEGFNGAMDXIKmDLxHO2Ai8CSK0ZVUAgIcZPCyyY70sRK+jAgB8BpJL8BqhhlFN2A8hxm0XAPDz+IYbhVr2iB4IRPhkmwCAX8o3miPUtM/0YCDCa8sFADy17n3CHVYKEfqNXBg0CN/gIniyPi6z+RrAXdxV4U6rTddVBgx0cz3C3RZJ1U0GUsAvRvIMnutyAWjEuAIivDHcBvCwtt0D8IIZ2pnJcCPYCC8R3rESZkofAh6Je8PtgV4NqBPetbqUIcBdXtjDAoSZcWoIcCPx1MEpbbaMptIrE+sJ2hpQ7wN4wYx1eiGwWvjH1vwVAqj+tDgZdUnhv8A74bTuuMlEPgUIg1hQVkRxe0VlRcH3wctwXG22FiQEiLgA/jl8C8Dfas6Nm8gvohWgQnH4QfhmwH9InFjR+mMakr0m8owzB/ilxYDC8DQq3Q74r5ouOw/JLXiZybzXUQ0IKQz/AF4lwecj6bIAnixEAhQoCt9ROPMnxfx3DfxChreqyy7IUbQGXAP4ztG/h+nLudovsPA+IRVD4ArBS3OUNRwOCyy+lyUhcJtaaPhRHmebsRbA75Hgyxk+3waxLQmBbhT6Hhe2i6vpsn/I5wLyOSLBb0VyE55jU20LBS3IZHJgAoB31GrDX2SYx1kdeJq23rERfnIyFDOZxxntHwB5zyIMG/z9CfzmpAR/UDizFB+fC5idBFWgwHclEaIsQroB1mFce06CP46k2aEGN2pFDSCr0hFhlEVItiZ/ANdclODPUzg42OPErBIgmQhfecb2ULp2N/53SYJvQXLM4S7XkhBIJ8IYi3CfT+3AuVYJPv5+PwtjjqiVNSCVCOMswjYcX0+cn3/513Rc24HDXVkadMUSK0LfhPVvgToBm3TBAvecjeQGvDxL8GMoX15iHNBtww2m1AQNfIhDIlvwk8xBzZxbOCEC/l6EhEaO2V6GizMnRllPbLxRlfSxwilFJl1xZu2Lkce0QiL8YQOI//XaECAbEv6xIe1cIGGNFkxn3WAjQvOqPCgNWJp8IECT9jtjve8DqHX06hviXsBH5OnwFIW8/PT11gOENGyl2VubB+Hb9L4WS7YiRK/KX3oI/iUzTbH/n8kl+xX/oNoDT786GXxKATTtQa2L4WvTbaZIuyrM39o2uBD+tJEtNf8/lzeaI2dYJCY2JahqVLYio/AZCcAi0E6MYjGxa0Q1ozIVZ7JbJGMBWATak1Op2GCJylKZ6X6hjNqAJO2CP7fN6Qjhz42Tkgi5LEKp8NvWWR0x/Ld5Oo0ga4Wi2+f/CDAAp9WWHrao0YwAAAAASUVORK5CYII="},c6f4:function(t,e,a){"use strict";a("77a6")},c931:function(t,e,a){},cacd:function(t,e,a){"use strict";a("2159")},d043:function(t,e,a){"use strict";var o={getHotWordsList:"/common/platform.HotWords/getHotWordsList",getWordDetail:"/common/platform.HotWords/getWordDetail",getHotWordsEdit:"/common/platform.HotWords/getHotWordsEdit",getHotWordsEditSort:"/common/platform.HotWords/getHotWordsEditSort",delWords:"/common/platform.HotWords/delWords"};e["a"]=o},d5c5:function(t,e,a){"use strict";a.r(e);a("54f8");var o=function(){var t=this,e=t._self._c;return t.formDataDecorate?e("div",[e("componentDesc",{attrs:{content:t.desc}}),e("div",{staticClass:"content"},[e("a-form-model",{attrs:{model:t.formDataDecorate,"label-col":t.labelCol,"wrapper-col":t.wrapperCol,labelAlign:"left"}},[e("div",{staticClass:"content mt-20"},[e("div",{staticClass:"add-nav-wrap mb-20"},[e("draggable",{attrs:{disabled:t.isDisabled},model:{value:t.formDataDecorate.list,callback:function(e){t.$set(t.formDataDecorate,"list",e)},expression:"formDataDecorate.list"}},t._l(t.formDataDecorate.list,(function(a,o){return e("div",{key:o,staticClass:"group-menu-wrap",on:{click:function(e){e.stopPropagation(),t.isDisabled=!1}}},[e("a-icon",{staticClass:"delIcon",attrs:{type:"close-circle"},on:{click:function(e){return t.delCurNav(a,o)}}}),e("a-form-model-item",{attrs:{label:t.L("标题"),prop:"list."+o+".name",rules:{required:!0,message:t.L("标题不能为空"),trigger:"change"}}},[e("a-input",{attrs:{placeholder:t.L("请输入导航标题")},on:{mouseenter:function(e){t.isDisabled=!0},mouseleave:function(e){t.isDisabled=!1},click:function(e){e.stopPropagation(),t.isDisabled=!0}},model:{value:a.name,callback:function(e){t.$set(a,"name",e)},expression:"item.name"}})],1),e("a-form-model-item",{attrs:{label:t.L("链接")}},[e("a-input",{staticStyle:{resize:"none"},attrs:{type:"textarea",autoSize:""},on:{mouseenter:function(e){t.isDisabled=!0},mouseleave:function(e){t.isDisabled=!1},click:function(e){e.stopPropagation(),t.isDisabled=!0}},model:{value:a.link_url,callback:function(e){t.$set(a,"link_url",e)},expression:"item.link_url"}}),e("a-button",{on:{click:function(e){return t.getLinkUrl(a,o)}}},[t._v(t._s(t.L("链接库选择")))])],1)],1)})),0)],1)]),e("div",{staticClass:"mt-20 mb-20"},[e("a-button",{attrs:{block:""},on:{click:t.addNavGroup}},[e("a-icon",{attrs:{type:"plus"}}),t._v(t._s(t.L("添加文本导航")))],1)],1),e("a-form-model-item",{staticClass:"flex-end",attrs:{label:t.L("背景颜色")}},[e("div",{staticClass:"flex align-center color-picker-wrap"},[e("span",{staticClass:"color-name"},[t._v(t._s(t.formDataDecorate.bg_color))]),e("label",{staticClass:"color-picker-label",style:[{background:t.formDataDecorate.bg_color}],attrs:{for:"bg_color"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formDataDecorate.bg_color,expression:"formDataDecorate.bg_color"}],attrs:{type:"color",id:"bg_color"},domProps:{value:t.formDataDecorate.bg_color},on:{input:function(e){e.target.composing||t.$set(t.formDataDecorate,"bg_color",e.target.value)}}})]),e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.resetOpt("bg_color")}}},[t._v(t._s(t.L("重置")))])],1)]),e("a-form-model-item",{staticClass:"flex-end",attrs:{label:t.L("文字颜色")}},[e("div",{staticClass:"flex align-center color-picker-wrap"},[e("span",{staticClass:"color-name"},[t._v(t._s(t.formDataDecorate.font_color))]),e("label",{staticClass:"color-picker-label",style:[{background:t.formDataDecorate.font_color}],attrs:{for:"font_color"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formDataDecorate.font_color,expression:"formDataDecorate.font_color"}],attrs:{type:"color",id:"font_color"},domProps:{value:t.formDataDecorate.font_color},on:{input:function(e){e.target.composing||t.$set(t.formDataDecorate,"font_color",e.target.value)}}})]),e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.resetOpt("font_color")}}},[t._v(t._s(t.L("重置")))])],1)])],1)],1)],1):t._e()},s=[],i=(a("4afa"),a("a2f8")),n=a("5bb2"),r=a("3335"),l=a.n(r),c={components:{componentDesc:i["default"],IconFont:n["a"],draggable:l.a},props:{formContent:{type:[String,Object],default:""}},data:function(){return{desc:{title:this.L("文本导航")},labelCol:{span:5},wrapperCol:{span:19},formDataDecorate:"",list:[],currentIndex:0,bg_color:"#ffffff",font_color:"#000000",isDisabled:!1}},watch:{formDataDecorate:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t)}}},mounted:function(){if(this.formContent)for(var t in this.formDataDecorate={},this.formContent)this.$set(this.formDataDecorate,t,this.formContent[t])},methods:{addNavGroup:function(){var t=this.formDataDecorate.list||[];t.push({name:"",link_url:""}),this.$set(this.formDataDecorate,"list",t)},delCurNav:function(t,e){var a=this.formDataDecorate.list||[];a.length&&a.splice(e,1),this.$set(this.formDataDecorate,"list",a)},getLinkUrl:function(t,e){var a=this;this.currentIndex=e,this.$LinkBases({source:this.$store.state.customPage.sourceInfo.source,type:"h5",source_id:this.$store.state.customPage.sourceInfo.source_id,handleOkBtn:function(t){a.$nextTick((function(){var e=a.formDataDecorate.list||[],o=e[a.currentIndex];a.$set(o,"link_url",t.url),a.$set(e,a.currentIndex,o),a.$set(a.formDataDecorate,"list",e)}))}})},resetOpt:function(t){this.$set(this.formDataDecorate,t,this[t])}}},d=c,u=(a("ac06"),a("0b56")),f=Object(u["a"])(d,o,s,!1,null,"7438b578",null);e["default"]=f.exports},d792:function(t,e,a){},d7f5:function(t,e,a){},d9e4:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",[t.component&&t.formContent?e(t.component,{tag:"component",attrs:{formContent:t.formContent},on:{updatePageInfo:t.updatePageInfo}}):t._e()],1)},s=[],i=(a("075f"),a("9251")),n=a("3884"),r=a("ed7d"),l=a("30b0"),c=a("7d87"),d=a("5e3f"),u=a("e094"),f=a("956e"),m=a("e6c3"),h=a("7858"),p=a("d5c5"),g=a("803f"),D=a("fa7e"),v=a("3d1a"),_=a("b56a"),b=a("89d7"),y=a("5083"),C=a("66f7"),w=a("654a"),L=a("501a"),x=a("ed0d"),k=a("628a"),I=a("e4d6"),$=a("0242"),S=a("c649"),P=a("0bc9"),O=a("9e66"),M=a("fedd"),j=a("1238"),A={enterStore:i["default"],coupon:n["default"],marketingActivities:r["default"],mallLimited:l["default"],mallBargain:l["default"],mallGroup:l["default"],mallPeriod:l["default"],mallGoodsSearch:c["default"],shopGoodsSearch:c["default"],magicSquare:d["default"],mallGoods:u["default"],shopModules:f["default"],shopGoods:u["default"],titleText:m["default"],richText:h["default"],textNav:p["default"],helpLine:g["default"],helpBlank:D["default"],imgAdver:v["default"],picNav:_["default"],customVideo:b["default"],customModule:y["default"],onlineService:C["default"],notice:w["default"],contactStore:L["default"],storeMap:x["default"],storeHeader:k["default"],categoryHeader:I["default"],hotWords:$["default"],swiperNav:S["default"],porcelainArea:P["default"],swiperPic:O["default"],feedModule:M["default"],freeModule:j["default"]},G={data:function(){return{component:"",formContent:""}},computed:{componentId:function(){return this.component=A[this.$store.state.customPage.componentId]||"",this.$store.state.customPage.componentId},pageInfo:function(){return this.$store.state.customPage.pageInfo},customIndex:function(){return this.$store.state.customPage.customIndex},subCustomIndex:function(){return this.$store.state.customPage.subCustomIndex}},watch:{componentId:{deep:!0,handler:function(t){this.component=A[t]||""}},customIndex:{deep:!0,handler:function(t,e){this.getCustomInfo()}},subCustomIndex:{deep:!0,handler:function(t,e){this.getCustomInfo()}},pageInfo:{immediate:!0,handler:function(t,e){this.formContent||this.getCustomInfo()}}},mounted:function(){this.getCustomInfo()},methods:{getCustomInfo:function(){var t=this,e=this.customIndex,a=this.pageInfo;if(a){var o=a.custom?JSON.parse(JSON.stringify(a.custom)):[];o.length&&-1!=e?(this.formContent="",this.$nextTick((function(){var a=o[e]&&o[e].content?JSON.parse(JSON.stringify(o[e].content)):"";if(-1!=t.subCustomIndex&&a&&a.list&&a.list.length&&(a=a.list[t.subCustomIndex].content),a&&"{}"!=JSON.stringify(a)&&"[]"!=JSON.stringify(a)){for(var s in t.formContent={},a)t.$set(t.formContent,s,a[s]);t.$forceUpdate()}else"{}"==JSON.stringify(a)||"[]"==JSON.stringify(a)?t.formContent=a:t.formContent=""}))):this.formContent=""}else this.formContent=""},updatePageInfo:function(t){if(this.pageInfo){var e=this.pageInfo,a=e.custom?JSON.parse(JSON.stringify(e.custom)):[],o=this.$store.state.customPage,s=o.customIndex,i=void 0===s?-1:s,n=o.subCustomIndex,r=void 0===n?-1:n;a.length&&-1!=i&&(a=a.map((function(e,a){return"freeModule"==e.type&&a==i&&-1!=r?e.content.list[r]["content"]=t?JSON.parse(JSON.stringify(t)):"":a==i&&(e.content=t?JSON.parse(JSON.stringify(t)):""),e})),this.$set(e,"custom",a),this.$store.dispatch("updatePageInfo",e))}}}},T=G,R=a("0b56"),N=Object(R["a"])(T,o,s,!1,null,"9fd90012",null);e["default"]=N.exports},da20:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("a-modal",{attrs:{title:t.L("微页面"),visible:t.visible,destroyOnClose:!0,width:"60%",cancelText:t.L("取消"),okText:t.L("确定")},on:{ok:t.handleOk,cancel:t.handleCancel}},[e("a-row",{staticClass:"mb-20",attrs:{type:"flex",justify:"space-between"}},[e("a-col",[e("a-button",{staticClass:"mr-20",on:{click:function(e){return t.addCustomPageOpt()}}},[t._v(" "+t._s(t.L("新建")))]),e("a-button",{on:{click:function(e){return t.refreshOpt()}}},[t._v(" "+t._s(t.L("刷新")))])],1)],1),e("a-table",{attrs:{"row-selection":{selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange,type:"radio"},columns:t.columns,rowKey:"id",scroll:{y:442},customRow:t.customRow,pagination:t.pagination,"data-source":t.dataList},scopedSlots:t._u([{key:"page_title",fn:function(a,o){return e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.stopPropagation(),t.previewOpt(o)}}},[t._v(" "+t._s(a)+" ")])}}])})],1)},s=[],i=(a("cd5d"),a("c5cb"),a("9686")),n={props:{isCustomModule:{type:Boolean,default:!1}},data:function(){var t=this;return{visible:!1,dataList:[],selectedRowKeys:[],columns:[{title:this.L("标题"),dataIndex:"page_title",key:"page_title",scopedSlots:{customRender:"page_title"}},{title:this.L("创建时间"),dataIndex:"create_time",key:"create_time"}],pagination:{current:1,pageSize:10,total:0,"show-total":function(e){return!!e&&t.L("共 X1 条记录",{X1:e})},"show-size-changer":!0,"show-quick-jumper":!0,onChange:this.onPageChange,onShowSizeChange:this.onPageSizeChange},pageId:"",sourceInfo:""}},computed:{current:function(){var t=this,e="";return this.dataList.length&&this.selectedRowKeys.length&&(e=this.dataList.filter((function(e){if(e.id==t.selectedRowKeys[0])return e}))[0]||""),e}},methods:{openModal:function(t){this.pageId=t.id||"",this.pageId&&(this.selectedRowKeys=[this.pageId]),this.sourceInfo=t.sourceInfo||"",this.visible=!0,this.getCustomPageList()},getCustomPageList:function(){var t=this,e={source:this.sourceInfo.source,source_id:this.sourceInfo.source_id,keyword:"",page:this.pagination.current,pageSize:this.pagination.pageSize};this.request(i["a"].getMicroPageList,e).then((function(e){t.dataList=e.list||[],!t.selectedRowKeys.length&&t.dataList.length&&(t.selectedRowKeys=t.dataList[0].id?[t.dataList[0].id]:[]),t.$set(t.pagination,"total",e.total)}))},onPageChange:function(t,e){this.$set(this.pagination,"current",t),this.getCustomPageList()},onPageSizeChange:function(t,e){this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",e),this.getCustomPageList()},onSelectChange:function(t){console.log(t,"selectedRowKeys"),this.selectedRowKeys=t},customRow:function(t,e){var a=this;return{on:{click:function(e){a.selectedRowKeys=[t.id]}}}},handleOk:function(){var t=this;if(this.isCustomModule)return this.handleCancel(),void this.$emit("getIndexPageOpt",{current:this.current});var e={id:this.selectedRowKeys[0],source:this.sourceInfo.source,source_id:this.sourceInfo.source_id};this.request(i["a"].setHomePage,e).then((function(e){t.handleCancel()}))},handleCancel:function(){this.visible=!1,this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",10)},refreshOpt:function(){this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",10),this.getCustomPageList()},addCustomPageOpt:function(){var t=this.$store.state.customPage["".concat(this.sourceInfo.source,"CustomPage")],e=this.$router.resolve({path:t,query:{source:this.sourceInfo.source,source_id:this.sourceInfo.source_id}});window.open(e.href,"_blank")},previewOpt:function(t){var e=t.link_url||"";e&&window.open(e)}}},r=n,l=(a("2a26"),a("0b56")),c=Object(l["a"])(r,o,s,!1,null,"fcb9b41a",null);e["default"]=c.exports},db11:function(t,e,a){"use strict";a("5b9d")},ddd5:function(t,e,a){},e094:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return t.formDataDecorate?e("div",{key:t.componentId,staticClass:"mallGoodsDecorateWrap"},[e("componentDesc",{attrs:{content:t.desc}}),e("div",[e("a-form-model",{attrs:{model:t.formDataDecorate,"label-col":t.labelCol,"wrapper-col":t.wrapperCol,labelAlign:"left"}},[e("a-tabs",{on:{change:function(e){return t.initList(e,"goods_type")}},model:{value:t.formDataDecorate.goods_type,callback:function(e){t.$set(t.formDataDecorate,"goods_type",e)},expression:"formDataDecorate.goods_type"}},[e("a-tab-pane",{key:"1",attrs:{tab:t.L("商品")}}),e("a-tab-pane",{key:"2",attrs:{tab:t.L("商品分组")}})],1),"1"==t.formDataDecorate.goods_type?e("div",{staticClass:"content mt-20"},[e("a-form-model-item",{attrs:{label:t.L("添加商品")}},[e("a-row",[e("a-col",{staticClass:"text-right"},[e("a-radio-group",{on:{change:function(e){return t.initList(e,"goods_type_val")}},model:{value:t.formDataDecorate.goods_type_val,callback:function(e){t.$set(t.formDataDecorate,"goods_type_val",e)},expression:"formDataDecorate.goods_type_val"}},[e("a-radio",{attrs:{value:"1"}},[t._v(t._s(t.L("商品")))]),e("a-radio",{attrs:{value:"2"}},[t._v(t._s(t.L("商品分组")))])],1)],1)],1)],1),e("div",{staticClass:"add-goods-wrap mb-20"},["1"==t.formDataDecorate.goods_type_val?e("div",{staticClass:"flex flex-wrap"},[t._l(t.formDataDecorate.list,(function(a,o){return e("div",{key:a.goods_id,staticClass:"add-goods-btn flex justify-center align-center goods-list-item"},[e("img",{attrs:{src:a.image,alt:""}}),e("a-icon",{staticClass:"delIcon",attrs:{type:"close-circle"},on:{click:function(e){return t.goodsDelOpt(a,o)}}})],1)})),e("div",[e("div",{staticClass:"add-goods-btn flex justify-center align-center pointer cr-primary",on:{click:function(e){return t.addGoodsOpt()}}},[e("a-icon",{attrs:{type:"plus"}})],1),t.formDataDecorate.list&&t.formDataDecorate.list.length?t._e():e("div",{staticClass:"cr-red mt-10"},[t._v(" "+t._s(t.L("请添加商品"))+" ")])])],2):e("div",[!t.formDataDecorate.list||t.formDataDecorate.list&&!t.formDataDecorate.list.length?e("div",{staticClass:"mt-20 mb-20"},[e("a-button",{attrs:{block:""},on:{click:function(e){return t.addGoodsOpt()}}},[e("a-icon",{attrs:{type:"plus"}}),t._v(t._s(t.L("添加商品分组"))+" ")],1)],1):e("div",t._l(t.formDataDecorate.list,(function(a,o){return e("div",{key:a.id,staticClass:"flex justify-between goods-group"},[e("span",{staticClass:"flex-1 no-wrap"},[t._v(t._s(a.cat_name))]),e("div",[e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.addGoodsOpt()}}},[e("a-icon",{staticClass:"ml-10",attrs:{type:"edit"}})],1),e("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.goodsDelOpt(a,o)}}},[e("a-icon",{staticClass:"ml-10",attrs:{type:"delete"}})],1)])])})),0)])])],1):t._e(),"2"==t.formDataDecorate.goods_type?e("div",{staticClass:"content mt-20"},[e("a-form-model-item",{attrs:{label:t.L("添加分组")}},[e("span",{staticClass:"ant-form-explain"},[t._v(t._s(t.L("最多添加X1个商品分组",{X1:15})))])]),e("div",{staticClass:"add-goods-wrap mb-20"},[e("draggable",{attrs:{disabled:t.isDisabled},model:{value:t.formDataDecorate.list,callback:function(e){t.$set(t.formDataDecorate,"list",e)},expression:"formDataDecorate.list"}},t._l(t.formDataDecorate.list,(function(a,o){return e("div",{key:o,staticClass:"group-menu-wrap",on:{click:function(e){e.stopPropagation(),t.isDisabled=!1}}},[e("a-icon",{staticClass:"delIcon",attrs:{type:"close-circle"},on:{click:function(e){return t.goodsDelOpt(a,o)}}}),e("a-form-model-item",{attrs:{label:t.L("商品来源")}},[e("div",{staticClass:"flex justify-between"},[e("span",{staticClass:"flex-1 no-wrap"},[t._v(" "+t._s(a.cat_name)+" ")]),"all"!=a.id?e("div",{staticClass:"ml-10",on:{click:function(e){return t.goodsGroupEdit(o,a.id)}}},[e("a",{attrs:{href:"javascript:void(0);"}},[e("a-icon",{attrs:{type:"edit"}})],1)]):t._e()])]),e("a-form-model-item",{attrs:{label:t.L("菜单名称")}},[e("a-input",{on:{mouseenter:function(e){t.isDisabled=!0},mouseleave:function(e){t.isDisabled=!1},click:function(e){e.stopPropagation(),t.isDisabled=!0}},model:{value:a.cat_name,callback:function(e){t.$set(a,"cat_name",e)},expression:"item.cat_name"}})],1),e("a-form-model-item",{attrs:{label:t.L("显示个数")}},[e("a-radio-group",{on:{change:function(e){return t.showNumChange(e,a,o)}},model:{value:a.show_num,callback:function(e){t.$set(a,"show_num",e)},expression:"item.show_num"}},[e("a-radio",{attrs:{value:"1"}},[2==a.show_num?e("a-input-number",{attrs:{placeholder:t.L("自定义"),disabled:""}}):e("a-input-number",{attrs:{placeholder:t.L("自定义"),min:1,max:a.children.length},on:{change:function(e){return t.showNumValChange(e,a,o)},mouseenter:function(e){t.isDisabled=!0},mouseleave:function(e){t.isDisabled=!1},click:function(e){e.stopPropagation(),t.isDisabled=!0}},model:{value:a.show_num_val,callback:function(e){t.$set(a,"show_num_val",e)},expression:"item.show_num_val"}})],1),e("a-radio",{attrs:{value:"2"}},[t._v(t._s(t.L("全部")))])],1)],1)],1)})),0),!t.formDataDecorate.list||t.formDataDecorate.list&&t.formDataDecorate.list.length<15?e("div",{staticClass:"mt-20 mb-20"},[e("a-button",{attrs:{block:""},on:{click:function(e){return t.addGoodsOpt()}}},[e("a-icon",{attrs:{type:"plus"}}),t._v(t._s(t.L("添加商品分组"))+" ")],1)],1):t._e()],1)],1):t._e(),e("a-divider"),"2"==t.formDataDecorate.goods_type?e("div",{staticClass:"content"},[e("a-form-model-item",{attrs:{label:t.L("展示模板")}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(" "+t._s(t.getLabel(t.goodsClassifyTypeOptions,t.formDataDecorate.goods_classify_type))+" ")]),e("div",[e("a-radio-group",{attrs:{"button-style":"solid"},on:{change:t.goodsClassifyTypeChange},model:{value:t.formDataDecorate.goods_classify_type,callback:function(e){t.$set(t.formDataDecorate,"goods_classify_type",e)},expression:"formDataDecorate.goods_classify_type"}},t._l(t.goodsClassifyTypeOptions,(function(t){return e("a-radio-button",{key:t.value,attrs:{value:t.value}},[e("IconFont",{staticClass:"itemIcon",class:"2"==t.value?"rotate-icon":"",attrs:{type:t.icon}})],1)})),1)],1)])]),"1"==t.formDataDecorate.goods_classify_type?e("a-form-model-item",{attrs:{label:t.L("全部分组")}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(" "+t._s("1"==t.formDataDecorate.show_allClassify?t.L("显示"):t.L("不显示"))+" ")]),e("a-checkbox",{attrs:{checked:"1"==t.formDataDecorate.show_allClassify},on:{change:t.showAllClassifyChange}})],1)]):t._e(),"1"==t.formDataDecorate.goods_classify_type?e("a-form-model-item",{attrs:{label:t.L("菜单样式")}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(" "+t._s(t.getLabel(t.goodsClassifyStyleOptions,t.formDataDecorate.goods_classify_style))+" ")]),e("div",[e("a-radio-group",{attrs:{"button-style":"solid"},model:{value:t.formDataDecorate.goods_classify_style,callback:function(e){t.$set(t.formDataDecorate,"goods_classify_style",e)},expression:"formDataDecorate.goods_classify_style"}},t._l(t.goodsClassifyStyleOptions,(function(t){return e("a-radio-button",{key:t.value,attrs:{value:t.value}},[e("IconFont",{staticClass:"itemIcon",attrs:{type:t.icon}})],1)})),1)],1)])]):t._e()],1):t._e(),"2"==t.formDataDecorate.goods_type?e("a-divider"):t._e(),e("div",{staticClass:"content"},["1"==t.formDataDecorate.goods_classify_type?e("a-form-model-item",{attrs:{label:t.L("列表样式")}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(t.getLabel(t.$store.state.customPage.styleTypeOptions,t.formDataDecorate.style_type)))]),e("div",[e("a-radio-group",{attrs:{"button-style":"solid"},on:{change:t.styleTypechange},model:{value:t.formDataDecorate.style_type,callback:function(e){t.$set(t.formDataDecorate,"style_type",e)},expression:"formDataDecorate.style_type"}},t._l(t.$store.state.customPage.styleTypeOptions,(function(t){return e("a-radio-button",{key:t.value,attrs:{value:t.value}},[e("IconFont",{staticClass:"itemIcon",attrs:{type:t.icon}})],1)})),1)],1)])]):t._e(),"2"!=t.formDataDecorate.goods_classify_type?e("a-form-model-item",{attrs:{label:t.L("商品样式")}},[e("a-row",[e("a-col",{staticClass:"text-right"},[e("a-radio-group",{attrs:{"button-style":"solid"},model:{value:t.formDataDecorate.goods_style,callback:function(e){t.$set(t.formDataDecorate,"goods_style",e)},expression:"formDataDecorate.goods_style"}},t._l(t.goodsStyleOptions,(function(a){return e("a-radio-button",{key:a.value,attrs:{value:a.value}},[t._v(" "+t._s(a.label)+" ")])})),1)],1)],1)],1):t._e(),e("a-form-model-item",{attrs:{label:t.L("商品倒角")}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(t.getLabel(t.goodsRadiusOptions,t.formDataDecorate.goods_radius)))]),e("div",[e("a-radio-group",{attrs:{"button-style":"solid"},model:{value:t.formDataDecorate.goods_radius,callback:function(e){t.$set(t.formDataDecorate,"goods_radius",e)},expression:"formDataDecorate.goods_radius"}},t._l(t.goodsRadiusOptions,(function(t){return e("a-radio-button",{key:t.value,attrs:{value:t.value}},[e("IconFont",{staticClass:"itemIcon",attrs:{type:t.icon}})],1)})),1)],1)])]),e("a-form-model-item",{attrs:{label:t.L("文本样式")}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(t.getLabel(t.fontWeightOptions,t.formDataDecorate.font_weight)))]),e("div",[e("a-radio-group",{attrs:{"button-style":"solid"},model:{value:t.formDataDecorate.font_weight,callback:function(e){t.$set(t.formDataDecorate,"font_weight",e)},expression:"formDataDecorate.font_weight"}},t._l(t.fontWeightOptions,(function(t){return e("a-radio-button",{key:t.value,attrs:{value:t.value}},[e("IconFont",{staticClass:"itemIcon",attrs:{type:t.icon}})],1)})),1)],1)])]),e("a-form-model-item",{attrs:{label:t.L("文本对齐")}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(t.getLabel(t.textAlignOptions,t.formDataDecorate.text_align)))]),e("div",[e("a-radio-group",{attrs:{"button-style":"solid"},model:{value:t.formDataDecorate.text_align,callback:function(e){t.$set(t.formDataDecorate,"text_align",e)},expression:"formDataDecorate.text_align"}},t._l(t.textAlignOptions,(function(a){return e("a-radio-button",{key:a.value,attrs:{value:a.value,disabled:"4"==t.formDataDecorate.style_type&&"2"==t.formDataDecorate.goods_classify_type&&"center"==a.value}},[e("IconFont",{staticClass:"itemIcon",attrs:{type:a.icon}})],1)})),1)],1)])]),e("a-form-model-item",{attrs:{label:t.L("页面边距")}},[e("a-row",{attrs:{type:"flex"}},[e("a-col",{attrs:{span:17}},[e("a-slider",{attrs:{max:30,min:0},model:{value:t.formDataDecorate.page_distance,callback:function(e){t.$set(t.formDataDecorate,"page_distance",e)},expression:"formDataDecorate.page_distance"}})],1),e("a-col",{attrs:{span:6,offset:1}},[e("a-input-number",{attrs:{min:0,max:30},model:{value:t.formDataDecorate.page_distance,callback:function(e){t.$set(t.formDataDecorate,"page_distance",e)},expression:"formDataDecorate.page_distance"}})],1)],1)],1),e("a-form-model-item",{attrs:{label:t.L("商品边距")}},[e("a-row",{attrs:{type:"flex"}},[e("a-col",{attrs:{span:17}},[e("a-slider",{attrs:{max:30,min:0},model:{value:t.formDataDecorate.goods_distance,callback:function(e){t.$set(t.formDataDecorate,"goods_distance",e)},expression:"formDataDecorate.goods_distance"}})],1),e("a-col",{attrs:{span:6,offset:1}},[e("a-input-number",{attrs:{min:0,max:30},model:{value:t.formDataDecorate.goods_distance,callback:function(e){t.$set(t.formDataDecorate,"goods_distance",e)},expression:"formDataDecorate.goods_distance"}})],1)],1)],1),t.formDataDecorate.show_filed&&t.formDataDecorate.show_filed.length?e("a-row",t._l(t.formDataDecorate.show_filed,(function(a,o){return e("a-col",{key:a.value},[a.is_show?e("a-form-model-item",{attrs:{label:t.L(a.label)}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(1==a.is_checked?t.L("显示"):t.L("不显示")))]),e("a-checkbox",{attrs:{checked:1==a.is_checked,disabled:"2"==t.formDataDecorate.goods_classify_type&&"goods_name"==a.value},on:{change:function(e){return t.showFiledChange(e,o)}}})],1),"buy_btn"==a.value&&a.is_checked?e("div",{staticClass:"buy-btn"},[e("a-form-model-item",[e("a-row",[e("a-col",[e("a-radio-group",{model:{value:t.formDataDecorate.buyBtn_style,callback:function(e){t.$set(t.formDataDecorate,"buyBtn_style",e)},expression:"formDataDecorate.buyBtn_style"}},t._l(t.buyBtnStyleOptions,(function(a){return e("a-radio",{key:a.value,attrs:{value:a.value,disabled:"5"==t.formDataDecorate.style_type&&("3"==a.value||"4"==a.value)}},[t._v(" "+t._s(a.label)+" ")])})),1)],1)],1)],1)],1):t._e(),"goods_badge"==a.value&&a.is_checked?e("div",[e("a-form-model-item",[e("a-row",[e("a-col",[e("a-radio-group",{model:{value:t.formDataDecorate.goodsBadge_style,callback:function(e){t.$set(t.formDataDecorate,"goodsBadge_style",e)},expression:"formDataDecorate.goodsBadge_style"}},t._l(t.goodsBadgeOptions,(function(a){return e("a-radio",{key:a.value,attrs:{value:a.value}},[t._v(" "+t._s(a.label)+" ")])})),1)],1),"5"==t.formDataDecorate.goodsBadge_style?e("a-col",[e("a-upload",{attrs:{name:"reply_pic",action:t.$store.state.customPage.uploadAction,"show-upload-list":!1,data:t.uploadData},on:{change:function(e){return t.handleUploadChange(e,"goodsBadge_style_val")}}},[e("div",{staticClass:"upload-wrap"},[t.formDataDecorate.goodsBadge_style_val?e("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.formDataDecorate.goodsBadge_style_val,alt:""}}):e("div",{staticClass:"flex align-center justify-center flex-column",staticStyle:{height:"100%"}},[e("a-icon",{attrs:{type:"plus"}}),e("span",[t._v(t._s(t.L("添加图片")))])],1)])]),e("div",[t.formDataDecorate.goodsBadge_style_val?t._e():e("span",{staticClass:"cr-red mr-10"},[t._v(t._s(t.L("请添加图片")))]),e("span",{staticClass:"ant-form-explain"},[t._v(" "+t._s(t.L("推荐使用100x100像素的 .png 图片"))+" ")])])],1):t._e()],1)],1)],1):t._e()]):t._e()],1)})),1):t._e()],1)],1)],1),e("a-modal",{attrs:{title:1==t.formDataDecorate.goods_type_val?t.L("商品列表"):t.L("商品分组"),visible:t.visible,destroyOnClose:!0,width:"60%",cancelText:t.L("取消"),okText:t.L("确定")},on:{ok:t.handleOk,cancel:t.handleCancel}},[e("a-row",{staticClass:"mb-20",attrs:{type:"flex",justify:"space-between"}},[e("a-col",[e("a-button",{on:{click:function(e){return t.initGetList(!0)}}},[t._v(" "+t._s(t.L("刷新"))+" ")])],1),e("a-col",{staticClass:"flex align-center"},[e("a-input",{attrs:{placeholder:t.L("搜索")},on:{change:t.inputChange,pressEnter:t.inputChange},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[e("a-icon",{attrs:{slot:"prefix",type:"search"},slot:"prefix"})],1)],1)],1),e("a-table",{attrs:{"row-selection":{type:t.rowSelectionType,selectedRowKeys:t.selectedRowKeys,getCheckboxProps:t.getCheckboxProps,onChange:t.onSelectChange},columns:t.columns,rowKey:"id",scroll:{y:442},pagination:t.pagination,childrenColumnName:null,"data-source":t.dataList}})],1)],1):t._e()},s=[],i=a("4bb5d"),n=(a("c5cb"),a("08c7"),a("075f"),a("4afa"),a("54f8"),a("cd5d"),a("7023"),a("19f1"),a("9ae4"),a("6e84"),a("a2f8")),r=a("5bb2"),l=a("9686"),c=a("3335"),d=a.n(c),u={components:{componentDesc:n["default"],IconFont:r["a"],draggable:d.a},props:{formContent:{type:[String,Object],default:""}},data:function(){var t=this;return{desc:{title:"商品"},labelCol:{span:4},wrapperCol:{span:20},formDataDecorate:"",dataList:[],visible:!1,rowSelectionType:"checkbox",pagination:{current:1,pageSize:10,total:0,"show-total":function(e){return!!e&&t.L("共 X1 条记录",{X1:e})},"show-size-changer":!0,"show-quick-jumper":!0,onChange:this.onPageChange,onShowSizeChange:this.onPageSizeChange},selectedRowKeys:[],keyword:"",buyBtnStyleOptions:[{value:"1",label:this.L("样式一")},{value:"2",label:this.L("样式二")},{value:"3",label:this.L("样式三")},{value:"4",label:this.L("样式四")}],goodsBadgeOptions:[{value:"1",label:this.L("新品")},{value:"2",label:this.L("热卖")},{value:"3",label:"NEW"},{value:"4",label:"HOT"},{value:"5",label:this.L("自定义")}],goodsStyleOptions:[{value:"1",label:this.L("无边白底")},{value:"2",label:this.L("卡片投影")},{value:"3",label:this.L("描边白底")}],goodsRadiusOptions:[{value:"1",label:this.L("圆角"),icon:"iconCustomPageBorderRadius"},{value:"2",label:this.L("直角"),icon:"iconCustomPageRightAngle"}],fontWeightOptions:[{value:"normal",label:this.L("常规体"),icon:"iconCustomPageFontNormal"},{value:"bold",label:this.L("加粗体"),icon:"iconCustomPageFontBold"}],textAlignOptions:[{value:"left",label:this.L("左对齐"),icon:"iconCustomPageTextLeft"},{value:"center",label:this.L("居中对齐"),icon:"iconCustomPageTextCenter"}],goodsClassifyTypeOptions:[{value:"1",label:this.L("顶部菜单"),icon:"iconCustomPageMallGoodsTopMenu"},{value:"2",label:this.L("侧边菜单"),icon:"iconCustomPageMallGoodsTopMenu"}],goodsClassifyStyleOptions:[{value:"1",label:this.L("样式一"),icon:"iconCustomPageGoodsClassifyStyle1"},{value:"2",label:this.L("样式二"),icon:"iconCustomPageGoodsClassifyStyle2"},{value:"3",label:this.L("样式三"),icon:"iconCustomPageGoodsClassifyStyle3"}],groupIndex:-1,dataListAll:[],isDisabled:!1,isEditGoodsGroup:!1}},watch:{formDataDecorate:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t)}}},computed:{sourceInfo:function(){return this.$store.state.customPage.sourceInfo},componentId:function(){return this.$store.state.customPage.componentId},uploadData:function(){return{upload_dir:"/decorate/images",source:this.sourceInfo.source,source_id:this.sourceInfo.source_id,is_decorate:1}},columns:function(){return"1"==this.formDataDecorate.goods_type&&"1"==this.formDataDecorate.goods_type_val?[{title:this.L("商品名称"),dataIndex:"goods_name",key:"goods_name",align:"center"},{title:this.L("最后修改时间"),dataIndex:"update_time",key:"update_time",align:"center"}]:"1"==this.formDataDecorate.goods_type&&"2"==this.formDataDecorate.goods_type_val||"2"==this.formDataDecorate.goods_type?[{title:this.L("分组名称"),dataIndex:"cat_name",key:"cat_name",align:"left"}]:void 0}},mounted:function(){if(this.formContent)for(var t in this.formDataDecorate={},this.formContent)this.$set(this.formDataDecorate,t,this.formContent[t]);this.$store.dispatch("updateStyleTypeOptions")},methods:{getLabel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="";return t.length&&t.forEach((function(t){t.value==e&&(a=t.label)})),a},styleTypechange:function(t){this.$set(this.formDataDecorate,"style_type",t.target.value),this.$store.dispatch("updatePageScroll",!0)},showFiledChange:function(t,e){this.$set(this.formDataDecorate["show_filed"][e],"is_checked",t.target.checked)},goodsClassifyTypeChange:function(t){var e=this.formDataDecorate.show_filed||[];if(e.length&&(e=e.map((function(e){return"2"==t.target.value&&"goods_badge"==e.value?(e.is_show=!1,e.is_checked=!1):("goods_name"==e.value&&(e.is_checked=!0),e.is_show=!0),e})),this.$set(this.formDataDecorate,"show_filed",e)),this.$set(this.formDataDecorate,"goods_classify_type",t.target.value),"2"==t.target.value){this.$set(this.formDataDecorate,"style_type","4"),this.$set(this.formDataDecorate,"goods_style","1"),this.$set(this.formDataDecorate,"show_allClassify","2"),this.$set(this.formDataDecorate,"goodsBadge_style","1");var a=this.formDataDecorate.list||[];a.forEach((function(t,e){"all"==t.id&&a.splice(e,1)})),this.$set(this.formDataDecorate,"list",a)}else this.$set(this.formDataDecorate,"style_type","1")},onPageChange:function(t,e){this.$set(this.pagination,"current",t)},onPageSizeChange:function(t,e){this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",e)},onSelectChange:function(t){"2"==this.formDataDecorate.goods_type&&t.length&&t.length>15?this.$message.error(this.L("最多添加15个商品分组")):this.selectedRowKeys=t},getCheckboxProps:function(t){return{props:{disabled:this.checkDisabled(t)}}},checkDisabled:function(t){var e=this,a=!1,o=this.formDataDecorate,s=o.goods_type,i=void 0===s?"1":s,n=o.goods_type_val,r=void 0===n?"2":n,l=o.list,c=void 0===l?[]:l;return("1"!=i||"2"!=r)&&"2"!=i||t.children&&(!t.children||t.children.length)||(a=!0),this.isEditGoodsGroup&&this.selectedRowKeys&&this.selectedRowKeys.length&&c.length&&c.forEach((function(o){o.id==t.id&&t.id!=e.selectedRowKeys[0]&&(a=!0)})),a},initList:function(t,e){"goods_type"==e?(this.$set(this.formDataDecorate,"goods_type",t),this.$set(this.formDataDecorate,"goods_classify_type","1"),this.$set(this.formDataDecorate,"goods_type_val","1")):"goods_type_val"==e&&this.$set(this.formDataDecorate,"goods_type_val",t.target.value),this.$set(this.formDataDecorate,"list",[]),"2"==this.formDataDecorate.goods_type&&(this.rowSelectionType="checkbox"),this.$set(this.formDataDecorate,"goods_classify_type","1"),this.$set(this.formDataDecorate,"show_allClassify","2"),this.$set(this.formDataDecorate,"style_type","1"),this.$set(this.formDataDecorate,"goods_style","1"),this.$set(this.formDataDecorate,"goods_radius","1"),this.$set(this.formDataDecorate,"font_weight","normal"),this.$set(this.formDataDecorate,"text_align","left"),this.$set(this.formDataDecorate,"goodsBadge_style","1"),this.$set(this.formDataDecorate,"buyBtn_style","1"),this.$set(this.formDataDecorate,"goodsBadge_style_val",""),this.$set(this.formDataDecorate,"goods_classify_style","1");var a=this.formDataDecorate.show_filed||[];a.length&&(a=a.map((function(t){return t.is_checked=!0,t.is_show=!0,t})),this.$set(this.formDataDecorate,"show_filed",a))},addBtn:function(){this.visible=!0,this.initGetList()},initGetList:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.keyword="",this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",10),this.getList(t)},getList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a={source:this.sourceInfo.source,source_id:this.sourceInfo.source_id,keyword:this.keyword};"mallGoods"==this.componentId?this.$set(a,"hd_type",this.formDataDecorate.hd_type):a.hd_type&&this.$delete(a,"hd_type");var o="getMallGoods";"2"==this.formDataDecorate.goods_type_val||"2"==this.formDataDecorate.goods_type?"mallGoods"==this.componentId?o="getMallGoodsGroup":"shopGoods"==this.componentId&&(o="getShopGoodsGroup"):"shopGoods"==this.componentId&&(o="getShopGoods"),this.request(l["a"][o],a).then((function(a){"1"==t.formDataDecorate.goods_type&&"1"==t.formDataDecorate.goods_type_val&&a.list&&(a.list=a.list.map((function(e){return e.id=e.goods_id,"shopGoods"==t.componentId&&(e.update_time=e.last_time),e}))),("1"==t.formDataDecorate.goods_type&&"2"==t.formDataDecorate.goods_type_val||"2"==t.formDataDecorate.goods_type)&&a.list&&(a.list=a.list.map((function(e){return"mallGoods"==t.componentId&&(e.id=e.cat_id),"shopGoods"==t.componentId&&(e.cat_name=e.name),e}))),t.dataList=a.list||[],t.$set(t.pagination,"total",parseInt(a.total)),(e||!t.dataListAll.length)&&a.list&&a.list.length&&(t.dataListAll=a.list)}))},addGoodsOpt:function(){var t=this.formDataDecorate.list||[];t.length&&(this.selectedRowKeys=t.map((function(t){return t.id}))),this.visible=!0,"1"==this.formDataDecorate.goods_type?"1"==this.formDataDecorate.goods_type_val?this.rowSelectionType="checkbox":"2"==this.formDataDecorate.goods_type_val&&(this.rowSelectionType="radio"):"2"==this.formDataDecorate.goods_type&&(this.rowSelectionType="checkbox"),this.initGetList()},goodsDelOpt:function(t,e){var a=this.formDataDecorate.list||[];a.length&&a.splice(e,1),this.selectedRowKeys&&this.selectedRowKeys.length&&(this.selectedRowKeys=this.selectedRowKeys.filter((function(e){return e!=t.id}))),"all"==t.id&&this.$set(this.formDataDecorate,"show_allClassify","2"),this.$set(this.formDataDecorate,"list",a)},goodsGroupEdit:function(t,e){this.groupIndex=t,this.rowSelectionType="radio",this.selectedRowKeys=[e],this.visible=!0,this.isEditGoodsGroup=!0,this.initGetList()},inputChange:function(){""===this.keyword.trim()&&0!=this.keyword||(this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",10),this.getList())},handleOk:function(){var t=this;if(!this.dataList.length||this.selectedRowKeys.length){var e=[];if(this.selectedRowKeys.length&&this.dataListAll.length){var a=this.formDataDecorate,o=a.goods_type,s=void 0===o?"1":o,i=a.goods_type_val,n=void 0===i?"1":i;this.selectedRowKeys.forEach((function(a){t.dataListAll.forEach((function(o){a==o.id&&(("2"==s||"1"==s&&"2"==n)&&(t.$set(o,"cat_name",o.cat_name),t.$set(o,"show_num","1"),t.$set(o,"show_num_val",6),o.children&&o.children.length&&(o.children=o.children.map((function(t,e){return"1"==o.show_num&&o.show_num_val&&e<Number(o.show_num_val)?t.show=!0:t.show=!1,t})),t.$set(o,"children",o.children))),"2"==s&&-1!=t.groupIndex?(e=t.formDataDecorate.list||[],e.length&&t.$set(e,t.groupIndex,o)):e.push(o))}))}))}this.$set(this.formDataDecorate,"list",e),this.handleCancel()}else this.$message.error(this.L("请至少选择一个选项"))},handleCancel:function(){this.visible=!1,this.selectedRowKeys=[],this.dataListAll=[],this.keyword="",this.groupIndex=-1,this.isEditGoodsGroup=!1},handleUploadChange:function(t,e){var a=this,o=Object(i["a"])(t.fileList);o=o.slice(-1),o=o.map((function(t){if("done"===t.status&&"1000"==t.response.status){var o=t.response.data;a.$set(a.formDataDecorate,e,o)}return t})),"done"===t.file.status||"error"===t.file.status&&this.$message.error(this.L("X1上传失败.",{X1:t.file.name}))},showNumValChange:function(t,e,a){var o=this,s=Number(t),i=this.formDataDecorate.list||[];i.length&&(i=i.map((function(t){return t.children&&t.children.length&&("all"!=t.id&&t.id==e.id?t.children=t.children.map((function(t,a){return"2"==e.show_num?t.show=!0:t.show=!!(s&&a<s),t})):"all"==t.id&&e.id==t.id&&(t.children=JSON.parse(JSON.stringify(o.getShowGoods(o.formDataDecorate.list))),e.id==t.id&&"1"==e.show_num&&(t.children=t.children.map((function(t,e){return t.show=!!(s&&e<s),t}))))),t}))),"all"!=e.id&&"1"==this.formDataDecorate.show_allClassify&&(i=i.map((function(t){return"all"==t.id&&o.$set(t,"children",o.getShowGoods(i)),t}))),this.$set(this.formDataDecorate,"list",i)},showNumChange:function(t,e,a){"2"==t.target.value?this.showNumValChange("",e,a):this.showNumValChange(e.show_num_val,e,a)},showAllClassifyChange:function(t){this.$set(this.formDataDecorate,"show_allClassify",t.target.checked?"1":"2");var e=this.formDataDecorate.list||[],a={id:"all",cat_name:this.L("全部"),children:[],show_num:"2",show_num_val:"6"};"1"==this.formDataDecorate.show_allClassify&&e.length?(a.children=a.children.concat(this.getShowGoods(this.formDataDecorate.list)),e.splice(0,0,a)):e.forEach((function(t,a){"all"==t.id&&e.splice(a,1)})),this.$set(this.formDataDecorate,"list",e)},handleAllClassify:function(){var t=this,e=this.formDataDecorate,a=e.list,o=void 0===a?[]:a,s=e.goods_type,i=void 0===s?"1":s,n=e.goods_type_val,r=void 0===n?"1":n,l=e.goods_classify_type,c=void 0===l?"1":l,d=e.show_allClassify,u=void 0===d?"2":d;"1"==i&&"1"==r&&o.length&&"1"==c&&"1"==u&&(o=o.map((function(e){"all"==e.id&&"2"==e.show_num&&(e.children=t.getShowGoods(t.formDataDecorate.list))})))},getShowGoods:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[];return t.length&&t.forEach((function(t){"all"!=t.id&&t.children&&t.children.length&&t.children.forEach((function(t){t.show&&e.push(t)}))})),e}}},f=u,m=(a("e7ee"),a("0b56")),h=Object(m["a"])(f,o,s,!1,null,"b83e392c",null);e["default"]=h.exports},e4d6:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",[e("componentDesc",{attrs:{content:t.desc}}),t.formDataDecorate?e("div",[e("a-form-model",{attrs:{model:t.formDataDecorate,"label-col":t.labelCol,"wrapper-col":t.wrapperCol,labelAlign:"left"}},[e("div",{staticClass:"content"},[e("a-form-model-item",{attrs:{label:t.L("页面标题"),rules:{required:!0,message:t.L("页面标题必填"),trigger:"change"}}},[e("a-input",{attrs:{maxLength:4},model:{value:t.formDataDecorate.page_title,callback:function(e){t.$set(t.formDataDecorate,"page_title",e)},expression:"formDataDecorate.page_title"}})],1),e("a-form-model-item",{attrs:{label:t.L("头部背景色")}},[e("div",{staticClass:"flex align-center color-picker-wrap"},[e("label",{staticClass:"color-picker-label",style:[{background:t.formDataDecorate.bg_color}],attrs:{for:"bg_color"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formDataDecorate.bg_color,expression:"formDataDecorate.bg_color"}],attrs:{type:"color",id:"bg_color"},domProps:{value:t.formDataDecorate.bg_color},on:{input:function(e){e.target.composing||t.$set(t.formDataDecorate,"bg_color",e.target.value)}}})]),e("span",{staticClass:"color-name"},[t._v(" "+t._s(t.formDataDecorate.bg_color)+" ")])])]),e("a-form-model-item",{attrs:{label:t.L("主标题颜色")}},[e("div",{staticClass:"flex align-center color-picker-wrap"},[e("label",{staticClass:"color-picker-label",style:[{background:t.formDataDecorate.page_title_color}],attrs:{for:"page_title_color"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formDataDecorate.page_title_color,expression:"formDataDecorate.page_title_color"}],attrs:{type:"color",id:"page_title_color"},domProps:{value:t.formDataDecorate.page_title_color},on:{input:function(e){e.target.composing||t.$set(t.formDataDecorate,"page_title_color",e.target.value)}}})]),e("span",{staticClass:"color-name"},[t._v(" "+t._s(t.formDataDecorate.page_title_color)+" ")])])]),e("a-form-model-item",{attrs:{label:t.L("分类主色调")}},[e("div",{staticClass:"flex align-center color-picker-wrap"},[e("label",{staticClass:"color-picker-label",style:[{background:t.formDataDecorate.main_color}],attrs:{for:"main_color"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formDataDecorate.main_color,expression:"formDataDecorate.main_color"}],attrs:{type:"color",id:"main_color"},domProps:{value:t.formDataDecorate.main_color},on:{input:function(e){e.target.composing||t.$set(t.formDataDecorate,"main_color",e.target.value)}}})]),e("span",{staticClass:"color-name"},[t._v(" "+t._s(t.formDataDecorate.main_color)+" ")])])]),e("a-form-model-item",{attrs:{label:t.L("头部悬浮")}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(t.L("勾选后头部模块不占位")))]),e("a-checkbox",{attrs:{checked:1==t.formDataDecorate.is_fixed},on:{change:t.isFixedChange}})],1)])],1),e("a-divider"),e("div",{staticClass:"content"},[e("p",{staticClass:"fw-bold cr-black"},[t._v(t._s(t.L("分享设置")))]),e("a-form-model-item",{attrs:{label:t.L("分享标题")}},[e("a-input",{attrs:{placeholder:t.L("请输入分享标题")},model:{value:t.formDataDecorate.share_title,callback:function(e){t.$set(t.formDataDecorate,"share_title",e)},expression:"formDataDecorate.share_title"}})],1),e("a-form-model-item",{attrs:{label:t.L("分享描述")}},[e("a-textarea",{staticStyle:{height:"200px","overflow-y":"auto",resize:"none"},attrs:{placeholder:t.L("请输入分享描述"),autoSize:""},model:{value:t.formDataDecorate.share_desc,callback:function(e){t.$set(t.formDataDecorate,"share_desc",e)},expression:"formDataDecorate.share_desc"}})],1),e("a-form-model-item",{attrs:{label:t.L("分享图片")}},[e("div",[e("a-upload",{attrs:{name:"reply_pic",action:t.$store.state.customPage.uploadAction,showUploadList:!1,data:t.uploadData},on:{change:function(e){return t.handleUploadChange(e,"share_image_wechat")}}},[e("div",{staticClass:"upload-wrap upload-wrap-wechat pointer flex align-center justify-center"},[t.formDataDecorate.share_image_wechat?e("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.formDataDecorate.share_image_wechat,alt:""}}):e("div",{staticClass:"flex flex-column justify-center align-center"},[e("a-icon",{attrs:{type:"plus"}}),e("span",{staticClass:"mt-20"},[t._v(t._s(t.L("添加分享图片")))])],1)])]),e("div",{staticClass:"mt-10"},[t._v(t._s(t.L("小程序")))]),e("div",{staticClass:"ant-form-explain"},[t._v(" "+t._s(t.L("建议图片长宽比5:4，如不设置，自动截取页面首屏"))+" ")])],1),e("div",{staticClass:"mt-20"},[e("a-upload",{attrs:{name:"reply_pic",action:t.$store.state.customPage.uploadAction,showUploadList:!1,data:t.uploadData},on:{change:function(e){return t.handleUploadChange(e,"share_image_h5")}}},[e("div",{staticClass:"upload-wrap upload-wrap-h5 pointer flex align-center justify-center"},[t.formDataDecorate.share_image_h5?e("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.formDataDecorate.share_image_h5,alt:""}}):e("div",{staticClass:"flex flex-column justify-center align-center"},[e("a-icon",{attrs:{type:"plus"}}),e("span",{staticClass:"mt-20"},[t._v(t._s(t.L("添加分享图片")))])],1)])]),e("div",{staticClass:"mt-10"},[t._v("h5")]),e("div",{staticClass:"ant-form-explain"},[t._v(" "+t._s(t.L("建议图片长宽比1:1，如不设置，自动截取页面首屏"))+" ")])],1)])],1)],1)],1):t._e()],1)},s=[],i=a("4bb5d"),n=(a("9ae4"),a("075f"),a("54f8"),a("a2f8")),r={components:{componentDesc:n["default"]},props:{formContent:{type:[String,Object],default:""}},data:function(){return{desc:{title:"头部配置",desc:"分类头部配置为固定模块"},labelCol:{span:5},wrapperCol:{span:18},formDataDecorate:""}},watch:{formDataDecorate:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t),this.$store.dispatch("updatePageMainColor",this.formDataDecorate.main_color)}}},computed:{sourceInfo:function(){return this.$store.state.customPage.sourceInfo},uploadData:function(){return{upload_dir:"/decorate/images",source:this.sourceInfo.source,source_id:this.sourceInfo.source_id,is_decorate:1}}},mounted:function(){if(this.formContent)for(var t in this.formDataDecorate={},this.formContent)"page_title"==t&&this.formContent[t]&&this.formContent[t].length>4&&(this.formContent[t]=this.formContent[t].substring(0,4)),this.$set(this.formDataDecorate,t,this.formContent[t])},methods:{isFixedChange:function(t){this.$set(this.formDataDecorate,"is_fixed",t.target.checked?"1":"2")},handleUploadChange:function(t,e){var a=this,o=Object(i["a"])(t.fileList);o=o.slice(-1),o=o.map((function(t){if("done"===t.status&&"1000"==t.response.status){var o=t.response.data;a.$set(a.formDataDecorate,e,o)}return t})),"done"===t.file.status||"error"===t.file.status&&this.$message.error(this.L("X1上传失败。",{X1:t.file.name}))}}},l=r,c=(a("f487"),a("0b56")),d=Object(c["a"])(l,o,s,!1,null,"dd9e4690",null);e["default"]=d.exports},e6c3:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"title-text-des"},[e("componentDesc",{attrs:{content:t.desc}}),t.formDataDecorate?e("div",{staticClass:"title-text-content"},[e("a-form-model",{attrs:{model:t.formDataDecorate,"label-col":t.labelCol,"wrapper-col":t.wrapperCol,labelAlign:"left"}},[e("a-form-model-item",{attrs:{label:t.L("标题内容"),prop:"title_txt",rules:{required:!0,message:t.L("标题和描述不能同时为空"),trigger:""}}},[e("a-input",{attrs:{placeholder:t.L("请输入标题")},model:{value:t.formDataDecorate.title_txt,callback:function(e){t.$set(t.formDataDecorate,"title_txt",e)},expression:"formDataDecorate.title_txt"}})],1),e("a-form-model-item",{attrs:{label:t.L("描述内容")}},[e("a-input",{staticStyle:{resize:"none"},attrs:{placeholder:t.L("请输入要说明的文字,最多100字"),type:"textarea",maxLength:100,autoSize:""},model:{value:t.formDataDecorate.desc_txt,callback:function(e){t.$set(t.formDataDecorate,"desc_txt",e)},expression:"formDataDecorate.desc_txt"}})],1),e("a-divider"),e("a-form-model-item",{attrs:{label:t.L("显示位置")}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(t.getLabel(t.showPositionOptions,t.formDataDecorate.text_align)))]),e("div",[e("a-radio-group",{attrs:{"button-style":"solid"},model:{value:t.formDataDecorate.text_align,callback:function(e){t.$set(t.formDataDecorate,"text_align",e)},expression:"formDataDecorate.text_align"}},t._l(t.showPositionOptions,(function(t){return e("a-radio-button",{key:t.value,attrs:{value:t.value}},[e("IconFont",{staticClass:"itemIcon",attrs:{type:t.icon}})],1)})),1)],1)])]),e("a-form-model-item",{attrs:{label:t.L("标题大小")}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(t.getLabel(t.titleSize,t.formDataDecorate.title_font_size)))]),e("div",[e("a-radio-group",{attrs:{"button-style":"solid"},model:{value:t.formDataDecorate.title_font_size,callback:function(e){t.$set(t.formDataDecorate,"title_font_size",e)},expression:"formDataDecorate.title_font_size"}},t._l(t.titleSize,(function(t){return e("a-radio-button",{key:t.value,attrs:{value:t.value}},[e("IconFont",{staticClass:"itemIcon",style:{"font-size":t.value+"px"},attrs:{type:t.icon}})],1)})),1)],1)])]),e("a-form-model-item",{attrs:{label:t.L("描述大小")}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(t.getLabel(t.describeSize,t.formDataDecorate.desc_font_size)))]),e("div",[e("a-radio-group",{attrs:{"button-style":"solid"},model:{value:t.formDataDecorate.desc_font_size,callback:function(e){t.$set(t.formDataDecorate,"desc_font_size",e)},expression:"formDataDecorate.desc_font_size"}},t._l(t.describeSize,(function(t){return e("a-radio-button",{key:t.value,attrs:{value:t.value}},[e("IconFont",{staticClass:"itemIcon",style:{"font-size":t.value+"px"},attrs:{type:t.icon}})],1)})),1)],1)])]),e("a-form-model-item",{attrs:{label:t.L("标题粗细")}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(t.getLabel(t.titleThickness,t.formDataDecorate.title_font_weight)))]),e("div",[e("a-radio-group",{attrs:{"button-style":"solid"},model:{value:t.formDataDecorate.title_font_weight,callback:function(e){t.$set(t.formDataDecorate,"title_font_weight",e)},expression:"formDataDecorate.title_font_weight"}},t._l(t.titleThickness,(function(t){return e("a-radio-button",{key:t.value,attrs:{value:t.value}},[e("IconFont",{staticClass:"itemIcon",attrs:{type:t.icon}})],1)})),1)],1)])]),e("a-form-model-item",{attrs:{label:t.L("描述粗细")}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(t.getLabel(t.describeThickness,t.formDataDecorate.desc_font_weight)))]),e("div",[e("a-radio-group",{attrs:{"button-style":"solid"},model:{value:t.formDataDecorate.desc_font_weight,callback:function(e){t.$set(t.formDataDecorate,"desc_font_weight",e)},expression:"formDataDecorate.desc_font_weight"}},t._l(t.describeThickness,(function(t){return e("a-radio-button",{key:t.value,attrs:{value:t.value}},[e("IconFont",{staticClass:"itemIcon",attrs:{type:t.icon}})],1)})),1)],1)])]),e("a-form-model-item",{staticClass:"flex-end",attrs:{label:t.L("标题颜色")}},[e("div",{staticClass:"flex align-center color-picker-wrap"},[e("span",{staticClass:"color-name"},[t._v(t._s(t.formDataDecorate.title_color))]),e("label",{staticClass:"color-picker-label",style:[{background:t.formDataDecorate.title_color}],attrs:{for:"title_color"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formDataDecorate.title_color,expression:"formDataDecorate.title_color"}],attrs:{type:"color",id:"title_color"},domProps:{value:t.formDataDecorate.title_color},on:{input:function(e){e.target.composing||t.$set(t.formDataDecorate,"title_color",e.target.value)}}})]),e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.resetOpt("title_color")}}},[t._v("重置")])],1)]),e("a-form-model-item",{staticClass:"flex-end",attrs:{label:t.L("描述颜色")}},[e("div",{staticClass:"flex align-center color-picker-wrap"},[e("span",{staticClass:"color-name"},[t._v(t._s(t.formDataDecorate.desc_color))]),e("label",{staticClass:"color-picker-label",style:[{background:t.formDataDecorate.desc_color}],attrs:{for:"describe_color"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formDataDecorate.desc_color,expression:"formDataDecorate.desc_color"}],attrs:{type:"color",id:"describe_color"},domProps:{value:t.formDataDecorate.desc_color},on:{input:function(e){e.target.composing||t.$set(t.formDataDecorate,"desc_color",e.target.value)}}})]),e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.resetOpt("desc_color")}}},[t._v(t._s(t.L("重置")))])],1)]),e("a-form-model-item",{staticClass:"flex-end",attrs:{label:t.L("背景颜色")}},[e("div",{staticClass:"flex align-center color-picker-wrap"},[e("span",{staticClass:"color-name"},[t._v(t._s(t.formDataDecorate.bg_color?t.formDataDecorate.bg_color:t.L("无背景色")))]),e("label",{staticClass:"color-picker-label",style:[{background:t.formDataDecorate.bg_color}],attrs:{for:"bg_color"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formDataDecorate.bg_color,expression:"formDataDecorate.bg_color"}],attrs:{type:"color",id:"bg_color"},domProps:{value:t.formDataDecorate.bg_color},on:{input:function(e){e.target.composing||t.$set(t.formDataDecorate,"bg_color",e.target.value)}}})]),e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.resetOpt("bg_color")}}},[t._v(t._s(t.L("重置")))])],1)]),e("a-form-model-item",{attrs:{label:t.L("底部分割线"),labelCol:{span:5},wrapperCol:{span:19}}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(1==t.formDataDecorate.show_bottom_line?t.L("显示"):t.L("不显示")))]),e("a-checkbox",{attrs:{checked:1==t.formDataDecorate.show_bottom_line},on:{change:t.isShowChange}})],1)])],1)],1):t._e()],1)},s=[],i=(a("c5cb"),a("08c7"),a("a2f8")),n=a("5bb2"),r={components:{componentDesc:i["default"],IconFont:n["a"]},props:{formContent:{type:[String,Object],default:""}},data:function(){return{desc:{title:this.L("标题文本")},labelCol:{span:5},wrapperCol:{span:19},rules:{title:{required:!0,message:this.L("标题和描述不能同时为空"),trigger:""}},formDataDecorate:"",showPositionOptions:[{value:"left",label:this.L("居左显示"),icon:"iconCustomPageTextLeft"},{value:"center",label:this.L("居中显示"),icon:"iconCustomPageTextCenter"}],titleSize:[{value:"16",label:this.L("大 (16号)"),icon:"iconCustomPageFontSize"},{value:"14",label:this.L("中 (14号)"),icon:"iconCustomPageFontSize"},{value:"12",label:this.L("小 (12号)"),icon:"iconCustomPageFontSize"}],describeSize:[{value:"16",label:this.L("大 (16号)"),icon:"iconCustomPageFontSize"},{value:"14",label:this.L("中 (14号)"),icon:"iconCustomPageFontSize"},{value:"12",label:this.L("小 (12号)"),icon:"iconCustomPageFontSize"}],titleThickness:[{value:"normal",label:this.L("常规体"),icon:"iconCustomPageFontNormal"},{value:"bold",label:this.L("加粗体"),icon:"iconCustomPageFontBold"}],describeThickness:[{value:"normal",label:this.L("常规体"),icon:"iconCustomPageFontNormal"},{value:"bold",label:this.L("加粗体"),icon:"iconCustomPageFontBold"}],title_color:"#323233",desc_color:"#969799",bg_color:""}},watch:{formContent:{deep:!0,handler:function(t,e){if(t)for(var a in this.formDataDecorate={},t)this.$set(this.formDataDecorate,a,t[a]);else this.formDataDecorate=""}},formDataDecorate:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t)}}},mounted:function(){if(this.formContent)for(var t in this.formDataDecorate={},this.formContent)this.$set(this.formDataDecorate,t,this.formContent[t])},methods:{getLabel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="";return t.length&&t.forEach((function(t){t.value==e&&(a=t.label)})),a},resetOpt:function(t){this.$set(this.formDataDecorate,t,this[t])},isShowChange:function(t){this.$set(this.formDataDecorate,"show_bottom_line",t.target.checked?1:2)}}},l=r,c=(a("312a"),a("0b56")),d=Object(c["a"])(l,o,s,!1,null,"29c1173e",null);e["default"]=d.exports},e7ee:function(t,e,a){"use strict";a("d792")},e8b8:function(t,e,a){},e8dc:function(t,e,a){},ed0d:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",[e("componentDesc",{attrs:{content:t.desc}}),e("div",{staticClass:"content"},[e("div",{staticClass:"map-set flex align-center justify-between"},[e("span",[t._v(t._s(t.L("地图设置：")))]),t.formData&&t.formData.list?e("span",{staticClass:"flex-1 address-name no-wrap"},[t._v(t._s(t.formData.list.site))]):t._e(),e("a-button",{attrs:{type:"primary"},on:{click:t.showMapModal}},[e("span",[t._v(t._s(t.L("切换位置")))])])],1)]),e("a-modal",{attrs:{width:"1000px",title:t.L("地图"),destroyOnClose:!0},on:{ok:t.handleOk,cancel:t.handleCancel},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[e("div",{staticClass:"flex flex-wrap justify-between"},[e("div",{staticClass:"flex",staticStyle:{width:"260px"}},[e("a-input",{staticStyle:{"margin-right":"6px"},attrs:{placeholder:t.L("城市名称")},on:{change:t.showPanelInput},model:{value:t.cityKeyword,callback:function(e){t.cityKeyword=e},expression:"cityKeyword"}}),e("a-input",{staticStyle:{width:"200px"},attrs:{placeholder:t.L("请输入关键字")},on:{change:t.showPanelInput},model:{value:t.addressKeyword,callback:function(e){t.addressKeyword=e},expression:"addressKeyword"}})],1),e("div",{staticClass:"flex-1 ml-40"},[e("baidu-map",{staticClass:"bm-view",attrs:{zoom:t.zoom,center:t.postionMap,"scroll-wheel-zoom":!0},on:{click:t.getLocationPoint}},[e("bm-navigation",{attrs:{anchor:"BMAP_ANCHOR_TOP_LEFT"}}),e("bm-map-type",{attrs:{"map-types":["BMAP_NORMAL_MAP","BMAP_SATELLITE_MAP"],anchor:"BMAP_ANCHOR_TOP_RIGHT"}}),e("bm-local-search",{staticClass:"searchRes",attrs:{keyword:t.addressKeyword,location:t.cityKeyword,zoom:t.zoom,"auto-viewport":!0,panel:t.showPanel},on:{infohtmlset:t.infohtmlset}}),e("bm-marker",{attrs:{position:t.postionMap,dragging:!0}})],1)],1)])])],1)},s=[],i=(a("19f1"),a("54f8"),a("075f"),a("a2f8")),n=a("9686"),r={components:{componentDesc:i["default"]},props:{formContent:{type:[String,Object],default:""}},data:function(){return{desc:{title:this.L("地图")},formData:"",source:this.$route.query.source||"",storeInfo:[],visible:!1,showPanel:!1,zoom:12.8,postionMap:{lng:116.405994,lat:39.91737},addressKeyword:"",cityKeyword:"",add:{}}},computed:{sourceInfo:function(){return this.$store.state.customPage.sourceInfo}},mounted:function(){if(this.formContent)for(var t in this.formData={},this.formContent)this.$set(this.formData,t,this.formContent[t]);this.source&&"store"==this.source&&(this.formData&&this.formData.list&&!this.formData.list.customAddress||!this.formData||this.formData&&!this.formData.list)&&this.getStoreInfo()},methods:{getStoreInfo:function(){var t=this,e={source_id:this.sourceInfo.source_id};this.request(n["a"].getMerchantStoreMsg,e).then((function(e){t.storeInfo=e||[],t.postionMap.lng=Number(t.storeInfo.store.long),t.postionMap.lat=Number(t.storeInfo.store.lat),t.add.lng=Number(t.storeInfo.store.long),t.add.lat=Number(t.storeInfo.store.lat),t.add.siteName=t.storeInfo.store.name,t.add.site=t.storeInfo.store.adress,t.$set(t.formData,"list",t.add),t.$emit("updatePageInfo",t.formData)}))},showMapModal:function(){this.visible=!0},handleOk:function(){this.visible=!1,this.$emit("updatePageInfo",this.formData)},handleCancel:function(){this.visible=!1},infohtmlset:function(t){t&&(this.postionMap.lng=t.point.lng,this.postionMap.lat=t.point.lat,this.add.siteName=t.title,this.add.site=t.address,this.add.lng=t.point.lng,this.add.lat=t.point.lat,this.addressKeyword=t.title,this.$set(this.add,"customAddress",!0)),this.$set(this.formData,"list",this.add)},showPanelInput:function(){this.showPanel=!this.showPanel},getLocationPoint:function(t){var e=this;this.postionMap.lng=t.point.lng,this.postionMap.lat=t.point.lat,this.add.lng=t.point.lng,this.add.lat=t.point.lat,this.zoom=t.target.getZoom(),this.$set(this.add,"customAddress",!0);var a=new BMap.Geocoder;a.getLocation(t.point,(function(t){e.add.site=t.address,t.surroundingPois&&t.surroundingPois.map((function(t){t&&(e.add.siteName=t.title,e.addressKeyword=t.title)}))})),this.$set(this.formData,"list",this.add)}}},l=r,c=(a("0180"),a("0b56")),d=Object(c["a"])(l,o,s,!1,null,"74a35bdc",null);e["default"]=d.exports},ed7d:function(t,e,a){"use strict";a.r(e);a("54f8");var o=function(){var t=this,e=t._self._c;return t.formDataDecorate?e("div",[e("componentDesc",{attrs:{content:t.desc}}),e("div",{staticClass:"content"},[e("a-form-model",{attrs:{model:t.formDataDecorate,"label-col":t.labelCol,"wrapper-col":t.wrapperCol,rules:t.rules,labelAlign:"left"}},[e("a-form-model-item",{attrs:{label:t.L("标题内容"),prop:"title"}},[e("a-input",{attrs:{maxLength:8,placeholder:"请输入"},model:{value:t.formDataDecorate.title,callback:function(e){t.$set(t.formDataDecorate,"title",e)},expression:"formDataDecorate.title"}})],1),e("a-form-model-item",{attrs:{label:t.L("排列样式")}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(t.getLabel(t.$store.state.customPage.styleTypeOptions,t.formDataDecorate.style_type)))]),e("div",[e("a-radio-group",{attrs:{"button-style":"solid"},on:{change:function(e){return t.$store.dispatch("updatePageScroll",!0)}},model:{value:t.formDataDecorate.style_type,callback:function(e){t.$set(t.formDataDecorate,"style_type",e)},expression:"formDataDecorate.style_type"}},t._l(t.$store.state.customPage.styleTypeOptions,(function(t){return e("a-radio-button",{key:t.value,attrs:{value:t.value}},[e("IconFont",{staticClass:"itemIcon",attrs:{type:t.icon}})],1)})),1)],1)])]),e("a-form-model-item",{attrs:{label:t.L("隐藏已过期的活动"),labelCol:{span:7},wrapperCol:{span:17}}},[e("div",{staticClass:"flex align-center justify-between"},[e("span",[t._v(t._s(1==t.formDataDecorate.is_show?t.L("显示"):t.L("隐藏")))]),e("a-checkbox",{attrs:{checked:1==t.formDataDecorate.is_show},on:{change:t.isShowChange}})],1)])],1)],1),t.formDataDecorate.list&&t.formDataDecorate.list.length?e("div",{staticClass:"list-wrap"},[e("draggable",{model:{value:t.formDataDecorate.list,callback:function(e){t.$set(t.formDataDecorate,"list",e)},expression:"formDataDecorate.list"}},t._l(t.formDataDecorate.list,(function(a){return e("div",{key:a.coupon_id,staticClass:"flex list-item"},[e("div",{staticClass:"text-nowrap"},[e("a-icon",{staticClass:"mr-10",attrs:{type:"menu"}}),t._v(t._s(t.hdTypeLabel)+"：")],1),e("div",{staticClass:"flex-1 text-wrap"},[t._v(" "+t._s(a.name)+" ")])])})),0)],1):t._e(),e("div",{staticClass:"mt-20 mb-20 padding-24"},[e("a-button",{attrs:{block:""},on:{click:function(e){return t.addBtn()}}},[e("a-icon",{attrs:{type:"plus"}}),t._v(t._s(t.L("添加活动"))+" ")],1)],1),e("a-modal",{attrs:{title:t.L("活动商品"),visible:t.visible,destroyOnClose:!0,width:"60%",cancelText:t.L("取消"),okText:t.L("确定")},on:{ok:t.handleOk,cancel:t.handleCancel}},[e("a-row",{staticClass:"mb-20",attrs:{type:"flex",justify:"space-between"}},[e("a-col",[e("a-radio-group",{attrs:{"default-value":t.hd_type,"button-style":"solid"},on:{change:t.hdTypeChange}},t._l(t.hdTypeOptions,(function(a){return e("a-radio-button",{key:a.value,attrs:{value:a.value}},[t._v(" "+t._s(a.label)+" ")])})),1)],1),e("a-col",{staticClass:"flex align-center"},[e("a-input",{attrs:{placeholder:t.L("搜索")},on:{change:t.inputChange,pressEnter:t.inputChange},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[e("a-icon",{attrs:{slot:"prefix",type:"search"},slot:"prefix"})],1),e("a-button",{staticClass:"ml-20",attrs:{type:"primary"},on:{click:function(e){return t.getList()}}},[t._v(" "+t._s(t.L("刷新"))+" ")])],1)],1),e("a-table",{attrs:{"row-selection":{selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange},columns:t.columns,rowKey:"goods_id",scroll:{y:442},pagination:t.pagination,"data-source":t.dataList},scopedSlots:t._u([{key:"start_date",fn:function(a,o){return e("span",{},[t._v(" "+t._s(t.moment(1e3*o.start_time).format("YYYY-MM-DD HH:mm:ss"))+" ")])}}],null,!1,2912289315)})],1)],1):t._e()},s=[],i=(a("c5cb"),a("08c7"),a("075f"),a("6e84"),a("7023"),a("a2f8")),n=a("5bb2"),r=a("9686"),l=a("3335"),c=a.n(l),d=a("2f42"),u=a.n(d),f={components:{componentDesc:i["default"],IconFont:n["a"],draggable:c.a},props:{formContent:{type:[String,Object],default:""}},data:function(){var t=this;return{desc:{title:"营销活动"},labelCol:{span:5},wrapperCol:{span:19},formDataDecorate:"",columns:[{title:this.L("活动ID"),dataIndex:"id",key:"id",align:"center"},{title:this.L("商品名称"),dataIndex:"name",key:"name",align:"center"},{title:this.L("开始时间"),dataIndex:"start_date",key:"start_date",scopedSlots:{customRender:"start_date"},align:"center"}],rules:{title:{required:!0,message:this.L("标题内容必填,长度限制为8个字"),trigger:""}},dataList:[],visible:!1,pagination:{current:1,pageSize:10,total:0,"show-total":function(e){return!!e&&t.L("共 X1 条记录",{X1:e})},"show-size-changer":!0,"show-quick-jumper":!0,onChange:this.onPageChange,onShowSizeChange:this.onPageSizeChange},selectedRowKeys:[],keyword:"",hdTypeOptions:[{value:"limited",label:this.L("秒杀")},{value:"bargain",label:this.L("砍价")},{value:"group",label:this.L("拼团")}],hd_type:"",dataListAll:[]}},watch:{formContent:{deep:!0,handler:function(t,e){if(t)for(var a in this.formDataDecorate={},t)this.$set(this.formDataDecorate,a,t[a]);else this.formDataDecorate=""}},formDataDecorate:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t)}}},computed:{sourceInfo:function(){return this.$store.state.customPage.sourceInfo},hdTypeLabel:function(){var t="",e=this.formDataDecorate.hd_type;return e?"limited"==e?t=this.L("秒杀"):"bargain"==e?t=this.L("砍价"):"group"==e&&(t=this.L("拼团")):t=this.L("活动"),t}},mounted:function(){if(this.formContent)for(var t in this.formDataDecorate={},this.formContent)this.$set(this.formDataDecorate,t,this.formContent[t]);this.$store.dispatch("updateStyleTypeOptions")},methods:{moment:u.a,getLabel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="";return t.length&&t.forEach((function(t){t.value==e&&(a=t.label)})),a},isShowChange:function(t){this.$set(this.formDataDecorate,"is_show",t.target.checked?1:2)},onPageChange:function(t,e){this.$set(this.pagination,"current",t),this.getList()},onPageSizeChange:function(t,e){this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",e),this.getList()},onSelectChange:function(t){this.selectedRowKeys=t},addBtn:function(){var t=this.formDataDecorate.list||[];t.length&&(this.selectedRowKeys=t.map((function(t){return t.goods_id}))),this.visible=!0,this.keyword="",this.hd_type=this.formDataDecorate.hd_type||"limited",this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",10),this.getList()},getList:function(){var t=this,e={source:this.sourceInfo.source,source_id:this.sourceInfo.source_id,keyword:this.keyword,hd_type:this.hd_type,page:this.pagination.current,pageSize:this.pagination.pageSize};this.request(r["a"].getActInfo,e).then((function(e){if(t.dataList=e.list||[],t.$set(t.pagination,"total",parseInt(e.total)),t.dataListAll=t.dataListAll.concat(e.list)||[],t.dataListAll.length){var a={};t.dataListAll=t.dataListAll.reduce((function(t,e){return!a[e.goods_id]&&(a[e.goods_id]=t.push(e)),t}),[])}}))},inputChange:function(){""===this.keyword.trim()&&0!=this.keyword||(this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",10),this.getList())},hdTypeChange:function(t){this.hd_type=t.target.value,this.keyword="",this.$set(this.pagination,"current",1),this.$set(this.pagination,"pageSize",10),this.dataList=[],this.dataListAll=[],this.getList()},handleOk:function(){var t=this,e=[];this.selectedRowKeys.length&&this.dataListAll.length&&this.selectedRowKeys.forEach((function(a){t.dataListAll.forEach((function(t){a==t.goods_id&&e.push(t)}))})),this.$set(this.formDataDecorate,"hd_type",this.hd_type),this.$set(this.formDataDecorate,"list",e),this.visible=!1,this.selectedRowKeys=[],this.dataListAll=[]},handleCancel:function(){this.visible=!1,this.selectedRowKeys=[],this.keyword="",this.dataListAll=[]}}},m=f,h=(a("9f4e"),a("0b56")),p=Object(h["a"])(m,o,s,!1,null,"a22bdd6c",null);e["default"]=p.exports},efec:function(t,e,a){"use strict";a("3f8b")},f3d9:function(t,e,a){},f487:function(t,e,a){"use strict";a("6f6d")},f515:function(t,e,a){},fa7e:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",[e("componentDesc",{attrs:{content:t.desc}}),t.formDataDecorate?e("div",{staticClass:"content"},[e("a-form-model",{attrs:{model:t.formDataDecorate,"label-col":t.labelCol,"wrapper-col":t.wrapperCol,labelAlign:"left"}},[e("a-form-model-item",{attrs:{label:t.L("空白高度")}},[e("a-row",{attrs:{type:"flex"}},[e("a-col",{attrs:{span:17}},[e("a-slider",{attrs:{max:100,min:10},model:{value:t.formDataDecorate.blank_height,callback:function(e){t.$set(t.formDataDecorate,"blank_height",e)},expression:"formDataDecorate.blank_height"}})],1),e("a-col",{attrs:{span:6,offset:1}},[e("a-input-number",{attrs:{min:10,max:100},model:{value:t.formDataDecorate.blank_height,callback:function(e){t.$set(t.formDataDecorate,"blank_height",e)},expression:"formDataDecorate.blank_height"}})],1)],1)],1)],1)],1):t._e()],1)},s=[],i=a("a2f8"),n=a("5bb2"),r={components:{componentDesc:i["default"],IconFont:n["a"]},props:{formContent:{type:[String,Object],default:""}},data:function(){return{desc:{title:this.L("辅助空白")},labelCol:{span:4},wrapperCol:{span:20},formDataDecorate:""}},watch:{formContent:{deep:!0,handler:function(t,e){if(t)for(var a in this.formDataDecorate={},t)this.$set(this.formDataDecorate,a,t[a]);else this.formDataDecorate=""}},formDataDecorate:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t)}}},mounted:function(){if(this.formContent)for(var t in this.formDataDecorate={},this.formContent)this.$set(this.formDataDecorate,t,this.formContent[t])}},l=r,c=(a("02b2"),a("0b56")),d=Object(c["a"])(l,o,s,!1,null,"44c5a8b9",null);e["default"]=d.exports},fedd:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("div",[e("componentDesc",{attrs:{content:t.desc}}),t.formDataDecorate?e("div",{staticClass:"content"},[e("div",{staticClass:"flex justify-between align-center"},[e("div",{staticClass:"flex flex-column"},[e("span",{staticClass:"fs-16 cr-black"},[t._v(" "+t._s(t.L("分类导航列表"))+" ")]),e("span",{staticClass:"cr-66"},[t._v(" "+t._s(t.L("管理频道分类列表信息"))+" ")])]),e("div",[e("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.setOpt()}}},[t._v("设置")])],1)])]):t._e(),t.visibleModal?e("div",[e("diypageFeedCategory",{attrs:{cat_id:t.cat_id},on:{handleOk:t.handleOk,handleCancel:function(e){t.visibleModal=!1}}})],1):t._e()],1)},s=[],i=a("a2f8"),n=a("9686"),r=a("600f"),l={components:{componentDesc:i["default"],diypageFeedCategory:r["default"]},props:{formContent:{type:[String,Object],default:""}},data:function(){return{desc:{title:"店铺feed流配置",desc:"店铺流列表模块为分类页面为固定模块"},formDataDecorate:"",cat_id:"0",visibleModal:!1}},watch:{formContent:{deep:!0,handler:function(t,e){if(t)for(var a in this.formDataDecorate={},t)this.$set(this.formDataDecorate,a,t[a]);else this.formDataDecorate=""}},formDataDecorate:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t)}}},computed:{sourceInfo:function(){return this.$store.state.customPage.sourceInfo}},mounted:function(){if(this.formContent)for(var t in this.formDataDecorate={},this.formContent)this.$set(this.formDataDecorate,t,this.formContent[t])},methods:{getOpt:function(){var t=this,e={cat_id:this.cat_id};this.request(n["a"].getFeedCategoryList,e).then((function(e){t.$set(t.formDataDecorate,"list",e.list||[]),t.visibleModal=!1}))},setOpt:function(){this.cat_id=this.sourceInfo.source_id||"0",this.visibleModal=!0},handleOk:function(){this.visibleModal=!1,this.getOpt()}}},c=l,d=(a("3ea1"),a("0b56")),u=Object(d["a"])(c,o,s,!1,null,"4aca0ba7",null);e["default"]=u.exports}}]);