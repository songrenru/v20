(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5785107a"],{"1a88":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:e.title,width:940,visible:e.visible,confirmLoading:e.confirmLoading,footer:null},on:{cancel:e.handleCancelModel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form-model",{attrs:{layout:"inline",model:e.searchForm}},[a("a-row",[a("a-col",{attrs:{span:2,align:"right"}},[a("span",{staticClass:"label"},[e._v("消费类型：")])]),a("a-col",{staticStyle:{"padding-right":"10px"},attrs:{span:3}},[a("a-select",{model:{value:e.searchForm.verify_type,callback:function(t){e.$set(e.searchForm,"verify_type",t)},expression:"searchForm.verify_type"}},[a("a-select-option",{attrs:{value:0}},[e._v("全部")]),a("a-select-option",{attrs:{value:1}},[e._v("食堂刷卡")]),a("a-select-option",{attrs:{value:2}},[e._v("自动核销")]),a("a-select-option",{attrs:{value:3}},[e._v("余额消费")]),a("a-select-option",{attrs:{value:4}},[e._v("积分消费")])],1)],1),a("a-col",{attrs:{span:2,align:"right"}},[a("span",{staticClass:"label"},[e._v("变动类型：")])]),a("a-col",{staticStyle:{"padding-right":"10px"},attrs:{span:3}},[a("a-select",{model:{value:e.searchForm.change_type,callback:function(t){e.$set(e.searchForm,"change_type",t)},expression:"searchForm.change_type"}},[a("a-select-option",{attrs:{value:0}},[e._v("全部")]),a("a-select-option",{attrs:{value:1}},[e._v("增加")]),a("a-select-option",{attrs:{value:2}},[e._v("减少")])],1)],1),a("a-col",{attrs:{span:2,align:"right"}},[a("span",{staticClass:"label"},[e._v("消费时间：")])]),a("a-col",{attrs:{span:10}},[a("a-range-picker",{attrs:{ranges:{"过去30天":[e.moment().subtract(30,"days"),e.moment()],"过去15天":[e.moment().subtract(15,"days"),e.moment()],"过去7天":[e.moment().subtract(7,"days"),e.moment()],"今日":[e.moment(),e.moment()]},value:e.searchForm.time,"show-time":{hideDisabledOptions:!0,defaultValue:[e.moment("00:00","HH:mm"),e.moment("23:59","HH:mm")],format:"HH:mm"},format:"YYYY-MM-DD HH:mm"},on:{change:e.onDateRangeChange}})],1),a("a-col",{attrs:{span:2}},[a("a-button",{staticClass:"ml-20",attrs:{type:"primary"},on:{click:function(t){return e.submitForm(!0)}}},[e._v("搜索")])],1)],1)],1),a("br"),a("a-table",{attrs:{columns:e.columns,"data-source":e.data,pagination:e.pagination,rowKey:"order_id"},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"type",fn:function(t,r){return a("span",{},["1"==r.verify_type?a("a",{staticClass:"ml-10 inline-block"},[e._v("食堂刷卡")]):e._e(),"2"==r.verify_type?a("a",{staticClass:"ml-10 inline-block"},[e._v("自动核销")]):e._e(),"3"==r.verify_type?a("a",{staticClass:"ml-10 inline-block"},[e._v("余额消费")]):e._e(),"4"==r.verify_type?a("a",{staticClass:"ml-10 inline-block"},[e._v("积分消费")]):e._e()])}},{key:"change_type",fn:function(t,r){return a("span",{},["increase"==r.change_type?a("a",{staticClass:"ml-10 inline-block"},[e._v("增加")]):e._e(),"success"==r.change_type?a("a",{staticClass:"ml-10 inline-block"},[e._v("减少")]):e._e(),"decrease"==r.change_type?a("a",{staticClass:"ml-10 inline-block"},[e._v("减少")]):e._e()])}}])})],1)],1)},o=[],n=a("c5bf"),s=(a("202f"),a("0808"),a("6944")),i=a.n(s),l=a("8bbf"),m=a.n(l),c=a("da05"),p=a("c1df"),d=a.n(p);m.a.use(i.a);var y=[{title:"编号",dataIndex:"pigcms_id",scopedSlots:{customRender:"pigcms_id"},align:"center"},{title:"消费类型",dataIndex:"type",scopedSlots:{customRender:"type"},align:"center"},{title:"变动类型",dataIndex:"change_type",scopedSlots:{customRender:"change_type"},align:"center"},{title:"展示的信息",dataIndex:"description",slots:{customRender:"description"},align:"center"},{title:"消费时间",dataIndex:"add_time",slots:{customRender:"add_time"},align:"center"}],h={name:"employeeCardOrder",components:{ACol:c["b"]},data:function(){var e=this;return{title:"消费列表",total_num:0,visible:!1,confirmLoading:!0,columns:y,data:[],card_id:0,formData:{},searchForm:{type:0,content:"",time:[],begin_time:"",end_time:"",user_id:0,card_id:0,verify_type:0,change_type:0},pagination:{page:1,current:1,total:0,pageSize:10,showSizeChanger:!0,onChange:function(t,a){return e.onPageChange(t,a)},onShowSizeChange:function(t,a){return e.onPageSizeChange(t,a)},showTotal:function(e){return"共 ".concat(e," 条")}}}},methods:{moment:d.a,edit:function(e,t){this.$set(this.searchForm,"user_id",e),this.$set(this.searchForm,"card_id",t),this.searchForm.verify_type=0,this.searchForm.change_type=0,this.getDataList()},getDataList:function(){var e=this;this.request(n["a"].orderList,this.searchForm).then((function(t){e.visible=!0,e.confirmLoading=!1,e.data=t.list,e.total_num=t.total,e.$set(e.pagination,"total",t.total)}))},submitForm:function(){this.$set(this.pagination,"current",1),this.getDataList()},handleTableChange:function(e){e.current&&e.current>0&&(this.pagination["page"]=e.current)},onPageChange:function(e,t){this.pagination.page=e,this.$set(this.pagination,"current",e)},onPageSizeChange:function(e,t){this.$set(this.pagination,"pageSize",t)},handleCancelModel:function(){this.searchForm={type:0,content:"",time:[],begin_time:"",end_time:""},this.visible=!1},onDateRangeChange:function(e,t){this.$set(this.searchForm,"time",[e[0],e[1]]),this.$set(this.searchForm,"begin_time",t[0]),this.$set(this.searchForm,"end_time",t[1])}}},g=h,C=(a("3766"),a("0c7c")),u=Object(C["a"])(g,r,o,!1,null,"58a87fd0",null);t["default"]=u.exports},"29b2":function(e,t,a){},3766:function(e,t,a){"use strict";a("29b2")},c5bf:function(e,t,a){"use strict";var r={getCardList:"/employee/merchant.EmployeeCard/getCardList",editCard:"/employee/merchant.EmployeeCard/editCard",saveCard:"/employee/merchant.EmployeeCard/saveCard",getCouponList:"/employee/merchant.EmployeeCard/getCouponList",editCoupon:"/employee/merchant.EmployeeCard/editCoupon",saveCoupon:"/employee/merchant.EmployeeCard/saveCoupon",delCoupon:"/employee/merchant.EmployeeCard/delCoupon",getUserCardList:"/employee/merchant.EmployeeCardUser/getUserCardList",exportUserCardList:"/employee/merchant.EmployeeCardUser/exportUserCardList",editCardUser:"/employee/merchant.EmployeeCardUser/editCardUser",saveCardUser:"/employee/merchant.EmployeeCardUser/saveCardUser",delData:"/employee/merchant.EmployeeCardUser/delData",findUser:"/employee/merchant.EmployeeCardUser/findUser",loadExcel:"/employee/merchant.EmployeeCardUser/loadExcel",orderList:"/employee/merchant.EmployeeCardUser/orderList",cardLogList:"/employee/merchant.EmployeeCard/cardLogList",cardLogStorestaffList:"/employee/storestaff.EmployeeCardOrder/cardLogList",paymentScan:"/employee/storestaff.EmployeePayCode/deductions",cardLogExport:"/employee/merchant.EmployeeCard/export",employLableList:"/employee/merchant.EmployeeCardUser/employLableList",employLableAddOrEdit:"/employee/merchant.EmployeeCardUser/employLableAddOrEdit",employLableDel:"/employee/merchant.EmployeeCardUser/employLableDel",dataStatistics:"/employee/merchant.EmployeeCardLog/dataStatistics",getStoreConsumerList:"/employee/merchant.EmployeeCardLog/getStoreConsumerList",dataRechargeStatistics:"/employee/merchant.EmployeeCardOrder/getEmployeeOrderStatistics",dataRechargeStatisticsExport:"/employee/merchant.EmployeeCardOrder/getEmployeeOrderStatisticsExport",dataRechargeOrderExport:"/employee/merchant.EmployeeCardOrder/getEmployeeOrderExport",paymentMode:"/employee/merchant.EmployeeCardOrder/getPayType",getOrderList:"/employee/merchant.EmployeeCardOrder/getEmployeeOrderList",refundMoney:"/employee/merchant.EmployeeCardOrder/employeeOrderRefund",employeeCouponRefund:"/employee/merchant.EmployeeCardLog/employeeCouponRefund",isOpenUseMoney:"/employee/merchant.EmployeeCard/isOpenUseMoney",getLabelList:"/employee/merchant.EmployeeCardUser/getLabelList",getSendCouponDateList:"/employee/merchant.EmployeeCard/getSendCouponDateList",getCalcDateList:"/employee/merchant.EmployeeCard/getCalcDateList",getStaffDataStatistics:"/employee/storestaff.EmployeeCardLog/dataStatistics",delUserCard:"/employee/merchant.EmployeeCardUser/delUserCard",openUserCard:"/employee/merchant.EmployeeCardUser/openUserCard",closeUserCard:"/employee/merchant.EmployeeCardUser/closeUserCard",getClearScoreList:"/employee/merchant.EmployeeCard/getClearScoreList",staffRefundMoney:"/employee/storestaff.EmployeeCardOrder/employeeOrderRefund",openOrCloseUserCard:"/employee/merchant.EmployeeCardUser/openOrCloseUserCard",getStoreList:"/employee/merchant.EmployeeCardUser/getStoreList",lableBindStore:"/employee/merchant.EmployeeCardUser/lableBindStore"};t["a"]=r}}]);