(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0cce4ae0"],{3348:function(e,t,i){"use strict";i("ccb4")},ccb4:function(e,t,i){},d6d3:function(e,t,i){!function(t,n){e.exports=n(i("3d337"))}(0,(function(e){return function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var i={};return t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=3)}([function(t,i){t.exports=e},function(e,t,i){"use strict";function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(t,"__esModule",{value:!0});var o=i(0),r=function(e){return e&&e.__esModule?e:{default:e}}(o),l=window.videojs||r.default;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])}return i},writable:!0,configurable:!0});var s=["loadeddata","canplay","canplaythrough","play","pause","waiting","playing","ended","error"];t.default={name:"video-player",props:{start:{type:Number,default:0},crossOrigin:{type:String,default:""},playsinline:{type:Boolean,default:!1},customEventName:{type:String,default:"statechanged"},options:{type:Object,required:!0},events:{type:Array,default:function(){return[]}},globalOptions:{type:Object,default:function(){return{controls:!0,controlBar:{remainingTimeDisplay:!1,playToggle:{},progressControl:{},fullscreenToggle:{},volumeMenuButton:{inline:!1,vertical:!0}},techOrder:["html5"],plugins:{}}}},globalEvents:{type:Array,default:function(){return[]}}},data:function(){return{player:null,reseted:!0}},mounted:function(){this.player||this.initialize()},beforeDestroy:function(){this.player&&this.dispose()},methods:{initialize:function(){var e=this,t=Object.assign({},this.globalOptions,this.options);this.playsinline&&(this.$refs.video.setAttribute("playsinline",this.playsinline),this.$refs.video.setAttribute("webkit-playsinline",this.playsinline),this.$refs.video.setAttribute("x5-playsinline",this.playsinline),this.$refs.video.setAttribute("x5-video-player-type","h5"),this.$refs.video.setAttribute("x5-video-player-fullscreen",!1)),""!==this.crossOrigin&&(this.$refs.video.crossOrigin=this.crossOrigin,this.$refs.video.setAttribute("crossOrigin",this.crossOrigin));var i=function(t,i){t&&e.$emit(t,e.player),i&&e.$emit(e.customEventName,n({},t,i))};t.plugins&&delete t.plugins.__ob__;var o=this;this.player=l(this.$refs.video,t,(function(){for(var e=this,t=s.concat(o.events).concat(o.globalEvents),n={},r=0;r<t.length;r++)"string"==typeof t[r]&&void 0===n[t[r]]&&function(t){n[t]=null,e.on(t,(function(){i(t,!0)}))}(t[r]);this.on("timeupdate",(function(){i("timeupdate",this.currentTime())})),o.$emit("ready",this)}))},dispose:function(e){var t=this;this.player&&this.player.dispose&&("Flash"!==this.player.techName_&&this.player.pause&&this.player.pause(),this.player.dispose(),this.player=null,this.$nextTick((function(){t.reseted=!1,t.$nextTick((function(){t.reseted=!0,t.$nextTick((function(){e&&e()}))}))})))}},watch:{options:{deep:!0,handler:function(e,t){var i=this;this.dispose((function(){e&&e.sources&&e.sources.length&&i.initialize()}))}}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),o=i.n(n);for(var r in n)["default","default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(r);var l=i(5),s=i(4),a=s(o.a,l.a,!1,null,null,null);t.default=a.exports},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.install=t.videoPlayer=t.videojs=void 0;var o=i(0),r=n(o),l=i(2),s=n(l),a=window.videojs||r.default,u=function(e,t){t&&(t.options&&(s.default.props.globalOptions.default=function(){return t.options}),t.events&&(s.default.props.globalEvents.default=function(){return t.events})),e.component(s.default.name,s.default)},d={videojs:a,videoPlayer:s.default,install:u};t.default=d,t.videojs=a,t.videoPlayer=s.default,t.install=u},function(e,t){e.exports=function(e,t,i,n,o,r){var l,s=e=e||{},a=typeof e.default;"object"!==a&&"function"!==a||(l=e,s=e.default);var u,d="function"==typeof s?s.options:s;if(t&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0),i&&(d.functional=!0),o&&(d._scopeId=o),r?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},d._ssrRegister=u):n&&(u=n),u){var c=d.functional,f=c?d.render:d.beforeCreate;c?(d._injectStyles=u,d.render=function(e,t){return u.call(t),f(e,t)}):d.beforeCreate=f?[].concat(f,u):[u]}return{esModule:l,exports:s,options:d}}},function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.reseted?i("div",{staticClass:"video-player"},[i("video",{ref:"video",staticClass:"video-js"})]):e._e()},o=[],r={render:n,staticRenderFns:o};t.a=r}])}))},f1d4:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a-modal",{attrs:{title:e.videoTitle,visible:e.visible,footer:null,width:1e3},on:{cancel:e.handleCancel}},["flv"==e.videoType?i("video",{staticClass:"videoPlayer",attrs:{id:"myFlvVideo",controls:"",autoplay:""},domProps:{muted:!1}}):e._e(),e.visible&&"hls"==e.videoType?i("video-player",{ref:"videoPlayer",staticClass:"video-player",attrs:{playsinline:!0,options:e.playerOptions},on:{play:function(t){return e.onPlayerPlay(t)}}}):e._e(),e.visible&&!e.videoType?i("div",{staticClass:"no_video",staticStyle:{width:"100%",height:"600px",display:"flex","align-items":"center","justify-content":"center"}},[i("h1",[e._v("暂无数据源")])]):e._e()],1)},o=[],r=i("fc78"),l=i.n(r),s=i("d6d3"),a=(i("fda2"),i("a151"),{props:{visible:{type:Boolean,default:!1},videoUrl:{type:String,default:""},videoType:{type:String,default:"flv"},videoTitle:{type:String,default:"视频预览"}},watch:{visible:{handler:function(e){var t=this;e&&this.videoUrl&&"flv"==this.videoType&&this.$nextTick((function(){t.createVideo()})),e&&this.videoUrl&&"hls"==this.videoType&&(this.playerOptions.sources[0].src=this.videoUrl)}}},components:{videoPlayer:s["videoPlayer"]},data:function(){return{videoSrc:"https://cmgw-vpc.lechange.com:8890/flv/LCO/8F03A4EPAG5D721/0/0/20220819133149/26090cd7734e89b8033db7e12a874201.flv?proto=https",flvPlayer:null,m3u8Src:"http://hls01open.ys7.com/openlive/daac42b18e4b4bd1826e52d50f84add5.m3u8",playerOptions:{autoplay:!0,muted:!0,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{type:"application/x-mpegURL",src:"http://hls01open.ys7.com/openlive/daac42b18e4b4bd1826e52d50f84add5.m3u8"}],notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}},interval:null}},mounted:function(){},beforeDestroy:function(){this.videoUrl&&this.destoryVideo()},methods:{onPlayerPlay:function(e){console.log(e)},createVideo:function(){var e=this;if(l.a.isSupported()){console.log("this.videoUrl===>",this.videoUrl);var t=document.getElementById("myFlvVideo");if(this.flvPlayer=l.a.createPlayer({type:"flv",isLive:!0,hasAudio:!1,url:this.videoUrl}),!this.flvPlayer)return;this.flvPlayer.attachMediaElement(t),this.flvPlayer.load(),this.flvPlayer.play(),this.flvPlayer.on(l.a.Events.ERROR,(function(t,i){console.log("errorType:",t),console.log("errorDetail:",i),e.flvPlayer&&(e.destoryVideo(),e.createVideo())}))}},destoryVideo:function(){this.flvPlayer&&(this.flvPlayer.pause(),this.flvPlayer.unload(),this.flvPlayer.detachMediaElement(),this.flvPlayer.destroy(),this.flvPlayer=null)},handleCancel:function(){this.$emit("closeVideo")}}}),u=a,d=(i("3348"),i("0c7c")),c=Object(d["a"])(u,n,o,!1,null,"19dd4a33",null);t["default"]=c.exports}}]);