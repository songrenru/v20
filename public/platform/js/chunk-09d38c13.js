(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09d38c13"],{"1b98":function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a-modal",{staticClass:"dialog",attrs:{title:e.titleName,width:"800",centered:"",visible:e.dialogVisible,destroyOnClose:!0},on:{ok:e.handleOk,cancel:e.handleCancel}},[i("div",{staticClass:"select-goods"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.keywords,expression:"!keywords"}],staticClass:"left scroll_content"},[i("a-menu",{attrs:{mode:"inline","open-keys":e.openKeys,selectedKeys:e.selectedSort},on:{openChange:e.onOpenChange,select:e.onSelect}},[e._l(e.sortList,(function(t){return[t.children&&t.children.length?i("a-sub-menu",{key:t.id},[i("span",{attrs:{slot:"title"},slot:"title"},[i("span",[e._v(e._s(t.name))])]),t.children&&t.children.length?e._l(t.children,(function(t){return i("a-menu-item",{key:t.id},[e._v(e._s(t.name))])})):e._e()],2):i("a-menu-item",{key:t.id},[e._v(e._s(t.name))])]}))],2)],1),i("div",{staticClass:"right"},[i("div",{staticClass:"top"},[e.keywords?i("a-icon",{staticClass:"fs-16 pointer",attrs:{type:"left"},on:{click:function(t){return e.backToSort()}}}):e._e(),i("a-input-search",{staticClass:"search",attrs:{placeholder:"sport"==e.source?"场馆名称":"景区名称","allow-clear":""},on:{change:e.getGoodsList,search:e.getGoodsList},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}})],1),i("div",{staticClass:"bottom"},[i("a-table",{key:"spu_table",attrs:{"row-selection":e.rowSelection,columns:e.columns,"data-source":e.tableList,rowKey:"ticket_id",scroll:{y:500},pagination:!!e.tableList.length&&e.pagination},scopedSlots:e._u([{key:"ticket_title",fn:function(t,o){return i("span",{},[i("div",{staticClass:"product-info"},[i("div",[i("img",{attrs:{src:o.image}})]),i("div",[e._v(e._s(o.title))])])])}},{key:"price",fn:function(t,o){return i("span",{},[i("span",{key:"spu_goods"},[e._v("￥"+e._s(o.price))])])}},{key:"current_stock",fn:function(t){return i("span",{},[e._v(" "+e._s(-1==t?"无限量":t)+" ")])}}])})],1)])])])},s=[],l=(i("d3b7"),i("159b"),i("7db0"),i("d81d"),i("a434"),i("4d95")),r=null,a={name:"SelectShopGoods",props:{source:{type:String,default:"shipping"},targeTage:{type:Array,default:function(){return[]}},group_type:{type:Array,default:function(){return[]}},type:{type:String,default:"checkbox"},startTime:String,endTime:String,selectedList:{type:Array,default:function(){return[]}}},data:function(){return{titleName:"选择景区门票",dialogVisible:!1,start_time:0,end_time:0,rootSubmenuKeys:[],openKeys:[],columns:[{title:"门票信息",dataIndex:"ticket_title",scopedSlots:{customRender:"ticket_title"},width:"300px"},{title:"价格",dataIndex:"price",scopedSlots:{customRender:"price"},width:"200px"},{title:"当前库存",dataIndex:"stock_num",scopedSlots:{customRender:"current_stock"}}],menuId:0,hasSelected:[],selectedRowKeys:[],selectedSort:[],sortList:[],keywords:"",tableList:[],oldMenuId:"",sList:[],isSku:!1,pagination:{current:1,total:0,pageSize:10,onChange:function(e,t){return r.onPageChange(e,t)}}}},computed:{rowSelection:function(){return this.isSku?null:{selectedRowKeys:this.selectedRowKeys,type:this.type,onSelect:this.onRowSelect,onSelectAll:this.onSelectAll,getCheckboxProps:function(e){return{props:{disabled:0==e.can_be_choose}}}}}},created:function(){r=this},watch:{selectedList:function(e){this.sList=JSON.parse(JSON.stringify(e)),"sport"==this.source&&(this.titleName="选择场馆门票")}},methods:{openDialog:function(){this.dialogVisible=!0,this.sList=JSON.parse(JSON.stringify(this.selectedList)),console.log(this.selectedList,"selectedList"),this.getSortList()},init:function(){this.rootSubmenuKeys=[],this.openKeys=[],this.selectedSort=[],this.tableList=[],this.keywords="",this.start_time=new Date(this.startTime).getTime()/1e3,this.end_time=new Date(this.endTime).getTime()/1e3,this.pagination=this.$options.data().pagination},getSortList:function(){var e=this;this.request(l["a"].getMerchantSort,{source:this.source}).then((function(t){t.list&&t.list.length&&(e.sortList=t.list,e.handleDefaultSelect())}))},handleDefaultSelect:function(){var e=this;this.init(),this.sortList.forEach((function(t,i){if(e.rootSubmenuKeys.push(t.id),t.children&&t.children.length){0==i&&e.openKeys.push(t.id);var o=t.children;o.forEach((function(t,o){t.children&&t.children.length?0==o&&e.openKeys.push(t.id):0==i&&0==o&&(e.menuId=t.id)}))}else 0==i&&(e.menuId=t.id)})),this.selectedSort.push(this.menuId),this.getGoodsList()},onSelect:function(e){var t=e.key;this.selectedSort=[t],this.menuId=t,this.$set(this.pagination,"current",1),this.getGoodsList()},getGoodsList:function(){var e=this;this.tableList=[];var t={keyword:this.keywords,page:this.pagination.current,pageSize:this.pagination.pageSize,source:this.source,targeTage:this.targeTage,group_type:this.group_type};this.keywords||(t.tools_id=this.menuId),this.request(l["a"].getLifeToolsTicket,t).then((function(t){t.list&&t.list.length&&(e.tableList=JSON.parse(JSON.stringify(t.list)),e.$set(e.pagination,"total",t.count),e.handleList())}))},handleList:function(){var e=this;this.selectedRowKeys=[],this.sList.length&&("radio"==this.type?(this.sList.length>1&&(this.sList=[this.sList[0]]),this.selectedRowKeys=[this.sList[0].ticket_id]):this.sList.forEach((function(t){e.selectedRowKeys.push(t.ticket_id)}))),this.selectedRows=this.sList},handleOk:function(){var e=this.selectedRowKeys,t=this.sList;t.length?(this.$emit("submit",{ids:e,goods:t}),this.handleCancel()):this.$message.error("请选择商品")},handleCancel:function(){this.dialogVisible=!1},onOpenChange:function(e){var t=this,i=e.find((function(e){return-1===t.openKeys.indexOf(e)}));-1===this.rootSubmenuKeys.indexOf(i)?this.openKeys=e:this.openKeys.push(i)},backToSort:function(){this.keywords="",this.getGoodsList()},onRowSelect:function(e,t,i){"radio"==this.type?(this.sList=[e],this.selectedRowKeys=[e.ticket_id]):t?(this.sList.push(e),this.selectedRowKeys.push(e.ticket_id)):(this.sList.remove(e),this.selectedRowKeys.remove(e.ticket_id))},onSelectAll:function(e,t,i){var o=this;e?i.map((function(e){o.selectedRowKeys.push(e.ticket_id),o.sList.push(e)})):i.map((function(e){o.sList.remove(e),o.selectedRowKeys.remove(e.ticket_id)}))},onPageChange:function(e,t){this.$set(this.pagination,"current",e),this.getGoodsList()}}};Array.prototype.remove=function(e){var t=this.indexOf(e),i=-1;t>-1?this.splice(t,1):(this.map((function(t,o){t.goods_id==e.goods_id&&(i=o)})),i>-1&&this.splice(i,1))};var n=a,c=(i("ed37"),i("2877")),d=Object(c["a"])(n,o,s,!1,null,"69b1ed08",null);t["default"]=d.exports},"39fd":function(e,t,i){},"4d95":function(e,t,i){"use strict";var o={getTicketList:"life_tools/merchant.LifeToolsTicket/getList",getTicketDetail:"life_tools/merchant.LifeToolsTicket/getDetail",ticketDel:"life_tools/merchant.LifeToolsTicket/del",TicketEdit:"life_tools/merchant.LifeToolsTicket/addOrEdit",getLifeToolsList:"life_tools/merchant.LifeTools/getInformationList",setLifeToolsAttrs:"life_tools/merchant.LifeTools/setLifeToolsAttrs",getSportsOrderList:"/life_tools/merchant.SportsOrder/getOrderList",exportToolsOrder:"/life_tools/merchant.SportsOrder/exportToolsOrder",getSportsOrderDetail:"/life_tools/merchant.SportsOrder/getOrderDetail",agreeSportsOrderRefund:"/life_tools/merchant.SportsOrder/agreeRefund",refuseSportsOrderRefund:"/life_tools/merchant.SportsOrder/refuseRefund",getEditInfo:"life_tools/merchant.LifeToolsTicket/getEditInfo",getCategoryList:"life_tools/merchant.LifeToolsCategory/getCategoryList",getMapConfig:"life_tools/merchant.LifeTools/getMapConfig",getAddressList:"life_tools/merchant.LifeTools/getAddressList",addEditLifeTools:"life_tools/merchant.LifeTools/addEditLifeTools",getLifeToolsDetail:"life_tools/merchant.LifeTools/getLifeToolsDetail",delLifeTools:"life_tools/merchant.LifeTools/delLifeTools",getReplyList:"/life_tools/merchant.LifeToolsReply/searchReply",isShowReply:"/life_tools/merchant.LifeToolsReply/isShowReply",getReplyDetails:"/life_tools/merchant.LifeToolsReply/getReplyDetails",delReply:"/life_tools/merchant.LifeToolsReply/delReply",subReply:"/life_tools/merchant.LifeToolsReply/subReply",getReplyContent:"/life_tools/merchant.LifeToolsReply/getReplyContent",getCardList:"/life_tools/merchant.EmployeeCard/getCardList",editCard:"/life_tools/merchant.EmployeeCard/editCard",saveCard:"/life_tools/merchant.EmployeeCard/saveCard",delCard:"/life_tools/merchant.EmployeeCard/delCard",getSportsVerifyList:"/life_tools/merchant.SportsOrder/getVerifyList",exportVerifyRecord:"/life_tools/merchant.SportsOrder/exportVerifyRecord",getLimitedList:"/life_tools/merchant.LifeScenicLimitedAct/getLimitedList",updateLimited:"/life_tools/merchant.LifeScenicLimitedAct/addLimited",limitedChangeState:"/life_tools/merchant.LifeScenicLimitedAct/changeState",removeLimited:"/life_tools/merchant.LifeScenicLimitedAct/del",getLimitedInfo:"/life_tools/merchant.LifeScenicLimitedAct/edit",getMerchantSort:"/life_tools/merchant.LifeToolsTicket/getMerchantSort",getLifeToolsTicket:"/life_tools/merchant.LifeToolsTicket/getLifeToolsTicket",getToolsCardList:"/life_tools/merchant.LifeTools/getToolsCardList",AddOrEditToolsCard:"/life_tools/merchant.LifeTools/AddOrEditToolsCard",getToolsCardEdit:"/life_tools/merchant.LifeTools/getToolsCardEdit",delToolsCard:"/life_tools/merchant.LifeTools/delToolsCard",getAllToolsList:"/life_tools/merchant.LifeTools/getAllToolsList",getToolsCardRecord:"/life_tools/merchant.LifeTools/getToolsCardRecord",getCardOrderList:"/life_tools/merchant.LifeTools/getCardOrderList",getCardOrderDetail:"/life_tools/merchant.LifeTools/getCardOrderDetail",agreeCardOrderRefund:"/life_tools/merchant.LifeTools/agreeCardOrderRefund",refuseCardOrderRefund:"/life_tools/merchant.LifeTools/refuseCardOrderRefund",getSportsActivityList:"/life_tools/merchant.LifeToolsSportsActivity/getSportsActivityList",updateSportsActivityStatus:"/life_tools/merchant.LifeToolsSportsActivity/updateSportsActivityStatus",getSportsActivityOrderList:"/life_tools/merchant.LifeToolsSportsActivity/getSportsActivityOrderList",addSportsActivity:"/life_tools/merchant.LifeToolsSportsActivity/addSportsActivity",editSportsActivity:"/life_tools/merchant.LifeToolsSportsActivity/editSportsActivity",getTravelList:"/life_tools/merchant.LifeToolsGroupTravelAgency/getTravelList",agencyAudit:"/life_tools/merchant.LifeToolsGroupTravelAgency/audit",getStaffList:"/life_tools/merchant.LifeToolsTicket/getStaffList",getAppointList:"life_tools/merchant.LifeToolsAppoint/getList",getAppointMsg:"life_tools/merchant.LifeToolsAppoint/getToolAppointMsg",saveAppoint:"life_tools/merchant.LifeToolsAppoint/saveToolAppoint",lookAppointUser:"life_tools/merchant.LifeToolsAppoint/lookAppointUser",closeAppoint:"life_tools/merchant.LifeToolsAppoint/closeAppoint",exportAppointUserOrder:"life_tools/merchant.LifeToolsAppoint/exportUserOrder",delAppoint:"life_tools/merchant.LifeToolsAppoint/delAppoint",getSeatMap:"/life_tools/merchant.LifeToolsAppoint/getSeatMap",getAppointOrderDetail:"life_tools/merchant.LifeToolsAppoint/getAppointOrderDetail",auditRefund:"life_tools/merchant.LifeToolsAppoint/auditRefund",suspend:"life_tools/merchant.LifeToolsAppoint/suspend",getSportsSecondsKillList:"/life_tools/merchant.LifeToolsSportsSecondsKill/getSecondsKillList",saveSportsSecondsKill:"/life_tools/merchant.LifeToolsSportsSecondsKill/saveSecondsKill",ChangeSportsSecondsKill:"/life_tools/merchant.LifeToolsSportsSecondsKill/ChangeSportsSecondsKill",delSportsSecondsKill:"/life_tools/merchant.LifeToolsSportsSecondsKill/delSecondsKill",getSportsSecondsKillDetail:"/life_tools/merchant.LifeToolsSportsSecondsKill/getSecondsKillDetail",getGroupTicketList:"life_tools/merchant.group/getGroupTicketList",getGroupLifeToolsTicket:"life_tools/merchant.LifeToolsTicket/getLifeToolsTicket",addGroupTicket:"life_tools/merchant.group/addGroupTicket",delGroupTicket:"life_tools/merchant.group/delGroupTicket",editSettingData:"life_tools/merchant.group/editSettingData",editGroupTicket:"life_tools/merchant.group/editGroupTicket",getSettingDataDetail:"life_tools/merchant.group/getSettingDataDetail",getStatisticsData:"life_tools/merchant.LifeToolsGroupOrder/getStatisticsData",getOrderList:"life_tools/merchant.LifeToolsGroupOrder/getOrderList",getOrderAuditList:"/life_tools/merchant.LifeToolsGroupOrder/getAuditGroupOrderList",orderAudit:"/life_tools/merchant.LifeToolsGroupOrder/audit",groupOrderRefand:"life_tools/merchant.LifeToolsGroupOrder/groupOrderRefand",editDistributionPrice:"life_tools/merchant.LifeToolsDistribution/editDistributionPrice",getDistributionSettingDataDetail:"/life_tools/merchant.LifeToolsDistribution/getSettingDataDetail",getDistributionSettingeditSetting:"/life_tools/merchant.LifeToolsDistribution/editSetting",getAtatisticsInfo:"/life_tools/merchant.LifeToolsDistribution/getAtatisticsInfo",getDistributorList:"/life_tools/merchant.LifeToolsDistribution/getDistributorList",getLowerLevel:"/life_tools/merchant.LifeToolsDistribution/getLowerLevel",audit:"/life_tools/merchant.LifeToolsDistribution/audit",getDistributionOrderList:"/life_tools/merchant.LifeToolsDistribution/getDistributionOrderList",editDistributionOrderNote:"/life_tools/merchant.LifeToolsDistribution/editDistributionOrderNote",delDistributor:"/life_tools/merchant.LifeToolsDistribution/delDistributor",addStatement:"/life_tools/merchant.LifeToolsDistribution/addStatement",getStatementList:"/life_tools/merchant.LifeToolsDistribution/getStatement",getStatementDetail:"/life_tools/merchant.LifeToolsDistribution/getStatementDetail",lifeToolsAudit:"/life_tools/platform.LifeTools/lifeToolsAudit",auditTicket:"/life_tools/platform.LifeToolsTicket/auditTicket",getMapCity:"/g=Index&c=Map&a=suggestion",getCarParkList:"/life_tools/merchant.LifeToolsCarPark/getCarParkList",addCarPark:"/life_tools/merchant.LifeToolsCarPark/addCarPark",showCarPark:"/life_tools/merchant.LifeToolsCarPark/showCarPark",getToolsList:"/life_tools/merchant.LifeToolsCarPark/getToolsList",deleteCarPark:"/life_tools/merchant.LifeToolsCarPark/deleteCarPark",statusCarPark:"/life_tools/merchant.LifeToolsCarPark/statusCarPark",wifiList:"life_tools/merchant.LifeToolsWifi/wifiList",wifiAdd:"life_tools/merchant.LifeToolsWifi/wifiAdd",wifiShow:"life_tools/merchant.LifeToolsWifi/wifiShow",wifiStatusChange:"life_tools/merchant.LifeToolsWifi/wifiStatusChange",wifiDelete:"life_tools/merchant.LifeToolsWifi/wifiDelete",scenicMapSave:"/life_tools/merchant.LifeToolsScenicMap/saveMap",scenicMapPlaceList:"/life_tools/merchant.LifeToolsScenicMap/mapPlaceList",scenicMapPlaceSave:"/life_tools/merchant.LifeToolsScenicMap/saveMapPlace",scenicMapPlaceDel:"/life_tools/merchant.LifeToolsScenicMap/mapPlaceDel",scenicMapLineList:"/life_tools/merchant.LifeToolsScenicMap/mapLineList",scenicMapLineSave:"/life_tools/merchant.LifeToolsScenicMap/saveMapLine",scenicMapLineDel:"/life_tools/merchant.LifeToolsScenicMap/mapLineDel",scenicMapScenicList:"/life_tools/merchant.LifeToolsScenicMap/scenicList",scenicMapPlaceCatList:"/life_tools/merchant.LifeToolsScenicMap/categoryList",scenicMapPlaceCategoryDel:"/life_tools/merchant.LifeToolsScenicMap/categoryDel",scenicMapPlaceCategorySave:"/life_tools/merchant.LifeToolsScenicMap/saveCategory",scenicMapList:"/life_tools/merchant.LifeToolsScenicMap/mapList",scenicMapDel:"/life_tools/merchant.LifeToolsScenicMap/mapDel",scenicMapStatusSave:"/life_tools/merchant.LifeToolsScenicMap/saveMapStatus",changeCloseStatus:"life_tools/merchant.LifeTools/changeCloseStatus",getAddEditCardMerchantInfo:"/life_tools/merchant.LifeTools/getAddEditCardMerchantInfo"};t["a"]=o},ed37:function(e,t,i){"use strict";i("39fd")}}]);