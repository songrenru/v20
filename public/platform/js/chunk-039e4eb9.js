(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-039e4eb9"],{"126e":function(e,t,a){"use strict";var n={regionalAgencyList:"/new_marketing/platform.RegionalAgency/regionalAgencyList",findArea:"/new_marketing/platform.RegionalAgency/findArea",findRight:"/new_marketing/platform.RegionalAgency/findRight",findRightEdit:"/new_marketing/platform.RegionalAgency/findRightEdit",addRegionalAgency:"/new_marketing/platform.RegionalAgency/addRegionalAgency",editRegionalAgency:"/new_marketing/platform.RegionalAgency/editRegionalAgency",saveRegionalAgency:"/new_marketing/platform.RegionalAgency/saveRegionalAgency",delRegionalAgency:"/new_marketing/platform.RegionalAgency/delRegionalAgency",reduceWin:"/new_marketing/platform.RegionalAgency/reduceWin",addReduce:"/new_marketing/platform.RegionalAgency/addReduce",getTeamList1:"/new_marketing/platform.RegionalAgency/getTeamList",updatePercent:"/new_marketing/platform.RegionalAgency/updatePercent",getMarketingArtisanList:"/new_marketing/platform.MarketingArtisan/getMarketingArtisanList",getMarketingArtisanCreate:"/new_marketing/platform.MarketingArtisan/getMarketingArtisanCreate",getMarketingArtisanInfo:"/new_marketing/platform.MarketingArtisan/getMarketingArtisanInfo",getMarketingArtisanDir:"/new_marketing/platform.MarketingArtisan/getMarketingArtisanDir",getDirectorList:"/new_marketing/platform.MarketingArtisan/getDirectorList",getMarketingArtisanDel:"/new_marketing/platform.MarketingArtisan/getMarketingArtisanDel",getMarketingDirectorList:"/new_marketing/platform.MarketingDirector/getMarketingDirectorList",getMarketingDirectorCreate:"/new_marketing/platform.MarketingDirector/getMarketingDirectorCreate",getMarketingDirectorInfo:"/new_marketing/platform.MarketingDirector/getMarketingDirectorInfo",getMarketingDirectorDel:"/new_marketing/platform.MarketingDirector/getMarketingDirectorDel",getMarketingDirectorRemove:"/new_marketing/platform.MarketingDirector/getMarketingDirectorRemove",getMarketingDirectorArtisan:"/new_marketing/platform.MarketingDirector/getMarketingDirectorArtisan",getManagerList:"/new_marketing/platform.ServiceManager/serviceManagerList",addManager:"/new_marketing/platform.ServiceManager/addServiceManager",editManager:"/new_marketing/platform.ServiceManager/saveServiceManager",delNoTeamManager:"/new_marketing/platform.ServiceManager/doDelManager",getTeamMemberList:"/new_marketing/platform.ServiceManager/getTeamPerson",upgradeManager:"/new_marketing/platform.ServiceManager/doUpLevel",deleteManager:"/new_marketing/platform.ServiceManager/doDelServiceManager",demoteManager:"/new_marketing/platform.ServiceManager/doDownLevel",getAreaList:"/new_marketing/platform.Region/regionList",getClassifyPriceList:"/new_marketing/platform.Region/classPriceList",saveAreaPriceForm:"/new_marketing/platform.Region/addRegion",saveClassifyPriceForm:"/new_marketing/platform.Region/addClassPrice",deleteAreaPriceForm:"/new_marketing/platform.Region/delRegion",getAreaMealList:"/new_marketing/platform.MarketingPackage/getAreaSearchList",saveAreaMealForm:"/new_marketing/platform.MarketingPackage/editAreaPost",saveAreaMealStatus:"/new_marketing/platform.MarketingPackage/setAreaStatus",getStoreTypeList:"/new_marketing/platform.MarketingPackage/getStoreTypeList",addMeal:"/new_marketing/platform.MarketingPackage/add",getMealList:"/new_marketing/platform.MarketingPackage/getSearchList",deleteMeal:"/new_marketing/platform.MarketingPackage/del",editMeal:"/new_marketing/platform.MarketingPackage/editPost",getCommissionSearchData:"/new_marketing/platform.MarketingPersonSettle/getSearchData",getCommissionList:"/new_marketing/platform.MarketingPersonSettle/getSearchList",teamManagementList:"/new_marketing/platform.TeamManagement/teamManagementList",teamPerformance:"/new_marketing/platform.TeamManagement/teamPerformance",serviceManagerList:"/new_marketing/platform.TeamManagement/serviceManagerList",serviceManagerNoList:"/new_marketing/platform.TeamManagement/serviceManagerNoList",regionalAgentList:"/new_marketing/platform.TeamManagement/regionalAgentList",artisanList:"/new_marketing/platform.TeamManagement/artisanList",teamManagementAdd:"/new_marketing/platform.TeamManagement/teamManagementAdd",teamManagementBasic:"/new_marketing/platform.TeamManagement/teamManagementBasic",teamManagementReplace:"/new_marketing/platform.TeamManagement/teamManagementReplace",teamManagementUpgrade:"/new_marketing/platform.TeamManagement/teamManagementUpgrade",teamBusinessList:"/new_marketing/platform.TeamManagement/teamBusinessList",teamManagementDel:"/new_marketing/platform.TeamManagement/teamManagementDel",teamManagementTransfer:"/new_marketing/platform.TeamManagement/teamManagementTransfer",teamManagementDiss:"/new_marketing/platform.TeamManagement/teamManagementDiss",teamMemberAdd:"/new_marketing/platform.TeamManagement/teamMemberAdd",teamManagementEdit:"/new_marketing/platform.TeamManagement/teamManagementEdit",teamMemberEdit:"/new_marketing/platform.TeamManagement/teamMemberEdit",teamMemberCode:"/new_marketing/platform.TeamManagement/teamMemberCode",teamManagementSavage:"/new_marketing/platform.TeamManagement/teamManagementSavage",teamManagementMerchantList:"/new_marketing/platform.TeamManagement/teamManagementMerchantList",teamManagementSavageDetail:"/new_marketing/platform.TeamManagement/teamManagementSavageDetail",getCommunityOrderDetail:"/new_marketing/platform.TeamManagement/getCommunityOrderDetail",positionReviewList:"/new_marketing/platform.PositionReview/positionReviewList",getTeamList:"/new_marketing/platform.PositionReview/getTeamList",reviewAgree:"/new_marketing/platform.PositionReview/reviewAgree",reviewDisagree:"/new_marketing/platform.PositionReview/reviewDisagree",getOrderList:"/new_marketing/platform.OrderInfo/orderList",getAreaUidByProvince:"/new_marketing/platform.OrderInfo/getAreaUidByProvince",getTeamIdByAreaUid:"/new_marketing/platform.OrderInfo/getTeamIdByAreaUid",getOrderDetail:"/new_marketing/platform.OrderInfo/getOrderInfo",teamManagementMerchantTransferList:"/new_marketing/platform.TeamManagement/teamManagementMerchantTransferList",teamManagementMerchantTransferCreate:"/new_marketing/platform.TeamManagement/teamManagementMerchantTransferCreate",getMerchantList:"/new_marketing/platform.Merchant/getMerchantList",getMerchantStoreList:"/new_marketing/platform.Merchant/getMerchantStoreList",teamMembeInfo:"/new_marketing/platform.TeamManagement/teamMembeInfo",getPropertyList:"/new_marketing/platform.MarketingProperty/getPropertyList",villageTransferBusiness:"/new_marketing/platform.MarketingProperty/transferBusiness",teamMerchantOrderList:"/new_marketing/platform.TeamManagement/teamMerchantOrderList",getHousePropertyList:"/new_marketing/platform.HouseProperty/getHousePropertyList",getHousePropertyDetail:"/new_marketing/platform.HouseProperty/getHousePropertyDetail"};t["a"]=n},"32bd":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:e.title,width:900,visible:e.visible,confirmLoading:e.confirmLoading,destroyOnClose:!0},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{staticStyle:{width:"900px"},attrs:{label:"姓名",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{initialValue:e.detail.name,rules:[{required:!0,message:"请输入姓名"}]}],expression:"['name', { initialValue: detail.name, rules: [{ required: true, message: '请输入姓名' }] }]"}],staticStyle:{width:"260px"},attrs:{placeholder:"请输入姓名"}})],1),a("a-form-item",{staticStyle:{width:"900px"},attrs:{label:"绑定账号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[e._v(" "+e._s(e.detail.phone)+" ")]),a("a-form-item",{staticStyle:{width:"900px"},attrs:{label:"抽成比例",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["team_percent",{initialValue:e.detail.team_percent,rules:[{required:!0,message:"请输入0-100之前数组"}]}],expression:"[\n            'team_percent',\n            { initialValue: detail.team_percent, rules: [{ required: true, message: '请输入0-100之前数组' }] },\n          ]"}],staticStyle:{width:"60px"},attrs:{min:0,max:100,placeholder:"请输入"}}),e._v(" % "),a("br"),a("span",{staticStyle:{"font-size":"12px",color:"#999"}},[e._v("技术主管抽取下级技术人员所在团队的订单抽成；不填写即为0")])],1)],1),a("div",{staticStyle:{width:"900px",height:"3px",background:"#eee","margin-left":"-24px","margin-top":"30px"}}),a("div",{staticStyle:{height:"56px","line-height":"56px","font-size":"16px","margin-top":"20px"}},[e._v("成员管理")]),a("a-card",{attrs:{bordered:!1}},[a("a-table",{staticStyle:{"min-height":"100px"},attrs:{columns:e.columns,"data-source":e.dataList,rowKey:"id",pagination:e.pagination},scopedSlots:e._u([{key:"action",fn:function(t,n){return a("span",{},[a("a",{on:{click:function(t){return e.delOne(n.id)}}},[e._v("移出")])])}}])})],1)],1)],1)},r=[],i=a("126e"),m={data:function(){return{director:[],title:"添加技术主管",labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,confirmLoading:!1,form:null,detail:{id:0,name:"",uid:"",team_percent:0},id:0,columns:[{title:"姓名",dataIndex:"name",key:"name",scopedSlots:{customRender:"name"}},{title:"绑定团队",dataIndex:"team_name",key:"team_name"},{title:"累计提成",dataIndex:"team_commission",scopedSlots:{customRender:"team_commission"}},{title:"添加时间",dataIndex:"add_time",key:"add_time"},{title:"操作",dataIndex:"action",key:"action",scopedSlots:{customRender:"action"}}],pagination:{current:1,total:0,pageSize:10,showSizeChanger:!1,onChange:this.onPageChange,showTotal:function(e){return"共 ".concat(e," 条记录")}},dataList:[]}},mounted:function(){this.form=this.$form.createForm(this)},methods:{edit:function(e){this.dataList=[],this.$set(this,"detail",this.$options.data().detail),this.visible=!0,this.id=e,this.getEditInfo(),this.getArtisanList(),this.title="技术主管详情"},handleSubmit:function(){var e=this,t=this.form.validateFields;this.confirmLoading=!0,t((function(t,a){t?e.confirmLoading=!1:(a.id=e.id,e.request(i["a"].getMarketingDirectorCreate,a).then((function(t){e.id>0?e.$message.success("编辑成功"):e.$message.success("添加成功"),e.handleCancel(),e.confirmLoading=!1,e.$emit("loaddata",{is_search:!1})})).catch((function(t){e.confirmLoading=!1})))}))},handleCancel:function(){this.visible=!1},onPageChange:function(e,t){this.$set(this.pagination,"current",e),this.getArtisanList()},getEditInfo:function(){var e=this;this.request(i["a"].getMarketingDirectorInfo,{id:this.id}).then((function(t){e.detail=t}))},getArtisanList:function(){var e=this;this.request(i["a"].getMarketingDirectorRemove,{id:this.id,page:this.pagination.current,pageSize:this.pagination.pageSize}).then((function(t){e.dataList=t.list,e.$set(e.pagination,"total",t.count)}))},delOne:function(e){var t=this;this.$confirm({title:"提示",content:"你确定要将该技术人员移出吗？",onOk:function(){t.request(i["a"].getMarketingDirectorArtisan,{id:e}).then((function(e){t.getArtisanList()}))},onCancel:function(){}})}}},g=m,o=(a("4b9d"),a("2877")),s=Object(o["a"])(g,n,r,!1,null,"6354212e",null);t["default"]=s.exports},"4b9d":function(e,t,a){"use strict";a("6f62e")},"6f62e":function(e,t,a){}}]);