(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-569cfa80"],{"0dca":function(e,t,a){},"0f32":function(e,t,a){var i=a("b047"),r=a("1a8c"),l="Expected a function";function n(e,t,a){var n=!0,s=!0;if("function"!=typeof e)throw new TypeError(l);return r(a)&&(n="leading"in a?!!a.leading:n,s="trailing"in a?!!a.trailing:s),i(e,t,{leading:n,maxWait:t,trailing:s})}e.exports=n},"2d3d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"components-layout-demo-basic"}},[a("a-spin",{attrs:{spinning:e.spinning,size:"large"}},[a("a-layout",[a("a-layout-content",{style:{margin:"24px 16px",padding:"24px",background:"#fff",minHeight:"100px"}},[a("a-form",e._b({attrs:{id:"components-form-demo-validate-other",model:e.formData}},"a-form",{labelCol:{span:3},wrapperCol:{span:21}},!1),[a("a-form-item",{attrs:{label:"模板名称:"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:"请输入模板名称"}]}],expression:"[\n                       'username',\n      { rules: [{ required: true, message: '请输入模板名称' }] },\n    ]"}],staticStyle:{width:"200px"},attrs:{placeholder:"输入模板名称"},model:{value:e.formData.name1,callback:function(t){e.$set(e.formData,"name1",t)},expression:"formData.name1"}})],1),a("a-form-item",{attrs:{label:"计费方式:"}},[a("a-radio-group",{attrs:{disabled:e.is_disabled},on:{change:function(t){return e.changeRadio()}},model:{value:e.formData.freight_type,callback:function(t){e.$set(e.formData,"freight_type",t)},expression:"formData.freight_type"}},[a("a-radio",{attrs:{value:1}},[e._v(" 按件数")]),a("a-radio",{attrs:{value:2}},[e._v(" 按重量")])],1)],1),a("a-form-item",{attrs:{label:"配送区域:"}},[a("a-table",{attrs:{columns:e.columns,"data-source":e.formData.data,pagination:!1},scopedSlots:e._u([{key:"name",fn:function(t){return a("a",{},[e._v(e._s(t))])}},{key:"action",fn:function(t,i){return a("a",{},[a("a",{on:{click:function(t){return e.updateTem(i.id)}}},[e._v("修改")]),a("a",{staticClass:"ml-10",on:{click:function(t){return e.delTem(i.id)}}},[e._v("删除")])])}},{key:"first_weight",fn:function(t,i){return a("a",{},[a("a-input-number",{staticStyle:{margin:"-5px 0"},attrs:{min:0,step:1},model:{value:i.first_weight,callback:function(t){e.$set(i,"first_weight",t)},expression:"record.first_weight"}})],1)}},{key:"first_freight",fn:function(t,i){return a("a",{},[a("a-input-number",{staticStyle:{margin:"-5px 0"},attrs:{min:0,step:.01},model:{value:i.first_freight,callback:function(t){e.$set(i,"first_freight",t)},expression:"record.first_freight"}})],1)}},{key:"add_weight",fn:function(t,i){return a("a",{},[a("a-input-number",{staticStyle:{margin:"-5px 0"},attrs:{min:0,step:1},model:{value:i.add_weight,callback:function(t){e.$set(i,"add_weight",t)},expression:"record.add_weight"}})],1)}},{key:"add_freight",fn:function(t,i){return a("a",{},[a("a-input-number",{staticStyle:{margin:"-5px 0"},attrs:{min:0,step:.01},model:{value:i.add_freight,callback:function(t){e.$set(i,"add_freight",t)},expression:"record.add_freight"}})],1)}}])},[a("template",{slot:"footer"},[a("a",{on:{click:function(t){return e.showModal(1)}}},[e._v("指定可配送区域")]),a("a-modal",{attrs:{title:"选择可配送区域"},on:{ok:e.handleOk,cancel:e.handleCancel},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("div",{staticStyle:{"overflow-y":"scroll",height:"600px"}},[a("a-transfer",{staticClass:"tree-transfer",attrs:{rowKey:function(e){return e.key},"data-source":e.dataSource,"target-keys":e.targetKeys,render:function(e){return e.title},"show-select-all":!0},on:{change:e.onChange,scroll:e.handleScroll},scopedSlots:e._u([{key:"children",fn:function(t){var i=t.props,r=i.direction,l=i.selectedKeys,n=t.on,s=n.itemSelect,o=n.itemSelectAll;return["left"===r?a("a-tree",{attrs:{defaultExpandAll:!1,blockNode:"",checkable:"",checkStrictly:"",checkedKeys:l.concat(e.targetKeys),treeData:e.treeData},on:{check:function(t,a){e.onChecked(t,a,l.concat(e.targetKeys),s,o)},select:function(t,a){e.onChecked(t,a,l.concat(e.targetKeys),s,o)}}}):e._e()]}}])})],1)])],1)],2)],1),a("a-form-item",{attrs:{"label-col":e.formTailLayout.labelCol,"wrapper-col":e.formTailLayout.wrapperCol}},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveData()}}},[e._v(" 保存 ")])],1)],1)],1)],1)],1)],1)},r=[],l=(a("b2a3"),a("b071"),a("06f4"),a("ee00"),a("6ba6"),a("5704"),a("9b57")),n=a.n(l),s=a("6042"),o=a.n(s),d=a("41b2"),c=a.n(d),h=a("4d91"),f=a("daa3"),u=a("b488"),m=a("4d26"),g=a.n(m),p=a("bb76"),y=a("0c63"),v=a("b558"),S={prefixCls:h["a"].string,placeholder:h["a"].string,value:h["a"].any,handleClear:h["a"].func,disabled:h["a"].bool},_={name:"Search",props:Object(f["s"])(S,{placeholder:""}),methods:{handleChange:function(e){this.$emit("change",e)},handleClear2:function(e){e.preventDefault();var t=this.$props,a=t.handleClear,i=t.disabled;!i&&a&&a(e)}},render:function(){var e=arguments[0],t=Object(f["k"])(this),a=t.placeholder,i=t.value,r=t.prefixCls,l=t.disabled,n=i&&i.length>0?e("a",{attrs:{href:"#"},class:r+"-action",on:{click:this.handleClear2}},[e(y["a"],{attrs:{type:"close-circle",theme:"filled"}})]):e("span",{class:r+"-action"},[e(y["a"],{attrs:{type:"search"}})]);return e("div",[e(v["a"],{attrs:{placeholder:a,value:i,disabled:l},class:r,on:{change:this.handleChange}}),n])}},b=a("92fa"),w=a.n(b),L=a("b6bb"),M=a("c8c6"),x=a("6a21"),k=a("b047"),O=a.n(k),C=a("0f32"),T=a.n(C),K=function(e,t){var a="";return a="undefined"!==typeof getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):e.style[t],a},D=function(e){return K(e,"overflow")+K(e,"overflow-y")+K(e,"overflow-x")},R=function(e){if(!(e instanceof window.HTMLElement))return window;var t=e;while(t){if(t===document.body||t===document.documentElement)break;if(!t.parentNode)break;if(/(scroll|auto)/.test(D(t)))return t;t=t.parentNode}return window},G=R;function $(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}}var I=function(e){return null===e.offsetParent};function A(e,t,a){if(I(e))return!1;var i=void 0,r=void 0,l=void 0,n=void 0;if("undefined"===typeof t||t===window)i=window.pageYOffset,l=window.pageXOffset,r=i+window.innerHeight,n=l+window.innerWidth;else{var s=$(t);i=s.top,l=s.left,r=i+t.offsetHeight,n=l+t.offsetWidth}var o=$(e);return i<=o.top+e.offsetHeight+a.top&&r>=o.top-a.bottom&&l<=o.left+e.offsetWidth+a.left&&n>=o.left-a.right}var E={debounce:h["a"].bool,elementType:h["a"].string,height:h["a"].oneOfType([h["a"].string,h["a"].number]),offset:h["a"].number,offsetBottom:h["a"].number,offsetHorizontal:h["a"].number,offsetLeft:h["a"].number,offsetRight:h["a"].number,offsetTop:h["a"].number,offsetVertical:h["a"].number,threshold:h["a"].number,throttle:h["a"].number,width:h["a"].oneOfType([h["a"].string,h["a"].number]),_propsSymbol:h["a"].any},P={name:"LazyLoad",mixins:[u["a"]],props:Object(f["s"])(E,{elementType:"div",debounce:!0,offset:0,offsetBottom:0,offsetHorizontal:0,offsetLeft:0,offsetRight:0,offsetTop:0,offsetVertical:0,throttle:250}),data:function(){return this.throttle>0&&(this.debounce?this.lazyLoadHandler=O()(this.lazyLoadHandler,this.throttle):this.lazyLoadHandler=T()(this.lazyLoadHandler,this.throttle)),{visible:!1}},watch:{_propsSymbol:function(){this.visible||this.lazyLoadHandler()}},mounted:function(){var e=this;this.$nextTick((function(){e._mounted=!0;var t=e.getEventNode();e.lazyLoadHandler(),e.lazyLoadHandler.flush&&e.lazyLoadHandler.flush(),e.resizeHander=Object(M["a"])(window,"resize",e.lazyLoadHandler),e.scrollHander=Object(M["a"])(t,"scroll",e.lazyLoadHandler)}))},beforeDestroy:function(){this._mounted=!1,this.lazyLoadHandler.cancel&&this.lazyLoadHandler.cancel(),this.detachListeners()},methods:{getEventNode:function(){return G(this.$el)},getOffset:function(){var e=this.$props,t=e.offset,a=e.offsetVertical,i=e.offsetHorizontal,r=e.offsetTop,l=e.offsetBottom,n=e.offsetLeft,s=e.offsetRight,o=e.threshold,d=o||t,c=a||d,h=i||d;return{top:r||c,bottom:l||c,left:n||h,right:s||h}},lazyLoadHandler:function(){var e=this;if(this._mounted){var t=this.getOffset(),a=this.$el,i=this.getEventNode();A(a,i,t)&&(this.setState({visible:!0},(function(){e.__emit("contentVisible")})),this.detachListeners())}},detachListeners:function(){this.resizeHander&&this.resizeHander.remove(),this.scrollHander&&this.scrollHander.remove()}},render:function(e){var t=this.$slots["default"];if(1!==t.length)return Object(x["a"])(!1,"lazyLoad组件只能包含一个子元素"),null;var a=this.$props,i=a.height,r=a.width,l=a.elementType,n=this.visible,s={height:"number"===typeof i?i+"px":i,width:"number"===typeof r?r+"px":r},o={LazyLoad:!0,"is-visible":n};return e(l,{class:o,style:s},[n?t[0]:null])}},z=P;function F(){}var j={name:"ListItem",props:{renderedText:h["a"].any,renderedEl:h["a"].any,item:h["a"].any,lazy:h["a"].oneOfType([h["a"].bool,h["a"].object]),checked:h["a"].bool,prefixCls:h["a"].string,disabled:h["a"].bool},render:function(){var e,t=this,a=arguments[0],i=this.$props,r=i.renderedText,l=i.renderedEl,n=i.item,s=i.lazy,d=i.checked,h=i.disabled,f=i.prefixCls,u=g()((e={},o()(e,f+"-content-item",!0),o()(e,f+"-content-item-disabled",h||n.disabled),e)),m=void 0;"string"!==typeof r&&"number"!==typeof r||(m=String(r));var y=a("li",{class:u,attrs:{title:m},on:{click:h||n.disabled?F:function(){t.$emit("click",n)}}},[a(p["a"],{attrs:{checked:d,disabled:h||n.disabled}}),a("span",{class:f+"-content-item-text"},[l])]),v=null;if(s){var S={props:c()({height:32,offset:500,throttle:0,debounce:!1},s,{_propsSymbol:Symbol()})};v=a(z,S,[y])}else v=y;return v}},H=a("94eb");function N(){}var B={name:"ListBody",inheritAttrs:!1,props:{prefixCls:h["a"].string,filteredRenderItems:h["a"].array.def([]),lazy:h["a"].oneOfType([h["a"].bool,h["a"].object]),selectedKeys:h["a"].array,disabled:h["a"].bool},data:function(){return{mounted:!1}},computed:{itemsLength:function(){return this.filteredRenderItems?this.filteredRenderItems.length:0}},watch:{itemsLength:function(){var e=this;this.$nextTick((function(){var t=e.$props.lazy;if(!1!==t){var a=e.$el;L["a"].cancel(e.lazyId),e.lazyId=Object(L["a"])((function(){if(a){var e=new Event("scroll",{bubbles:!0});a.dispatchEvent(e)}}))}}))}},mounted:function(){var e=this;this.mountId=Object(L["a"])((function(){e.mounted=!0}))},beforeDestroy:function(){L["a"].cancel(this.mountId),L["a"].cancel(this.lazyId)},methods:{onItemSelect:function(e){var t=this.$props.selectedKeys,a=t.indexOf(e.key)>=0;this.$emit("itemSelect",e.key,!a)},onScroll:function(e){this.$emit("scroll",e)}},render:function(){var e=this,t=arguments[0],a=this.$data.mounted,i=this.$props,r=i.prefixCls,l=i.filteredRenderItems,n=i.lazy,s=i.selectedKeys,o=i.disabled,d=l.map((function(a){var i=a.renderedEl,l=a.renderedText,d=a.item,c=d.disabled,h=s.indexOf(d.key)>=0;return t(j,{attrs:{disabled:o||c,item:d,lazy:n,renderedText:l,renderedEl:i,checked:h,prefixCls:r},key:d.key,on:{click:e.onItemSelect}})})),c=Object(H["a"])(a?r+"-content-item-highlight":"",{tag:"ul",nativeOn:{scroll:this.onScroll},leave:N});return t("transition-group",w()([{class:r+"-content"},c]),[d])}},q=function(e,t){return e(B,t)};function U(e,t){if("createEvent"in document){var a=document.createEvent("HTMLEvents");a.initEvent(t,!1,!0),e.dispatchEvent(a)}}var V=function(){return null},J={key:h["a"].string.isRequired,title:h["a"].string.isRequired,description:h["a"].string,disabled:h["a"].bool};function W(e){return e&&!Object(f["v"])(e)&&"[object Object]"===Object.prototype.toString.call(e)}var X={prefixCls:h["a"].string,titleText:h["a"].string,dataSource:h["a"].arrayOf(h["a"].shape(J).loose),filter:h["a"].string,filterOption:h["a"].func,checkedKeys:h["a"].arrayOf(h["a"].string),handleFilter:h["a"].func,handleSelect:h["a"].func,handleSelectAll:h["a"].func,handleClear:h["a"].func,renderItem:h["a"].func,showSearch:h["a"].bool,searchPlaceholder:h["a"].string,notFoundContent:h["a"].any,itemUnit:h["a"].string,itemsUnit:h["a"].string,body:h["a"].any,renderList:h["a"].any,footer:h["a"].any,lazy:h["a"].oneOfType([h["a"].bool,h["a"].object]),disabled:h["a"].bool,direction:h["a"].string,showSelectAll:h["a"].bool};function Y(e,t,a){var i=t?t(a):null,r=!!i;return r||(i=q(e,a)),{customize:r,bodyContent:i}}var Q={name:"TransferList",mixins:[u["a"]],props:Object(f["s"])(X,{dataSource:[],titleText:"",showSearch:!1,lazy:{}}),data:function(){return this.timer=null,this.triggerScrollTimer=null,{filterValue:""}},beforeDestroy:function(){clearTimeout(this.triggerScrollTimer)},updated:function(){var e=this;this.$nextTick((function(){if(e.scrollEvent&&e.scrollEvent.remove(),e.$refs.listContentWrapper){var t=e.$refs.listContentWrapper.$el;e.scrollEvent=Object(M["a"])(t,"scroll",e.handleScroll)}}))},methods:{handleScroll:function(e){this.$emit("scroll",e)},getCheckStatus:function(e){var t=this.$props.checkedKeys;return 0===t.length?"none":e.every((function(e){return t.indexOf(e.key)>=0||!!e.disabled}))?"all":"part"},getFilteredItems:function(e,t){var a=this,i=[],r=[];return e.forEach((function(e){var l=a.renderItemHtml(e),n=l.renderedText;if(t&&t.trim()&&!a.matchFilter(n,e))return null;i.push(e),r.push(l)})),{filteredItems:i,filteredRenderItems:r}},getListBody:function(e,t,a,i,r,l,n,s,o,d,h){var u=this.$createElement,m=d?u("div",{class:e+"-body-search-wrapper"},[u(_,{attrs:{prefixCls:e+"-search",handleClear:this._handleClear,placeholder:t,value:a,disabled:h},on:{change:this._handleFilter}})]):null,p=l;if(!p){var y=void 0,v=Y(this.$createElement,o,{props:c()({},this.$props,{filteredItems:i,filteredRenderItems:n,selectedKeys:s}),on:Object(f["j"])(this)}),S=v.bodyContent,b=v.customize;y=b?u("div",{class:e+"-body-customize-wrapper"},[S]):i.length?S:u("div",{class:e+"-body-not-found"},[r]),p=u("div",{class:g()(d?e+"-body "+e+"-body-with-search":e+"-body")},[m,y])}return p},getCheckBox:function(e,t,a){var i=this,r=this.$createElement,l=this.getCheckStatus(e),n="all"===l,s=!1!==t&&r(p["a"],{attrs:{disabled:a,checked:n,indeterminate:"part"===l},on:{change:function(){i.$emit("itemSelectAll",e.filter((function(e){return!e.disabled})).map((function(e){var t=e.key;return t})),!n)}}});return s},_handleSelect:function(e){var t=this.$props.checkedKeys,a=t.some((function(t){return t===e.key}));this.handleSelect(e,!a)},_handleFilter:function(e){var t=this,a=this.$props.handleFilter,i=e.target.value;this.setState({filterValue:i}),a(e),i&&(this.triggerScrollTimer=setTimeout((function(){var e=t.$el,a=e.querySelectorAll(".ant-transfer-list-content")[0];a&&U(a,"scroll")}),0))},_handleClear:function(e){this.setState({filterValue:""}),this.handleClear(e)},matchFilter:function(e,t){var a=this.$data.filterValue,i=this.$props.filterOption;return i?i(a,t):e.indexOf(a)>=0},renderItemHtml:function(e){var t=this.$props.renderItem,a=void 0===t?V:t,i=a(e),r=W(i);return{renderedText:r?i.value:i,renderedEl:r?i.label:i,item:e}},filterNull:function(e){return e.filter((function(e){return null!==e}))}},render:function(){var e=arguments[0],t=this.$data.filterValue,a=this.$props,i=a.prefixCls,r=a.dataSource,l=a.titleText,n=a.checkedKeys,s=a.disabled,d=a.body,h=a.footer,f=a.showSearch,u=a.searchPlaceholder,m=a.notFoundContent,p=a.itemUnit,y=a.itemsUnit,v=a.renderList,S=a.showSelectAll,_=h&&h(c()({},this.$props)),b=d&&d(c()({},this.$props)),w=g()(i,o()({},i+"-with-footer",!!_)),L=this.getFilteredItems(r,t),M=L.filteredItems,x=L.filteredRenderItems,k=r.length>1?y:p,O=this.getListBody(i,u,t,M,m,b,x,n,v,f,s),C=_?e("div",{class:i+"-footer"},[_]):null,T=this.getCheckBox(M,S,s);return e("div",{class:w},[e("div",{class:i+"-header"},[T,e("span",{class:i+"-header-selected"},[e("span",[(n.length>0?n.length+"/":"")+M.length," ",k]),e("span",{class:i+"-header-title"},[l])])]),O,C])}},Z=a("5efb");function ee(){}var te={className:h["a"].string,leftArrowText:h["a"].string,rightArrowText:h["a"].string,moveToLeft:h["a"].any,moveToRight:h["a"].any,leftActive:h["a"].bool,rightActive:h["a"].bool,disabled:h["a"].bool},ae={name:"Operation",props:c()({},te),render:function(){var e=arguments[0],t=Object(f["k"])(this),a=t.disabled,i=t.moveToLeft,r=void 0===i?ee:i,l=t.moveToRight,n=void 0===l?ee:l,s=t.leftArrowText,o=void 0===s?"":s,d=t.rightArrowText,c=void 0===d?"":d,h=t.leftActive,u=t.rightActive;return e("div",[e(Z["a"],{attrs:{type:"primary",size:"small",disabled:a||!u,icon:"right"},on:{click:n}},[c]),e(Z["a"],{attrs:{type:"primary",size:"small",disabled:a||!h,icon:"left"},on:{click:r}},[o])])}},ie=a("e5cd"),re=a("02ea"),le=a("4df5"),ne=a("db14"),se={key:h["a"].string.isRequired,title:h["a"].string.isRequired,description:h["a"].string,disabled:h["a"].bool},oe={prefixCls:h["a"].string,dataSource:h["a"].arrayOf(h["a"].shape(se).loose),disabled:h["a"].boolean,targetKeys:h["a"].arrayOf(h["a"].string),selectedKeys:h["a"].arrayOf(h["a"].string),render:h["a"].func,listStyle:h["a"].oneOfType([h["a"].func,h["a"].object]),operationStyle:h["a"].object,titles:h["a"].arrayOf(h["a"].string),operations:h["a"].arrayOf(h["a"].string),showSearch:h["a"].bool,filterOption:h["a"].func,searchPlaceholder:h["a"].string,notFoundContent:h["a"].any,locale:h["a"].object,rowKey:h["a"].func,lazy:h["a"].oneOfType([h["a"].object,h["a"].bool]),showSelectAll:h["a"].bool},de=(h["a"].arrayOf(h["a"].string),h["a"].string,h["a"].string,h["a"].string,{name:"ATransfer",mixins:[u["a"]],props:Object(f["s"])(oe,{dataSource:[],locale:{},showSearch:!1,listStyle:function(){}}),inject:{configProvider:{default:function(){return le["a"]}}},data:function(){var e=this.selectedKeys,t=void 0===e?[]:e,a=this.targetKeys,i=void 0===a?[]:a;return{leftFilter:"",rightFilter:"",sourceSelectedKeys:t.filter((function(e){return-1===i.indexOf(e)})),targetSelectedKeys:t.filter((function(e){return i.indexOf(e)>-1}))}},mounted:function(){},watch:{targetKeys:function(){if(this.updateState(),this.selectedKeys){var e=this.targetKeys||[];this.setState({sourceSelectedKeys:this.selectedKeys.filter((function(t){return!e.includes(t)})),targetSelectedKeys:this.selectedKeys.filter((function(t){return e.includes(t)}))})}},dataSource:function(){this.updateState()},selectedKeys:function(){if(this.selectedKeys){var e=this.targetKeys||[];this.setState({sourceSelectedKeys:this.selectedKeys.filter((function(t){return!e.includes(t)})),targetSelectedKeys:this.selectedKeys.filter((function(t){return e.includes(t)}))})}}},methods:{getSelectedKeysName:function(e){return"left"===e?"sourceSelectedKeys":"targetSelectedKeys"},getTitles:function(e){return this.titles?this.titles:e.titles||["",""]},getLocale:function(e,t){var a=this.$createElement,i={notFoundContent:t(a,"Transfer")},r=Object(f["g"])(this,"notFoundContent");return r&&(i.notFoundContent=r),Object(f["r"])(this,"searchPlaceholder")&&(i.searchPlaceholder=this.$props.searchPlaceholder),c()({},e,i,this.$props.locale)},updateState:function(){var e=this.sourceSelectedKeys,t=this.targetSelectedKeys;if(this.separatedDataSource=null,!this.selectedKeys){var a=this.dataSource,i=this.targetKeys,r=void 0===i?[]:i,l=[],n=[];a.forEach((function(a){var i=a.key;e.includes(i)&&!r.includes(i)&&l.push(i),t.includes(i)&&r.includes(i)&&n.push(i)})),this.setState({sourceSelectedKeys:l,targetSelectedKeys:n})}},moveTo:function(e){var t=this.$props,a=t.targetKeys,i=void 0===a?[]:a,r=t.dataSource,l=void 0===r?[]:r,n=this.sourceSelectedKeys,s=this.targetSelectedKeys,d="right"===e?n:s,c=d.filter((function(e){return!l.some((function(t){return!(e!==t.key||!t.disabled)}))})),h="right"===e?c.concat(i):i.filter((function(e){return-1===c.indexOf(e)})),f="right"===e?"left":"right";this.setState(o()({},this.getSelectedKeysName(f),[])),this.handleSelectChange(f,[]),this.$emit("change",h,e,c)},moveToLeft:function(){this.moveTo("left")},moveToRight:function(){this.moveTo("right")},onItemSelectAll:function(e,t,a){var i=this.$data[this.getSelectedKeysName(e)]||[],r=[];r=a?Array.from(new Set([].concat(n()(i),n()(t)))):i.filter((function(e){return-1===t.indexOf(e)})),this.handleSelectChange(e,r),this.$props.selectedKeys||this.setState(o()({},this.getSelectedKeysName(e),r))},handleSelectAll:function(e,t,a){this.onItemSelectAll(e,t.map((function(e){var t=e.key;return t})),!a)},handleLeftSelectAll:function(e,t){return this.handleSelectAll("left",e,!t)},handleRightSelectAll:function(e,t){return this.handleSelectAll("right",e,!t)},onLeftItemSelectAll:function(e,t){return this.onItemSelectAll("left",e,t)},onRightItemSelectAll:function(e,t){return this.onItemSelectAll("right",e,t)},handleFilter:function(e,t){var a=t.target.value;Object(f["j"])(this).searchChange&&(Object(x["a"])(!1,"Transfer","`searchChange` in Transfer is deprecated. Please use `search` instead."),this.$emit("searchChange",e,t)),this.$emit("search",e,a)},handleLeftFilter:function(e){this.handleFilter("left",e)},handleRightFilter:function(e){this.handleFilter("right",e)},handleClear:function(e){this.$emit("search",e,"")},handleLeftClear:function(){this.handleClear("left")},handleRightClear:function(){this.handleClear("right")},onItemSelect:function(e,t,a){var i=this.sourceSelectedKeys,r=this.targetSelectedKeys,l=[].concat("left"===e?n()(i):n()(r)),s=l.indexOf(t);s>-1&&l.splice(s,1),a&&l.push(t),this.handleSelectChange(e,l),this.selectedKeys||this.setState(o()({},this.getSelectedKeysName(e),l))},handleSelect:function(e,t,a){Object(x["a"])(!1,"Transfer","`handleSelect` will be removed, please use `onSelect` instead."),this.onItemSelect(e,t.key,a)},handleLeftSelect:function(e,t){return this.handleSelect("left",e,t)},handleRightSelect:function(e,t){return this.handleSelect("right",e,t)},onLeftItemSelect:function(e,t){return this.onItemSelect("left",e,t)},onRightItemSelect:function(e,t){return this.onItemSelect("right",e,t)},handleScroll:function(e,t){this.$emit("scroll",e,t)},handleLeftScroll:function(e){this.handleScroll("left",e)},handleRightScroll:function(e){this.handleScroll("right",e)},handleSelectChange:function(e,t){var a=this.sourceSelectedKeys,i=this.targetSelectedKeys;"left"===e?this.$emit("selectChange",t,i):this.$emit("selectChange",a,t)},handleListStyle:function(e,t){return"function"===typeof e?e({direction:t}):e},separateDataSource:function(){var e=this.$props,t=e.dataSource,a=e.rowKey,i=e.targetKeys,r=void 0===i?[]:i,l=[],n=new Array(r.length);return t.forEach((function(e){a&&(e.key=a(e));var t=r.indexOf(e.key);-1!==t?n[t]=e:l.push(e)})),{leftDataSource:l,rightDataSource:n}},renderTransfer:function(e){var t,a=this.$createElement,i=Object(f["k"])(this),r=i.prefixCls,l=i.disabled,n=i.operations,s=void 0===n?[]:n,d=i.showSearch,c=i.listStyle,h=i.operationStyle,u=i.filterOption,m=i.lazy,p=i.showSelectAll,y=Object(f["g"])(this,"children",{},!1),v=this.configProvider.getPrefixCls,S=v("transfer",r),_=this.configProvider.renderEmpty,b=this.getLocale(e,_),w=this.sourceSelectedKeys,L=this.targetSelectedKeys,M=this.$scopedSlots,x=M.body,k=M.footer,O=i.render,C=this.separateDataSource(),T=C.leftDataSource,K=C.rightDataSource,D=L.length>0,R=w.length>0,G=g()(S,(t={},o()(t,S+"-disabled",l),o()(t,S+"-customize-list",!!y),t)),$=this.getTitles(b);return a("div",{class:G},[a(Q,{key:"leftList",attrs:{prefixCls:S+"-list",titleText:$[0],dataSource:T,filterOption:u,checkedKeys:w,handleFilter:this.handleLeftFilter,handleClear:this.handleLeftClear,handleSelect:this.handleLeftSelect,handleSelectAll:this.handleLeftSelectAll,renderItem:O,showSearch:d,body:x,renderList:y,footer:k,lazy:m,disabled:l,direction:"left",showSelectAll:p,itemUnit:b.itemUnit,itemsUnit:b.itemsUnit,notFoundContent:b.notFoundContent,searchPlaceholder:b.searchPlaceholder},style:this.handleListStyle(c,"left"),on:{itemSelect:this.onLeftItemSelect,itemSelectAll:this.onLeftItemSelectAll,scroll:this.handleLeftScroll}}),a(ae,{key:"operation",class:S+"-operation",attrs:{rightActive:R,rightArrowText:s[0],moveToRight:this.moveToRight,leftActive:D,leftArrowText:s[1],moveToLeft:this.moveToLeft,disabled:l},style:h}),a(Q,{key:"rightList",attrs:{prefixCls:S+"-list",titleText:$[1],dataSource:K,filterOption:u,checkedKeys:L,handleFilter:this.handleRightFilter,handleClear:this.handleRightClear,handleSelect:this.handleRightSelect,handleSelectAll:this.handleRightSelectAll,renderItem:O,showSearch:d,body:x,renderList:y,footer:k,lazy:m,disabled:l,direction:"right",showSelectAll:p,itemUnit:b.itemUnit,itemsUnit:b.itemsUnit,notFoundContent:b.notFoundContent,searchPlaceholder:b.searchPlaceholder},style:this.handleListStyle(c,"right"),on:{itemSelect:this.onRightItemSelect,itemSelectAll:this.onRightItemSelectAll,scroll:this.handleRightScroll}})])}},render:function(){var e=arguments[0];return e(ie["a"],{attrs:{componentName:"Transfer",defaultLocale:re["a"].Transfer},scopedSlots:{default:this.renderTransfer}})},install:function(e){e.use(ne["a"]),e.component(de.name,de)}}),ce=de,he=(a("159b"),a("b0c0"),a("d3b7"),a("25f0"),a("a434"),a("d81d"),a("4de4"),a("c1df")),fe=a.n(he),ue=a("4031"),me=a("8bbf"),ge=a.n(me);ge.a.use(ce);var pe={labelCol:{span:4},wrapperCol:{span:8,offset:4}},ye=[],ve=[],Se=[];function _e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e){Se.push(e),_e(e.children)}))}function be(e,t){return-1!==e.indexOf(t)}function we(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.forEach((function(e){e.children&&we(e.children,t)})),e}var Le=[{title:"可配送区域",dataIndex:"name",key:"name",slots:{title:"customTitle"},scopedSlots:{customRender:"name"}},{title:"操作",dataIndex:"action",width:"20%",key:"action",scopedSlots:{customRender:"action"}},{title:"首件(件)",init:1,step:1,dataIndex:"first_weight",width:"15%",key:"first_weight",scopedSlots:{customRender:"first_weight"}},{title:"运费(元)",init:0,step:.01,dataIndex:"first_freight",width:"15%",key:"first_freight",scopedSlots:{customRender:"first_freight"}},{title:"续件(件)",key:"add_weight",init:0,step:1,dataIndex:"add_weight",width:"15%",scopedSlots:{customRender:"add_weight"}},{title:"运费(元)",init:0,step:.01,key:"add_freight",dataIndex:"add_freight",width:"15%",scopedSlots:{customRender:"add_freight"}}],Me=[{title:"可配送区域",dataIndex:"name",key:"name",slots:{title:"customTitle"},scopedSlots:{customRender:"name"}},{title:"操作",dataIndex:"action",width:"20%",key:"action",scopedSlots:{customRender:"action"}},{title:"首重(KG)",init:0,step:.1,dataIndex:"first_weight",width:"15%",key:"first_weight",scopedSlots:{customRender:"first_weight"}},{title:"运费(元)",init:0,step:.01,dataIndex:"first_freight",width:"15%",key:"first_freight",scopedSlots:{customRender:"first_freight"}},{title:"续重(KG)",key:"add_weight",init:0,step:1,dataIndex:"add_weight",width:"15%",scopedSlots:{customRender:"add_weight"}},{title:"续费(元)",init:0,step:.01,key:"add_freight",dataIndex:"add_freight",width:"15%",scopedSlots:{customRender:"add_freight"}}],xe={name:"TemplateEdit",data:function(){return{is_disabled:!1,disabled:!1,columns:Le,formTailLayout:pe,loading:!1,visible:!1,is_put:!0,spinning:!1,first_weight:"",first_freight:"",add_weight:"",add_freight:"",freight_type:1,freight:0,tem_id:0,mer_id:0,areas:[],areas_name:[],get_area_id:[],vid:0,up_id:0,check_id:0,event_code:"",formData:{name1:"",freight_type:1,data:[]},targetKeys:[],dataSource:Se,son_list:[],check_prov:[],show_status:0,sel_pro:[]}},computed:{treeData:function(){return we(ye,this.targetKeys)}},watch:{"$route.query.tid":{deep:!0,handler:function(e){var t=this;e&&1*e!=0?(this.is_disabled=!0,this.tem_id=this.$route.query.tid,this.request(ue["a"].editTemplate,{tid:this.tem_id}).then((function(e){t.formData.name1=e.name,t.formData.freight_type=e.freight_type,t.formData.data=e.value_list,t.get_area_id=e.already_check,t.mer_id=e.mer_id}))):(this.formData={name1:"",freight_type:1,data:[]},this.is_disabled=!1,this.get_area_id=[],this.tem_id=0)}}},created:function(){var e=this;this.tem_id=this.$route.query.tid||0;var t=localStorage.getItem("tid");1*t==0&&(this.tem_id=0),this.tem_id&&this.request(ue["a"].editTemplate,{tid:this.tem_id}).then((function(t){e.formData.name1=t.name,e.formData.freight_type=t.freight_type,e.formData.data=t.value_list,e.get_area_id=t.already_check,e.mer_id=t.mer_id}))},methods:{moment:fe.a,showModal:function(e){var t=this;this.show_status=e,ye=[],ve=[],this.targetKeys=[];var a={vid:this.up_id};this.request(ue["a"].getTemplateAreaList,a).then((function(a){for(var i=0;i<a.province_list.length;++i){var r={};if(t.get_area_id.length>0&&1==e){var l=t.get_area_id.indexOf(a.province_list[i].area_id.toString());r=1*l==-1?{key:a.province_list[i].area_id.toString(),title:a.province_list[i].area_name,level:a.province_list[i].area_type}:{key:a.province_list[i].area_id.toString(),title:a.province_list[i].area_name,level:a.province_list[i].area_type,disabled:!0}}else r={key:a.province_list[i].area_id.toString(),title:a.province_list[i].area_name,level:a.province_list[i].area_type};a.province_list[i].son_list&&a.province_list[i].son_list.length>0&&(r.children=t.getSonList(a.province_list[i].son_list,e)),ye.push(r)}if(a.area_list.length>0){for(var n=0;n<a.area_list.length;++n)ve[n]=a.area_list[n].area_id+"";t.targetKeys=ve}else t.check_id>0&&0==e?t.targetKeys=t.areas_name[t.check_id]:t.check_id>0&&1==e&&(t.targetKeys=[]);if(console.log(t.sel_pro,"this.sel_pro===this.sel_pro==this.sel_pro"),t.sel_pro.length>0&&0==e)for(var s=function(e){t.formData.data[e]["id"]==t.up_id&&t.targetKeys.forEach((function(a){var i=t.formData.data[e]["areas"].indexOf(a.toString());if(-1==i){var r=t.targetKeys.indexOf(a.toString());t.targetKeys.splice(r,1)}}))},o=0;o<t.formData.data.length;o++)s(o);_e(JSON.parse(JSON.stringify(ye))),t.visible=!0}))},handleOk:function(e){var t=this,a=this.formData.data||[];this.request(ue["a"].getTemplateAreaNameList,{arrs:this.targetKeys}).then((function(e){if(""==e)t.$message.error("请选择城市到右边展示区内！");else{var i={vid:0,id:e.id,name:e.area_name,first_weight:0,freight:0,first_freight:0,add_weight:0,add_freight:0,areas:t.unique(t.targetKeys)};if(t.up_id>0)for(var r=0;r<t.formData.data.length;r++)t.formData.data[r]["id"]==t.up_id&&(0==t.show_status&&(i.first_weight=t.formData.data[r]["first_weight"],i.freight=t.formData.data[r]["freight"],i.first_freight=t.formData.data[r]["first_freight"],i.add_weight=t.formData.data[r]["add_weight"],i.add_freight=t.formData.data[r]["add_freight"]),t.formData.data.splice(r,1,i));else a.push(i),t.$set(t.formData,"data",a);if(t.visible=!1,t.areas_name[e.id]=t.targetKeys,t.targetKeys.length>0)for(var l=0;l<t.targetKeys.length;l++)t.get_area_id.push(t.targetKeys[l]);if(e.area_pid.length>0)for(var n=0;n<e.area_pid.length;n++){t.get_area_id.push(e.area_pid[n]);var s=t.get_area_id.indexOf(e.area_pid[n].toString());t.sel_pro[s]=e.area_pid[n]}t.targetKeys=[],t.up_id=0}}))},handleCancel:function(e){this.visible=!1,ye=[]},updateTem:function(e){this.up_id=e,this.check_id=e,this.showModal(0)},delTem:function(e){for(var t=this,a=0;a<this.formData.data.length;a++)this.formData.data[a]["id"]==e&&(this.formData.data[a]["areas"].length>0&&(this.formData.data[a]["areas"].forEach((function(e){var a=t.get_area_id.indexOf(e+"");a>-1&&t.get_area_id.splice(a,1)})),this.sel_pro.length>0&&this.sel_pro.forEach((function(e){var a=t.get_area_id.indexOf(e+"");a>-1&&t.get_area_id.splice(a,1)}))),this.formData.data.splice(a,1))},unique:function(e){if(!Array.isArray(e))return[];for(var t=[],a=0;a<e.length;a++)-1===t.indexOf(e[a])&&t.push(e[a]);return t},changeRadio:function(){1==this.formData.freight_type?this.columns=Le:this.columns=Me},onChange:function(e,t,a){var i=this;"right"==t&&(console.log(this.event_code,"this.event_code==this.event_code"),this.targetKeys=e),"left"==t&&(0==a.length&&window.location.reload(),a.forEach((function(t){var a=e.indexOf(t+"");a>-1&&e.splice(a,1),i.targetKeys=e;var r=i.get_area_id.indexOf(t+"");r>-1&&i.get_area_id.splice(r,1);var l=i.sel_pro.indexOf(t+"");l>-1&&i.sel_pro.splice(l,1)})),this.sel_pro.length>0&&this.sel_pro.forEach((function(e){var t=i.get_area_id.indexOf(e+"");t>-1&&i.get_area_id.splice(t,1)})))},onChecked:function(e,t,a,i,r){var l=t.node.eventKey,n=t.node.dataRef.level||"",s=t.node.dataRef.children||[],o=t.checked||!1;if(1==n&&s.length){if(o)this.event_code=l,a.push(l),s.forEach((function(e){a.push(e.key)}));else{var d=s.map((function(e){return e.key}));d.push(l),a=a.filter((function(e){if(-1!=d.indexOf(e))return e}))}r(a,o)}else i(l,!be(a,l))},getSonList:function(e,t){if(this.son_list=[],e.length>0)for(var a=0;a<e.length;++a)if(this.get_area_id.length>0&&1==t){var i=this.get_area_id.indexOf(e[a].area_id.toString());1*i==-1?this.son_list.push({key:e[a].area_id.toString(),title:e[a].area_name,disabled:!1}):this.son_list.push({key:e[a].area_id.toString(),title:e[a].area_name,disabled:!0})}else this.son_list.push({key:e[a].area_id.toString(),title:e[a].area_name,disabled:!1});return this.son_list},handleScroll:function(e,t){console.log("direction:",e),console.log("target:",t.target)},saveData:function(){var e=this,t={};t=this.tem_id?{tpl_id:this.tem_id,name:this.formData.name1,datas:this.formData.data,freight_type:this.formData.freight_type}:{tpl_id:0,name:this.formData.name1,datas:this.formData.data,freight_type:this.formData.freight_type},0==this.formData.data.length?this.$message.error("请选择可配送区域再提交！"):this.request(ue["a"].addTemplate,t).then((function(t){1==t.status?(e.$message.success("提交成功！"),e.sel_pro=[],e.get_area_id=[],e.$set(e.formData,"data",[]),e.$router.push({path:"/merchant/merchant.mall/templateList"})):e.$message.error(t.msg)}))},getAreaidExit:function(e){}}},ke=xe,Oe=(a("fe55"),a("2877")),Ce=Object(Oe["a"])(ke,i,r,!1,null,"10671c38",null);t["default"]=Ce.exports},4031:function(e,t,a){"use strict";var i={getLists:"/mall/merchant.MerchantStoreMall/getStoreList",perfectedStore:"/mall/merchant.MerchantStoreMall/perfectedStore",getStoreConfigList:"/mall/merchant.MerchantStoreMall/getStoreConfigList",getShippingList:"/mall/merchant.MallShipping/getShippingList",updateShipping:"/mall/merchant.MallShipping/addShipping",changeState:"/mall/merchant.MallShipping/changeState",removeShipping:"/mall/merchant.MallShipping/del",getShippingInfo:"/mall/merchant.MallShipping/edit",getMerchantSort:"/mall/merchant.MallGoods/getMerchantSort",getMallGoods:"/mall/merchant.MallGoods/getMallGoodsSelect",getGiveList:"/mall/merchant.MallGive/getGiveList",giveAdd:"/mall/merchant.MallGive/addGive",giveChangeState:"/mall/merchant.MallGive/changeState",giveDel:"/mall/merchant.MallGive/del",getGiveInfo:"/mall/merchant.MallGive/edit",getPlatSort:"/mall/merchant.MallGoods/getPlatformSort",getStoreSort:"/mall/merchant.MallGoods/getMerchantSort",getPrepareList:"/mall/merchant.MallPrepare/getPrepareList",updatePrepare:"/mall/merchant.MallPrepare/addPrepare",prepareChangeState:"/mall/merchant.MallPrepare/changeState",removePrepare:"/mall/merchant.MallPrepare/del",getPrepareInfo:"/mall/merchant.MallPrepare/edit",getReachedList:"/mall/merchant.MallReached/getReachedList",updateReachedList:"/mall/merchant.MallReached/addReached",getReachedInfo:"/mall/merchant.MallReached/edit",reachedChangeState:"/mall/merchant.MallReached/changeState",reachedDel:"/mall/merchant.MallReached/del",addRobot:"/mall/merchant.MallGroup/addRobot",delRobot:"/mall/merchant.MallGroup/delRobot",getRobotList:"/mall/merchant.MallGroup/getRobotList",getRobotName:"/mall/merchant.MallGroup/getRobotName",getUploadImages:"/common/common.UploadFile/getUploadImages",getGoodsSort:"/mall/merchant.MallGoods/getMerchantSort",getGoodsStatus:"/mall/merchant.MallGoods/getNumbers",getGoodsList:"/mall/merchant.MallGoods/getGoodsList",changeGoodsStatus:"/mall/merchant.MallGoods/setStatusLot",setVirtualSales:"/mall/merchant.MallGoods/setVirtualSales",changeGoodsSort:"/mall/merchant.MallGoods/setSort",getGoodsSkuPrice:"/mall/merchant.MallGoods/getGoodsSkuInfo",changeGoodsPrice:"/mall/merchant.MallGoods/setGoodsSkuInfo",getPlatProps:"/mall/merchant.MallGoods/getPlatformProperties",getFreightList:"/mall/merchant.MallGoods/getfreightList",getServiceList:"/mall/merchant.MallGoods/dealService",removeGoods:"/mall/merchant.MallGoods/delGoods",updateGoods:"/mall/merchant.MallGoods/addOrEditGoods",exportGoods:"/mall/merchant.MallGoods/exportGoods",getGoodsInfo:"/mall/merchant.MallGoods/getEditGoods",getGroupList:"/mall/merchant.MallGroup/getGroupList",groupAdd:"/mall/merchant.MallGroup/addGroup",groupChangeState:"/mall/merchant.MallGroup/changeState",groupDel:"/mall/merchant.MallGroup/del",getGroupInfo:"/mall/merchant.MallGroup/editDetail",getPeriodicList:"/mall/merchant.MallPeriodic/getPeriodicList",updatePeriodic:"/mall/merchant.MallPeriodic/addPeriodic",periodicChangeState:"/mall/merchant.MallPeriodic/changeState",removePeriodic:"/mall/merchant.MallPeriodic/del",getPeriodicInfo:"/mall/merchant.MallPeriodic/edit",getBargainList:"/mall/merchant.MallBargain/getBargainList",bargainAdd:"/mall/merchant.MallBargain/addBargain",bargainChangeState:"/mall/merchant.MallBargain/changeState",bargainDel:"/mall/merchant.MallBargain/del",getBargainInfo:"/mall/merchant.MallBargain/editDetail",getMinusDiscountList:"/mall/merchant.MallFullMinusDiscount/getFullMinusDiscountList",updateMinusDiscount:"/mall/merchant.MallFullMinusDiscount/addFullMinusDiscount",minusDiscountChangeState:"/mall/merchant.MallFullMinusDiscount/changeState",removeMinusDiscount:"/mall/merchant.MallFullMinusDiscount/del",getMinusDiscountInfo:"/mall/merchant.MallFullMinusDiscount/edit",getLimitedList:"/mall/merchant.MallLimited/getLimitedList",updateLimited:"/mall/merchant.MallLimited/addLimited",limitedChangeState:"/mall/merchant.MallLimited/changeState",removeLimited:"/mall/merchant.MallLimited/del",getLimitedInfo:"/mall/merchant.MallLimited/edit",getGoodsSortList:"/mall/merchant.MallGoodsSort/getSortList",delGoodsSort:"/mall/merchant.MallGoodsSort/delSort",editGoodsSort:"/mall/merchant.MallGoodsSort/addOrEditSort",getEditSort:"/mall/merchant.MallGoodsSort/getEditSort",editSort:"/mall/merchant.MallGoodsSort/saveSort",saveStatus:"/mall/merchant.MallGoodsSort/saveStatus",getAllGoodsSort:"/mall/merchant.MallGoodsSort/getSort",getStoreList:"/mall/merchant.MallMerchantReply/getStores",getReplyList:"/mall/merchant.MallMerchantReply/searchReply",addComment:"/mall/merchant.MallMerchantReply/merchantReply",getReplyDetails:"/mall/merchant.MallMerchantReply/getReplyDetails",getOrderList:"/mall/merchant.MallOrder/searchOrders",getOrderDetails:"/mall/merchant.MallOrder/getOrderDetails",getCollect:"/mall/merchant.MallOrder/getCollect",getDiscount:"/mall/merchant.MallOrder/getDiscount",exportOrder:"/mall/merchant.MallOrder/exportOrder ",deleteJudge:"/mall/merchant.MallGoods/deleteJudge ",getTemplateList:"/mall/merchant.ExpressTemplate/index",getTemplateAreaList:"/mall/merchant.ExpressTemplate/ajax_area",getTemplateAreaNameList:"/mall/merchant.ExpressTemplate/get_area_name",addTemplate:"/mall/merchant.ExpressTemplate/save",editTemplate:"/mall/merchant.ExpressTemplate/edit",delTemplate:"/mall/merchant.ExpressTemplate/delete",goodsBatch:"/mall/merchant.MallGoods/goodsBatch",viewLogistics:"/mall/merchant.MallOrder/viewLogistics"};t["a"]=i},b071:function(e,t,a){},fe55:function(e,t,a){"use strict";a("0dca")}}]);