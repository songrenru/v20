(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d1d69a6","chunk-b3cef5c8","chunk-4569a16a","chunk-11d1a289","chunk-665adba4","chunk-b3cef5c8"],{"0674":function(t,e,a){"use strict";a("13f8")},"0c37":function(t,e,a){"use strict";a("c0ce")},"0e40":function(t,e,a){},"13f8":function(t,e,a){},"151c":function(t,e,a){},2630:function(t,e,a){"use strict";a.r(e);a("54f8");var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"add-code-box"},[e("a-steps",{staticClass:"steps-title-box",attrs:{current:t.current}},t._l(t.steps,(function(t){return e("a-step",{key:t.title,attrs:{title:t.title}})})),1),e("a-form",{attrs:{form:t.form,"label-col":t.labelCol,"wrapper-col":t.wrapperCol},on:{submit:t.handleSubmit}},[e("div",{staticClass:"steps-content"},[0==t.current?e("div",[e("a-form-item",{attrs:{label:"企业微信"}},[e("span",{staticClass:"ant-form-text"},[t._v(" "+t._s(t.data.corp_name)+" ")])]),e("a-form-item",{attrs:{label:"选择分组","has-feedback":"",required:!0}},[e("a-row",[e("a-col",{attrs:{span:16}},[e("a-tree-select",{staticStyle:{width:"100%"},attrs:{"dropdown-style":{maxHeight:"400px",overflow:"auto"},"tree-data":t.channer_group_options,placeholder:"请选择分组","tree-default-expand-all":""},on:{change:t.onChange},model:{value:t.post_data.code_group_id,callback:function(e){t.$set(t.post_data,"code_group_id",e)},expression:"post_data.code_group_id"}})],1)],1)],1),e("a-form-item",{attrs:{label:"活码名称",required:!0}},[e("a-row",[e("a-col",{attrs:{span:16}},[e("a-input",{attrs:{maxLength:30,placeholder:"请填写活码名称"},model:{value:t.post_data.code_name,callback:function(e){t.$set(t.post_data,"code_name",e)},expression:"post_data.code_name"}})],1),e("a-col",{attrs:{span:8}},[e("div",{staticClass:"txt-tip"},[t._v("限30字符(一旦创建，不可修改)")])])],1)],1),e("a-form-item",{attrs:{label:"自动添加好友"}},[e("a-row",[e("a-col",{attrs:{span:2}},[e("a-switch",{model:{value:t.post_data.skip_verify,callback:function(e){t.$set(t.post_data,"skip_verify",e)},expression:"post_data.skip_verify"}})],1),e("a-col",{attrs:{span:22}},[e("div",{staticClass:"txt-tip"},[t._v("开启时，业主添加时无需企业成员确认，自动成为好友")])])],1)],1),e("a-form-item",{attrs:{label:"客户标签"}},[t._l(t.label_data,(function(a,o){return e("div",{key:o},[e("h4",{staticStyle:{"margin-bottom":"0px"}},[t._v(" "+t._s(a["label_group_name"])+" : ")]),e("div",[t._l(a["label_lists"],(function(a,o){return e("a-tag",{key:o,staticClass:"tip",attrs:{color:t.choose_tag_index[a["label_id"]]==a["label_id"]?"#1890ff":""},on:{click:function(e){return t.choose_tag(o,a)}}},[t._v(" "+t._s(a.label_name)+" ")])})),e("a-button",{attrs:{type:"primary",ghost:"",size:"small",icon:"plus"},on:{click:function(e){return t.$refs.createModalLabel.add(a.label_group_id)}}},[t._v(" 新建标签 ")])],2)])})),e("a-button",{attrs:{type:"primary",ghost:"",size:"small",icon:"plus"},on:{click:function(e){return t.$refs.createModalLabelGroup.add()}}},[t._v(" 新建标签组 ")])],2)],1):t._e(),1==t.current?e("div",[e("a-form-item",{attrs:{label:"绑定员工",required:!0}},[e("a-row",[e("a-col",{attrs:{span:14}},[e("a-select",{staticStyle:{width:"100%"},attrs:{mode:"multiple",placeholder:"请选择绑定员工","option-label-prop":"label"},model:{value:t.post_data.work_arr,callback:function(e){t.$set(t.post_data,"work_arr",e)},expression:"post_data.work_arr"}},t._l(t.work_list,(function(a,o){return e("a-select-option",{key:o,attrs:{value:a["wid"],label:a["name"]}},[t._v(" "+t._s(a["name"])+" ")])})),1)],1),e("a-col",{attrs:{span:10}},[e("div",{staticClass:"txt-tip"},[t._v("多选，绑定员工后，业主加好友时随机从其中选择")])])],1)],1)],1):t._e(),2==t.current?e("div",[e("a-form-item",{attrs:{label:"扫码推送"}},[e("a-row",[e("a-col",{attrs:{span:2}},[e("a-switch",{model:{value:t.post_data.is_send,callback:function(e){t.$set(t.post_data,"is_send",e)},expression:"post_data.is_send"}})],1),e("a-col",{attrs:{span:22}},[e("div",{staticClass:"txt-tip"},[t._v("（关闭后，客户扫该渠道活码，依然可对该客户自动打标签，但仅收到系统的【欢迎语】消息）")])])],1)],1),e("a-row",[e("a-col",{attrs:{span:4}}),e("a-col",{attrs:{span:13}},[e("a-row",[e("a-col",{attrs:{span:12}},[e("div",{staticClass:"ant-col ant-col-21 ant-form-item-control-wrapper"},[e("div",{staticClass:"ant-form-item-control"},[e("span",{staticClass:"ant-form-item-children"},[e("div",{staticStyle:{width:"900px","background-color":"rgb(255, 255, 255)"}},[e("div",{staticClass:"welcome-wrap left-sider-content",staticStyle:{"margin-left":"68px"}},[e("img",{staticStyle:{width:"350px","border-bottom":"1px solid rgb(226, 214, 214)"},attrs:{src:"data:image/png;base64,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",alt:""}}),t.post_data.welcome_tip||t.post_data.welcome_img||t.post_data.engine_content_id?e("div",{staticClass:"wel-msg_content_body"},[t.post_data.welcome_tip?e("div",{staticClass:"welcome-mt"},[e("span",{staticClass:"ant-avatar ant-avatar-circle ant-avatar-image",staticStyle:{width:"36px",height:"36px","line-height":"36px","font-size":"18px","margin-right":"10px",float:"left"}},[e("img",{attrs:{src:a("754e")}})]),e("div",{staticClass:"wel-item-info wel-msg_content_txt",staticStyle:{display:"block","white-space":"pre-wrap","word-wrap":"break-word"},domProps:{innerHTML:t._s(t.post_data.welcome_tip)}})]):t._e(),t.post_data.welcome_img?e("div",{staticClass:"welcome-mt"},[e("span",{staticClass:"ant-avatar ant-avatar-circle ant-avatar-image",staticStyle:{width:"36px",height:"36px","line-height":"36px","font-size":"18px","margin-right":"10px",float:"left","object-fit":"cover"}},[e("img",{attrs:{src:a("754e")}})]),e("img",{staticStyle:{width:"150px","border-radius":"4px"},attrs:{src:t.welcome_img,alt:""}})]):t._e(),t.post_data.engine_content_id&&t.record?e("div",{staticClass:"welcome-mt"},[e("span",{staticClass:"ant-avatar ant-avatar-circle ant-avatar-image",staticStyle:{width:"36px",height:"36px","line-height":"36px","font-size":"18px","margin-right":"10px",float:"left","object-fit":"cover"}},[e("img",{attrs:{src:a("754e")}})]),e("div",{staticClass:"wel-item-info wel-msg_content_txt"},[e("p",{staticClass:"url-title"},[t._v(t._s(t.record.title))]),t.record.share_dsc||t.record.share_img_txt?e("div",{staticStyle:{overflow:"hidden"}},[t.record.share_dsc?e("div",{staticClass:"url-text"},[t._v(t._s(t.record.share_dsc))]):t._e(),t.record.share_img_txt?e("img",{staticStyle:{float:"right",width:"64px",height:"64px","object-fit":"cover"},attrs:{src:t.record.share_img_txt,alt:""}}):t._e()]):t._e()])]):t._e()]):t._e()])])])])])]),e("a-col",{attrs:{span:12}},[e("div",{staticClass:"wel-pull-right"},[e("div",[e("a-input",{attrs:{type:"textarea",maxLength:800,autosize:{minRows:15,maxRows:18},placeholder:"请填写欢迎语"},model:{value:t.post_data.welcome_tip,callback:function(e){t.$set(t.post_data,"welcome_tip",e)},expression:"post_data.welcome_tip"}}),e("div",{staticClass:"wel-changeType-text"},[t._v(" 提示：火狐浏览器可能出现无法正确插入客户名称，请使用谷歌、360浏览器；当前欢迎语最多支持长度1000 ")])],1),e("div",{staticStyle:{margin:"10px 0px",cursor:"pointer",float:"left"}},[t.imageName?e("div",[1==t.addType?e("a-icon",{attrs:{type:"file-image"}}):t._e(),2==t.addType?e("a-icon",{attrs:{type:"appstore"}}):t._e(),t._v(" "+t._s(t.imageName)+" "),e("a-icon",{attrs:{type:"close"},on:{click:function(e){return t.closeImageName()}}})],1):e("a-popover",{attrs:{placement:"top",trigger:"click",visible:t.showPopover}},[e("template",{slot:"content"},[e("div",{staticClass:"popover-code-box flex_box"},[e("a-row",[e("a-col",{attrs:{span:12}},[e("div",{staticClass:"item_box",on:{click:function(e){return t.ChooseImg()}}},[e("a-upload",{attrs:{action:t.upload_url,multiple:!1,"show-upload-list":!1},on:{change:t.handleImageChange}},[e("div",[e("a-icon",{attrs:{type:t.imgLoading?"loading":"cloud-upload"}}),e("div",{staticClass:"ant-upload-text"},[t._v(" 上传 ")])],1)])],1)]),e("a-col",{attrs:{span:12}},[e("div",{staticClass:"item_box",on:{click:function(e){return t.addLink()}}},[e("a-icon",{attrs:{type:t.linkLoading?"loading":"appstore"}}),e("div",{staticClass:"text_1"},[t._v("功能")])],1)])],1)],1)]),e("a-button",{attrs:{type:"link"},on:{click:function(e){return t.addImgLink()}}},[e("a-icon",{attrs:{type:"plus"}}),t._v(" 添加图文/功能")],1)],2)],1)])])],1)],1)],1)],1):t._e()]),e("div",{staticClass:"steps-action"},[t.current>0?e("a-button",{staticStyle:{"margin-right":"8px"},on:{click:t.prev}},[t._v(" 上一步 ")]):t._e(),t.current<t.steps.length-1?e("a-button",{attrs:{type:"primary"},on:{click:t.next}},[t._v(" 下一步 ")]):t._e(),t.current==t.steps.length-1?e("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.completeAdd()}}},[t.code_id?e("span",[t._v("更新")]):e("span",[t._v("创建")])]):t._e()],1)]),e("add-label-group",{ref:"createModalLabelGroup",attrs:{height:800,width:1200},on:{ok:t.handleLabelGroupOks}}),e("add-label",{ref:"createModalLabel",attrs:{height:800,width:1200},on:{ok:t.handleLabelOks}}),e("a-modal",{attrs:{title:"选择图片素材",visible:t.visibleChooseImg,width:900,"confirm-loading":t.confirmLoading},on:{ok:t.handleChooseImgOk,cancel:t.handleChooseImgCancel}},[e("div",{staticClass:"choose-img-title-box"},[e("a-row",[e("a-col",{attrs:{span:10}},[e("div",{staticStyle:{"padding-right":"10px"}},[e("a-tree-select",{staticStyle:{width:"100%"},attrs:{"dropdown-style":{maxHeight:"400px",overflow:"auto"},"tree-data":t.groupTreeData,placeholder:"所有分组","tree-default-expand-all":""},scopedSlots:t._u([{key:"title",fn:function(a){var o=a.key,i=a.value;return"0-0-1"===o?e("span",{staticStyle:{color:"#08c"}},[t._v(" Child Node1 "+t._s(i)+" ")]):t._e()}}],null,!0),model:{value:t.searchGroup,callback:function(e){t.searchGroup=e},expression:"searchGroup"}})],1)]),e("a-col",{attrs:{span:6}},[e("a-input-search",{attrs:{placeholder:"输入要搜索内容","enter-button":"搜索"},on:{search:t.onSearch}})],1),e("a-col",{attrs:{span:2}},[e("a-button",{attrs:{block:""}},[t._v(" 清空 ")])],1),e("a-col",{attrs:{span:6}},[e("div",{staticStyle:{"text-align":"right"}},[e("a-button",{attrs:{icon:"cloud-upload"}},[t._v("本地上传")])],1)])],1)],1),e("div",{staticStyle:{"padding-top":"10px"}},[e("a-row",[e("a-col",{attrs:{span:4}}),e("a-col",{attrs:{span:1}}),e("a-col",{attrs:{span:4}}),e("a-col",{attrs:{span:1}}),e("a-col",{attrs:{span:4}}),e("a-col",{attrs:{span:1}}),e("a-col",{attrs:{span:4}}),e("a-col",{attrs:{span:1}}),e("a-col",{attrs:{span:4}})],1)],1)]),e("choose-function-info",{ref:"createModalChooseFunction",attrs:{height:800,width:1200},on:{ok:t.handleLinkOk}})],1)},i=[],n=a("dff4"),r=a("d34b"),s=(a("9ae4"),a("c5cb"),a("a532"),a("aa48"),a("3446"),a("a0e0")),l=a("e816"),c=a("7951"),d=a("f189"),u=a("ca00"),h={name:"addCode",components:{addLabelGroup:l["default"],addLabel:c["default"],chooseFunctionInfo:d["default"]},data:function(){return{form:this.$form.createForm(this),upload_url:"/v20/public/index.php/"+s["a"].uploadFile,current:0,imgLoading:!1,linkLoading:!1,loading:!1,confirmLoading:!1,visibleChooseImg:!1,showPopover:!1,code_group_id:"",post_data:{code_group_id:"",code_name:"",work_arr:[],is_send:!0,skip_verify:!0,welcome_tip:"",welcome_img:"",welcome_url:"",engine_content_id:0},steps:[{title:"基础设置",content:"基础设置"},{title:"员工设置",content:"员工设置"},{title:"欢迎语设置",content:"欢迎语设置"}],searchGroup:"",groupTreeData:[{title:"Node1",value:"0-0",key:"0-0",children:[{value:"0-0-1",key:"0-0-1",scopedSlots:{title:"title"}},{title:"Child Node2",value:"0-0-2",key:"0-0-2"}]},{title:"Node2",value:"0-1",key:"0-1"}],work_arr:[],label_arr:[],data:{corp_name:"演示物业",skip_verify:!0},skip_verify:!0,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:19}},code_id:0,channel_group_value:[],label_data:[],channer_group_options:[{value:"zhejiang",label:"Zhejiang",children:[{value:"hangzhou",label:"Hangzhou"}]},{value:"jiangsu",label:"Jiangsu",children:[{value:"nanjing",label:"Nanjing"}]}],choose_tag_index:{},tags:[],work_list:[],imageName:"",addType:1,tipLabelName:'<span><span class="ant-tag ant-tag-orange" contenteditable="false"> 客户名称 </span></span>',record:{},welcome_img:"",tokenName:"",sysName:""}},activated:function(){var t=this.$route.query;this.code_id=t.code_id?t.code_id:0,this.code_group_id=t.code_group_id?t.code_group_id:"",this.current=0;var e=Object(u["i"])(location.hash);e?(this.tokenName=e+"_access_token",this.sysName=e):this.sysName="village",document.title=t.code_id?"编辑渠道码":"添加渠道码",this.addCodeInfo()},mounted:function(){var t=this.$route.query;this.code_id=t.code_id?t.code_id:0,this.code_group_id=t.code_group_id?t.code_group_id:"",this.current=0;var e=Object(u["i"])(location.hash);e?(this.tokenName=e+"_access_token",this.sysName=e):this.sysName="village",document.title=t.code_id?"编辑渠道码":"添加渠道码",this.addCodeInfo()},methods:{completeAdd:function(){var t=this,e=this.form.validateFields;this.confirmLoading=!0,e((function(e,a){if(e)t.confirmLoading=!1;else{console.log("post_data",a),console.log("code_group_id",t.code_group_id),console.log("post_data1",t.post_data);var o=JSON.parse(JSON.stringify(t.post_data));o.skip_verify=t.post_data.skip_verify?1:2,o.is_send=t.post_data.is_send?1:2,o.tags=t.tags,t.code_id&&!o.code_id&&(o.code_id=t.code_id),t.tokenName&&(o.tokenName=t.tokenName),t.request(s["a"].addCode,o).then((function(e){t.code_id?t.$message.success("更新成功"):t.$message.success("添加成功");var a=t.sysName,o="/"+a+"/"+a+".workWx.channelCode/codeIndex";t.$router.push({path:o})})).catch((function(e){t.confirmLoading=!1})),console.log("values",a)}}))},addLink:function(){this.$refs.createModalChooseFunction.chooseInfo(),this.showPopover=!1},addImgLink:function(){this.showPopover?this.showPopover=!1:this.showPopover=!0},handleLinkOk:function(t){console.log("record",t),this.addType=2,this.record=t,this.imageName=t.title,this.post_data.engine_content_id=t.id},contenChange:function(t){var e=document.querySelector("#textarea");e.innerHTML.length>1e3?(this.$message.warning("当前欢迎语长度最大为1000"),this.post_data.welcome_tip=e.innerHTML.slice(0,1e3),e.innerHTML=this.post_data.welcome_tip):this.post_data.welcome_tip=e.innerHTML},closeImageName:function(){this.imageName="",this.post_data.welcome_img="",this.welcome_img="",this.post_data.welcome_url="",this.post_data.engine_content_id=0},handleImageChange:function(t){if("uploading"!==t.file.status){if("done"===t.file.status){if(t.file&&t.file.response){var e=t.file.response;1e3===e.status?(this.imgLoading=!1,this.img=e.data.url,this.post_data.welcome_img=e.data.url,this.welcome_img=e.data.path,this.addType=1,this.imageName=e.data.name,console.log("imageUrl",this.welcome_img),this.$message.success("上传成功")):(this.imgLoading=!1,this.$message.error(e.msg))}this.imgLoading=!1}}else this.imgLoading=!0},onSearch:function(){},ChooseImg:function(){},handleChooseImgOk:function(){console.log("弹窗确认",1),this.visibleChooseImg=!1},handleChooseImgCancel:function(){console.log("弹窗取消",1),this.visibleChooseImg=!1},next:function(){if(0==this.current){if(!this.post_data.code_group_id)return this.$message.warning("请选择分组!"),!1;if(!this.post_data.code_name)return this.$message.warning("请填写活码名称!"),!1;this.getWorkList()}if(1==this.current&&(!this.post_data.work_arr||!this.post_data.work_arr[0]))return this.$message.warning("请选择绑定员工"),!1;this.current++},prev:function(){2==this.current&&this.getWorkList(),this.current--},blurChange:function(t){var e;e=window.getSelection(),this.range=e.getRangeAt(0);var a=window.getSelection().toString(),o=window.getSelection().anchorOffset,i=window.getSelection().focusOffset;console.log("a_toString",a),console.log("b_anchorOffset",o),console.log("c_focusOffset",i)},addTags:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function e(){var a,o,i,r,s,l;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.tipLabelName,o=document.querySelector("#textarea"),console.log("myField--",o),!o.selectionStart&&0!==o.selectionStart){e.next=14;break}return i=o.selectionStart,r=o.selectionEnd,s=o.value.substring(0,i)+a+o.value.substring(r,o.value.length),t.post_data.welcome_tip="<pre>"+s+"</pre>",e.next=10,t.$nextTick();case 10:o.focus(),o.setSelectionRange(r+a.length,r+a.length),e.next=16;break;case 14:l=a,t.post_data.welcome_tip="<pre>"+l+"</pre>";case 16:case"end":return e.stop()}}),e)})))()},addTag:function(){var t=this;return Object(r["a"])(Object(n["a"])().mark((function e(){var a,o,i,r,s,l,c,d,u,h;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("blurChange",t.range),a=t.tipLabelName,o=document.querySelector("#textarea"),i=t.range,console.log("range--",i),r=i.startOffset,s=i.endOffset,!r&&0!==r){e.next=25;break}return l=r,c=s,console.log("startPos--",l),console.log("endPos--",c),d=o.innerHTML,u=d.replace(a,"{客户名称}"),console.log("txt--",u),console.log("txts--",d),h=u.substring(0,l)+a+u.substring(c,u.length),console.log("welcome_tip1--",h),h=h.replace("{客户名称}",a),console.log("welcome_tip2--",h),t.post_data.welcome_tip=o.innerHTML=h,e.next=23,t.$nextTick();case 23:e.next=26;break;case 25:o.innerHTML=t.post_data.welcome_tip=a;case 26:case"end":return e.stop()}}),e)})))()},getWorkList:function(){var t=this;if(this.loading)return!1;this.loading=!0;var e={};this.tokenName&&(e.tokenName=this.tokenName),this.request(s["a"].getWorkList,e).then((function(e){console.log("work_list",e.work_list),e.work_list?t.work_list=e.work_list:t.work_list=[],t.loading=!1}))},choose_tag:function(t,e){var a=JSON.parse(JSON.stringify(this.choose_tag_index)),o=e["label_id"];if(!o||a&&a[o]){if(o&&a&&a[o]){o=e["label_id"];delete a[o],this.choose_tag_index=a}}else a[o]=o,this.choose_tag_index=a;if(o)for(var i in this.tags=[],a)a[i]&&this.tags.push(a[i]);console.log("choose_tag_index",a),console.log("tags",this.tags)},getLabelData:function(){var t=this;if(this.loading)return!1;this.loading=!0;var e={};this.tokenName&&(e.tokenName=this.tokenName),this.request(s["a"].getLabelData,e).then((function(e){e.label_data?t.label_data=e.label_data:t.label_data=[],t.loading=!1}))},addCodeInfo:function(){var t=this,e={};if(this.code_id&&(e["code_id"]=this.code_id),this.loading)return!1;this.loading=!0,this.tokenName&&(e.tokenName=this.tokenName),this.request(s["a"].addCodeInfo,e).then((function(e){console.log(e),e.label_group?t.channer_group_options=e.label_group:t.channer_group_options=[],e.qywx_bind?t.data.corp_name=e.qywx_bind.corp_name:t.data.corp_name="",e.channel_group_value?t.channel_group_value=e.channel_group_value:t.channel_group_value=[],e.label_data?t.label_data=e.label_data:t.label_data=[],e.tipLabelName&&(t.tipLabelName=e.tipLabelName),e.post_data&&(t.post_data=e.post_data,e.detail.welcome_img_txt&&(t.addType=1,t.welcome_img=e.detail.welcome_img_txt),e.detail.welcome_img_name&&(t.addType=1,t.imageName=e.detail.welcome_img_name)),t.code_group_id&&!t.post_data.code_group_id&&(t.post_data.code_group_id=t.code_group_id),e.record&&(t.record=e.record,t.addType=2,t.imageName=e.record.title),e.detail&&(e.detail["work_id_arr"]&&(t.work_arr=e.detail["work_id_arr"]),e.detail["label_id_arr"]&&(t.tags=e.detail["label_id_arr"]),e.detail["choose_tag_index"]&&(t.choose_tag_index=e.detail["choose_tag_index"])),t.loading=!1}))},onChange:function(t){console.log(t),console.log("code_group_id",this.code_group_id)},handleSubmit:function(){console.log("handleSubmit")},handleLabelGroupOks:function(t){console.log("组添加成功",t),this.getLabelData()},handleLabelOks:function(t){console.log("标签添加成功",t),this.getLabelData()}}},p=h,m=(a("90da"),a("6682"),a("0b56")),g=Object(m["a"])(p,o,i,!1,null,"4609d50d",null);e["default"]=g.exports},"60fb":function(t,e,a){"use strict";a("151c")},6682:function(t,e,a){"use strict";a("b631")},"754e":function(t,e){t.exports="data:image/png;base64,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"},7951:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("a-modal",{attrs:{title:t.title,width:900,visible:t.visible,maskClosable:!1,confirmLoading:t.confirmLoading},on:{ok:t.handleSubmit,cancel:t.handleCancel}},[e("a-spin",{attrs:{spinning:t.confirmLoading,height:800}},[e("a-form",{attrs:{form:t.form}},[e("a-form-item",{attrs:{label:"分组名称",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[e("a-col",{attrs:{span:18}},[e("a-input",{attrs:{maxLength:15,disabled:""},model:{value:t.info.label_group_name,callback:function(e){t.$set(t.info,"label_group_name",e)},expression:"info.label_group_name"}})],1)],1),e("a-form-item",{attrs:{label:"标签",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[e("div",[t._v("每个标签名称最多15个字符。同时新建多个标签时，请用“空格”隔开")]),e("a-col",{attrs:{span:18}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["label_name",{rules:[{required:!0,message:"请输入标签！"}]}],expression:"['label_name', {rules: [{required: true, message: '请输入标签！'}]}]"}],attrs:{placeholder:"请输入标签"},on:{change:t.text_change}})],1),e("a-col",{attrs:{span:6}})],1)],1)],1)],1)},i=[],n=a("2396"),r=a("a0e0"),s=a("ca00"),l={name:"addLabel",data:function(){return{title:"新建",labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this),detail:{id:0,name:""},id:0,label_group_id:0,info:{},tokenName:"",sysName:""}},mounted:function(){},methods:{text_change:function(t){},add:function(t){var e=Object(s["i"])(location.hash);e?(this.tokenName=e+"_access_token",this.sysName=e):this.sysName="village",this.title="添加标签",this.visible=!0,this.label_group_id=t,this.getLabelGroupInfo(),this.detail={label_group_id:t,name:""},this.checkedKeys=[]},edit:function(t){console.log("erererererer",t),this.visible=!0,this.id=t,this.getEditInfo(),this.id>0?this.title="编辑":this.title="添加",console.log(this.title)},handleSubmit:function(){var t=this,e=this.form.validateFields;this.confirmLoading=!0,e((function(e,a){e?t.confirmLoading=!1:(a.label_group_id=t.label_group_id,t.tokenName&&(a["tokenName"]=t.tokenName),t.request(r["a"].addLabel,a).then((function(e){t.$message.success("添加成功"),setTimeout((function(){t.form=t.$form.createForm(t),t.visible=!1,t.confirmLoading=!1,t.$emit("ok",a)}),1500)})).catch((function(e){console.log("error",e),t.confirmLoading=!1})),console.log("values",a))}))},handleCancel:function(){var t=this;this.visible=!1,setTimeout((function(){t.id="0",t.form=t.$form.createForm(t)}),500)},getLabelGroupInfo:function(){var t=this,e={label_group_id:this.label_group_id};this.tokenName&&(e["tokenName"]=this.tokenName),this.request(r["a"].getLabelGroupInfo,e).then((function(e){console.log(e),"object"==Object(n["a"])(e.info)?t.info=e.info:"object"==Object(n["a"])(e)&&(t.info=e)}))},getEditInfo:function(){var t=this,e={id:this.id};this.tokenName&&(e["tokenName"]=this.tokenName),this.request(r["a"].getCodeGroupInfo,e).then((function(e){console.log(e),t.detail={id:0,name:""},"object"==Object(n["a"])(e.info)&&(t.detail=e.info,t.pid=e.info.pid)}))}}},c=l,d=(a("60fb"),a("0b56")),u=Object(d["a"])(c,o,i,!1,null,null,null);e["default"]=u.exports},"90da":function(t,e,a){"use strict";a("0e40")},b631:function(t,e,a){},c0ce:function(t,e,a){},d34b:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("c5cb");function o(t,e,a,o,i,n,r){try{var s=t[n](r),l=s.value}catch(c){return void a(c)}s.done?e(l):Promise.resolve(l).then(o,i)}function i(t){return function(){var e=this,a=arguments;return new Promise((function(i,n){var r=t.apply(e,a);function s(t){o(r,i,n,s,l,"next",t)}function l(t){o(r,i,n,s,l,"throw",t)}s(void 0)}))}}},dff4:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("6073"),a("2c5c"),a("c5cb"),a("36fa"),a("02bf"),a("a617"),a("70b9"),a("25b2"),a("0245"),a("2e24"),a("1485"),a("08c7"),a("54f8"),a("7177"),a("9ae4");var o=a("2396");function i(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
i=function(){return t};var t={},e=Object.prototype,a=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",s=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function c(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(O){c=function(t,e,a){return t[e]=a}}function d(t,e,a,o){var i=e&&e.prototype instanceof p?e:p,n=Object.create(i.prototype),r=new N(o||[]);return n._invoke=function(t,e,a){var o="suspendedStart";return function(i,n){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw n;return A()}for(a.method=i,a.arg=n;;){var r=a.delegate;if(r){var s=k(r,a);if(s){if(s===h)continue;return s}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===o)throw o="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o="executing";var l=u(t,e,a);if("normal"===l.type){if(o=a.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(o="completed",a.method="throw",a.arg=l.arg)}}}(t,a,r),n}function u(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(O){return{type:"throw",arg:O}}}t.wrap=d;var h={};function p(){}function m(){}function g(){}var f={};c(f,r,(function(){return this}));var v=Object.getPrototypeOf,_=v&&v(v(C([])));_&&_!==e&&a.call(_,r)&&(f=_);var b=g.prototype=p.prototype=Object.create(f);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function y(t,e){function i(n,r,s,l){var c=u(t[n],t,r);if("throw"!==c.type){var d=c.arg,h=d.value;return h&&"object"==Object(o["a"])(h)&&a.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,s,l)}),(function(t){i("throw",t,s,l)})):e.resolve(h).then((function(t){d.value=t,s(d)}),(function(t){return i("throw",t,s,l)}))}l(c.arg)}var n;this._invoke=function(t,a){function o(){return new e((function(e,o){i(t,a,e,o)}))}return n=n?n.then(o,o):o()}}function k(t,e){var a=t.iterator[e.method];if(void 0===a){if(e.delegate=null,"throw"===e.method){if(t.iterator["return"]&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=u(a,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function e(){for(;++o<t.length;)if(a.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=g,c(b,"constructor",g),c(g,"constructor",m),m.displayName=c(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,l,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(y.prototype),c(y.prototype,s,(function(){return this})),t.AsyncIterator=y,t.async=function(e,a,o,i,n){void 0===n&&(n=Promise);var r=new y(d(e,a,o,i),n);return t.isGeneratorFunction(a)?r:r.next().then((function(t){return t.done?t.value:r.next()}))},w(b),c(b,l,"Generator"),c(b,r,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var a in t)e.push(a);return e.reverse(),function a(){for(;e.length;){var o=e.pop();if(o in t)return a.value=o,a.done=!1,a}return a.done=!0,a}},t.values=C,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(a,o){return r.type="throw",r.arg=t,e.next=a,o&&(e.method="next",e.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i],r=n.completion;if("root"===n.tryLoc)return o("end");if(n.tryLoc<=this.prev){var s=a.call(n,"catchLoc"),l=a.call(n,"finallyLoc");if(s&&l){if(this.prev<n.catchLoc)return o(n.catchLoc,!0);if(this.prev<n.finallyLoc)return o(n.finallyLoc)}else if(s){if(this.prev<n.catchLoc)return o(n.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return o(n.finallyLoc)}}}},abrupt:function(t,e){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var n=i;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var r=n?n.completion:{};return r.type=t,r.arg=e,n?(this.method="next",this.next=n.finallyLoc,h):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),L(a),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var o=a.completion;if("throw"===o.type){var i=o.arg;L(a)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:C(t),resultName:e,nextLoc:a},"next"===this.method&&(this.arg=void 0),h}},t}},e816:function(t,e,a){"use strict";a.r(e);a("54f8");var o=function(){var t=this,e=t._self._c;return e("a-modal",{attrs:{title:t.title,width:900,visible:t.visible,maskClosable:!1,confirmLoading:t.confirmLoading},on:{ok:t.handleSubmit,cancel:t.handleCancel}},[e("a-spin",{attrs:{spinning:t.confirmLoading,height:800}},[e("a-form",{attrs:{form:t.form}},[e("a-form-item",{attrs:{label:"分组名称",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[e("a-col",{attrs:{span:18}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["label_group_name",{initialValue:t.detail.name,rules:[{required:!0,message:"请输入分组名称！"}]}],expression:"['label_group_name', {initialValue:detail.name,rules: [{required: true, message: '请输入分组名称！'}]}]"}],attrs:{placeholder:"请输入分组名称（分组名称不得超过15个字）",maxLength:15},on:{change:t.text_change}})],1),e("a-col",{attrs:{span:6}})],1)],1)],1)],1)},i=[],n=a("2396"),r=a("a0e0"),s=a("ca00"),l={name:"addLabelGroup",data:function(){return{title:"新建",labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this),detail:{id:0,name:""},id:0,pid:0,tokenName:"",sysName:""}},mounted:function(){},methods:{text_change:function(t){},add:function(t){var e=Object(s["i"])(location.hash);e?(this.tokenName=e+"_access_token",this.sysName=e):this.sysName="village",this.title="新建标签组",this.visible=!0,this.id="0",this.pid=t,this.detail={id:0,name:""},this.checkedKeys=[]},edit:function(t){var e=Object(s["i"])(location.hash);e?(this.tokenName=e+"_access_token",this.sysName=e):this.sysName="village",console.log("erererererer",t),this.visible=!0,this.id=t,this.getEditInfo(),this.id>0?this.title="编辑":this.title="添加",console.log(this.title)},handleSubmit:function(){var t=this,e=this.form.validateFields;this.confirmLoading=!0,e((function(e,a){e?t.confirmLoading=!1:(a.id=t.id,a.pid=t.pid,t.tokenName&&(a.tokenName=t.tokenName),t.request(r["a"].addLabelGroup,a).then((function(e){t.detail.id>0?t.$message.success("编辑成功"):t.$message.success("添加成功"),setTimeout((function(){t.form=t.$form.createForm(t),t.visible=!1,t.confirmLoading=!1,t.$emit("ok",a)}),1500)})).catch((function(e){t.confirmLoading=!1})),console.log("values",a))}))},handleCancel:function(){var t=this;this.visible=!1,setTimeout((function(){t.id="0",t.form=t.$form.createForm(t)}),500)},getEditInfo:function(){var t=this,e={id:this.id};this.tokenName&&(e["tokenName"]=this.tokenName),this.request(r["a"].getCodeGroupInfo,e).then((function(e){console.log(e),t.detail={id:0,name:""},"object"==Object(n["a"])(e.info)&&(t.detail=e.info,t.pid=e.info.pid)}))}}},c=l,d=(a("0c37"),a("0b56")),u=Object(d["a"])(c,o,i,!1,null,null,null);e["default"]=u.exports},f189:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t._self._c;return e("a-modal",{attrs:{title:t.title,width:900,visible:t.visible,footer:null,maskClosable:!1,confirmLoading:t.confirmLoading},on:{cancel:t.handleCancel}},[e("div",{attrs:{id:"components-table-demo-size"}},[e("a-table",{attrs:{columns:t.columns,"data-source":t.contentList,size:"small",pagination:t.pagination},on:{change:t.tableChange},scopedSlots:t._u([{key:"linkContent",fn:function(a,o){return e("span",{staticClass:"table-operation"},[e("a",{attrs:{href:o.content,target:"_blank"}},[t._v("访问链接")])])}},{key:"operation",fn:function(a,o){return e("span",{staticClass:"table-operation"},[e("a",{attrs:{slot:"action"},on:{click:function(e){return t.handleOk(o)}},slot:"action"},[t._v("选择")])])}}])})],1)])},i=[],n=a("a0e0"),r=a("ca00"),s=[{title:"标题",dataIndex:"title"},{title:"操作",key:"content",scopedSlots:{customRender:"linkContent"}},{title:"所属分组",dataIndex:"name"},{title:"操作",key:"operation",scopedSlots:{customRender:"operation"}}],l={name:"chooseFunctionInfo",data:function(){return{contentList:[],columns:s,title:"选择功能",visible:!1,confirmLoading:!1,page:1,pagination:{pageSize:10,total:10},tokenName:"",sysName:""}},methods:{chooseInfo:function(){this.title="选择功能",this.visible=!0;var t=Object(r["i"])(location.hash);t?(this.tokenName=t+"_access_token",this.sysName=t):this.sysName="village",this.getContentList()},handleCancel:function(){this.visible=!1},handleOk:function(t){console.log("record",t),this.$emit("ok",t),this.visible=!1},tableChange:function(t){t.current&&t.current>0&&(this.page=t.current,this.getContentList())},getContentList:function(){var t=this;this.loading=!0;var e={};e["page"]=this.page,e["type"]=4,this.tokenName&&(e["tokenName"]=this.tokenName),this.request(n["a"].getContentList,e).then((function(e){t.contentList=e.list,console.log("queryParam",e),e.list&&e.list.length>0&&(t.pagination.total=e.count?e.count:0,t.pagination.pageSize=e.total_limit?e.total_limit:10),t.loading=!1}))}}},c=l,d=(a("0674"),a("0b56")),u=Object(d["a"])(c,o,i,!1,null,null,null);e["default"]=u.exports}}]);