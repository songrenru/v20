(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61bac466","chunk-2b5c3d4c","chunk-36137adc","chunk-65e2c35b","chunk-b63aee28","chunk-5f8a6476","chunk-2d22db1e","chunk-2d0c0303","chunk-2d22c16e","chunk-2d212fb1","chunk-2d0e4d18","chunk-2d0c9ae7","chunk-2d230c77"],{"0f64":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"小区单元编辑",visible:e.visible,width:500,loading:e.confirmLoading},on:{cancel:function(t){return e.resetForm(!1)},ok:e.onSubmit}},[a("a-form-model",{ref:"ruleForm",attrs:{model:e.unitForm,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("a-form-model-item",{attrs:{label:"单元名称",prop:"floor_name"}},[a("a-input",{staticClass:"input_style_240",model:{value:e.unitForm.floor_name,callback:function(t){e.$set(e.unitForm,"floor_name",t)},expression:"unitForm.floor_name"}})],1),a("a-form-model-item",{attrs:{label:"单元编号",prop:"floor_number"}},[a("a-input",{staticClass:"input_style_240",model:{value:e.unitForm.floor_number,callback:function(t){e.$set(e.unitForm,"floor_number",t)},expression:"unitForm.floor_number"}})],1)],1)],1)},o=[],r=(a("a9e3"),a("8bbf")),l=a.n(r),i=a("ed09"),s=(a("3990"),Object(i["c"])({props:{visible:{type:Boolean,default:!1},floor_id:{type:[String,Number],default:0}},setup:function(e,t){var a=Object(i["h"])(!1),n=Object(i["h"])({}),o=Object(i["h"])({floor_name:[{required:!0,message:"请输入单元名称",trigger:"blur"}],floor_number:[{required:!0,message:"请输入单元编号",trigger:"blur"}]}),r=Object(i["h"])(),s=Object(i["h"])({span:6}),c=Object(i["h"])({span:16}),u=function(){r.value.validate((function(e){e&&(a.value=!0,m())}))},d=function(e){t.emit("exit",e),n.value={},r.value.resetFields()},m=function(){var e={floor_id:n.value.floor_id,floor_name:n.value.floor_name,floor_number:n.value.floor_number};l.a.prototype.request("/community/village_api.Building/updateFloorInfoByID",e).then((function(e){a.value=!1,l.a.prototype.$message.success("编辑成功！"),d("unit")})).catch((function(e){a.value=!1}))},p=function(e){l.a.prototype.request("/community/village_api.Building/floorInfo",{floor_id:e}).then((function(e){n.value=e}))};return Object(i["i"])((function(){return e.visible}),(function(t){t&&p(e.floor_id)}),{deep:!0}),{confirmLoading:a,onSubmit:u,resetForm:d,unitForm:n,labelCol:s,wrapperCol:c,rules:o,saveForm:m,ruleForm:r}}})),c=s,u=(a("a41a"),a("2877")),d=Object(u["a"])(c,n,o,!1,null,"dae6004e",null);t["default"]=d.exports},"16d1":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e.pageLoading?a("div",{staticClass:"loading",staticStyle:{width:"100%",height:"500px",display:"flex","align-items":"center","justify-content":"center","flex-direction":"column"}},[a("a-icon",{staticStyle:{"font-size":"26px"},attrs:{type:"loading"}}),a("div",{staticStyle:{color:"#666666","font-size":"20px","margin-top":"10px"}},[e._v("加载中...")])],1):a("a-form-model",{ref:"ruleForm",attrs:{rules:e.rules,model:e.roomForm,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("div",{staticClass:"form_title",staticStyle:{"font-weight":"600"}},[e._v("基本信息")]),a("div",{staticClass:"form_con",staticStyle:{"margin-top":"10px"}},[a("a-form-model-item",{staticClass:"form_item",attrs:{label:"物业编号",extra:"由楼栋编号、单元编号、楼层编号和房屋编号依次拼接而成"}},[a("a-input",{attrs:{placeholder:"请输入物业编号"},model:{value:e.roomForm.property_number,callback:function(t){e.$set(e.roomForm,"property_number",t)},expression:"roomForm.property_number"}})],1),a("a-form-model-item",{staticClass:"form_item",attrs:{label:"楼栋/单元/楼层"}},[a("a-input",{attrs:{placeholder:"请输入楼栋/单元/楼层",disabled:!0},model:{value:e.roomForm.address,callback:function(t){e.$set(e.roomForm,"address",t)},expression:"roomForm.address"}})],1),a("a-form-model-item",{staticClass:"form_item",attrs:{label:"房间号"}},[a("a-input",{attrs:{placeholder:"请输入房间号"},model:{value:e.roomForm.room,callback:function(t){e.$set(e.roomForm,"room",t)},expression:"roomForm.room"}})],1),a("a-form-model-item",{staticClass:"form_item",attrs:{extra:"设置房间时间范围，设置后物业只能收取合同时间内收费项目，未到合同开始时间或结束时间不能收费；未设置物业服务小区时间范围，则不影响。"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("a-tooltip",{attrs:{title:"设置房间时间范围，设置后物业只能收取合同时间内收费项目，未到合同开始时间或结束时间不能收费；未设置物业服务小区时间范围，则不影响。"}},[a("a-icon",{attrs:{type:"question-circle-o"}}),e._v(" 合同时间 ")],1)],1),e.roomForm.contract_time_start&&e.roomForm.contract_time_end?a("a-range-picker",{attrs:{"disabled-date":e.disabledDate,value:[e.moment(e.roomForm.contract_time_start,e.dateFormat),e.moment(e.roomForm.contract_time_end,e.dateFormat)]},on:{change:e.onDateChange}}):a("a-range-picker",{attrs:{"disabled-date":e.disabledDate},on:{change:e.onDateChange}})],1),a("a-form-model-item",{staticClass:"form_item",attrs:{label:"房屋类型"}},[a("a-select",{staticStyle:{width:"200px"},attrs:{"show-search":"",placeholder:"请选择","filter-option":e.filterOption,value:e.roomForm.house_type},on:{change:function(t){return e.handleSelectChange(t,"house_type")}}},e._l(e.roomParams.room_type_list,(function(t,n){return a("a-select-option",{attrs:{value:t.key}},[e._v(" "+e._s(t.value)+" ")])})),1)],1),a("a-form-model-item",{staticClass:"form_item",attrs:{label:"使用状态",extra:"仅供标记使用，不会自动变化的，需要自行编辑维护"}},[a("a-select",{staticStyle:{width:"200px"},attrs:{"show-search":"",placeholder:"请选择","filter-option":e.filterOption,value:e.roomForm.user_status},on:{change:function(t){return e.handleSelectChange(t,"user_status")}}},e._l(e.roomParams.user_status_list,(function(t,n){return a("a-select-option",{attrs:{value:t.key}},[e._v(" "+e._s(t.value)+" ")])})),1)],1),a("a-form-model-item",{staticClass:"form_item",attrs:{label:"出售状态",extra:"仅供标记使用，不会自动变化的，需要自行编辑维护"}},[a("a-select",{staticStyle:{width:"200px"},attrs:{"show-search":"",placeholder:"请选择","filter-option":e.filterOption,value:e.roomForm.sell_status},on:{change:function(t){return e.handleSelectChange(t,"sell_status")}}},e._l(e.roomParams.sell_status_list,(function(t,n){return a("a-select-option",{attrs:{value:t.key}},[e._v(" "+e._s(t.value)+" ")])})),1)],1),a("a-form-model-item",{staticClass:"form_item",attrs:{label:"房屋面积"}},[a("a-input",{attrs:{placeholder:"请输入房屋面积"},model:{value:e.roomForm.housesize,callback:function(t){e.$set(e.roomForm,"housesize",t)},expression:"roomForm.housesize"}})],1),a("a-form-model-item",{staticClass:"form_item",attrs:{label:"排序",extra:"数字越大越靠前"}},[a("a-input",{attrs:{placeholder:"请输入排序"},model:{value:e.roomForm.sort,callback:function(t){e.$set(e.roomForm,"sort",t)},expression:"roomForm.sort"}})],1),a("a-form-model-item",{staticClass:"form_item",attrs:{label:"房间状态"}},[a("a-radio-group",{model:{value:e.roomForm.status,callback:function(t){e.$set(e.roomForm,"status",t)},expression:"roomForm.status"}},[a("a-radio",{attrs:{value:1}},[e._v("开启")]),a("a-radio",{attrs:{value:0}},[e._v("禁用")])],1)],1)],1),e.a185_indoor_module.status?a("div",{staticClass:"form_title",staticStyle:{"font-weight":"600","margin-top":"10px",diplay:"flex","align-items":"center"}},[e._v(" 室内机管理 "),a("span",{staticStyle:{"font-weight":"500",color:"green","margin-left":"20px","font-size":"14px"}},[e._v("注意：室内机编号仅限于 A185智能门禁配合使用")])]):e._e(),e.a185_indoor_module.status?a("div",{staticClass:"form_con",staticStyle:{"margin-top":"10px"}},[a("a-form-model-item",{staticClass:"form_item",attrs:{label:"室内机设备号"}},[a("a-input",{attrs:{placeholder:"请输入室内机设备号"},model:{value:e.roomForm.indoor_device_sn,callback:function(t){e.$set(e.roomForm,"indoor_device_sn",t)},expression:"roomForm.indoor_device_sn"}})],1),a("a-form-model-item",{staticClass:"form_item",attrs:{label:"状态"}},[a("a-radio-group",{model:{value:e.roomForm.indoor_status,callback:function(t){e.$set(e.roomForm,"indoor_status",t)},expression:"roomForm.indoor_status"}},[a("a-radio",{attrs:{value:1}},[e._v("开启")]),a("a-radio",{attrs:{value:0}},[e._v("禁用")])],1)],1)],1):e._e(),e.water_electric_gas_module.status?a("div",{staticClass:"form_title",staticStyle:{"font-weight":"600","margin-top":"10px",diplay:"flex","align-items":"center"}},[e._v(" 设备管理 "),a("span",{staticStyle:{"font-weight":"500",color:"green","margin-left":"20px","font-size":"14px"}},[e._v("注意：对接水电燃仪表设备，由设备方提供水电燃设备接口")]),a("span",{staticStyle:{"font-weight":"500",color:"red","margin-left":"20px","font-size":"14px"}},[e._v("冷/热水表表号具有唯一性，不可重复")])]):e._e(),e.water_electric_gas_module.status?a("div",{staticClass:"form_con",staticStyle:{"margin-top":"10px"}},[a("a-form-model-item",{staticClass:"form_item",attrs:{label:"冷水表编号"}},[a("a-input",{attrs:{placeholder:"请输入冷水表编号"},model:{value:e.roomForm.water_number,callback:function(t){e.$set(e.roomForm,"water_number",t)},expression:"roomForm.water_number"}})],1),a("a-form-model-item",{staticClass:"form_item",attrs:{label:"热水表编号"}},[a("a-input",{attrs:{placeholder:"请输入热水表编号"},model:{value:e.roomForm.heat_water_number,callback:function(t){e.$set(e.roomForm,"heat_water_number",t)},expression:"roomForm.heat_water_number"}})],1),a("a-form-model-item",{staticClass:"form_item",attrs:{label:"电表编号"}},[a("a-input",{attrs:{placeholder:"请输入电表编号"},model:{value:e.roomForm.ele_number,callback:function(t){e.$set(e.roomForm,"ele_number",t)},expression:"roomForm.ele_number"}})],1),a("a-form-model-item",{staticClass:"form_item",attrs:{label:"燃气表编号"}},[a("a-input",{attrs:{placeholder:"请输入燃气表编号"},model:{value:e.roomForm.gas_number,callback:function(t){e.$set(e.roomForm,"gas_number",t)},expression:"roomForm.gas_number"}})],1)],1):e._e(),a("a-form-model-item",{staticStyle:{width:"100%"},attrs:{"wrapper-col":{span:14,offset:2}}},[a("a-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")])],1)],1)],1)},o=[],r=a("5530"),l=(a("a9e3"),a("8bbf")),i=a.n(l),s=a("c1df"),c=a.n(s),u=a("ed09"),d=Object(u["c"])({props:{roomParams:{type:Object,default:function(){return{}}},roomId:{type:[String,Number],defalut:""}},setup:function(e,t){var a=Object(u["h"])({}),n=Object(u["h"])(!0),o=Object(u["h"])({vacancy_id:"",property_number:"",address:"",room:"",house_type:"",user_status:"",sell_status:"",status:"",indoor_device_sn:"",indoor_status:"",water_number:"",heat_water_number:"",ele_number:"",gas_number:""}),l=Object(u["h"])(!1),s=function(){l.value?i.a.prototype.$message.warn("正在提交中，请稍等..."):(l.value=!0,i.a.prototype.request("/community/village_api.Building/subRoomAttribute",o.value).then((function(e){l.value=!1,i.a.prototype.$message.success("编辑成功！")})).catch((function(e){l.value=!1})))},d=function(){},m=Object(u["h"])({span:4}),p=Object(u["h"])({span:14}),f=Object(u["h"])("YYYY/MM/DD"),_=Object(u["h"])({}),v=Object(u["h"])({}),b=function(e){o.value.contract_time_start=c()(e[0]).format(f.value),o.value.contract_time_end=c()(e[1]).format(f.value)};Object(u["f"])((function(){console.log("pageLoading===>",n.value),x()}));var g=function(e,t){o.value[t]=e,Object(u["d"])()},y=function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},h=function(e){return e&&!(e>c()(o.value.village_contract_time_start)&&e<c()(o.value.village_contract_time_end))},x=function(){o.value={},i.a.prototype.request("/community/village_api.Building/getRoomDetails",{vacancy_id:e.roomId}).then((function(e){_.value=e.a185_indoor_module,v.value=e.water_electric_gas_module,o.value=Object(r["a"])(Object(r["a"])(Object(r["a"])({},e.room_info),e.a185_indoor_module.data),e.water_electric_gas_module.data),o.value.village_contract_time_start&&o.value.village_contract_time_end&&h(),n.value=!1})).catch((function(e){n.value=!1}))};return{rules:a,roomForm:o,labelCol:m,wrapperCol:p,onSubmit:s,resetForm:d,handleSelectChange:g,filterOption:y,moment:c.a,dateFormat:f,onDateChange:b,a185_indoor_module:_,water_electric_gas_module:v,pageLoading:n,disabledDate:h}}}),m=d,p=(a("fe7f"),a("2877")),f=Object(p["a"])(m,n,o,!1,null,"96377b4e",null);t["default"]=f.exports},"17e3":function(e,t,a){},"2f05":function(e,t,a){"use strict";a("76a2")},"307c":function(e,t,a){"use strict";a("98b0")},"3a16":function(e,t,a){},"415e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"associated_work_order"},[a("a-table",{attrs:{pagination:e.pageInfo,columns:e.orderColumns,loading:e.tableLoading,"data-source":e.tableList},on:{change:e.tableChange},scopedSlots:e._u([{key:"status_arr",fn:function(t,n){return a("span",{},[a("a-tag",{attrs:{color:n.status_arr.status_color}},[e._v(e._s(n.status_arr.status_txt))])],1)}}])})],1)},o=[],r=(a("a9e3"),a("8bbf")),l=a.n(r),i=a("ed09"),s=Object(i["c"])({props:{roomParams:{type:Object,default:function(){return{}}},roomId:{type:[String,Number],defalut:""}},setup:function(e,t){var a=Object(i["h"])([]),n=Object(i["h"])({pageSize:10,current:1,total:0,pageSizeOptions:["10","20","30","40","50","60","70","80","90","100"],showSizeChanger:!0}),o=Object(i["h"])([]),r=Object(i["h"])(!1);Object(i["f"])((function(){u()}));var s=function(e){var t=e.pageSize,a=e.current;n.value.current=a,n.value.pageSize=t,u()},c=function(e){l.a.prototype.$confirm({title:"提示",content:"确定要删除此项吗？",onOk:function(){l.a.prototype.request("/community/village_api.cashier/delChargeStandardBind",{charge_standard_bind_id:e.bind_id}).then((function(e){l.a.prototype.$message.success("删除成功！"),n.value.current=1,n.value.pageSize=10,u()}))},onCancel:function(){}})},u=function(){r.value=!0,l.a.prototype.request("/community/village_api.Building/getRoomBindWorksOrderList",{vacancy_id:e.roomId,page:n.value.current,limit:n.value.pageSize}).then((function(e){o.value=e.list,n.value.total=e.count,r.value=!1})).catch((function(e){r.value=!1}))};return a.value=[{title:"上报人",dataIndex:"name",key:"name"},{title:"手机号",dataIndex:"phone",key:"phone"},{title:"上报时间",dataIndex:"add_time",key:"add_time"},{title:"工单详情",dataIndex:"order_content",key:"order_content"},{title:"上报状态",dataIndex:"status_arr",key:"status_arr",scopedSlots:{customRender:"status_arr"}},{title:"上报位置",dataIndex:"address_txt",key:"address_txt"},{title:"上报分类",dataIndex:"cate_name",key:"cate_name"},{title:"工单类目",dataIndex:"subject_name",key:"subject_name"}],{orderColumns:a,pageInfo:n,tableList:o,tableLoading:r,getOrderList:u,tableChange:s,deleteOrder:c}}}),c=s,u=a("2877"),d=Object(u["a"])(c,n,o,!1,null,"0c6a4820",null);t["default"]=d.exports},5417:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page_loading"})},o=[],r=(a("8bbf"),a("ed09")),l=Object(r["c"])({}),i=l,s=(a("f436"),a("2877")),c=Object(s["a"])(i,n,o,!1,null,"20670348",null);t["default"]=c.exports},"59d1":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"online_file"},[e._v(" 显示所有该房间下所有用户参与的在线文件管理 ")])},o=[],r=(a("a9e3"),a("8bbf"),a("ed09")),l=Object(r["c"])({props:{roomParams:{type:Object,default:function(){return{}}},roomId:{type:[String,Number],defalut:""}},setup:function(e,t){return{}}}),i=l,s=a("2877"),c=Object(s["a"])(i,n,o,!1,null,"da00d5fe",null);t["default"]=c.exports},6811:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-form-model",{ref:"ruleForm",attrs:{rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("div",{staticClass:"form_con",staticStyle:{display:"flex","flex-wrap":"wrap"}},e._l(e.baseForm,(function(t,n){return a("a-form-model-item",{key:n,staticStyle:{width:"33.3%"},attrs:{label:t.title}},[1==t.type?a("div",{staticClass:"form_item"},[a("a-input",{staticStyle:{width:"200px"},attrs:{disabled:t.is_disabled,placeholder:"请输入"+t.title},model:{value:e.baseForm[n].value,callback:function(t){e.$set(e.baseForm[n],"value",t)},expression:"baseForm[index].value"}})],1):e._e(),2==t.type?a("div",{staticClass:"form_item"},[a("a-select",{staticStyle:{width:"200px"},attrs:{disabled:t.is_disabled,placeholder:"请选择"+t.title},model:{value:e.baseForm[n].value,callback:function(t){e.$set(e.baseForm[n],"value",t)},expression:"baseForm[index].value"}},e._l(t.use_field,(function(t,n){return a("a-select-option",{attrs:{value:t}},[e._v(e._s(t))])})),1)],1):e._e(),3==t.type?a("div",{staticClass:"form_item"},[a("a-input",{staticStyle:{width:"200px"},attrs:{disabled:t.is_disabled,placeholder:"请输入"+t.title},model:{value:e.baseForm[n].value,callback:function(t){e.$set(e.baseForm[n],"value",t)},expression:"baseForm[index].value"}})],1):e._e(),4==t.type?a("div",{staticClass:"form_item"},[e.baseForm[n].value?a("a-date-picker",{staticStyle:{width:"200px"},attrs:{disabled:t.is_disabled,"default-value":e.moment(e.baseForm[n].value,"YYYY-MM-DD"),placeholder:"请选择"+t.title,format:"YYYY-MM-DD"}}):a("a-date-picker",{staticStyle:{width:"200px"},attrs:{disabled:t.is_disabled,placeholder:"请选择"+t.title,format:"YYYY-MM-DD"}})],1):e._e()])})),1),e.baseForm?a("a-form-model-item",{attrs:{"wrapper-col":{span:14,offset:4}}},[a("a-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")])],1):e._e()],1)},o=[],r=(a("d81d"),a("c1df")),l=a.n(r),i=(a("8bbf"),a("ed09")),s=(a("3990"),Object(i["c"])({props:{formParams:{type:Object,default:function(){return{}}}},setup:function(e,t){var a=Object(i["h"])({span:6}),n=Object(i["h"])({span:14}),o=Object(i["h"])([]);o.value=e.formParams.field_list;var r=Object(i["h"])({}),s=Object(i["h"])();Object(i["i"])((function(){return e.formParams}),(function(e){o.value=e.field_list}));var c=function(){var e=!1,t=[];o.value.map((function(a){a.is_must&&!a.value&&(e=!0),t.push({key:a.key,value:a.value})})),console.log("resultParams===>",t),e&&console.log("val===>")},u=function(){s.value.resetFields()};return{labelCol:a,wrapperCol:n,baseForm:o,rules:r,onSubmit:c,resetForm:u,moment:l.a}}})),c=s,u=(a("e376"),a("2877")),d=Object(u["a"])(c,n,o,!1,null,"425560b8",null);t["default"]=d.exports},"6b64":function(e,t,a){"use strict";a("17e3")},"76a2":function(e,t,a){},7759:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"single_view"},[e.dataLoading?a("pageLoading"):e._e(),e.showSingle?a("div",{staticClass:"left_single"},[a("div",{staticClass:"single_title"},[e._v(" 楼栋导航 ")]),a("div",{staticClass:"single_scroll_view"},e._l(e.singleList,(function(t,n){return a("div",{key:n,staticClass:"single_item",class:n==e.currentSingle?"single_item_active":"",on:{click:function(a){return a.stopPropagation(),e.switchSingle(t,n)}}},[e._v(" "+e._s(t.single_name))])})),0)]):e._e(),a("div",{staticClass:"right_content",style:{width:e.showSingle?"calc(100% - 160px)":"calc(100% - 10px)",marginLeft:e.showSingle?"0px":"10px"}},[e.unitList.length>0?a("div",{staticClass:"top_unit"},e._l(e.unitList,(function(t,n){return a("div",{key:n,staticClass:"unit_item",class:n==e.currentUnit?"unit_item_active":"",on:{click:function(a){return a.stopPropagation(),e.switchUnit(t,n)}}},[a("a-popover",{attrs:{placement:"top"}},[t.allowEdit||t.allowDelete?a("template",{slot:"content"},[t.allowEdit?a("span",{staticStyle:{cursor:"pointer",color:"#409EFF"},on:{click:function(a){return a.stopPropagation(),e.editUnit(t)}}},[e._v(" 编辑单元"),a("a-icon",{attrs:{type:"edit"}})],1):e._e(),t.allowDelete?a("a-divider",{attrs:{type:"vertical"}}):e._e(),t.allowDelete?a("span",{staticStyle:{cursor:"pointer",color:"red"},on:{click:function(a){return a.stopPropagation(),e.deleteUnit(t)}}},[e._v(" 删除单元"),a("a-icon",{attrs:{type:"delete"}})],1):e._e()],1):a("template",{slot:"content"},[e._v(" 当前单元不可编辑 ")]),a("div",{staticClass:"unit_name"},[e._v(e._s(t.floor_name))])],2)],1)})),0):e._e(),a("div",{staticClass:"layer_content",style:{height:e.unitList.length>0?"calc(100vh - 120px)":"calc(100vh - 80px)",marginTop:e.unitList.length>0?"0px":"10px"}},[e.hasData?a("div",{staticClass:"left_room_structure",staticStyle:{position:"relative"}},e._l(e.roomStructure,(function(t,n){return a("div",{key:n,staticClass:"layer_item",class:"layer_nav_"+n},[a("a-popover",{attrs:{placement:"top"}},[t.allowEdit||t.allowDelete?a("template",{slot:"content"},[t.allowEdit?a("span",{staticStyle:{cursor:"pointer",color:"#409EFF"},on:{click:function(a){return a.stopPropagation(),e.editLayer(t)}}},[e._v(" 编辑楼层"),a("a-icon",{attrs:{type:"edit"}})],1):e._e(),t.allowDelete?a("a-divider",{attrs:{type:"vertical"}}):e._e(),t.allowDelete?a("span",{staticStyle:{cursor:"pointer",color:"red"},on:{click:function(a){return a.stopPropagation(),e.deleteLayer(t)}}},[e._v(" 删除楼层"),a("a-icon",{attrs:{type:"delete"}})],1):e._e()],1):a("template",{slot:"content"},[e._v(" 当前楼层不可编辑 ")]),a("div",{staticClass:"layer_left_content"},[a("div",{staticClass:"layer_name_vertical"},[a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[e._v(" "+e._s(t.layer_name)+" ")]),e._v(" "+e._s(t.layer_name.length>5?t.layer_name.substring(0,5)+"...":t.layer_name)+" ")],2)],1)])],2),a("div",{staticClass:"layer_left_txt"},[a("div",{staticClass:"layer_name_vertical"},[a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[e._v(" "+e._s(t.layer_name)+" ")]),e._v(" "+e._s(t.layer_name.length>5?t.layer_name.substring(0,5)+"...":t.layer_name)+" ")],2)],1)]),e._l(t.rooms,(function(t,n){return a("div",{key:n,staticClass:"room_item",staticStyle:{cursor:"pointer"},on:{click:function(a){return e.getRoominfo(t)}}},[t.money&&t.money.tag?a("div",{staticClass:"status_icon"},[e._v(e._s(t.money.tag)+" ")]):e._e(),a("div",{staticClass:"room_title"},[e._v(" "+e._s(t.room?t.room+"室":"暂无")+" ")]),e._l(t.roomProps,(function(t,n){return a("div",{key:n,staticClass:"room_props"},[a("a-tooltip",{attrs:{placement:"rightTop"}},[a("template",{slot:"title"},[e._v(" "+e._s(t.label)+":"+e._s(t.value)+" ")]),a("span",{style:{color:"欠费"==t.label?"red":""}},[e._v(e._s(t.label)+":"+e._s(t.value))])],2)],1)}))],2)})),t.rooms.length<=0?a("div",{staticClass:"room_item"},[a("p",[e._v("该楼层暂无添加房间")])]):e._e(),a("div",{staticClass:"layer_right_txt"},[a("div",{staticClass:"layer_name_vertical"},[a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[e._v(" "+e._s(t.layer_name)+" ")]),e._v(" "+e._s(t.layer_name.length>5?t.layer_name.substring(0,5)+"...":t.layer_name)+" ")],2)],1)]),a("a-popover",{attrs:{placement:"leftTop"}},[t.allowEdit||t.allowDelete?a("template",{slot:"content"},[t.allowEdit?a("span",{staticStyle:{cursor:"pointer",color:"#409EFF"},on:{click:function(a){return a.stopPropagation(),e.editLayer(t)}}},[e._v(" 编辑楼层"),a("a-icon",{attrs:{type:"edit"}})],1):e._e(),t.allowDelete?a("a-divider",{attrs:{type:"vertical"}}):e._e(),t.allowDelete?a("span",{staticStyle:{cursor:"pointer",color:"red"},on:{click:function(a){return a.stopPropagation(),e.deleteLayer(t)}}},[e._v(" 删除楼层"),a("a-icon",{attrs:{type:"delete"}})],1):e._e()],1):a("template",{slot:"content"},[e._v(" 当前楼层不可编辑 ")]),a("div",{staticClass:"layer_right_content"},[a("div",{staticClass:"layer_name_vertical"},[a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[e._v(" "+e._s(t.layer_name)+" ")]),e._v(" "+e._s(t.layer_name.length>5?t.layer_name.substring(0,5)+"...":t.layer_name)+" ")],2)],1)])],2)],2)})),0):e._e(),e.hasData||e.dataLoading?e._e():a("div",{staticClass:"no_data",staticStyle:{width:"100%",height:"100%",display:"flex","align-items":"center","justify-content":"center","flex-direction":"column"},style:{transform:e.showSingle?"translateX(-75px) translateY(-30px)":""}},[a("span",{staticStyle:{"font-size":"20px",color:"#8a8a8a",transform:"translateY(-90px)"}},[e._v("暂无数据")])]),e.dataLoading?a("div",{staticClass:"no_data",staticStyle:{width:"100%",height:"100%",display:"flex","align-items":"center","justify-content":"center","flex-direction":"column"},style:{transform:e.showSingle?"translateX(-75px) translateY(-30px)":""}},[a("span",{staticStyle:{"z-index":"99999999999","font-size":"20px",color:"#ffffff",transform:"translateY(-90px)",display:"flex","align-items":"center","justify-content":"center","flex-direction":"column"}},[a("a-icon",{staticStyle:{"font-size":"27px",color:"#ffffff"},attrs:{type:"loading"}}),a("div",{staticStyle:{"margin-top":"10px"}},[e._v("加载中...")])],1)]):e._e(),e.layerList.length>0&&e.hasData?a("div",{staticClass:"right_layer_nav",style:{width:e.isTrigger?"100px":"0"}},[a("div",{staticClass:"trigger_content"},[a("div",{staticClass:"trigger_icon",on:{click:e.triggerThis}},[e._v(" "+e._s(e.isTrigger?"折叠":"展开")+" ")]),e.isTrigger?a("div",{staticClass:"layer_nav_desc"},[e._v(" 楼层导航 ")]):e._e(),e._l(e.layerList,(function(t,n){return a("div",{key:n,staticClass:"layer_item",class:n==e.currentLayer?"layer_item_active":"",style:{display:e.isTrigger?"flex":"none"},on:{click:function(a){return a.stopPropagation(),e.switchLayer(t,n)}}},[e._v(" "+e._s(t.layer_name.length>3?t.layer_name.substring(0,2):t.layer_name)+" ")])}))],2)]):e._e()])]),a("unitEdit",{attrs:{visible:e.unitEditVisible,floor_id:e.floor_id},on:{exit:e.closeUnitDrawer}}),a("layerEdit",{attrs:{visible:e.layerEditVisible,layer_id:e.layer_id},on:{exit:e.closeLayerDrawer}}),a("roomInfo",{attrs:{visible:e.roomVisible,title:e.roomDrawerTitle,roomId:e.roomId},on:{closeRoom:e.onRoomClose}})],1)},o=[],r=(a("a9e3"),a("8bbf")),l=a.n(r),i=a("ed09"),s=a("3990"),c=a("5417"),u=a("0f64"),d=a("a805"),m=a("7852"),p=Object(i["c"])({props:{singleId:{type:[String,Number],default:0}},components:{pageLoading:c["default"],unitEdit:u["default"],layerEdit:d["default"],roomInfo:m["default"]},setup:function(e,t){var a=Object(i["h"])(!1),n=Object(i["h"])([]),o=Object(i["h"])([]),r=Object(i["h"])(0),c=Object(i["h"])(0),u=Object(i["h"])(0),d=Object(i["h"])(!1),m=Object(i["h"])(!1),p=Object(i["h"])(0);Object(i["f"])((function(){p.value||(a.value=!0,f())}));var f=function(){l.a.prototype.request(s["a"].buildingList,{}).then((function(e){console.log("楼栋",e),o.value=e.building,o.value&&o.value[0]&&(u.value=0,p.value=o.value[0].id,v(o.value[0].id))})).catch((function(e){}))},_=function(e,t){c.value!=t?(c.value=t,r.value=0,y(e)):console.log("重复")},v=function(t){var a={};t?a["single_id"]=t:e.singleId&&(a["single_id"]=e.singleId),l.a.prototype.request(s["a"].buildingUnitFloor,a).then((function(e){e.unit&&(n.value=e.unit,n.value[0]?(c.value=0,y(n.value[0])):(m.value=!1,l.a.prototype.$message.warn("该楼栋下没有单元")))})).catch((function(e){}))},b=Object(i["h"])([]),g=Object(i["h"])([]),y=function(e){var t={};e.floor_id&&(t["floor_id"]=e.floor_id),d.value=!0,m.value=!1,l.a.prototype.request(s["a"].buildingFloorLayerRooms,t).then((function(e){console.log("floorParam",e),e.layer&&(d.value=!1,b.value=e.layer,b.value.reverse(),g.value=e.layer,g.value&&g.value.length>0?m.value=!0:m.value=!1)})).catch((function(e){d.value=!1,m.value=!1}))};e.singleId&&(a.value=!1,p.value=e.singleId,v()),Object(i["i"])((function(){return e.singleId}),(function(e){e?(a.value=!1,p.value=e,v(e)):T()}),{deep:!0});var h=Object(i["h"])(!0),x=function(){h.value=!h.value},k=function(e,t){r.value!=t?(r.value=t,document.querySelector(".layer_nav_"+t).scrollIntoView({block:"start",behavior:"smooth"})):console.log("重复")},O=function(e,t){u.value!=t?(c.value=0,r.value=0,u.value=t,p.value=e.id,v(e.id)):console.log("重复")},j=Object(i["h"])(!1),C=Object(i["h"])(0),S=function(e){C.value=e.floor_id,j.value=!0},I=function(e){j.value=!1,"unit"==e&&v(p.value)},w=function(e){e.floor_id;l.a.prototype.$confirm({title:"提示",content:"确定要删除当前单元吗？",onOk:function(){l.a.prototype.request("/community/village_api.Building/deleteFloor",{floor_id:e.floor_id}).then((function(e){l.a.prototype.$message.success("删除成功！"),v(p.value)})).catch((function(e){}))},onCancel:function(){}})},F=Object(i["h"])(!1),L=Object(i["h"])(0),z=function(e){L.value=e.id,F.value=!0},$=function(e){F.value=!1,"layer"==e&&y(n.value[c.value])},P=function(e){e.layer_id;l.a.prototype.$confirm({title:"提示",content:"确定要删除当前楼层吗？",onOk:function(){l.a.prototype.request("/community/village_api.Building/deleteLayer",{layer_id:e.id}).then((function(e){l.a.prototype.$message.success("删除成功！"),y(n.value[c.value])})).catch((function(e){}))},onCancel:function(){}})},B=Object(i["h"])(!1),D=Object(i["h"])("房间信息"),E=Object(i["h"])(""),q=function(e){B.value=!0,D.value=e.room+" 号房间信息",E.value=e.pigcms_id,console.log("房间信息操作---",e)},R=function(){B.value=!1},T=function(){o.value=[],n.value=[],b.value=[],g.value=[],c.value=0,r.value=0,u.value=0,d.value=!1,p.value=0};return{pageSingleId:p,singleList:o,unitList:n,roomStructure:g,isTrigger:h,triggerThis:x,showSingle:a,layerList:b,currentLayer:r,currentUnit:c,currentSingle:u,switchLayer:k,switchUnit:_,switchSingle:O,getBuildingList:f,floorLayerRooms:y,getUnitFloor:v,clearData:T,dataLoading:d,hasData:m,unitEditVisible:j,floor_id:C,editUnit:S,closeUnitDrawer:I,deleteUnit:w,layerEditVisible:F,layer_id:L,editLayer:z,closeLayerDrawer:$,deleteLayer:P,getRoominfo:q,roomVisible:B,onRoomClose:R,roomDrawerTitle:D,roomId:E}}}),f=p,_=(a("6b64"),a("2877")),v=Object(_["a"])(f,n,o,!1,null,"0e41940a",null);t["default"]=v.exports},7768:function(e,t,a){},7852:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-drawer",{attrs:{title:e.drawerTitle?e.drawerTitle:e.title,placement:"right",width:"1400",visible:e.visible},on:{close:e.onRoomClose}},[e.visible?a("a-tabs",{attrs:{"active-key":e.currentKey},on:{change:e.tabChange}},e._l(e.tabList,(function(t,n){return a("a-tab-pane",{key:t.key},[a("span",{attrs:{slot:"tab"},slot:"tab"},[a("a-icon",{attrs:{type:t.icon_type}}),e._v(" "+e._s(t.tab_name)+" ")],1),e.currentKey==t.key?a(t.component,{tag:"component",attrs:{roomId:e.roomId,roomParams:e.roomParams},on:{hideUserTab:e.hideUserTab,getRoomAddress:e.getAddress}}):e._e()],1)})),1):e._e()],1)},o=[],r=(a("a9e3"),a("c740"),a("a434"),a("8bbf")),l=a.n(r),i=a("ed09"),s=a("a55e"),c=a("16d1"),u=a("929b"),d=a("ee78"),m=a("dd47"),p=a("415e"),f=a("59d1"),_=a("0457"),v=a("f91f"),b=(a("3990"),Object(i["c"])({props:{title:{type:String,defalut:"房间信息"},visible:{type:Boolean,defalut:!1},roomId:{type:[String,Number],defalut:""},type:{type:String,defalut:""}},components:{personnelInformation:s["default"],roomInformation:c["default"],chargingStandard:u["default"],propertyBill:m["default"],associatedWorkOrder:p["default"],onlineFile:f["default"],userInformation:_["default"],parkingSpace:d["default"],associatedCardNo:v["default"]},setup:function(e,t){var a=Object(i["h"])(""),n=function(){t.emit("closeRoom")},o=Object(i["h"])(""),r=function(e){o.value=e},s=function(e){a.value=e};Object(i["i"])((function(){return e.visible}),(function(e){e&&d()}),{deep:!0});var c=Object(i["h"])([]),u=Object(i["h"])({}),d=function(){l.a.prototype.request("/community/village_api.Building/getRoomOptionType",{vacancy_id:e.roomId}).then((function(e){c.value=e.option_list,a.value=e.option_list[0].key,u.value=e}))},m=function(){var e=c.value.findIndex((function(e){return"userInformation"==e.component}));c.value.splice(e,1),a.value=c.value[0].key};return{onRoomClose:n,tabList:c,getRoomTab:d,roomParams:u,tabChange:s,currentKey:a,getAddress:r,drawerTitle:o,hideUserTab:m}}})),g=b,y=a("2877"),h=Object(y["a"])(g,n,o,!1,null,"07c608b6",null);t["default"]=h.exports},"929b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"charging_standard"},[a("a-table",{attrs:{pagination:e.pageInfo,columns:e.chargeColumns,loading:e.tableLoading,"data-source":e.tableList},on:{change:e.tableChange},scopedSlots:e._u([{key:"action",fn:function(t,n){return a("span",{},[a("a-popconfirm",{attrs:{title:"是否删除当前项？",placement:"topLeft","ok-text":"是","cancel-text":"否"},on:{confirm:function(t){return e.deleteStandard(n)}}},[a("a",{staticStyle:{color:"red"}},[e._v("删除")])])],1)}}])})],1)},o=[],r=(a("a9e3"),a("8bbf")),l=a.n(r),i=a("ed09"),s=Object(i["c"])({props:{roomParams:{type:Object,default:function(){return{}}},roomId:{type:[String,Number],defalut:""}},setup:function(e,t){var a=Object(i["h"])([]),n=Object(i["h"])({pageSize:10,current:1,total:0,pageSizeOptions:["10","20","30","40","50","60","70","80","90","100"],showSizeChanger:!0}),o=Object(i["h"])([]),r=Object(i["h"])(!1);Object(i["f"])((function(){u()}));var s=function(e){var t=e.pageSize,a=e.current;n.value.current=a,n.value.pageSize=t,u()},c=function(e){l.a.prototype.request("/community/village_api.cashier/delChargeStandardBind",{charge_standard_bind_id:e.bind_id}).then((function(e){l.a.prototype.$message.success("删除成功！"),n.value.current=1,n.value.pageSize=10,u()}))},u=function(){r.value=!0,l.a.prototype.request("/community/village_api.Building/getRoomBindChargeRuleList",{vacancy_id:e.roomId,page:n.value.current,limit:n.value.pageSize}).then((function(e){o.value=e.list,n.value.total=e.count,r.value=!1})).catch((function(e){r.value=!1}))};return a.value=[{title:"所属收费科目",dataIndex:"subject_name",key:"subject_name"},{title:"收费项目名称",dataIndex:"project_name",key:"project_name"},{title:"收费标准名称",dataIndex:"charge_name",key:"charge_name"},{title:"收费标准生效时间",dataIndex:"charge_valid_time",key:"charge_valid_time"},{title:"计费模式",dataIndex:"fees_type",key:"fees_type"},{title:"账单生成周期设置",dataIndex:"bill_create_set",key:"bill_create_set"},{title:"账单欠费模式",dataIndex:"bill_arrears_set",key:"bill_arrears_set"},{title:"生成账单模式",dataIndex:"bill_type",key:"bill_type"},{title:"是否支持预缴",dataIndex:"is_prepaid",key:"is_prepaid"},{title:"未入住房屋折扣",dataIndex:"not_house_rate",key:"not_house_rate"},{title:"操作",dataIndex:"operation",key:"operation",width:"120px",scopedSlots:{customRender:"action"}}],{chargeColumns:a,pageInfo:n,tableList:o,tableLoading:r,getChargeList:u,tableChange:s,deleteStandard:c}}}),c=s,u=a("2877"),d=Object(u["a"])(c,n,o,!1,null,"3483500e",null);t["default"]=d.exports},9556:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user_label"},[e._l(e.labelForm.list,(function(t,n){return a("div",{key:n,staticClass:"label_con"},[a("div",{staticClass:"title"},[e._v(e._s(t.name)+"：")]),a("div",{staticClass:"radio_con"},[a("a-radio-group",{on:{change:e.radioChange},model:{value:e.valueGroup[n],callback:function(t){e.$set(e.valueGroup,n,t)},expression:"valueGroup[index]"}},e._l(t.children,(function(n,o){return a("a-radio",{key:t.value,attrs:{value:n.id}},[e._v(e._s(n.name))])})),1)],1)])})),a("a-button",{staticStyle:{"margin-left":"20px","margin-top":"20px"},attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")])],2)},o=[],r=(a("8bbf"),a("ed09")),l=(a("3990"),Object(r["c"])({props:{formParams:{type:Object,default:function(){return{}}}},setup:function(e,t){var a=Object(r["h"])({}),n=Object(r["h"])([]);a.value=e.formParams.label_list,n.value=e.formParams.label_list.value;var o=function(e){console.log("value===>",e)},l=function(){console.log("labelForm===>",a.value.value)};return{labelForm:a,onSubmit:l,valueGroup:n,radioChange:o}}})),i=l,s=(a("dbd3"),a("2877")),c=Object(s["a"])(i,n,o,!1,null,"dbb68476",null);t["default"]=c.exports},9867:function(e,t,a){},"98b0":function(e,t,a){},"9a70":function(e,t,a){},"9e6e":function(e,t,a){"use strict";a("9867")},a41a:function(e,t,a){"use strict";a("cff4")},a55e:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"personnel_information"},[a("a-tooltip",[a("a-button",{attrs:{type:"primary"},on:{click:e.addInfo}},[e._v(" 添加人员 ")]),a("a-divider",{attrs:{type:"vertical"}}),e._v(" 类型颜色： "),e._l(e.roomParams.person_type_list,(function(e,t){return a("a-badge",{staticStyle:{"margin-left":"7px"},attrs:{color:e.color,text:e.value}})}))],2),a("a-table",{attrs:{pagination:e.pageInfo,columns:e.peopleColumns,loading:e.tableLoading,"data-source":e.tableList},on:{change:e.tableChange},scopedSlots:e._u([{key:"name",fn:function(t){return a("a",{},[e._v(e._s(t))])}},{key:"user_status",fn:function(t){return a("span",{},[a("a-tag",{attrs:{color:t.color}},[e._v(" "+e._s(t.value)+" ")])],1)}},{key:"user_type",fn:function(t){return a("span",{},[a("a-tag",{attrs:{color:t.color}},[e._v(" "+e._s(t.value)+" ")])],1)}},{key:"action",fn:function(t,n){return a("span",{},[a("a",[e._v("编辑")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",[e._v("删除")])],1)}}])},[a("span",{attrs:{slot:"customTitle"},slot:"customTitle"},[a("a-icon",{attrs:{type:"user"}}),e._v(" 姓名 ")],1)]),a("personModal",{attrs:{visible:e.personVisible,roomId:e.roomId,personId:e.personId},on:{close:e.closePerson}})],1)},o=[],r=(a("a9e3"),a("8bbf")),l=a.n(r),i=a("cc19"),s=a("ed09"),c=Object(s["c"])({props:{roomParams:{type:Object,default:function(){return{}}},roomId:{type:[String,Number],defalut:""}},components:{personModal:i["default"]},setup:function(e,t){var a=Object(s["h"])(!1),n=Object(s["h"])(""),o=Object(s["h"])([]),r=Object(s["h"])({pageSize:10,current:1,total:0,pageSizeOptions:["10","20","30","40","50","60","70","80","90","100"],showSizeChanger:!0}),i=Object(s["h"])([]),c=Object(s["h"])(!1);Object(s["f"])((function(){p()}));var u=function(){a.value=!0},d=function(){n.value="",a.value=!1},m=function(e){var t=e.pageSize,a=e.current;r.value.current=a,r.value.pageSize=t,p()},p=function(){c.value=!0,l.a.prototype.request("/community/village_api.Building/getRoomBindUserList",{vacancy_id:e.roomId,page:r.value.current,limit:r.value.pageSize}).then((function(e){i.value=e.list,r.value.total=e.count,c.value=!1})).catch((function(e){c.value=!1}))};return o.value=[{dataIndex:"name",key:"name",slots:{title:"customTitle"},scopedSlots:{customRender:"name"}},{title:"手机号",dataIndex:"phone",key:"phone"},{title:"添加时间",dataIndex:"add_time",key:"add_time"},{title:"类型",key:"user_status",dataIndex:"user_status",scopedSlots:{customRender:"user_status"}},{title:"与业主关系",key:"user_type",dataIndex:"user_type",scopedSlots:{customRender:"user_type"}},{title:"身份证卡号",key:"id_card",dataIndex:"id_card"},{title:"操作",key:"action",scopedSlots:{customRender:"action"}}],{peopleColumns:o,pageInfo:r,tableChange:m,tableList:i,tableLoading:c,personVisible:a,personId:n,addInfo:u,closePerson:d}}}),u=c,d=a("2877"),m=Object(d["a"])(u,n,o,!1,null,"77f7112f",null);t["default"]=m.exports},a805:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"楼层编辑",visible:e.visible,width:500,loading:e.confirmLoading},on:{cancel:function(t){return e.resetForm(!1)},ok:e.onSubmit}},[a("a-form-model",{ref:"ruleForm",attrs:{model:e.layerForm,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("a-form-model-item",{attrs:{label:"楼层名称",prop:"layer_name"}},[a("a-input",{staticClass:"input_style_240",model:{value:e.layerForm.layer_name,callback:function(t){e.$set(e.layerForm,"layer_name",t)},expression:"layerForm.layer_name"}})],1),a("a-form-model-item",{attrs:{label:"楼层编号",prop:"layer_number"}},[a("a-input",{staticClass:"input_style_240",attrs:{disabled:!0},model:{value:e.layerForm.layer_number,callback:function(t){e.$set(e.layerForm,"layer_number",t)},expression:"layerForm.layer_number"}})],1),a("a-form-model-item",{attrs:{label:"状态",prop:"status"}},[e.visible?a("a-switch",{attrs:{"default-checked":e.layerStatus,"checked-children":"开","un-checked-children":"关"},on:{change:e.checkChange}}):e._e()],1)],1)],1)},o=[],r=(a("a9e3"),a("8bbf")),l=a.n(r),i=a("ed09"),s=(a("3990"),Object(i["c"])({props:{visible:{type:Boolean,default:!1},layer_id:{type:[String,Number],default:0}},setup:function(e,t){var a=Object(i["h"])(!1),n=Object(i["h"])({}),o=Object(i["h"])({layer_name:[{required:!0,message:"请输入单元名称",trigger:"blur"}],layer_number:[{required:!0,message:"请输入单元编号",trigger:"blur"}]}),r=Object(i["h"])(),s=Object(i["h"])({span:6}),c=Object(i["h"])({span:16}),u=function(){r.value.validate((function(e){e&&(a.value=!0,p())}))},d=function(e){t.emit("exit",e),n.value={},r.value.resetFields()},m=Object(i["h"])(!1),p=function(){m.value?n.value.status=2:n.value.status=1;var e={layer_id:n.value.id,layer_name:n.value.layer_name,layer_number:n.value.layer_number,status:n.value.status};l.a.prototype.request("/community/village_api.Building/updatelayerInfoByID",e).then((function(e){a.value=!1,l.a.prototype.$message.success("编辑成功！"),d("layer")})).catch((function(e){a.value=!1}))},f=function(e){l.a.prototype.request("/community/village_api.Building/layerInfo",{layer_id:e}).then((function(e){n.value=e,2==n.value.status?m.value=!0:m.value=!1}))},_=function(e){m.value=e};return Object(i["i"])((function(){return e.visible}),(function(t){t&&f(e.layer_id)}),{deep:!0}),{confirmLoading:a,onSubmit:u,resetForm:d,layerForm:n,labelCol:s,wrapperCol:c,rules:o,saveForm:p,ruleForm:r,layerStatus:m,checkChange:_}}})),c=s,u=(a("307c"),a("2877")),d=Object(u["a"])(c,n,o,!1,null,"44967f05",null);t["default"]=d.exports},ab71:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"parking_space"},[a("a-table",{attrs:{pagination:e.pageInfo,columns:e.paymentTitle,loading:e.tableLoading,"data-source":e.paymentData},on:{change:e.tableChange}})],1)},o=[],r=(a("a9e3"),a("8bbf")),l=a.n(r),i=a("ed09"),s=Object(i["c"])({props:{roomParams:{type:Object,default:function(){return{}}},roomId:{type:[String,Number],defalut:""}},setup:function(e,t){var a=Object(i["h"])([]),n=Object(i["h"])([]),o=Object(i["h"])(!1);a.value=[{title:"收费标准",dataIndex:"charge_name",key:"charge_name"},{title:"收费项目",dataIndex:"project_name",key:"project_name"},{title:"所属收费科目",dataIndex:"subject_name",key:"subject_name"},{title:"应收费用",dataIndex:"total_money",key:"total_money"},{title:"账单生成时间",dataIndex:"add_time",key:"add_time"},{title:"上次止度",dataIndex:"last_ammeter",key:"last_ammeter"},{title:"本次度数",dataIndex:"now_ammeter",key:"now_ammeter"},{title:"审核状态",dataIndex:"check_status",key:"check_status"},{title:"计费开始时间",dataIndex:"service_start_time",key:"service_start_time"},{title:"计费结束时间",dataIndex:"service_end_time",key:"service_end_time"}];var r=Object(i["h"])({pageSize:10,current:1,type:1,total:0,pageSizeOptions:["10","20","30","40","50","60","70","80","90","100"],showSizeChanger:!0});Object(i["f"])((function(){u()}));var s=function(e){var t=e.pageSize,a=e.current;r.value.current=a,r.value.pageSize=t,u()},c=function(e){l.a.prototype.$confirm({title:"提示",content:"确定要删除此项吗？",onOk:function(){l.a.prototype.request("/community/village_api.cashier/delChargeStandardBind",{charge_standard_bind_id:e.bind_id}).then((function(e){l.a.prototype.$message.success("删除成功！"),r.value.current=1,r.value.pageSize=10,u()}))},onCancel:function(){}})},u=function(){o.value=!0,l.a.prototype.request("/community/village_api.Building/getRoomBindBillList",{vacancy_id:e.roomId,page:r.value.current,limit:r.value.pageSize,type:1}).then((function(e){n.value=e.list,r.value.total=e.count,o.value=!1})).catch((function(e){o.value=!1}))};return{paymentTitle:a,paymentData:n,getPaymentBill:u,deleteBill:c,tableLoading:o,tableChange:s,pageInfo:r}}}),c=s,u=a("2877"),d=Object(u["a"])(c,n,o,!1,null,"3fa16e85",null);t["default"]=d.exports},b41c:function(e,t,a){},b6cf:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"owner_msg"},[e._l(e.ownerForm,(function(t,n){return a("div",{key:n,staticClass:"label_con"},[a("div",{staticClass:"title"},[e._v(e._s(t.label)+"：")]),1==t.type?a("div",{staticClass:"choose_con",staticStyle:{display:"flex","align-items":"center"}},[a("a-radio-group",{model:{value:e.ownerForm[n].data.value,callback:function(t){e.$set(e.ownerForm[n].data,"value",t)},expression:"ownerForm[index].data.value"}},e._l(t.value,(function(t,n){return a("a-radio",{attrs:{value:t.label}},[e._v(e._s(t.value))])})),1),1==e.ownerForm[n].data.value?a("a-select",{staticStyle:{width:"200px","margin-left":"5px"},attrs:{placeholder:"请选择党支部"},on:{change:e.selectChange},model:{value:e.partyId,callback:function(t){e.partyId=t},expression:"partyId"}},e._l(t.data.street_party_branch,(function(t,n){return a("a-select-option",{attrs:{value:t.id}},[e._v(e._s(t.name))])})),1):e._e()],1):e._e(),0==t.type?a("div",{staticClass:"choose_con"},[a("a-checkbox-group",{model:{value:e.ownerForm[n].data.value,callback:function(t){e.$set(e.ownerForm[n].data,"value",t)},expression:"ownerForm[index].data.value"}},e._l(t.value,(function(t,n){return a("a-checkbox",{attrs:{value:t.label+""}},[e._v(e._s(t.value))])})),1)],1):e._e()])})),a("a-button",{staticStyle:{"margin-left":"20px","margin-top":"20px"},attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")])],2)},o=[],r=(a("d81d"),a("8bbf"),a("ed09")),l=(a("3990"),Object(r["c"])({props:{formParams:{type:Object,default:function(){return{}}}},setup:function(e,t){var a=Object(r["h"])({}),n=Object(r["h"])("");a.value=e.formParams.mark_list;var o=function(e){console.log("value===>",e),console.log("partyId===>",n.value)},l=function(){console.log("ownerForm===>",a.value);var e=[];a.value.map((function(t,a){1==t.type&&1==t.data.value?e.push({partyId:n.value,key:t.field,value:t.data.value}):e.push({key:t.field,value:t.data.value})})),console.log("resultParams===>",e)};return{ownerForm:a,onSubmit:l,partyId:n,selectChange:o}}})),i=l,s=(a("2f05"),a("2877")),c=Object(s["a"])(i,n,o,!1,null,"701394f0",null);t["default"]=c.exports},cc19:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"添加人员",visible:e.visible,width:950,"confirm-loading":e.confirmLoading,footer:null},on:{cancel:e.handleCancel}},[a("a-tabs",{attrs:{"default-active-key":e.currentIndex},on:{change:e.tabChange}},e._l(e.tabList,(function(t,n){return a("a-tab-pane",{key:t.key},[a("span",{attrs:{slot:"tab"},slot:"tab"},[e._v(e._s(t.label))]),e.currentIndex==t.key?a(t.component,{tag:"component",attrs:{formParams:e.formParams}}):e._e()],1)})),1)],1)},o=[],r=(a("a9e3"),a("8bbf")),l=a.n(r),i=(a("c1df"),a("ed09")),s=(a("3990"),a("6811")),c=a("b6cf"),u=a("d79e"),d=a("9556"),m=Object(i["c"])({props:{visible:{type:Boolean,default:!1},personId:{type:[String,Number],default:0},roomId:{type:[String,Number],default:""}},components:{baseMsg:s["default"],msgMarker:c["default"],ownerMsg:u["default"],userLabel:d["default"]},setup:function(e,t){var a=Object(i["h"])(!1),n=Object(i["h"])({}),o=(Object(i["h"])(),Object(i["h"])(1)),r=function(e){o.value=e},s=function(){t.emit("close")},c=Object(i["h"])([{key:1,value:"baseMsg",label:"基本信息",component:"baseMsg"},{key:2,value:"ownerMsg",label:"业主资料",component:"ownerMsg"},{key:3,value:"msgMarker",label:"信息标注",component:"msgMarker"},{key:4,value:"userLabel",label:"用户标签",component:"userLabel"}]),u=Object(i["h"])({}),d=Object(i["h"])(!1),m=function(){console.log("context.roomId===>",e.roomId),l.a.prototype.request("/community/village_api.Building/getRoomBindUserData",{vacancy_id:e.roomId}).then((function(e){n.value=e}))};return Object(i["i"])((function(){return e.visible}),(function(e){e&&m()}),{deep:!0}),{confirmLoading:a,personForm:n,personStatus:d,getPersonInfo:m,tabList:c,tabChange:r,handleCancel:s,currentIndex:o,formParams:u}}}),p=m,f=a("2877"),_=Object(f["a"])(p,n,o,!1,null,null,null);t["default"]=_.exports},cff4:function(e,t,a){},d17e:function(e,t,a){},d79e:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"owner_msg"},[e._l(e.ownerForm,(function(t,n){return a("div",{key:n,staticClass:"label_con"},[a("div",{staticClass:"title"},[e._v(e._s(t.label)+"：")]),a("div",{staticClass:"checkbox_con"},[a("a-checkbox-group",e._l(t.value,(function(t,n){return a("a-checkbox",[e._v(e._s(t.value))])})),1)],1)])})),a("a-button",{staticStyle:{"margin-left":"20px","margin-top":"20px"},attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")])],2)},o=[],r=(a("8bbf"),a("ed09")),l=(a("3990"),Object(r["c"])({props:{formParams:{type:Object,default:function(){return{}}}},setup:function(e,t){var a=Object(r["h"])({});a.value=e.formParams.mark_list;var n=function(){console.log("ownerForm===>",a.value)};return{ownerForm:a,onSubmit:n}}})),i=l,s=(a("9e6e"),a("2877")),c=Object(s["a"])(i,n,o,!1,null,"69d727fe",null);t["default"]=c.exports},dbd3:function(e,t,a){"use strict";a("d17e")},dd47:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-tabs",{attrs:{"default-active-key":1},on:{change:e.tabChange}},e._l(e.tabList,(function(t,n){return a("a-tab-pane",{key:t.key,attrs:{tab:t.label}},[e.currentKey==t.key?a(t.value,{tag:"component",attrs:{roomId:e.roomId}}):e._e()],1)})),1)},o=[],r=(a("a9e3"),a("8bbf"),a("ed09")),l=a("f26b"),i=a("ab71"),s=Object(r["c"])({props:{roomParams:{type:Object,default:function(){return{}}},roomId:{type:[String,Number],defalut:""}},components:{billPaid:l["default"],paymentBill:i["default"]},setup:function(e,t){var a=Object(r["h"])([{key:1,label:"待缴账单",value:"paymentBill"},{key:2,label:"已缴账单",value:"billPaid"}]),n=Object(r["h"])(1),o=function(e){n.value=e};return{tabList:a,tabChange:o,currentKey:n}}}),c=s,u=a("2877"),d=Object(u["a"])(c,n,o,!1,null,"a57ae8b0",null);t["default"]=d.exports},e376:function(e,t,a){"use strict";a("b41c")},ee23:function(e,t,a){"use strict";a("3a16")},ee78:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"parking_space"},[a("a-table",{attrs:{pagination:e.pageInfo,columns:e.carportColumns,loading:e.tableLoading,"data-source":e.carportData},on:{change:e.tableChange}})],1)},o=[],r=(a("a9e3"),a("8bbf")),l=a.n(r),i=a("ed09"),s=Object(i["c"])({props:{roomParams:{type:Object,default:function(){return{}}},roomId:{type:[String,Number],defalut:""}},setup:function(e,t){var a=Object(i["h"])([]),n=Object(i["h"])([]),o=Object(i["h"])(!1);a.value=[{title:"所属车库",dataIndex:"garage_num",key:"garage_num"},{title:"所属车位号",dataIndex:"position_num",key:"position_num"},{title:"车牌号",dataIndex:"car_number",key:"car_number"},{title:"车主姓名",dataIndex:"name",key:"name"},{title:"车主手机号",dataIndex:"phone",key:"phone"},{title:"车辆到期时间",dataIndex:"end_time",key:"end_time"},{title:"审核状态",dataIndex:"examine_status",key:"examine_status"},{title:"审核说明",dataIndex:"examine_response",key:"examine_response"}];var r=Object(i["h"])({pageSize:10,current:1,total:0,pageSizeOptions:["10","20","30","40","50","60","70","80","90","100"],showSizeChanger:!0});Object(i["f"])((function(){u()}));var s=function(e){var t=e.pageSize,a=e.current;r.value.current=a,r.value.pageSize=t,u()},c=function(e){l.a.prototype.$confirm({title:"提示",content:"确定要删除此项吗？",onOk:function(){l.a.prototype.request("/community/village_api.cashier/delChargeStandardBind",{charge_standard_bind_id:e.bind_id}).then((function(e){l.a.prototype.$message.success("删除成功！"),r.value.current=1,r.value.pageSize=10,u()}))},onCancel:function(){}})},u=function(){o.value=!0,l.a.prototype.request("/community/village_api.Building/getRoomBindVehicleList",{vacancy_id:e.roomId,page:r.value.current,limit:r.value.pageSize}).then((function(e){n.value=e.list,pagination.value.total=e.count,o.value=!1})).catch((function(e){o.value=!1}))};return{carportColumns:a,carportData:n,getCarList:u,deleteStandard:c,tableLoading:o,tableChange:s,pageInfo:r}}}),c=s,u=a("2877"),d=Object(u["a"])(c,n,o,!1,null,"7d523052",null);t["default"]=d.exports},f26b:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"parking_space"},[a("a-table",{attrs:{pagination:e.pageInfo,columns:e.paymentTitle,loading:e.tableLoading,"data-source":e.paymentData},on:{change:e.tableChange}})],1)},o=[],r=(a("a9e3"),a("8bbf")),l=a.n(r),i=a("ed09"),s=Object(i["c"])({props:{roomParams:{type:Object,default:function(){return{}}},roomId:{type:[String,Number],defalut:""}},setup:function(e,t){var a=Object(i["h"])([]),n=Object(i["h"])([]),o=Object(i["h"])(!1);a.value=[{title:"收费标准",dataIndex:"charge_name",key:"charge_name"},{title:"收费项目",dataIndex:"project_name",key:"project_name"},{title:"收费科目",dataIndex:"subject_name",key:"subject_name"},{title:"实付金额",dataIndex:"pay_money",key:"pay_money"},{title:"支付时间",dataIndex:"pay_time",key:"pay_time"},{title:"账单生成时间",dataIndex:"add_time",key:"add_time"},{title:"上次止度",dataIndex:"last_ammeter",key:"last_ammeter"},{title:"本次度数",dataIndex:"now_ammeter",key:"now_ammeter"},{title:"审核状态",dataIndex:"check_status",key:"check_status"},{title:"支付方式",dataIndex:"pay_type",key:"pay_type"},{title:"开票状态",dataIndex:"invoicing_status",key:"invoicing_status"},{title:"账单状态",dataIndex:"order_status",key:"order_status"},{title:"计费开始时间",dataIndex:"service_start_time",key:"service_start_time"},{title:"计费结束时间",dataIndex:"service_end_time",key:"service_end_time"}];var r=Object(i["h"])({pageSize:10,current:1,type:2,total:0,pageSizeOptions:["10","20","30","40","50","60","70","80","90","100"],showSizeChanger:!0});Object(i["f"])((function(){u()}));var s=function(e){var t=e.pageSize,a=e.current;r.value.current=a,r.value.pageSize=t,u()},c=function(e){l.a.prototype.$confirm({title:"提示",content:"确定要删除此项吗？",onOk:function(){l.a.prototype.request("/community/village_api.cashier/delChargeStandardBind",{charge_standard_bind_id:e.bind_id}).then((function(e){l.a.prototype.$message.success("删除成功！"),r.value.current=1,r.value.pageSize=10,u()}))},onCancel:function(){}})},u=function(){o.value=!0,l.a.prototype.request("/community/village_api.Building/getRoomBindBillList",{vacancy_id:e.roomId,page:r.value.current,limit:r.value.pageSize,type:2}).then((function(e){n.value=e.list,r.value.total=e.count,o.value=!1})).catch((function(e){o.value=!1}))};return{paymentTitle:a,paymentData:n,getPaymentBill:u,deleteBill:c,tableLoading:o,tableChange:s,pageInfo:r}}}),c=s,u=a("2877"),d=Object(u["a"])(c,n,o,!1,null,"2bbab483",null);t["default"]=d.exports},f436:function(e,t,a){"use strict";a("7768")},f4f3:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-drawer",{attrs:{title:e.single_name,width:"1700",closable:!1,visible:e.visible},on:{close:e.onClose}},[a("singleVisualization",{attrs:{singleId:e.singleId}})],1)},o=[],r=(a("a9e3"),a("8bbf"),a("ed09")),l=a("7759"),i=(a("3990"),Object(r["c"])({components:{singleVisualization:l["default"]},props:{single_id:{type:[String,Number],default:0},single_name:{type:String,default:"楼栋可视化"},visible:{type:Boolean,default:!1}},setup:function(e,t){var a=Object(r["h"])(0),n=function(){t.emit("closeSingleView"),a.value=0};return Object(r["i"])((function(){return e.visible}),(function(t){t&&(a.value=e.single_id)}),{deep:!0}),Object(r["f"])((function(){})),{onClose:n,singleId:a}}})),s=i,c=(a("ee23"),a("2877")),u=Object(c["a"])(s,n,o,!1,null,"4be0d5e3",null);t["default"]=u.exports},f91f:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"associated_card_no"},[a("a-table",{attrs:{pagination:e.pageInfo,columns:e.cardColumns,loading:e.tableLoading,"data-source":e.tableList},on:{change:e.tableChange}},[a("a-popconfirm",{attrs:{title:"是否删除当前项？",placement:"topLeft","ok-text":"是","cancel-text":"否"},on:{confirm:function(t){return e.deleteCard(e.record)}}},[a("a",{staticStyle:{color:"red"}},[e._v("删除")])])],1)],1)},o=[],r=(a("a9e3"),a("8bbf")),l=a.n(r),i=a("ed09"),s=Object(i["c"])({props:{roomParams:{type:Object,default:function(){return{}}},roomId:{type:[String,Number],defalut:""}},setup:function(e,t){var a=Object(i["h"])([]),n=Object(i["h"])({pageSize:10,current:1,total:0,pageSizeOptions:["10","20","30","40","50","60","70","80","90","100"],showSizeChanger:!0}),o=Object(i["h"])([]),r=Object(i["h"])(!1);Object(i["f"])((function(){u()}));var s=function(e){var t=e.pageSize,a=e.current;n.value.current=a,n.value.pageSize=t,u()},c=function(e){l.a.prototype.request("/community/village_api.Building/delVacancyIcCard",{bind_id:e.bind_id}).then((function(e){l.a.prototype.$message.success("删除成功！"),n.value.current=1,n.value.pageSize=10,u()}))},u=function(){r.value=!0,l.a.prototype.request("/community/village_api.Building/getRoomBindIcCardList",{vacancy_id:e.roomId,page:n.value.current,limit:n.value.pageSize}).then((function(e){o.value=e.list,n.value.total=e.count,r.value=!1})).catch((function(e){r.value=!1}))};return a.value=[{title:"设备品牌",dataIndex:"device_brand",key:"device_brand"},{title:"设备类型",dataIndex:"device_type",key:"device_type"},{title:"IC卡号",dataIndex:"ic_card",key:"ic_card"},{title:"添加时间",dataIndex:"add_time",key:"add_time"}],{cardColumns:a,pageInfo:n,tableList:o,tableLoading:r,getCardList:u,tableChange:s,deleteCard:c}}}),c=s,u=a("2877"),d=Object(u["a"])(c,n,o,!1,null,"abec2fb4",null);t["default"]=d.exports},fe7f:function(e,t,a){"use strict";a("9a70")}}]);