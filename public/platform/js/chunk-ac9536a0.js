(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ac9536a0","chunk-5d1a6932","chunk-5f29be56","chunk-2df912aa","chunk-2d0bacf3"],{"0f64":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{title:"小区单元编辑",visible:t.visible,width:500,loading:t.confirmLoading},on:{cancel:function(e){return t.resetForm(!1)},ok:t.onSubmit}},[a("a-form-model",{ref:"ruleForm",attrs:{model:t.unitForm,rules:t.rules,"label-col":t.labelCol,"wrapper-col":t.wrapperCol}},[a("a-form-model-item",{attrs:{label:"单元名称",prop:"floor_name"}},[a("a-input",{staticClass:"input_style_240",model:{value:t.unitForm.floor_name,callback:function(e){t.$set(t.unitForm,"floor_name",e)},expression:"unitForm.floor_name"}})],1),a("a-form-model-item",{attrs:{label:"单元编号",prop:"floor_number"}},[a("a-input",{staticClass:"input_style_240",model:{value:t.unitForm.floor_number,callback:function(e){t.$set(t.unitForm,"floor_number",e)},expression:"unitForm.floor_number"}})],1)],1)],1)},n=[],l=(a("a9e3"),a("8bbf")),o=a.n(l),r=a("ed09"),s=(a("3990"),Object(r["c"])({props:{visible:{type:Boolean,default:!1},floor_id:{type:[String,Number],default:0}},setup:function(t,e){var a=Object(r["h"])(!1),i=Object(r["h"])({}),n=Object(r["h"])({floor_name:[{required:!0,message:"请输入单元名称",trigger:"blur"}],floor_number:[{required:!0,message:"请输入单元编号",trigger:"blur"}]}),l=Object(r["h"])(),s=Object(r["h"])({span:6}),c=Object(r["h"])({span:16}),u=function(){l.value.validate((function(t){t&&(a.value=!0,d())}))},_=function(t){e.emit("exit",t),i.value={},l.value.resetFields()},d=function(){var t={floor_id:i.value.floor_id,floor_name:i.value.floor_name,floor_number:i.value.floor_number};o.a.prototype.request("/community/village_api.Building/updateFloorInfoByID",t).then((function(t){a.value=!1,o.a.prototype.$message.success("编辑成功！"),_("unit")})).catch((function(t){a.value=!1}))},p=function(t){o.a.prototype.request("/community/village_api.Building/floorInfo",{floor_id:t}).then((function(t){i.value=t}))};return Object(r["i"])((function(){return t.visible}),(function(e){e&&p(t.floor_id)}),{deep:!0}),{confirmLoading:a,onSubmit:u,resetForm:_,unitForm:i,labelCol:s,wrapperCol:c,rules:n,saveForm:d,ruleForm:l}}})),c=s,u=(a("a41a"),a("0c7c")),_=Object(u["a"])(c,i,n,!1,null,"dae6004e",null);e["default"]=_.exports},"28ad":function(t,e,a){"use strict";a("f79b")},"307c":function(t,e,a){"use strict";a("52fb")},3990:function(t,e,a){"use strict";var i={villageInfo:"/community/village_api.VillageConfig/getVillageInfo",baseConfig:"/community/village_api.VillageConfig/baseConfig",buildingIndex:"/community/village_api.Building/index",roomIndex:"/community/village_api.Room/index",ownerIndex:"/community/village_api.Owner/index",ownerReview:"/community/village_api.Owner/review",ownerUnbid:"/community/village_api.Owner/unbind",familyIndex:"/community/village_api.FamilyMember/index",enantIndex:"/community/village_api.Enant/index",buildingList:"/community/village_api.Building/index",deleteBuilding:"/community/village_api.Building/deleteBuilding",buildingInfo:"/community/village_api.Building/buildingInfo",updateBuildingStatus:"/community/village_api.Building/updateBuildingStatus",saveBuildingButler:"/community/village_api.Building/saveBuildingButler",getBuildingButler:"community/village_api.Building/getBuildingButler",updateBuildingInfoByID:"community/village_api.Building/updateBuildingInfoByID",buildingUnitFloor:"community/village_api.Building/unitFloor",buildingFloorLayerRooms:"community/village_api.Building/floorLayerRooms",unitRentalList:"/community/village_api.UnitRental/index",deleteUnitRental:"/community/village_api.UnitRental/deleteUnitRental",unitRentalInfo:"/community/village_api.UnitRental/unitRentalInfo",updateUnitRentalStatus:"/community/village_api.UnitRental/updateUnitRentalStatus",saveUnitRentalButler:"/community/village_api.UnitRental/saveUnitRentalButler",getUnitRentalButler:"community/village_api.UnitRental/getUnitRentalButler",updateUnitRentalInfoByID:"community/village_api.UnitRental/updateUnitRentalInfoByID",unitRentalFloorList:"community/village_api.UnitRental/unitRentalFloorList",updateUnitRentalFloorStatus:"community/village_api.UnitRental/updateUnitRentalFloorStatus",deleteUnitRentalFloor:"community/village_api.UnitRental/deleteUnitRentalFloor",unitRentalFloorInfo:"community/village_api.UnitRental/unitRentalFloorInfo",saveUnitRentalFloorInfo:"community/village_api.UnitRental/saveUnitRentalFloorInfo",unitRentalLayerList:"community/village_api.UnitRental/unitRentalLayerList",unitRentalLayerInfo:"community/village_api.UnitRental/unitRentalLayerInfo",saveUnitRentalLayerInfo:"community/village_api.UnitRental/saveUnitRentalLayerInfo",updateUnitRentalLayerStatus:"community/village_api.UnitRental/updateUnitRentalLayerStatus",deleteUnitRentalLayer:"community/village_api.UnitRental/deleteUnitRentalLayer",thirdVillageUploadFile:"community/village_api.third.Room/villageUploadFile",thirdStartRoomImport:"community/village_api.third.Room/startRoomImport",thirdStartUserImport:"community/village_api.third.Room/startUserImport",thirdStartChargeImport:"community/village_api.third.Room/startChargeImport",thirdRefreshProcess:"community/village_api.third.Room/refreshProcess"};e["a"]=i},"43a3":function(t,e,a){"use strict";a("e5ba")},"52fb":function(t,e,a){},5417:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page_loading"},[a("div",{staticClass:"loading_content"},[a("a-icon",{staticStyle:{"font-size":"27px",color:"#ffffff"},attrs:{type:"loading"}}),a("div",{staticStyle:{"font-size":"17px",color:"#ffffff","margin-top":"5px"}},[t._v("加载中... ")])],1)])},n=[],l=(a("8bbf"),a("ed09")),o=Object(l["c"])({}),r=o,s=(a("28ad"),a("0c7c")),c=Object(s["a"])(r,i,n,!1,null,"5cd576b2",null);e["default"]=c.exports},7759:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"single_view"},[t.dataLoading?a("pageLoading"):t._e(),t.showSingle?a("div",{staticClass:"left_single"},[a("div",{staticClass:"single_title"},[t._v(" 楼栋导航 ")]),a("div",{staticClass:"single_scroll_view"},t._l(t.singleList,(function(e,i){return a("div",{key:i,staticClass:"single_item",class:i==t.currentSingle?"single_item_active":"",on:{click:function(a){return a.stopPropagation(),t.switchSingle(e,i)}}},[t._v(" "+t._s(e.single_name))])})),0)]):t._e(),a("div",{staticClass:"right_content",style:{width:t.showSingle?"calc(100% - 160px)":"calc(100% - 10px)",marginLeft:t.showSingle?"0px":"10px"}},[t.unitList.length>0?a("div",{staticClass:"top_unit"},t._l(t.unitList,(function(e,i){return a("div",{key:i,staticClass:"unit_item",class:i==t.currentUnit?"unit_item_active":"",on:{click:function(a){return a.stopPropagation(),t.switchUnit(e,i)}}},[a("a-popover",{attrs:{placement:"top"}},[e.allowEdit||e.allowDelete?a("template",{slot:"content"},[e.allowEdit?a("span",{staticStyle:{cursor:"pointer",color:"#409EFF"},on:{click:function(a){return a.stopPropagation(),t.editUnit(e)}}},[t._v(" 编辑单元"),a("a-icon",{attrs:{type:"edit"}})],1):t._e(),e.allowDelete?a("a-divider",{attrs:{type:"vertical"}}):t._e(),e.allowDelete?a("span",{staticStyle:{cursor:"pointer",color:"red"},on:{click:function(a){return a.stopPropagation(),t.deleteUnit(e)}}},[t._v(" 删除单元"),a("a-icon",{attrs:{type:"delete"}})],1):t._e()],1):a("template",{slot:"content"},[t._v(" 当前单元不可编辑 ")]),a("div",{staticClass:"unit_name"},[t._v(t._s(e.floor_name))])],2)],1)})),0):t._e(),a("div",{staticClass:"layer_content",style:{height:t.unitList.length>0?"calc(100vh - 120px)":"calc(100vh - 80px)",marginTop:t.unitList.length>0?"0px":"10px"}},[t.hasData?a("div",{staticClass:"left_room_structure",staticStyle:{position:"relative"}},t._l(t.roomStructure,(function(e,i){return a("div",{key:i,staticClass:"layer_item",class:"layer_nav_"+i},[a("a-popover",{attrs:{placement:"top"}},[e.allowEdit||e.allowDelete?a("template",{slot:"content"},[e.allowEdit?a("span",{staticStyle:{cursor:"pointer",color:"#409EFF"},on:{click:function(a){return a.stopPropagation(),t.editLayer(e)}}},[t._v(" 编辑楼层"),a("a-icon",{attrs:{type:"edit"}})],1):t._e(),e.allowDelete?a("a-divider",{attrs:{type:"vertical"}}):t._e(),e.allowDelete?a("span",{staticStyle:{cursor:"pointer",color:"red"},on:{click:function(a){return a.stopPropagation(),t.deleteLayer(e)}}},[t._v(" 删除楼层"),a("a-icon",{attrs:{type:"delete"}})],1):t._e()],1):a("template",{slot:"content"},[t._v(" 当前楼层不可编辑 ")]),a("div",{staticClass:"layer_left_content"},[a("div",{staticClass:"layer_name_vertical"},[a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[t._v(" "+t._s(e.layer_name)+" ")]),t._v(" "+t._s(e.layer_name.length>5?e.layer_name.substring(0,5)+"...":e.layer_name)+" ")],2)],1)])],2),a("div",{staticClass:"layer_left_txt"},[a("div",{staticClass:"layer_name_vertical"},[a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[t._v(" "+t._s(e.layer_name)+" ")]),t._v(" "+t._s(e.layer_name.length>5?e.layer_name.substring(0,5)+"...":e.layer_name)+" ")],2)],1)]),t._l(e.rooms,(function(e,i){return a("div",{key:i,staticClass:"room_item",staticStyle:{cursor:"pointer"},on:{click:function(a){return t.RoomInfo(e)}}},[e.money&&e.money.tag?a("div",{staticClass:"status_icon"},[t._v(t._s(e.money.tag)+" ")]):t._e(),a("div",{staticClass:"room_title"},[t._v(" "+t._s(e.room?e.room+"室":"暂无")+" ")]),t._l(e.roomProps,(function(e,i){return a("div",{key:i,staticClass:"room_props"},[a("a-tooltip",{attrs:{placement:"rightTop"}},[a("template",{slot:"title"},[t._v(" "+t._s(e.label)+":"+t._s(e.value)+" ")]),a("span",{style:{color:"欠费"==e.label?"red":""}},[t._v(t._s(e.label)+":"+t._s(e.value))])],2)],1)}))],2)})),e.rooms.length<=0?a("div",{staticClass:"room_item"},[a("p",[t._v("该楼层暂无添加房间")])]):t._e(),a("div",{staticClass:"layer_right_txt"},[a("div",{staticClass:"layer_name_vertical"},[a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[t._v(" "+t._s(e.layer_name)+" ")]),t._v(" "+t._s(e.layer_name.length>5?e.layer_name.substring(0,5)+"...":e.layer_name)+" ")],2)],1)]),a("a-popover",{attrs:{placement:"leftTop"}},[e.allowEdit||e.allowDelete?a("template",{slot:"content"},[e.allowEdit?a("span",{staticStyle:{cursor:"pointer",color:"#409EFF"},on:{click:function(a){return a.stopPropagation(),t.editLayer(e)}}},[t._v(" 编辑楼层"),a("a-icon",{attrs:{type:"edit"}})],1):t._e(),e.allowDelete?a("a-divider",{attrs:{type:"vertical"}}):t._e(),e.allowDelete?a("span",{staticStyle:{cursor:"pointer",color:"red"},on:{click:function(a){return a.stopPropagation(),t.deleteLayer(e)}}},[t._v(" 删除楼层"),a("a-icon",{attrs:{type:"delete"}})],1):t._e()],1):a("template",{slot:"content"},[t._v(" 当前楼层不可编辑 ")]),a("div",{staticClass:"layer_right_content"},[a("div",{staticClass:"layer_name_vertical"},[a("a-tooltip",{attrs:{placement:"top"}},[a("template",{slot:"title"},[t._v(" "+t._s(e.layer_name)+" ")]),t._v(" "+t._s(e.layer_name.length>5?e.layer_name.substring(0,5)+"...":e.layer_name)+" ")],2)],1)])],2)],2)})),0):t._e(),t.hasData||t.dataLoading?t._e():a("div",{staticClass:"no_data",staticStyle:{width:"100%",height:"100%",display:"flex","align-items":"center","justify-content":"center","flex-direction":"column"},style:{transform:t.showSingle?"translateX(-75px) translateY(-30px)":""}},[a("span",{staticStyle:{"font-size":"20px",color:"#8a8a8a",transform:"translateY(-90px)"}},[t._v("暂无数据")])]),t.layerList.length>0&&t.hasData?a("div",{staticClass:"right_layer_nav",style:{width:t.isTrigger?"100px":"0"}},[a("div",{staticClass:"trigger_content"},[a("div",{staticClass:"trigger_icon",on:{click:t.triggerThis}},[t._v(" "+t._s(t.isTrigger?"折叠":"展开")+" ")]),t.isTrigger?a("div",{staticClass:"layer_nav_desc"},[t._v(" 楼层导航 ")]):t._e(),t._l(t.layerList,(function(e,i){return a("div",{key:i,staticClass:"layer_item",class:i==t.currentLayer?"layer_item_active":"",style:{display:t.isTrigger?"flex":"none"},on:{click:function(a){return a.stopPropagation(),t.switchLayer(e,i)}}},[t._v(" "+t._s(e.layer_name.length>3?e.layer_name.substring(0,2):e.layer_name)+" ")])}))],2)]):t._e(),a("a-drawer",{attrs:{title:t.roomDrawerTitle,placement:"right",width:"1400",closable:!1,visible:t.roomvisible,"get-container":!1,"wrap-style":{position:"absolute"}},on:{close:t.onRoomClose}},[a("a-tabs",{attrs:{"default-active-key":"2"}},[a("a-tab-pane",{key:"1"},[a("span",{attrs:{slot:"tab"},slot:"tab"},[a("a-icon",{attrs:{type:"idcard"}}),t._v(" 人员资料 ")],1),[a("a-tooltip",[a("a-button",{attrs:{type:"primary"}},[t._v(" 添加人员 ")]),a("a-divider",{attrs:{type:"vertical"}}),t._v(" 类型颜色： "),a("a-badge",{attrs:{color:"green",text:"业主"}}),t._v(" "),a("a-divider",{attrs:{type:"vertical"}}),t._v(" "),a("a-badge",{attrs:{color:"lime",text:"家属"}}),a("a-divider",{attrs:{type:"vertical"}}),a("a-badge",{attrs:{color:"green",text:"业主"}}),t._v(" "),a("a-divider",{attrs:{type:"vertical"}}),t._v(" "),a("a-badge",{attrs:{color:"lime",text:"家属"}}),a("a-divider",{attrs:{type:"vertical"}}),a("a-badge",{attrs:{color:"orange",text:"租客"}}),t._v(" "),a("a-divider",{attrs:{type:"vertical"}}),t._v(" "),a("a-badge",{attrs:{color:"volcano",text:"工作人员"}}),a("a-divider",{attrs:{type:"vertical"}}),a("a-badge",{attrs:{color:"red",text:"访客"}}),t._v(" "),a("a-divider",{attrs:{type:"vertical"}}),t._v(" "),a("a-badge",{attrs:{color:"gold",text:"出入证"}})],1),a("a-table",{attrs:{columns:t.peopleColumns,"data-source":t.peopleData},scopedSlots:t._u([{key:"name",fn:function(e){return a("a",{},[t._v(t._s(e))])}},{key:"type",fn:function(e){return a("span",{},[0==e?a("a-tag",{attrs:{color:"green"}},[t._v(" 业主 ")]):t._e(),1==e?a("a-tag",{attrs:{color:"lime"}},[t._v(" 家属 ")]):t._e(),2==e?a("a-tag",{attrs:{color:"orange"}},[t._v(" 租客 ")]):t._e(),3==e?a("a-tag",{attrs:{color:"green"}},[t._v(" 业主(new) ")]):t._e(),4==e?a("a-tag",{attrs:{color:"volcano"}},[t._v(" 工作人员 ")]):t._e(),5==e?a("a-tag",{attrs:{color:"red"}},[t._v(" 访客 ")]):t._e(),6==e?a("a-tag",{attrs:{color:"gold"}},[t._v(" 出入证 ")]):t._e()],1)}},{key:"relatives_type",fn:function(e){return a("span",{},[1==e?a("a-tag",[t._v(" 配偶 ")]):t._e(),2==e?a("a-tag",[t._v(" 父母 ")]):t._e(),3==e?a("a-tag",[t._v(" 子女 ")]):t._e(),4==e?a("a-tag",[t._v(" 亲朋好友 ")]):t._e(),5==e?a("a-tag",[t._v(" 公司负责人 ")]):t._e(),6==e?a("a-tag",[t._v(" 公司人事 ")]):t._e(),7==e?a("a-tag",[t._v(" 公司财务 ")]):t._e()],1)}},{key:"action",fn:function(e,i){return a("span",{},[a("a",[t._v("编辑")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",[t._v("删除")])],1)}}])},[a("span",{attrs:{slot:"customTitle"},slot:"customTitle"},[a("a-icon",{attrs:{type:"user"}}),t._v(" 姓名")],1)])]],2),t._v(" "),a("a-tab-pane",{key:"2"},[a("span",{attrs:{slot:"tab"},slot:"tab"},[a("a-icon",{attrs:{type:"info-circle"}}),t._v(" 房间资料 ")],1),a("a-row",[a("a-col",{attrs:{span:12}},[a("a-form",{attrs:{form:t.form},on:{submit:function(t){}}},[a("a-form-item",{attrs:{label:"物业编号"}},[a("a-input")],1),a("a-form-item",{attrs:{label:"楼栋/单元/楼层"}},[a("a-input",{attrs:{disabled:"true"}})],1),a("a-form-item",{attrs:{label:"房间号"}},[a("a-input")],1),a("a-form-item",{attrs:{label:"房间编号"}},[a("a-input")],1),a("a-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[t._v(" 合同时间  "),a("a-tooltip",{attrs:{title:"设置房间时间范围，设置后物业只能收取合同时间内收费项目，未到合同开始时间或结束时间不能收费；未设置物业服务小区时间范围，则不影响。"}},[a("a-icon",{attrs:{type:"question-circle-o"}})],1)],1),a("a-input")],1),a("a-form-item",{attrs:{label:"房屋类型"}},[a("a-cascader")],1),a("a-form-item",{attrs:{label:"使用状态"}},[a("a-cascader")],1),a("a-form-item",{attrs:{label:"出售状态"}},[a("a-cascader")],1),a("a-form-item",{attrs:{label:"房屋面积"}},[a("a-input")],1),a("a-form-item",{attrs:{label:"排序"}},[a("a-input")],1),a("a-form-item",{attrs:{label:"房间状态"}},[a("a-radio-group",{attrs:{defaultValue:"1"}},[a("a-radio",{attrs:{value:1}},[t._v(" 开启 ")]),a("a-radio",{attrs:{value:2}},[t._v(" 关闭 ")])],1)],1),a("a-form-item",[a("a-button",{attrs:{type:"primary","html-type":"submit"}},[t._v(" 保存 ")])],1)],1)],1)],1)],1),t._v(" "),a("a-tab-pane",{key:"3"},[a("span",{attrs:{slot:"tab"},slot:"tab"},[a("a-icon",{attrs:{type:"calculator"}}),t._v(" 收费标准 ")],1),[a("a-tooltip",[a("a-button",{attrs:{type:"primary"}},[t._v(" 绑定收费标准 ")]),a("a-divider",{attrs:{type:"vertical"}}),a("p",[t._v(" 当前房间已绑定的收费标准 ")])],1),a("a-table",{attrs:{columns:t.chargeColumns,"data-source":t.chargeData},scopedSlots:t._u([{key:"name",fn:function(e){return a("a",{},[t._v(t._s(e))])}},{key:"action",fn:function(e,i){return a("span",{},[a("a",[t._v("解绑")])])}}])},[a("span",{attrs:{slot:"customTitle"},slot:"customTitle"},[a("a-icon",{attrs:{type:"user"}}),t._v(" 姓名")],1)])]],2),a("a-tab-pane",{key:"4"},[a("span",{attrs:{slot:"tab"},slot:"tab"},[a("a-icon",{attrs:{type:"car"}}),t._v(" 车位/车辆 ")],1),[a("a-tooltip",[a("a-button",{attrs:{type:"primary"}},[t._v(" 绑定车位 ")]),a("a-divider",{attrs:{type:"vertical"}}),a("p",[t._v(" 车位信息 ")])],1),a("a-table",{attrs:{columns:t.carportColumns,"data-source":t.carportData},scopedSlots:t._u([{key:"action",fn:function(e,i){return a("span",{},[a("a",[t._v("解绑")])])}}])}),a("a-tooltip",[a("a-button",{attrs:{type:"primary"}},[t._v(" 绑定车辆 ")]),a("a-divider",{attrs:{type:"vertical"}}),a("p",[t._v(" 车辆信息 ")])],1),a("a-table",{attrs:{columns:t.carColumns,"data-source":t.carData},scopedSlots:t._u([{key:"action",fn:function(e,i){return a("span",{},[a("a",[t._v("解绑")])])}}])})]],2),a("a-tab-pane",{key:"5"},[a("span",{attrs:{slot:"tab"},slot:"tab"},[a("a-icon",{attrs:{type:"dollar"}}),t._v(" 房产账单 ")],1),t._v(" 显示所有该房间下的账单（已交账单、未交账单、等缴账单)，点击待缴账单可以调到收银台直接显示 ")]),a("a-tab-pane",{key:"6"},[a("span",{attrs:{slot:"tab"},slot:"tab"},[a("a-icon",{attrs:{type:"snippets"}}),t._v(" 关联工单 ")],1),[a("a-tooltip",[a("a-button",{attrs:{type:"primary"}},[t._v(" 提交工单 ")]),a("a-divider",{attrs:{type:"vertical"}}),a("p",[t._v(" 当前房间已所有上报的工单 ")])],1),a("a-table",{attrs:{columns:t.workOrderColumns,"data-source":t.workOrderData},scopedSlots:t._u([{key:"action",fn:function(e,i){return a("span",{},[a("a",[t._v("详情")])])}}])})]],2),t._v(" "),t._e(),a("a-tab-pane",{key:"8"},[a("span",{attrs:{slot:"tab"},slot:"tab"},[a("a-icon",{attrs:{type:"credit-card"}}),t._v(" 关联卡号 ")],1),t._v(" 这一项做成根据实际情况来控制显示与否 ")])],1)],1)],1)]),a("unitEdit",{attrs:{visible:t.unitEditVisible,floor_id:t.floor_id},on:{exit:t.closeUnitDrawer}}),a("layerEdit",{attrs:{visible:t.layerEditVisible,layer_id:t.layer_id},on:{exit:t.closeLayerDrawer}})],1)},n=[],l=(a("a9e3"),a("8bbf")),o=a.n(l),r=a("ed09"),s=a("3990"),c=a("5417"),u=a("0f64"),_=a("a805"),d=Object(r["c"])({props:{singleId:{type:[String,Number],default:0}},components:{pageLoading:c["default"],unitEdit:u["default"],layerEdit:_["default"]},setup:function(t,e){var a=Object(r["h"])(!1),i=Object(r["h"])([]),n=Object(r["h"])([]),l=Object(r["h"])(0),c=Object(r["h"])(0),u=Object(r["h"])(0),_=Object(r["h"])(!1),d=Object(r["h"])(!1),p=Object(r["h"])(0);Object(r["f"])((function(){p.value||(a.value=!0,m())}));var m=function(){o.a.prototype.request(s["a"].buildingList,{}).then((function(t){console.log("楼栋",t),n.value=t.building,n.value&&n.value[0]&&(u.value=0,p.value=n.value[0].id,y(n.value[0].id))})).catch((function(t){}))},v=function(t,e){c.value!=e?(c.value=e,l.value=0,b(t)):console.log("重复")},y=function(e){var a={};e?a["single_id"]=e:t.singleId&&(a["single_id"]=t.singleId),o.a.prototype.request(s["a"].buildingUnitFloor,a).then((function(t){t.unit&&(i.value=t.unit,i.value[0]?(c.value=0,b(i.value[0])):(d.value=!1,o.a.prototype.$message.warn("该楼栋下没有单元")))})).catch((function(t){}))},g=Object(r["h"])([]),f=Object(r["h"])([]),b=function(t){var e={};t.floor_id&&(e["floor_id"]=t.floor_id),_.value=!0,d.value=!1,o.a.prototype.request(s["a"].buildingFloorLayerRooms,e).then((function(t){console.log("floorParam",t),t.layer&&(_.value=!1,g.value=t.layer,g.value.reverse(),f.value=t.layer,f.value&&f.value.length>0?d.value=!0:d.value=!1)})).catch((function(t){_.value=!1,d.value=!1}))};t.singleId&&(a.value=!1,p.value=t.singleId,y()),Object(r["i"])((function(){return t.singleId}),(function(t){t?(a.value=!1,p.value=t,y(t)):X()}),{deep:!0});var h=Object(r["h"])(!0),x=function(){h.value=!h.value},k=function(t,e){l.value!=e?(l.value=e,document.querySelector(".layer_nav_"+e).scrollIntoView({block:"start",behavior:"smooth"})):console.log("重复")},I=function(t,e){u.value!=e?(c.value=0,l.value=0,u.value=e,p.value=t.id,y(t.id)):console.log("重复")},w=Object(r["h"])(!1),R=Object(r["h"])(0),C=function(t){R.value=t.floor_id,w.value=!0},j=function(t){w.value=!1,"unit"==t&&y(p.value)},O=function(t){t.floor_id;o.a.prototype.$confirm({title:"提示",content:"确定要删除当前单元吗？",onOk:function(){o.a.prototype.request("/community/village_api.Building/deleteFloor",{floor_id:t.floor_id}).then((function(t){o.a.prototype.$message.success("删除成功！"),y(p.value)})).catch((function(t){}))},onCancel:function(){}})},S=Object(r["h"])(!1),U=Object(r["h"])(0),F=function(t){U.value=t.id,S.value=!0},L=function(t){S.value=!1,"layer"==t&&b(i.value[c.value])},B=function(t){t.layer_id;o.a.prototype.$confirm({title:"提示",content:"确定要删除当前楼层吗？",onOk:function(){o.a.prototype.request("/community/village_api.Building/deleteLayer",{layer_id:t.id}).then((function(t){o.a.prototype.$message.success("删除成功！"),console.log("layer_id===>",i.value[c.value]),b(i.value[c.value])})).catch((function(t){}))},onCancel:function(){}})},D=Object(r["h"])(!1),E=Object(r["h"])("房间信息"),T=function(t){D.value=!0,E.value=t.room+" 号房间信息",console.log("房间信息操作---",t)},q=function(){D.value=!1},$=Object(r["h"])([]),P=Object(r["h"])([]);$.value=[{dataIndex:"name",key:"name",slots:{title:"customTitle"},scopedSlots:{customRender:"name"}},{title:"手机号",dataIndex:"phone",key:"phone"},{title:"添加时间",dataIndex:"add_time",key:"add_time"},{title:"类型",key:"type",dataIndex:"type",scopedSlots:{customRender:"type"}},{title:"与业主关系",key:"relatives_type",dataIndex:"relatives_type",scopedSlots:{customRender:"relatives_type"}},{title:"生日",key:"birth",dataIndex:"birth"},{title:"通过时间",key:"pass_time",dataIndex:"pass_time"},{title:"身份证卡号",key:"id_card",dataIndex:"id_card"},{title:"操作",key:"action",scopedSlots:{customRender:"action"}}],P.value=[{key:"1",name:"John Brown",phone:1835539383,add_time:"2019-09-12",type:0,pass_time:"2022-10-10",birth:"1989-10-09",id_card:"250899898989898989",relatives_type:1},{key:"2",name:"Jim Green",phone:1835539382,add_time:"2019-03-12",type:1,pass_time:"2022-10-10",birth:"1989-10-09",id_card:"250899898989898989",relatives_type:2},{key:"3",name:"Joe Black",phone:1835539386,add_time:"2019-01-12",type:2,pass_time:"2022-10-10",birth:"1989-10-09",id_card:"250899898989898989",relatives_type:3},{key:"4",name:"Joe更新房主",phone:1835549386,add_time:"2019-01-12",type:3,pass_time:"2022-10-10",birth:"1989-10-09",id_card:"250899898989898989",relatives_type:4},{key:"5",name:"李四",phone:1835540386,add_time:"2019-01-12",type:4,pass_time:"2022-10-10",birth:"1989-10-09",id_card:"250899898989898989",relatives_type:5},{key:"6",name:"张三",phone:1839540386,add_time:"2019-01-12",type:5,pass_time:"2022-10-10",birth:"1989-10-09",id_card:"250899898989898989",relatives_type:6},{key:"6",name:"张三三",phone:1839541386,add_time:"2019-01-12",type:6,pass_time:"2022-10-10",birth:"1989-10-09",id_card:"250899898989898989",relatives_type:7}];var V=Object(r["h"])([]),J=Object(r["h"])([]);V.value=[{title:"所属收费科目",dataIndex:"charge_number_name",key:"charge_number_name"},{title:"收费项目名称",dataIndex:"project_name",key:"project_name"},{title:"收费标准名称",dataIndex:"charge_name",key:"charge_name"},{title:"收费标准生效时间",dataIndex:"charge_valid_time",key:"charge_valid_time"},{title:"计费模式",dataIndex:"fees_type",key:"fees_type"},{title:"账单生成周期设置",dataIndex:"bill_create_set",key:"bill_create_set"},{title:"账单欠费模式",dataIndex:"bill_arrears_set",key:"bill_arrears_set"},{title:"生成账单模式",dataIndex:"bill_type",key:"bill_type"},{title:"是否支持预缴",dataIndex:"is_prepaid",key:"is_prepaid"},{title:"未入住房屋折扣",dataIndex:"not_house_rate",key:"not_house_rate"},{title:"操作",dataIndex:"operation",key:"operation",width:"120px",scopedSlots:{customRender:"action"}}],J.value=[{charge_name:"水电费",charge_valid_time:"2022-01-02",project_name:"高层水电费",charge_number_name:"水电燃",fees_type:"1",bill_create_set:"按月生成",bill_arrears_set:"后生成",is_prepaid:"不支持",not_house_rate:"100%"},{charge_name:"停车费",charge_valid_time:"2022-01-02",project_name:"月租车停车费",charge_number_name:"停车费",fees_type:"1",bill_create_set:"按年生成",bill_arrears_set:"后生成",is_prepaid:"支持",not_house_rate:"100%"}];var z=Object(r["h"])([]),N=Object(r["h"])([]),A=Object(r["h"])([]),Y=Object(r["h"])([]);z.value=[{title:"车库",dataIndex:"garage_num",key:"garage_num"},{title:"车位编号",dataIndex:"position_num",key:"position_num"},{title:"车位面积",dataIndex:"position_area",key:"position_area"},{title:"车位类型",dataIndex:"children_type_txt",key:"children_type_txt"},{title:"所属母车位",dataIndex:"parent_position_num",key:"parent_position_num"},{title:"备注",dataIndex:"position_note",key:"position_note"},{title:"操作",dataIndex:"operation",key:"operation",width:"120px",scopedSlots:{customRender:"action"}}],N.value=[{garage_num:"东边车库",position_num:"0323",position_area:"15",children_type_txt:"母车位",parent_position_num:"",position_note:"个人车位"},{garage_num:"西边车库",position_num:"0323",position_area:"15",children_type_txt:"母车位",parent_position_num:"",position_note:"个人车位"}],A.value=[{title:"车牌号",dataIndex:"car_number",key:"car_number"},{title:"车位号",dataIndex:"position_num",key:"position_num"},{title:"停车卡号",dataIndex:"car_stop_num",key:"car_stop_num"},{title:"车主姓名",dataIndex:"car_user_name",key:"car_user_name"},{title:"车主手机号",dataIndex:"car_user_phone",key:"car_user_phone"},{title:"与车主关系",dataIndex:"relationship",key:"relationship"},{title:"停车到期时间",dataIndex:"end_time",key:"end_time"},{title:"审核状态",dataIndex:"examine_status",key:"examine_status"},{title:"审核说明",dataIndex:"examine_response",key:"examine_response"},{title:"操作",dataIndex:"operation",key:"operation",width:"120px",scopedSlots:{customRender:"action"}}],Y.value=[{car_number:"京A123456",position_num:"0323",car_stop_num:"15",car_user_name:"李三",car_user_phone:"18355112040",relationship:"车主",end_time:"2022-12-21",examine_status:"通过",examine_response:"可能这是很长需要截取"},{car_number:"皖AP89278",position_num:"0323",car_stop_num:"125",car_user_name:"王五",car_user_phone:"18355112041",relationship:"配偶",end_time:"2024-12-21",examine_status:"通过",examine_response:"可能这是很长需要截取"}];var G=Object(r["h"])([]),M=Object(r["h"])([]);G.value=[{title:"上报分类",dataIndex:"cate_name",key:"cate_name"},{title:"工单类目",dataIndex:"subject_name",key:"subject_name"},{title:"工单内容",dataIndex:"order_content",key:"order_content"},{title:"上报人员",dataIndex:"name",key:"name"},{title:"手机号码",dataIndex:"phone",key:"phone"},{title:"上报时间",dataIndex:"add_time_txt",key:"add_time_txt"},{title:"处理状态",dataIndex:"status_txt",key:"status_txt"},{title:"操作",dataIndex:"operation",key:"operation",width:"120px",scopedSlots:{customRender:"action"}}],M.value=[{cate_name:"家电维修",subject_name:"电炮维修",order_content:"电灯泡坏了，需要更换",name:"李三",phone:"19877676543",add_time_txt:"2022-09-10",status_txt:"已完毕"},{cate_name:"家电维修",subject_name:"电炮维修",order_content:"电灯泡坏了，需要更换",name:"张三",phone:"19877676523",add_time_txt:"2022-09-11",status_txt:"已完毕"}];var X=function(){n.value=[],i.value=[],g.value=[],f.value=[],c.value=0,l.value=0,u.value=0,_.value=!1,p.value=0};return{pageSingleId:p,singleList:n,unitList:i,roomStructure:f,isTrigger:h,triggerThis:x,showSingle:a,layerList:g,currentLayer:l,currentUnit:c,currentSingle:u,switchLayer:k,switchUnit:v,switchSingle:I,getBuildingList:m,floorLayerRooms:b,getUnitFloor:y,clearData:X,dataLoading:_,hasData:d,unitEditVisible:w,floor_id:R,editUnit:C,closeUnitDrawer:j,deleteUnit:O,layerEditVisible:S,layer_id:U,editLayer:F,closeLayerDrawer:L,deleteLayer:B,RoomInfo:T,roomvisible:D,onRoomClose:q,roomDrawerTitle:E,peopleColumns:$,peopleData:P,chargeColumns:V,chargeData:J,carportColumns:z,carportData:N,carColumns:A,carData:Y,workOrderColumns:G,workOrderData:M}}}),p=d,m=(a("43a3"),a("0c7c")),v=Object(m["a"])(p,i,n,!1,null,"237fea1c",null);e["default"]=v.exports},a41a:function(t,e,a){"use strict";a("b91f")},a805:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{title:"楼层编辑",visible:t.visible,width:500,loading:t.confirmLoading},on:{cancel:function(e){return t.resetForm(!1)},ok:t.onSubmit}},[a("a-form-model",{ref:"ruleForm",attrs:{model:t.layerForm,rules:t.rules,"label-col":t.labelCol,"wrapper-col":t.wrapperCol}},[a("a-form-model-item",{attrs:{label:"楼层名称",prop:"layer_name"}},[a("a-input",{staticClass:"input_style_240",model:{value:t.layerForm.layer_name,callback:function(e){t.$set(t.layerForm,"layer_name",e)},expression:"layerForm.layer_name"}})],1),a("a-form-model-item",{attrs:{label:"楼层编号",prop:"layer_number"}},[a("a-input",{staticClass:"input_style_240",attrs:{disabled:!0},model:{value:t.layerForm.layer_number,callback:function(e){t.$set(t.layerForm,"layer_number",e)},expression:"layerForm.layer_number"}})],1),a("a-form-model-item",{attrs:{label:"状态",prop:"status"}},[t.visible?a("a-switch",{attrs:{"default-checked":t.layerStatus,"checked-children":"开","un-checked-children":"关"},on:{change:t.checkChange}}):t._e()],1)],1)],1)},n=[],l=(a("a9e3"),a("8bbf")),o=a.n(l),r=a("ed09"),s=(a("3990"),Object(r["c"])({props:{visible:{type:Boolean,default:!1},layer_id:{type:[String,Number],default:0}},setup:function(t,e){var a=Object(r["h"])(!1),i=Object(r["h"])({}),n=Object(r["h"])({layer_name:[{required:!0,message:"请输入单元名称",trigger:"blur"}],layer_number:[{required:!0,message:"请输入单元编号",trigger:"blur"}]}),l=Object(r["h"])(),s=Object(r["h"])({span:6}),c=Object(r["h"])({span:16}),u=function(){l.value.validate((function(t){t&&(a.value=!0,p())}))},_=function(t){e.emit("exit",t),i.value={},l.value.resetFields()},d=Object(r["h"])(!1),p=function(){d.value?i.value.status=2:i.value.status=1;var t={layer_id:i.value.id,layer_name:i.value.layer_name,layer_number:i.value.layer_number,status:i.value.status};o.a.prototype.request("/community/village_api.Building/updatelayerInfoByID",t).then((function(t){a.value=!1,o.a.prototype.$message.success("编辑成功！"),_("layer")})).catch((function(t){a.value=!1}))},m=function(t){o.a.prototype.request("/community/village_api.Building/layerInfo",{layer_id:t}).then((function(t){i.value=t,2==i.value.status?d.value=!0:d.value=!1}))},v=function(t){d.value=t};return Object(r["i"])((function(){return t.visible}),(function(e){e&&m(t.layer_id)}),{deep:!0}),{confirmLoading:a,onSubmit:u,resetForm:_,layerForm:i,labelCol:s,wrapperCol:c,rules:n,saveForm:p,ruleForm:l,layerStatus:d,checkChange:v}}})),c=s,u=(a("307c"),a("0c7c")),_=Object(u["a"])(c,i,n,!1,null,"44967f05",null);e["default"]=_.exports},b91f:function(t,e,a){},e5ba:function(t,e,a){},f79b:function(t,e,a){}}]);