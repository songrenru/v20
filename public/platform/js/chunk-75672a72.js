(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75672a72"],{"301f":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{visible:t.visible,title:t.title,width:"60%"},on:{cancel:t.handleCancel,ok:t.handleOk}},[a("div",{staticStyle:{"margin-top":"20px",padding:"20px","background-color":"#fff"}},[a("a-form-model",{attrs:{layout:"inline",model:t.searchForm}},[a("a-form-model-item",{attrs:{label:"搜索"}},[a("a-select",{staticStyle:{width:"115px"},model:{value:t.searchForm.type,callback:function(e){t.$set(t.searchForm,"type",e)},expression:"searchForm.type"}},[a("a-select-option",{attrs:{value:0}},[t._v("全部")]),a("a-select-option",{attrs:{value:1}},[t._v("用户昵称")]),a("a-select-option",{attrs:{value:2}},[t._v("用户手机号")])],1)],1),a("a-form-model-item",[a("a-input",{attrs:{placeholder:"输入用户昵称/手机号"},model:{value:t.searchForm.keyword,callback:function(e){t.$set(t.searchForm,"keyword",e)},expression:"searchForm.keyword"}})],1),a("a-form-model-item",{attrs:{label:"领取日期"}},[a("a-range-picker",{attrs:{value:t.dateRange},on:{change:t.timeChange}})],1),a("a-form-model-item",[a("a-button",{staticClass:"ml-10",attrs:{type:"primary"},on:{click:function(e){return t.submitForm(!0)}}},[t._v("搜索")]),a("a-button",{staticClass:"ml-10",on:{click:function(e){return t.resetForm()}}},[t._v("重置")]),a("a-button",{staticClass:"ml-10",on:{click:function(e){return t.exportForm()}}},[t._v("导出")])],1)],1),a("a-table",{staticStyle:{"margin-top":"10px"},attrs:{rowKey:"id",columns:t.columns,"data-source":t.datalist,pagination:t.pagination,bordered:""}})],1)])},i=[],o=a("5530"),s=a("7035"),r=[{title:"ID",dataIndex:"id",key:"id"},{title:"二维码标识",dataIndex:"ewm_no",key:"ewm_no"},{title:"昵称",dataIndex:"nickname",key:"nickname"},{title:"手机号",dataIndex:"phone",key:"phone"},{title:"当前积分",dataIndex:"score_count",key:"score_count"},{title:"当前余额",dataIndex:"now_money",key:"now_money"},{title:"领取时间",dataIndex:"get_time",key:"get_time"}],c={props:{visible:Boolean,title:String,scanId:null},data:function(){return{datalist:[],dateRange:[],columns:r,searchForm:{type:0,keyword:"",date:[]},pagination:{current:1,total:0,pageSize:10,showSizeChanger:!0,onChange:this.onPageChange,onShowSizeChange:this.onPageSizeChange,showTotal:function(t){return"共 ".concat(t," 条记录")}}}},watch:{scanId:{handler:function(t,e){this.getRecordList(!1)},immediate:!0}},methods:{getRecordList:function(t){var e=this,a=Object(o["a"])({},this.searchForm);!0===t?(a.page=1,this.$set(this.pagination,"current",1)):(a.page=this.pagination.current,this.$set(this.pagination,"current",this.pagination.current)),a.pageSize=this.pagination.pageSize,a.send_id=this.scanId,this.request(s["a"].recordList,a).then((function(t){e.datalist=t.data,e.$set(e.pagination,"total",t.total)}))},submitForm:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.getRecordList(t)},resetForm:function(){this.$set(this,"searchForm",{type:0,keyword:"",date:[]}),this.$set(this.pagination,"current",1),this.dateRange=[],this.getRecordList()},exportForm:function(){var t=this.searchForm;t.send_id=this.scanId,this.request(s["a"].exportRecordList,t).then((function(t){t.file_url&&window.open(t.file_url)}))},onPageChange:function(t,e){this.$set(this.pagination,"current",t),this.submitForm()},onPageSizeChange:function(t,e){this.$set(this.pagination,"pageSize",e),this.submitForm()},timeChange:function(t,e){this.dateRange=t,this.$set(this.searchForm,"date",e)},handleOk:function(){this.$emit("handleCancel")},handleCancel:function(){this.$emit("handleCancel")}}},l=c,d=a("2877"),m=Object(d["a"])(l,n,i,!1,null,null,null);e["default"]=m.exports},7035:function(t,e,a){"use strict";var n={index:"/scan/platform.ScanSend/index",editData:"/scan/platform.ScanSend/edit",addData:"/scan/platform.ScanSend/add",setStatus:"/scan/platform.ScanSend/setStatus",recordList:"/scan/platform.ScanSend/getRecordList",setConfig:"/scan/platform.ScanSend/setConfig",exportEwm:"/scan/platform.ScanSend/exportEwm",exportRecordList:"/scan/platform.ScanSend/exportRecordList",recordAllList:"/scan/platform.ScanSend/getAllRecordList",singleDelete:"/scan/platform.ScanSend/singleDelete",multipleDelete:"/scan/platform.ScanSend/multipleDelete"};e["a"]=n}}]);