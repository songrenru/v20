(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e778173","chunk-2d0b3786"],{"19bb":function(e,a,t){"use strict";t("b0c0");var r=function(){var e=this,a=e._self._c;return a("div",["text"==e.type?a("a-form-item",{attrs:{label:e.title,labelCol:e.labelCol,wrapperCol:e.wrapperCol,extra:e.tips}},[a("a-row",{attrs:{gutter:8}},[a("a-col",{attrs:{span:12}},[e.number?a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name,{initialValue:e.value,rules:[{required:e.required,message:e.requiredMessage}]}],expression:"[name, { initialValue: value, rules: [{ required: required, message: requiredMessage }] }]"}],key:e.name,staticStyle:{width:"100%"},attrs:{precision:e.digits?0:e.precision,min:e.min,max:e.max,name:e.name,disabled:e.disabled,placeholder:e.placeholder}}):e.url?a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name,{initialValue:e.value,rules:[{type:"url",message:"请输入正确的url地址"},{required:e.required,message:e.requiredMessage}]}],expression:"[\n            name,\n            {\n              initialValue: value,\n              rules: [\n                {\n                  type: 'url',\n                  message: '请输入正确的url地址',\n                },\n                { required: required, message: requiredMessage },\n              ],\n            },\n          ]"}],key:e.name,attrs:{disabled:e.disabled,name:e.name,placeholder:e.placeholder}}):a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name,{initialValue:e.value,rules:[{required:e.required,message:e.requiredMessage}]}],expression:"[name, { initialValue: value, rules: [{ required: required, message: requiredMessage }] }]"}],key:e.name,attrs:{disabled:e.disabled,"max-length":e.maxlength,name:e.name,placeholder:e.placeholder}})],1)],1)],1):e._e(),"textarea"===e.type?a("a-form-item",{attrs:{label:e.title,labelCol:e.labelCol,disabled:e.disabled,wrapperCol:e.wrapperCol,extra:e.tips}},[a("a-row",{attrs:{gutter:8}},[a("a-col",{attrs:{span:12}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name,{initialValue:e.value,rules:[{required:e.required,message:e.requiredMessage}]}],expression:"[name, { initialValue: value, rules: [{ required: required, message: requiredMessage }] }]"}],key:e.name,attrs:{rows:e.rows,name:e.name,placeholder:e.placeholder}})],1)],1)],1):e._e(),"switch"===e.type?a("a-form-item",{attrs:{label:e.title,disabled:e.disabled,labelCol:e.labelCol,wrapperCol:e.wrapperCol,extra:e.tips}},[a("a-row",{attrs:{gutter:8}},[a("a-col",{attrs:{span:22}},[a("a-switch",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name,{initialValue:"1"==e.value,valuePropName:"checked"}],expression:"[name, { initialValue: value == '1' ? true : false, valuePropName: 'checked' }]"}],key:e.name,attrs:{"checked-children":e.switchCheckedText,"un-checked-children":e.switchUncheckedText}})],1)],1)],1):e._e(),"radio"===e.type?a("a-form-item",{attrs:{label:e.title,disabled:e.disabled,labelCol:e.labelCol,wrapperCol:e.wrapperCol,extra:e.tips}},[a("a-row",{attrs:{gutter:8}},[a("a-col",{attrs:{span:12}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name,{initialValue:e.value,rules:[{required:e.required,message:e.requiredMessage}]}],expression:"[name, { initialValue: value, rules: [{ required: required, message: requiredMessage }] }]"}],key:e.name,attrs:{name:e.name,options:e.selectArray}})],1)],1)],1):e._e(),"select"===e.type?a("a-form-item",{attrs:{disabled:e.disabled,label:e.title,labelCol:e.labelCol,wrapperCol:e.wrapperCol,extra:e.tips}},[a("a-row",{attrs:{gutter:8}},[a("a-col",{attrs:{span:12}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name,{initialValue:e.value,rules:[{required:e.required,message:e.requiredMessage}]}],expression:"[name, { initialValue: value, rules: [{ required: required, message: requiredMessage }] }]"}],key:e.name,attrs:{name:e.name,placeholder:e.placeholder}},e._l(e.selectArray,(function(t){return a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1)],1):e._e(),"selectAll"===e.type?a("a-form-item",{attrs:{disabled:e.disabled,label:e.title,labelCol:e.labelCol,wrapperCol:e.wrapperCol,extra:e.tips}},[a("a-row",{attrs:{gutter:8}},[a("a-col",{attrs:{span:12}},[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name,{initialValue:e.value,rules:[{required:e.required,message:e.requiredMessage}]}],expression:"[name, { initialValue: value, rules: [{ required: required, message: requiredMessage }] }]"}],key:e.name,attrs:{mode:"multiple",name:e.name,placeholder:e.placeholder}},e._l(e.selectArray,(function(t){return a("a-select-option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1)],1):e._e(),"time"===e.type?a("a-form-item",{attrs:{label:e.title,labelCol:e.labelCol,disabled:e.disabled,wrapperCol:e.wrapperCol,extra:e.tips}},[a("a-row",{attrs:{gutter:8}},[a("a-col",{attrs:{span:12}},[a("a-time-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name,{initialValue:""==e.value?null:e.moment(e.value,e.timeFormat),rules:[{required:e.required,message:e.requiredMessage}]}],expression:"[\n            name,\n            {\n              initialValue: value == '' ? null : moment(value, timeFormat),\n              rules: [{ required: required, message: requiredMessage }],\n            },\n          ]"}],key:e.name,staticStyle:{width:"100%"},attrs:{name:e.name,format:e.timeFormat}})],1)],1)],1):e._e(),"date"===e.type?a("a-form-item",{attrs:{format:e.dateFormat,label:e.title,disabled:e.disabled,labelCol:e.labelCol,wrapperCol:e.wrapperCol,extra:e.tips}},[a("a-row",{attrs:{gutter:8}},[a("a-col",{attrs:{span:12}},[a("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:[e.name,{initialValue:""==e.value?null:e.moment(e.value,e.dateFormat),rules:[{required:e.required,message:e.requiredMessage}]}],expression:"[\n            name,\n            {\n              initialValue: value == '' ? null : moment(value, dateFormat),\n              rules: [{ required: required, message: requiredMessage }],\n            },\n          ]"}],key:e.name,staticStyle:{width:"100%"},attrs:{name:e.name}})],1)],1)],1):e._e(),"file"===e.type?a("a-form-item",{attrs:{label:e.title,disabled:e.disabled,labelCol:e.labelCol,wrapperCol:e.wrapperCol,extra:e.tips}},[a("a-row",{attrs:{gutter:8}},[a("a-col",{attrs:{span:12}},[a("a-upload",{staticClass:"file-upload",attrs:{name:"file",action:"/v20/public/index.php/common/common.UploadFile/uploadFile?upload_dir=file&fieldname="+e.name,"file-list":e.fileList,multiple:!1,"before-upload":e.beforeUploadFile},on:{change:e.handleChange,preview:e.handlePreview}},[a("a-button",[a("a-icon",{attrs:{type:"upload"}}),e._v("上传文件 ")],1)],1)],1)],1)],1):e._e(),"image"===e.type?a("a-form-item",{attrs:{label:e.title,labelCol:e.labelCol,disabled:e.disabled,wrapperCol:e.wrapperCol,extra:e.tips}},[a("a-row",{attrs:{gutter:8}},[a("a-col",{attrs:{span:12}},[a("a-upload",{attrs:{name:"img",action:"/v20/public/index.php/common/platform.system.config/upload?fieldname="+e.name,"file-list":e.fileList,multiple:!1,"before-upload":e.beforeUploadFile},on:{change:e.handleChange}},[a("a-button",[a("a-icon",{attrs:{type:"upload"}}),e._v("上传图片 ")],1)],1)],1)],1)],1):e._e()],1)},i=[],l=t("2909"),n=(t("a9e3"),t("fb6a"),t("d81d"),t("ac1f"),t("1276"),t("caad"),t("2532"),t("c1df")),s=t.n(n),o=t("7a6b");function u(e,a){var t=new FileReader;t.addEventListener("load",(function(){return a(t.result)})),t.readAsDataURL(e)}var d={name:"FormItem",components:{CustomTooltip:o["a"]},props:{labelCol:{type:Object,default:function(){return{lg:{span:6},sm:{span:7}}}},wrapperCol:{type:Object,default:function(){return{lg:{span:14},sm:{span:17}}}},title:{type:String,default:"标题"},name:{type:String,default:"name"},required:{type:Boolean,default:!1},requiredMessage:{type:String,default:"此项必填"},tips:{type:String,default:""},type:{type:String,default:"text"},number:{type:Boolean,default:!1},digits:{type:Boolean,default:!1},precision:{type:Number,default:2},url:{type:Boolean,default:!1},max:{type:[Number,String]},min:{type:[Number,String]},maxlength:{type:[Number,String],default:21e3},selectArray:{type:Array,default:function(){return[]}},rows:{type:Number,default:4},placeholder:{type:String,default:""},value:{type:[Object,String,Array,Boolean,Number],default:null},tipsSize:{type:String,default:"18px"},tipsColor:{type:String,default:"#c5c5c5"},disabled:{type:Boolean,default:!1},fileUploadUrl:{type:String,default:""},imgUploadUrl:{type:String,default:""},switchCheckedText:{type:String,default:"开启"},switchUncheckedText:{type:String,default:"关闭"},filetype:{type:String,default:""},fsize:{type:[Number,String],default:0}},data:function(){return{timeFormat:"HH:mm",dateFormat:"YYYY-MM-DD",headers:{authorization:"authorization-text"},loading:!1,imageUrl:"",fileList:[],uploadFileRet:!0}},mounted:function(){this.uploadFileRet=!0,"image"!=this.type&&"file"!=this.type||this.value&&(this.fileList=[{uid:"1",name:this.value,status:"done",url:this.value}],this.$emit("getFileValue",this.type,this.name,this.value))},watch:{fileList:function(e){this.$emit("uploadChange",{name:this.name,type:this.type,value:e})}},methods:{moment:s.a,handleChange:function(e){var a=this,t=Object(l["a"])(e.fileList);t=t.slice(-1);t=t.map((function(e){return e.response&&(a.uploadFileRet=!0,1e3==e.response.status?(e.url=e.response.data,!0):(e.name=a.value,e.url=a.value,a.$message.error(e.response.msg))),e})),this.uploadFileRet?this.fileList=t:this.fileList=[]},handlePreview:function(e){return!1},beforeUploadFile:function(e){var a=e.type.toLowerCase(),t=a.split("/");this.uploadFileRet=!0;var r=["mpeg","x-mpeg","mp3","x-mpeg-3","mpg","x-mp3","mpeg3","x-mpeg3","x-mpg","x-mpegaudio"];if(this.filetype&&this.filetype.length>0){if("mp3"==this.filetype&&!r.includes(t["1"]))return this.uploadFileRet=!1,this.$message.error("上传的文件只支持"+this.filetype+"格式"),!1;if("mp3"!=this.filetype&&!this.filetype.includes(t["1"]))return this.uploadFileRet=!1,this.$message.error("上传的文件只支持"+this.filetype+"格式"),!1}var i=e.size/1024/1024,l=0;return this.fsize&&(l=1*this.fsize),!(l>0&&i>l)||(this.uploadFileRet=!1,this.$message.error("上传图片最大支持"+l+"MB!"),!1)},normFile:function(e){return Array.isArray(e)?e:"done"!=e.file.status?e.fileList:"1000"==e.file.response.status?e.file.response.data:void this.$message.error("上传失败！")},imgFile:function(e){var a=this;return u(e.file.originFileObj,(function(e){a.imageUrl=e})),"done"!=e.file.status?e.fileList:"1000"==e.file.response.status?(this.fileList=[e.file.response.data],this.fileList):void this.$message.error("上传失败！")}}},p=d,m=(t("d03d"),t("2877")),c=Object(m["a"])(p,r,i,!1,null,"5afeb148",null);a["a"]=c.exports},2627:function(e,a,t){"use strict";t.r(a);t("b0c0");var r=function(){var e=this,a=e._self._c;return a("div",{staticClass:"page-header-index-wide pay-channel-box"},[a("a-card",{style:{height:"100%"},attrs:{bordered:!1,bodyStyle:{padding:"16px 0",height:"100%"}}},[a("div",{staticClass:"account-settings-info-main",class:e.device},[a("div",{staticClass:"account-settings-info-left"},[a("a-menu",{style:{border:"0",width:"mobile"==e.device?"560px":"auto"},attrs:{mode:"mobile"==e.device?"horizontal":"inline",type:"inner","selected-keys":e.selectedKeys}},e._l(e.channels,(function(t){return a("a-menu-item",{key:t.id,on:{click:function(a){return e.changeChannel(t.id)}}},[e._v(" "+e._s(t.channel_name)+" ")])})),1)],1),a("div",{staticClass:"account-settings-info-right"},[a("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[e._l(e.formData,(function(t,r){return a("form-item",{key:t.name+"_"+e.current_channelid,attrs:{title:t.title,name:t.name,type:t.type,required:t.required,value:t.value,tips:t.tips,url:t.url,max:t.max,min:t.min,rows:t.rows,placeholder:t.placeholder,selectArray:t.selectArray},on:{uploadChange:e.uploadChange,getFileValue:e.getFileValue}})})),a("a-form-item",{staticStyle:{"text-align":"center"},attrs:{wrapperCol:{span:24}}},[a("a-button",{attrs:{htmlType:"submit",type:"primary"}},[e._v("提交")])],1)],2)],1)])])],1)},i=[],l=t("5530"),n=(t("a9e3"),t("ac0d")),s=t("19bb"),o=t("c6fe"),u=t("85f8"),d=t("8386"),p={components:{FormItem:s["a"]},mixins:[n["c"]],props:{code:{type:String,default:""},env:{type:String,default:""},isSystem:{type:String,default:""}},data:function(){return{form:this.$form.createForm(this),formData:[],channels:[],selectedKeys:[1],openKeys:[],current_channelid:0}},methods:{uploadChange:function(e){var a=e.name,t="";if(e.value.length){var r=e.value[0];t=r&&r.response&&r.response.data?r.response.data:""}this.form.getFieldDecorator(a,{initialValue:t})},getChannel:function(e){var a=this,t=o["a"].getChannels;0==this.isSystem||"0"==this.isSystem?t=u["a"].getChannels:2!=this.isSystem&&"2"!=this.isSystem||(t=d["a"].getChannels),e&&this.request(t,{code:this.code,env:e}).then((function(e){a.selectedKeys=[],a.channels=e.channels,a.selectedKeys.push(Number(e.default_channel)),a.getChannelInfo(e.default_channel)}))},getChannelInfo:function(e){var a=this,t=o["a"].getChannelInfo;0==this.isSystem||"0"==this.isSystem?t=u["a"].getChannelInfo:2!=this.isSystem&&"2"!=this.isSystem||(t=d["a"].getChannelInfo),this.current_channelid=e,this.request(t,{channel_id:e}).then((function(e){a.formData=e}))},changeChannel:function(e){this.selectedKeys=[],this.selectedKeys.push(Number(e)),this.getChannelInfo(e)},handleSubmit:function(e){var a=this,t=o["a"].setChannelParams;0==this.isSystem||"0"==this.isSystem?t=u["a"].setChannelParams:2!=this.isSystem&&"2"!=this.isSystem||(t=d["a"].setChannelParams),e.preventDefault(),this.form.validateFields((function(e,r){if(!e){var i=Object(l["a"])({},r);a.request(t,{channel_id:a.current_channelid,formData:i},"post",(function(e){a.$message.success(e)})).then((function(e,a){}))}}))},getFileValue:function(e,a,t){var r=this;this.$nextTick((function(){"file"==e&&r.form.getFieldDecorator(a,{initialValue:t})}))}},mounted:function(){this.getChannel(this.env)},watch:{env:{handler:function(e){this.getChannel(e)}}}},m=p,c=(t("d5c1"),t("2877")),f=Object(c["a"])(m,r,i,!1,null,"561c51ed",null);a["default"]=f.exports},2909:function(e,a,t){"use strict";t.d(a,"a",(function(){return o}));var r=t("6b75");function i(e){if(Array.isArray(e))return Object(r["a"])(e)}t("a4d3"),t("e01a"),t("d3b7"),t("d28b"),t("3ca3"),t("ddb0"),t("a630");function l(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var n=t("06c5");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e){return i(e)||l(e)||Object(n["a"])(e)||s()}},8386:function(e,a,t){"use strict";var r={getPayTypes:"/pay/property.pay/getPayTypes",getPayTypeInfo:"/pay/property.pay/getPayTypeInfo",getChannels:"/pay/property.pay/getChannels",getChannelInfo:"/pay/property.pay/getChannelInfo",setChannelParams:"/pay/property.pay/setChannelParams"};a["a"]=r},"85f8":function(e,a,t){"use strict";var r={getPayTypes:"/pay/merchant.pay/getPayTypes",getPayTypeInfo:"/pay/merchant.pay/getPayTypeInfo",getChannels:"/pay/merchant.pay/getChannels",getChannelInfo:"/pay/merchant.pay/getChannelInfo",setChannelParams:"/pay/merchant.pay/setChannelParams"};a["a"]=r},"8aff":function(e,a,t){},c6fe:function(e,a,t){"use strict";var r={getPayTypes:"/pay/platform.pay/getPayTypes",getPayTypeInfo:"/pay/platform.pay/getPayTypeInfo",getChannels:"/pay/platform.pay/getChannels",getChannelInfo:"/pay/platform.pay/getChannelInfo",setChannelParams:"/pay/platform.pay/setChannelParams"};a["a"]=r},d03d:function(e,a,t){"use strict";t("f9d9")},d5c1:function(e,a,t){"use strict";t("8aff")},f9d9:function(e,a,t){}}]);