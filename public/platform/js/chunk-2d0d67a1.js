(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d67a1"],{"735d":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:e.title,width:600,visible:e.visible,maskClosable:!1,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form",{attrs:{form:e.form}},[a("a-form-item",{attrs:{label:"设备类型",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-col",{attrs:{span:24}},[a("a-input",{attrs:{placeholder:"请输入设备类型",disabled:!0},model:{value:e.post.ac_type,callback:function(t){e.$set(e.post,"ac_type",t)},expression:"post.ac_type"}})],1)],1),a("a-form-item",{attrs:{label:"设备编号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-col",{attrs:{span:24}},[a("a-input",{attrs:{placeholder:"请输入设备编号",disabled:!0},model:{value:e.post.ac_num,callback:function(t){e.$set(e.post,"ac_num",t)},expression:"post.ac_num"}})],1)],1),a("a-form-item",{attrs:{label:"设备名称",labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:!0}},[a("a-col",{attrs:{span:24}},[a("a-input",{attrs:{placeholder:"请输入设备名称"},model:{value:e.post.ac_name,callback:function(t){e.$set(e.post,"ac_name",t)},expression:"post.ac_name"}})],1)],1),a("a-form-item",{attrs:{label:"设备位置",labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:!0}},[a("a-col",{attrs:{span:10}},[a("a-select",{staticStyle:{width:"120px"},attrs:{"default-value":"1",placeholder:"请选择楼栋或公共区域"},on:{change:function(t){return e.getAreaList1()}},model:{value:e.post.area_type,callback:function(t){e.$set(e.post,"area_type",t)},expression:"post.area_type"}},[a("a-select-option",{attrs:{value:"1"}},[e._v(" 公共区域 ")]),a("a-select-option",{attrs:{value:"2"}},[e._v(" 楼栋 ")])],1)],1),a("a-col",{attrs:{span:10}},[a("a-select",{staticStyle:{width:"175px"},attrs:{"default-value":"0",placeholder:"请输入位置"},model:{value:e.post.ac_area,callback:function(t){e.$set(e.post,"ac_area",t)},expression:"post.ac_area"}},e._l(e.area_list,(function(t,s){return a("a-select-option",{key:s,attrs:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1)],1),a("a-form-item",{attrs:{label:"启用时间",labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:!0}},[a("a-col",{attrs:{span:24}},[a("a-date-picker",{staticStyle:{width:"300px"},attrs:{format:"YYYY-MM-DD",allowClear:!1,placeholder:"请选择日期",value:e.moment(e.post.use_time,"YYYY-MM-DD")},on:{change:e.dayOnChange}})],1)],1),a("a-form-item",{attrs:{label:"备注",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a("a-col",{attrs:{span:24}},[a("a-textarea",{attrs:{maxLength:200,placeholder:"请输入备注,文字不超过200个字"},model:{value:e.post.remark,callback:function(t){e.$set(e.post,"remark",t)},expression:"post.remark"}})],1)],1)],1)],1)],1)},l=[],o=a("a0e0"),r=a("c1df"),i=a.n(r),n={data:function(){return{title:"新建",labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},area_list:[],confirmLoading:!1,form:this.$form.createForm(this),visible:!1,post:{id:0,ac_type:"无线AP",ac_name:"",ac_num:"",ac_area:"",area_type:"1",use_time:"",last_time:"",remark:""}}},methods:{moment:i.a,dayOnChange:function(e,t){console.log("date",e),console.log("dateString",t),null==e&&(this.post.use_time="0"),this.post.use_time=t,this.$forceUpdate()},add:function(){this.title="添加",this.visible=!0,this.post={id:0,ac_type:"无线AP",ac_name:"",ac_num:"",ac_area:"",area_type:"1",use_time:"",last_time:"",remark:""},this.getAreaList1()},edit:function(e){this.title="修改",this.visible=!0,this.post={id:0,ac_type:"无线AP",ac_name:"",ac_num:"",ac_area:"",area_type:"1",use_time:"",last_time:"",remark:""},this.getAreaList(e),this.getInfo(e)},getInfo:function(e){var t=this;this.request(o["a"].getDeviceInfo,{id:e}).then((function(e){e&&(console.log("res",e),t.post=e)}))},getAreaList:function(e){var t=this;this.request(o["a"].getAddressList,{id:e}).then((function(e){e&&(console.log("res11111",e),t.area_list=e.list)}))},getAreaList1:function(){var e=this;this.post.ac_area="",console.log("area_type",this.post.area_type),this.request(o["a"].getAddressList,{type:this.post.area_type}).then((function(t){t&&(console.log("res11111",t),e.area_list=t.list)}))},handleSubmit:function(){var e=this;if(this.post.id>0){var t=this;this.request(o["a"].editDevice,this.post).then((function(a){a&&(t.$message.success("编辑成功"),e.visible=!1,e.form=e.$form.createForm(e),e.$emit("ok"))}))}},handleCancel:function(){var e=this;this.visible=!1,setTimeout((function(){e.post.id="0",e.form=e.$form.createForm(e)}),500)}}},c=n,p=a("2877"),m=Object(p["a"])(c,s,l,!1,null,"398b978f",null);t["default"]=m.exports}}]);