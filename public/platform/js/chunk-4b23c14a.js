(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b23c14a"],{"2de7":function(e,t,a){"use strict";a("376b")},"376b":function(e,t,a){},"57cd":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:e.title,width:600,visible:e.visible},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("p",[e._v("您最多可添加10个标签（限填5个字）")]),a("a-form",{attrs:{form:e.form}},[e._l(e.form.getFieldValue("keys"),(function(t,s){return a("a-form-item",e._b({key:t,staticStyle:{"margin-bottom":"0px"},attrs:{required:!1}},"a-form-item",e.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["names["+t+"]",{initialValue:e.label_nams[t],validateTrigger:["change","blur"],rules:[{required:!0,whitespace:!0,message:"请填写标签"}]}],expression:"[\n      `names[${k}]`,\n      {\n        initialValue:label_nams[k],\n        validateTrigger: ['change', 'blur'],\n        rules: [\n          {\n            required: true,\n            whitespace: true,\n            message: '请填写标签',\n          },\n        ],\n      },\n    ]"}],staticStyle:{width:"60%","margin-right":"8px"},attrs:{placeholder:""}}),e.form.getFieldValue("keys").length>1?a("a-icon",{staticClass:"dynamic-delete-button",attrs:{type:"minus-circle-o",disabled:1===e.form.getFieldValue("keys").length},on:{click:function(){return e.remove(t)}}}):e._e()],1)})),a("a-form-item",e._b({},"a-form-item",e.formItemLayout,!1),[e.form.getFieldValue("keys").length<=9?a("a-button",{staticStyle:{width:"60%",color:"#1890ff",border:"1px solid #1890ff"},attrs:{type:"solid"},on:{click:e.add}},[a("a-icon",{attrs:{type:"plus"}}),e._v(" 新增 ")],1):e._e()],1)],2)],1)},l=[],n=(a("4de4"),a("d3b7"),a("99af"),a("ddb0"),a("f91a")),i=0,r={data:function(){return{title:"标签设置",visible:!1,formItemLayout:{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:10},sm:{span:10}}},label_nams:[]}},beforeCreate:function(){this.form=this.$form.createForm(this,{name:"add_label"}),this.form.getFieldDecorator("keys",{initialValue:[],preserve:!0})},methods:{get_label:function(){var e=this;this.request(n["a"].getLabels,{}).then((function(t){i=t.length;for(var a=[],s=0;s<i;s++)a.push(s),e.label_nams.push(t[s]["label_name"]);var l=e.form;l.setFieldsValue({keys:a})}))},add_label:function(){this.visible=!0,this.get_label()},handleCancel:function(){this.visible=!1},remove:function(e){var t=this.form,a=t.getFieldValue("keys");1!==a.length&&t.setFieldsValue({keys:a.filter((function(t){return t!==e}))})},add:function(){var e=this.form,t=e.getFieldValue("keys"),a=t.concat(i++);console.log(a),e.setFieldsValue({keys:a})},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){if(!e){a.keys;var s=a.names;console.log(a),t.request(n["a"].saveLabels,{label_names:s}).then((function(e){t.visible=!1,t.$message.success(t.L("设置成功")),t.$emit("refreshLists",{})}))}}))}}},o=r,c=(a("2de7"),a("0c7c")),u=Object(c["a"])(o,s,l,!1,null,null,null);t["default"]=u.exports},f91a:function(e,t,a){"use strict";var s={searchMerchant:"/qa/platform.Ask/searchMerchant",storeLists:"/merchant/merchant.Store/getStoreList",askLists:"/qa/merchant.Ask/lists",setIndexShow:"/qa/merchant.Ask/setIndexShow",saveLabels:"/qa/merchant.Ask/saveLabels",getLabels:"/qa/merchant.Ask/getLabels",saveAskLabel:"/qa/merchant.Ask/saveAskLabel",askDetail:"/qa/merchant.Ask/askDetail",getAll:"/qa/platform.Ask/getAll",delete:"/qa/platform.Ask/delete"};t["a"]=s}}]);