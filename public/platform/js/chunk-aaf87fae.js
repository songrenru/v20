(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aaf87fae","chunk-6b219d7c"],{"2d0e":function(t,e,o){},9686:function(t,e,o){"use strict";var a={getMicroPageList:"/common/common.DecoratePage/getMicroPageList",getpersonalDec:"/common/common.DecoratePage/getpersonalDec",delMicroPage:"/common/common.DecoratePage/delMicroPage",setHomePage:"/common/common.DecoratePage/setHomePage",addOrEditpersonalDec:"/common/common.DecoratePage/addOrEditpersonalDec",getNavBottomDec:"/common/common.DecoratePage/getNavBottomDec",addOrEditNavBottom:"/common/common.DecoratePage/addOrEditNavBottom",getSuspendedWindow:"/common/common.DecoratePage/getSuspendedWindow",addOrEditSuspendedWindow:"/common/common.DecoratePage/addOrEditSuspendedWindow",getIndexPage:"/common/common.DecoratePage/getIndexPage",getEditMicoPage:"/common/common.DecoratePage/getEditMicoPage",getCoupons:"/common/common.DecoratePage/getCoupons",getActInfo:"/common/common.DecoratePage/getActInfo",getMallActInfo:"/common/common.DecoratePage/getMallActInfo",getMallGoods:"/common/common.DecoratePage/getMallGoods",getMallGoodsGroup:"/common/common.DecoratePage/getMallGoodsGroup",getShopGoodsGroup:"/common/common.DecoratePage/getShopGoodsGroup",getShopGoods:"/common/common.DecoratePage/getShopGoods",addOrEditMicroPage:"/common/common.DecoratePage/addOrEditMicroPage",getMerchantStoreMsg:"/common/common.DecoratePage/getMerchantStoreMsg",getDiypageModel:"/common/platform.diypage/getDiypageModel",getDiypageDetail:"/common/platform.diypage/getDiypageDetail",getFeedCategoryList:"/common/platform.diypage/getFeedCategoryList",getSearchHotList:"/common/platform.diypage/getSearchHotList",saveDiypage:"/common/platform.diypage/saveDiypage",getMerchantCategoryChildList:"/common/platform.diypage/getMerchantCategoryChildList"};e["a"]=a},a2f8:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.content?o("div",{staticClass:"wrap",class:{borderNone:t.borderNone}},[o("div",{staticClass:"title"},[t._v(t._s(t.L(t.content.title)))]),o("div",{staticClass:"desc"},[t._v(t._s(t.L(t.content.desc)))])]):t._e()},s=[],n={props:{content:{type:[String,Object],default:""},borderNone:{type:Boolean,default:!1}}},i=n,c=(o("f0ca"),o("0c7c")),r=Object(c["a"])(i,a,s,!1,null,"9947987e",null);e["default"]=r.exports},d88c:function(t,e,o){"use strict";o("2d0e")},e063:function(t,e,o){},ed0d:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("componentDesc",{attrs:{content:t.desc}}),o("div",{staticClass:"content"},[o("div",{staticClass:"map-set flex align-center justify-between"},[o("span",[t._v(t._s(t.L("地图设置：")))]),t.formData&&t.formData.list?o("span",{staticClass:"flex-1 address-name no-wrap"},[t._v(t._s(t.formData.list.site))]):t._e(),o("a-button",{attrs:{type:"primary"},on:{click:t.showMapModal}},[o("span",[t._v(t._s(t.L("切换位置")))])])],1)]),o("a-modal",{attrs:{width:"1000px",title:t.L("地图"),destroyOnClose:!0},on:{ok:t.handleOk,cancel:t.handleCancel},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[o("div",{staticClass:"flex flex-wrap justify-between"},[o("div",{staticClass:"flex",staticStyle:{width:"260px"}},[o("a-input",{staticStyle:{"margin-right":"6px"},attrs:{placeholder:t.L("城市名称")},on:{change:t.showPanelInput},model:{value:t.cityKeyword,callback:function(e){t.cityKeyword=e},expression:"cityKeyword"}}),o("a-input",{staticStyle:{width:"200px"},attrs:{placeholder:t.L("请输入关键字")},on:{change:t.showPanelInput},model:{value:t.addressKeyword,callback:function(e){t.addressKeyword=e},expression:"addressKeyword"}})],1),o("div",{staticClass:"flex-1 ml-40"},[o("baidu-map",{staticClass:"bm-view",attrs:{zoom:t.zoom,center:t.postionMap,"scroll-wheel-zoom":!0},on:{click:t.getLocationPoint}},[o("bm-navigation",{attrs:{anchor:"BMAP_ANCHOR_TOP_LEFT"}}),o("bm-map-type",{attrs:{"map-types":["BMAP_NORMAL_MAP","BMAP_SATELLITE_MAP"],anchor:"BMAP_ANCHOR_TOP_RIGHT"}}),o("bm-local-search",{staticClass:"searchRes",attrs:{keyword:t.addressKeyword,location:t.cityKeyword,zoom:t.zoom,"auto-viewport":!0,panel:t.showPanel},on:{infohtmlset:t.infohtmlset}}),o("bm-marker",{attrs:{position:t.postionMap,dragging:!0}})],1)],1)])])],1)},s=[],n=(o("a9e3"),o("b0c0"),o("d81d"),o("a2f8")),i=o("9686"),c={components:{componentDesc:n["default"]},props:{formContent:{type:[String,Object],default:""}},data:function(){return{desc:{title:this.L("地图")},formData:"",source:this.$route.query.source||"",storeInfo:[],visible:!1,showPanel:!1,zoom:12.8,postionMap:{lng:116.405994,lat:39.91737},addressKeyword:"",cityKeyword:"",add:{}}},computed:{sourceInfo:function(){return this.$store.state.customPage.sourceInfo}},watch:{formData:{deep:!0,handler:function(t){this.$emit("updatePageInfo",t)}}},mounted:function(){if(this.formContent)for(var t in this.formData={},this.formContent)this.$set(this.formData,t,this.formContent[t]);this.source&&"store"==this.source&&(this.formData&&this.formData.list&&!this.formData.list.customAddress||!this.formData||this.formData&&!this.formData.list)&&this.getStoreInfo()},methods:{getStoreInfo:function(){var t=this,e={source_id:this.sourceInfo.source_id};this.request(i["a"].getMerchantStoreMsg,e).then((function(e){t.storeInfo=e||[],t.postionMap.lng=Number(t.storeInfo.store.long),t.postionMap.lat=Number(t.storeInfo.store.lat),t.add.lng=Number(t.storeInfo.store.long),t.add.lat=Number(t.storeInfo.store.lat),t.add.siteName=t.storeInfo.store.name,t.add.site=t.storeInfo.store.adress,t.$set(t.formData,"list",t.add)}))},showMapModal:function(){this.visible=!0},handleOk:function(){this.visible=!1},handleCancel:function(){this.visible=!1},infohtmlset:function(t){t&&(this.postionMap.lng=t.point.lng,this.postionMap.lat=t.point.lat,this.add.siteName=t.title,this.add.site=t.address,this.add.lng=t.point.lng,this.add.lat=t.point.lat,this.addressKeyword=t.title,this.$set(this.add,"customAddress",!0)),this.$set(this.formData,"list",this.add)},showPanelInput:function(){this.showPanel=!this.showPanel},getLocationPoint:function(t){var e=this;this.postionMap.lng=t.point.lng,this.postionMap.lat=t.point.lat,this.add.lng=t.point.lng,this.add.lat=t.point.lat,this.zoom=t.target.getZoom(),this.$set(this.add,"customAddress",!0);var o=new BMap.Geocoder;o.getLocation(t.point,(function(t){e.add.site=t.address,t.surroundingPois&&t.surroundingPois.map((function(t){t&&(e.add.siteName=t.title,e.addressKeyword=t.title)}))})),this.$set(this.formData,"list",this.add)}}},r=c,d=(o("d88c"),o("0c7c")),m=Object(d["a"])(r,a,s,!1,null,"0e80dd3e",null);e["default"]=m.exports},f0ca:function(t,e,o){"use strict";o("e063")}}]);