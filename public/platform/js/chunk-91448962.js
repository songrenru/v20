(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-91448962"],{"22c8":function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("a-modal",{attrs:{visible:e.visible,title:e.title,width:"60%"},on:{cancel:e.handleCancel,ok:e.handleOk}},[t("a-form-model",{attrs:{model:e.formData,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[t("a-form-model-item",{attrs:{label:"活动名称",required:""}},[t("a-input",{model:{value:e.formData.name,callback:function(a){e.$set(e.formData,"name",a)},expression:"formData.name"}})],1),t("a-form-model-item",{attrs:{label:"赠送余额数量"}},[t("a-input",{attrs:{type:"number"},model:{value:e.formData.balance_deno,callback:function(a){e.$set(e.formData,"balance_deno",a)},expression:"formData.balance_deno"}})],1),t("a-form-model-item",{attrs:{label:"赠送积分数量"}},[t("a-input",{attrs:{type:"number"},model:{value:e.formData.score_deno,callback:function(a){e.$set(e.formData,"score_deno",a)},expression:"formData.score_deno"}})],1),t("a-form-model-item",{attrs:{label:"广告地址"}},[t("a-input",{model:{value:e.formData.ad_url,callback:function(a){e.$set(e.formData,"ad_url",a)},expression:"formData.ad_url"}}),t("a-button",{on:{click:e.choosePower}},[e._v("功能库")])],1),t("a-form-model-item",{attrs:{label:"可领取数",required:""}},[t("a-input",{attrs:{type:"number"},model:{value:e.formData.send_num,callback:function(a){e.$set(e.formData,"send_num",a)},expression:"formData.send_num"}})],1),t("a-form-model-item",{attrs:{label:"开始时间",required:""}},[t("a-date-picker",{staticStyle:{width:"100%"},attrs:{"show-time":"",type:"date",placeholder:"活动开始时间"},on:{change:e.startTimeChange}})],1),t("a-form-model-item",{attrs:{label:"结束时间",required:""}},[t("a-date-picker",{staticStyle:{width:"100%"},attrs:{"show-time":"",type:"date",placeholder:"活动结束时间"},on:{change:e.endTimeChange}})],1),t("a-form-model-item",{attrs:{label:"状态"}},[t("a-radio-group",{model:{value:e.formData.status,callback:function(a){e.$set(e.formData,"status",a)},expression:"formData.status"}},[t("a-radio",{attrs:{value:"1"}},[e._v(" 开启 ")]),t("a-radio",{attrs:{value:"0"}},[e._v(" 关闭 ")])],1)],1)],1)],1)],1)},r=[],o=(t("498a"),t("b0c0"),t("7035"));function s(e,a){var t=new FileReader;t.addEventListener("load",(function(){return a(t.result)})),t.readAsDataURL(e)}var i={props:{visible:Boolean,title:String},data:function(){return{labelCol:{span:6},wrapperCol:{span:10},formData:{name:"",balance_deno:0,score_deno:0,ad_url:"",send_num:0,start_time:void 0,end_time:void 0,status:"1"},loading:!1}},methods:{handleOk:function(){var e=this;return""===this.formData.name.trim()?(this.$message.error("活动名称必填！"),!1):this.formData.balance_deno<0?(this.$message.error("赠送余额数量必须大于等于0！"),!1):this.formData.score_deno<0?(this.$message.error("赠送积分数量必须大于等于0！"),!1):this.formData.score_deno<=0&&this.formData.balance_deno<=0?(this.$message.error("赠送积分/余额数量至少有一个大于0！"),!1):this.formData.send_num<=0?(this.$message.error("可领取数必须大于0！"),!1):void 0===this.formData.start_time?(this.$message.error("活动开始时间必填！"),!1):void 0===this.formData.end_time?(this.$message.error("活动结束时间必填！"),!1):void this.request(o["a"].addData,this.formData).then((function(a){e.$message.success("添加成功!",1),setTimeout((function(){e.formData={},e.$emit("handleCancel"),e.$emit("getDataList",!1)}),1e3)}))},handleCancel:function(){this.$emit("handleCancel")},handleUploadChange:function(e){var a=this;if("uploading"!==e.file.status){if("done"===e.file.status&&1e3===e.file.response.status){var t=e.file.response.data;this.$set(this.formData,"image",t),s(e.file.originFileObj,(function(e){a.image=e,a.loading=!1}))}}else this.loading=!0},startTimeChange:function(e,a){this.$set(this.formData,"start_time",a)},endTimeChange:function(e,a){this.$set(this.formData,"end_time",a)},choosePower:function(){var e=this;this.$LinkBases({source:"platform",type:this.bannerLinkType,handleOkBtn:function(a){e.$set(e.formData,"ad_url",a.url)}})}}},l=i,m=t("2877"),d=Object(m["a"])(l,n,r,!1,null,null,null);a["default"]=d.exports},7035:function(e,a,t){"use strict";var n={index:"/scan/platform.ScanSend/index",editData:"/scan/platform.ScanSend/edit",addData:"/scan/platform.ScanSend/add",setStatus:"/scan/platform.ScanSend/setStatus",recordList:"/scan/platform.ScanSend/getRecordList",setConfig:"/scan/platform.ScanSend/setConfig",exportEwm:"/scan/platform.ScanSend/exportEwm",exportRecordList:"/scan/platform.ScanSend/exportRecordList",recordAllList:"/scan/platform.ScanSend/getAllRecordList",singleDelete:"/scan/platform.ScanSend/singleDelete",multipleDelete:"/scan/platform.ScanSend/multipleDelete"};a["a"]=n}}]);