(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21d12f"],{d06c:function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("a-modal",{attrs:{title:e.title,width:600,visible:e.visible,maskClosable:!1,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[t("a-spin",{attrs:{spinning:e.confirmLoading}},[t("a-form",{attrs:{form:e.form}},[t("a-form-item",{attrs:{label:"设备类型",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-col",{attrs:{span:24}},[t("a-input",{attrs:{placeholder:"请输入设备类型",disabled:!0},model:{value:e.post.ac_type,callback:function(a){e.$set(e.post,"ac_type",a)},expression:"post.ac_type"}})],1)],1),t("a-form-item",{attrs:{label:"设备编号",labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:!0}},[t("a-col",{attrs:{span:24}},[t("a-select",{staticStyle:{width:"300px"},attrs:{"default-value":"0",placeholder:"请选择设备编号"},model:{value:e.post.ac_num,callback:function(a){e.$set(e.post,"ac_num",a)},expression:"post.ac_num"}},e._l(e.device_list,(function(a,s){return t("a-select-option",{key:s,attrs:{value:a.id}},[e._v(" "+e._s(a.ac_series)+" ")])})),1)],1)],1),t("a-form-item",{attrs:{label:"设备名称",labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:!0}},[t("a-col",{attrs:{span:24}},[t("a-input",{attrs:{placeholder:"请输入设备名称"},model:{value:e.post.ac_name,callback:function(a){e.$set(e.post,"ac_name",a)},expression:"post.ac_name"}})],1)],1),t("a-form-item",{attrs:{label:"设备位置",labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:!0}},[t("a-col",{attrs:{span:10}},[t("a-select",{staticStyle:{width:"120px"},attrs:{"default-value":"1",placeholder:"请选择楼栋或公共区域"},on:{change:function(a){return e.getAreaList()}},model:{value:e.post.area_type,callback:function(a){e.$set(e.post,"area_type",a)},expression:"post.area_type"}},[t("a-select-option",{attrs:{value:"1"}},[e._v(" 公共区域 ")]),t("a-select-option",{attrs:{value:"2"}},[e._v(" 楼栋 ")])],1)],1),t("a-col",{attrs:{span:10}},[t("a-select",{staticStyle:{width:"175px"},attrs:{"default-value":"0",placeholder:"请输入位置"},model:{value:e.post.ac_area,callback:function(a){e.$set(e.post,"ac_area",a)},expression:"post.ac_area"}},e._l(e.area_list,(function(a,s){return t("a-select-option",{key:s,attrs:{value:a.id}},[e._v(" "+e._s(a.name)+" ")])})),1)],1)],1),t("a-form-item",{attrs:{label:"启用时间",labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:!0}},[t("a-col",{attrs:{span:24}},[e.visible?t("a-date-picker",{staticStyle:{width:"300px"},attrs:{format:"YYYY-MM-DD",placeholder:"请选择日期"},on:{change:e.dayOnChange}}):e._e()],1)],1),t("a-form-item",{attrs:{label:"备注",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-col",{attrs:{span:24}},[t("a-textarea",{attrs:{maxLength:200,placeholder:"请输入备注,文字不超过200个字"},model:{value:e.post.remark,callback:function(a){e.$set(e.post,"remark",a)},expression:"post.remark"}})],1)],1)],1)],1)],1)},l=[],o=t("a0e0"),r=t("c1df"),i=t.n(r),n={data:function(){return{title:"新建",labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},area_list:[],device_list:[],confirmLoading:!1,form:this.$form.createForm(this),visible:!1,post:{id:0,ac_type:"无线AP",ac_name:"",ac_num:"",ac_area:"",area_type:"1",use_time:"",last_time:"",remark:""}}},methods:{moment:i.a,dayOnChange:function(e,a){console.log("date",e),console.log("dateString",a),null==e&&(this.post.use_time=""),this.post.use_time=a,this.$forceUpdate()},add:function(){this.title="添加",this.visible=!0,this.post={id:0,ac_type:"无线AP",ac_name:"",ac_num:"",ac_area:"",area_type:"1",use_time:"",last_time:"",remark:""},this.getAreaList(),this.getAddDeviceList()},getAddDeviceList:function(){var e=this;this.request(o["a"].getAddDeviceList).then((function(a){a&&(console.log("Addres11111",a),e.device_list=a)}))},getAreaList:function(){var e=this;console.log("area_type",this.post.area_type),this.request(o["a"].getAddressList,{type:this.post.area_type}).then((function(a){a&&(console.log("res11111",a),e.area_list=a.list,e.post.ac_area="")}))},handleSubmit:function(){var e=this,a=this;this.request(o["a"].addDevice,this.post).then((function(t){t&&(a.$message.success("添加成功"),e.visible=!1,e.form=e.$form.createForm(e),e.$emit("ok"))}))},handleCancel:function(){var e=this;this.visible=!1,setTimeout((function(){e.post.id="0",e.form=e.$form.createForm(e)}),500)}}},c=n,p=t("2877"),d=Object(p["a"])(c,s,l,!1,null,"41d51502",null);a["default"]=d.exports}}]);