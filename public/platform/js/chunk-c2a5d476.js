(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c2a5d476","chunk-124e5222","chunk-6563ff82","chunk-2d217ac8","chunk-2d0c4bbd"],{"33a4":function(e,t,a){"use strict";a("c89a")},"3ba9":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"charge_set"},[a("div",[a("a-alert",{staticStyle:{"margin-bottom":"10px","padding-top":"10px"},attrs:{message:"工单类别为选中状态时，新版工单启用收费流程；工单类别未选中状态时，新版工单不启用收费流程。",type:"info",banner:""}}),a("a-alert",{staticStyle:{"margin-top":"-10px","margin-bottom":"10px"},attrs:{message:"工单类别在启用收费流程操作时，该工单类别下的工单必须全部是已关闭状态或没有工单时，才能启用成功。",type:"info",banner:""}}),a("a-alert",{staticStyle:{"margin-top":"-10px","margin-bottom":"10px"},attrs:{message:"工单类别在关闭收费流程操作时，该工单类别下的工单必须全部是已关闭状态或没有工单时，才能关闭成功。",type:"info",banner:""}})],1),a("a-form-model",{ref:"ruleForm",staticStyle:{"margin-bottom":"150px"},attrs:{model:e.chargeForm,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("a-form-model-item",{attrs:{label:"工单类目",prop:"subject_id"}},[a("a-tree",{attrs:{"tree-data":e.treeData,"default-expand-all":e.defaultExpandAll,defaultExpandedKeys:["0-0"],checkable:""},model:{value:e.chargeForm.subject_id,callback:function(t){e.$set(e.chargeForm,"subject_id",t)},expression:"chargeForm.subject_id"}})],1)],1),a("div",{staticStyle:{"text-align":"center"}},[a("a-button",{staticStyle:{margin:"20px",position:"fixed",bottom:"40px"},attrs:{type:"primary",loading:e.confirmLoading},on:{click:function(t){return e.handleSubmit()}}},[e._v("保存设置")])],1)],1)},o=[],i=a("a0e0"),s={data:function(){return{rules:{subject_id:[{required:!1,message:"请选择工单类目",trigger:"blur"}]},labelCol:{span:4},wrapperCol:{span:14},chargeForm:{charge_type:1,subject_id:[]},treeData:[],defaultExpandAll:!0,confirmLoading:!1}},mounted:function(){this.getRepairCharge()},methods:{getRepairCharge:function(){var e=this;e.request(i["a"].getRepairCharge).then((function(t){e.treeData=t.res,e.chargeForm.subject_id=t.subject_ids,e.defaultExpandAll=!1}))},handleSubmit:function(){var e=this,t=this;t.$refs.ruleForm.validate((function(a){if(a){var r=e;r.confirmLoading=!0,r.request(i["a"].setRepairCharge,r.chargeForm).then((function(e){r.$message.success("设置成功！"),r.confirmLoading=!1})).catch((function(e){r.confirmLoading=!1}))}else t.$message.error("请求错误！")}))}}},n=s,l=a("2877"),c=Object(l["a"])(n,r,o,!1,null,"17ae5a79",null);t["default"]=c.exports},"5e6d":function(e,t,a){},"5ff9":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"black_list"},[a("div",{staticClass:"worker_order"},[a("a-tabs",{attrs:{"default-active-key":"baseSet","tab-position":"left",size:"large","tab-bar-style":{width:150}},on:{change:e.tabChange}},e._l(e.tabList,(function(t,r){return a("a-tab-pane",{key:t.key,attrs:{tab:t.name}},[e.currentTab==t.key?a(t.key,{tag:"component",on:{toChild:e.getFlag}}):e._e()],1)})),1)],1)])},o=[],i=a("c874"),s=a("3ba9"),n=a("8e18"),l=a("c421"),c={name:"workerSet",data:function(){return{tabList:[{name:"基本设置",key:"baseSet"},{name:"收费设置",key:"chargeSet"}],currentTab:"baseSet"}},components:{baseSet:i["default"],chargeSet:s["default"],remarkSet:n["default"],commentPoint:l["default"]},methods:{tabChange:function(e){this.currentTab=e,console.log("e===>",e)},getFlag:function(e){this.tabList="is_comment_point"==e?[{name:"基本设置",key:"baseSet"},{name:"收费设置",key:"chargeSet"},{name:"评价积分设置",key:"commentPoint"},{name:"评价设置",key:"remarkSet"}]:[{name:"基本设置",key:"baseSet"},{name:"收费设置",key:"chargeSet"},{name:"评价设置",key:"remarkSet"}]}},mounted:function(){}},u=c,m=(a("e215"),a("2877")),d=Object(m["a"])(u,r,o,!1,null,"f99ce612",null);t["default"]=d.exports},"8e18":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"remark_set"},[a("a-form-model",{ref:"ruleForm",attrs:{"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("div",{staticClass:"add_coupon"},[a("a-form-model-item",{attrs:{label:"启用 / 禁用"}},[a("a-switch",{attrs:{"default-checked":!1,"checked-children":"启用","un-checked-children":"禁用"},on:{change:e.switchChange},model:{value:e.auto_evaluate.is_open,callback:function(t){e.$set(e.auto_evaluate,"is_open",t)},expression:"auto_evaluate.is_open"}})],1),a("a-form-model-item",{attrs:{label:"结单完成后",extra:"当设置为 0 时,不支持小数,系统不进行自动好评"}},[a("div",{staticClass:"order_compelete"},[a("a-input-number",{attrs:{id:"inputNumber",min:0,max:360,step:1,formatter:function(e){return e.replace(/[^\d]/g,"")}},model:{value:e.auto_evaluate.stime,callback:function(t){e.$set(e.auto_evaluate,"stime",t)},expression:"auto_evaluate.stime"}}),a("a-select",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"请选择类型"},model:{value:e.auto_evaluate.stime_type,callback:function(t){e.$set(e.auto_evaluate,"stime_type",t)},expression:"auto_evaluate.stime_type"}},[a("a-select-option",{attrs:{value:"hour"}},[e._v("小时")]),a("a-select-option",{attrs:{value:"day"}},[e._v("天")])],1),a("span",{staticStyle:{"margin-left":"10px",width:"100px"}},[e._v("后自动好评")]),a("span",{staticStyle:{"margin-left":"10px",width:"115px"}},[e._v("自动好评时打星")]),a("a-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择评分","default-value":"5"},model:{value:e.auto_evaluate.star,callback:function(t){e.$set(e.auto_evaluate,"star",t)},expression:"auto_evaluate.star"}},[a("a-select-option",{attrs:{value:"1"}},[e._v("一星")]),a("a-select-option",{attrs:{value:"2"}},[e._v("二星")]),a("a-select-option",{attrs:{value:"3"}},[e._v("三星")]),a("a-select-option",{attrs:{value:"4"}},[e._v("四星")]),a("a-select-option",{attrs:{value:"5"}},[e._v("五星")])],1)],1)]),a("div",{staticStyle:{"text-align":"center"}},[a("a-button",{staticStyle:{"margin-top":"50px"},attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit()}}},[e._v("保存设置")])],1)],1)])],1)},o=[],i=a("a0e0"),s={data:function(){return{labelCol:{span:4},wrapperCol:{span:20},auto_evaluate:{is_open:!1,stime:0,stime_type:"hour",star:"5"}}},mounted:function(){this.getVillageRepairConfig()},methods:{switchChange:function(e){console.log("e===>",e)},getVillageRepairConfig:function(){var e=this;this.request(i["a"].getVillageRepairConfig).then((function(t){t&&t.repairConfig&&(e.auto_evaluate=t.repairConfig.auto_evaluate)}))},handleSubmit:function(){var e=this;console.log("auto_evaluate===>",this.auto_evaluate);var t={};t.auto_evaluate=this.auto_evaluate,t.xtype="auto_evaluate_set",this.request(i["a"].saveVillageRepairConfig,t).then((function(t){e.$message.success("操作成功！")}))}}},n=s,l=(a("33a4"),a("2877")),c=Object(l["a"])(n,r,o,!1,null,"2593fedb",null);t["default"]=c.exports},b6d8:function(e,t,a){"use strict";a("5e6d")},c421:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"remark_set",staticStyle:{width:"800px"}},[a("a-form-model",{ref:"ruleForm",attrs:{model:e.remarkForm,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("div",{staticClass:"add_coupon"},[a("a-form-model-item",{attrs:{label:"用户评价获得",prop:"per_works_order_integral",extra:"用户评价打星后会增加用户积分,如果工单多次评价只能获得一次积分"}},[a("div",{staticClass:"order_compelete"},[a("a-input-number",{attrs:{id:"inputNumber",min:0,max:99999999},model:{value:e.remarkForm.per_works_order_integral,callback:function(t){e.$set(e.remarkForm,"per_works_order_integral",t)},expression:"remarkForm.per_works_order_integral"}}),e._v("   积分 ")],1)]),a("a-form-model-item",{attrs:{label:"当天评价获取最大",prop:"day_works_order_integral",extra:"当天评价获取的积分数当超过设置最大积分值时，后续评价不会增加积分.用户评价获取积分跟当天评价获取最大积分建议取整数。例：用户评价获取积分为“2”积分，当天评价获取最大为“8”积分。当天评价获取最大积分设置为“0”时，不限制用户评价工单获取积分；"}},[a("div",{staticClass:"order_compelete"},[a("a-input-number",{attrs:{id:"inputNumber",min:0,max:99999999},model:{value:e.remarkForm.day_works_order_integral,callback:function(t){e.$set(e.remarkForm,"day_works_order_integral",t)},expression:"remarkForm.day_works_order_integral"}}),e._v("   积分（必须大于 【用户评价获得】设置的值） ")],1)]),a("div",{staticStyle:{"text-align":"center"}},[a("a-button",{staticStyle:{"margin-top":"50px"},attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit()}}},[e._v("保存设置")])],1)],1)])],1)},o=[],i=a("a0e0"),s={data:function(){return{labelCol:{span:4},wrapperCol:{span:15},remarkForm:{per_works_order_integral:0,day_works_order_integral:0,xtype:"other_set"},rules:{}}},mounted:function(){this.getVillageRepairConfig()},methods:{getVillageRepairConfig:function(){var e=this;this.request(i["a"].getVillageRepairConfig).then((function(t){t&&t.repairConfig&&(e.remarkForm.per_works_order_integral=t.repairConfig.per_works_order_integral,e.remarkForm.day_works_order_integral=t.repairConfig.day_works_order_integral)}))},handleSubmit:function(){var e=this;if(console.log(this.remarkForm),this.remarkForm.day_works_order_integral>0&&this.remarkForm.day_works_order_integral<this.remarkForm.per_works_order_integral)return this.$message.error("【当天评论获取最大】 必须要大于【用户评论获得】的值！"),!1;this.remarkForm.xtype="other_set",this.request(i["a"].saveVillageRepairConfig,this.remarkForm).then((function(t){e.$message.success("操作成功！")}))}}},n=s,l=(a("b6d8"),a("2877")),c=Object(l["a"])(n,r,o,!1,null,"a8cc480c",null);t["default"]=c.exports},c874:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"base_set"},[a("a-form-model",{ref:"ruleForm",attrs:{model:e.baseForm,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("div",{staticClass:"add_coupon"},[a("a-form-model-item",{attrs:{label:"新版工单及时率",prop:"is_timely",extra:"及时率是计算工作人员接单到结单的时间,工单类目设置时间为30分钟,在该时间内结单算正常,超过时间算问题工单"}},[a("a-radio-group",{attrs:{name:"radioGroup","default-value":1},model:{value:e.baseForm.is_timely,callback:function(t){e.$set(e.baseForm,"is_timely",t)},expression:"baseForm.is_timely"}},[a("a-radio",{attrs:{value:1}},[e._v("启用")]),a("a-radio",{attrs:{value:0}},[e._v("禁用")])],1)],1),a("a-form-model-item",{attrs:{label:"新版工单自动抢单",prop:"is_grab_order",extra:"自动抢单功能是指对工单类别,没有绑定负责人处理时间的情况下,业主发布工单时工作人员自行抢接这个任务,例如投诉工单或保修工单"}},[a("a-radio-group",{attrs:{name:"radioGroup","default-value":1},model:{value:e.baseForm.is_grab_order,callback:function(t){e.$set(e.baseForm,"is_grab_order",t)},expression:"baseForm.is_grab_order"}},[a("a-radio",{attrs:{value:1}},[e._v("启用")]),a("a-radio",{attrs:{value:0}},[e._v("禁用")])],1)],1),a("a-form-model-item",{attrs:{label:"超时指定的时间",prop:"grab_order_time"}},[a("a-input-number",{attrs:{id:"inputNumber",min:1},model:{value:e.baseForm.grab_order_time,callback:function(t){e.$set(e.baseForm,"grab_order_time",t)},expression:"baseForm.grab_order_time"}}),e._v(" 小时（业主发布工单多少没有工作人员接任务，由平台指定给特定的工作人员，例如投诉工单或报修工单） "),a("a-button",{attrs:{type:"primary"},on:{click:e.goBindWorker}},[e._v("去绑定")])],1),a("a-form-model-item",{attrs:{label:"是否启用新版工单",prop:"works_order_switch"}},[e.v_works_order_switch>0?a("a-radio-group",{attrs:{name:"radioGroup",value:1}},[a("a-radio",{attrs:{value:0,disabled:""}},[e._v("否")]),a("a-radio",{attrs:{value:1,disabled:""}},[e._v("是")])],1):a("a-radio-group",{attrs:{name:"radioGroup","default-value":0},model:{value:e.baseForm.works_order_switch,callback:function(t){e.$set(e.baseForm,"works_order_switch",t)},expression:"baseForm.works_order_switch"}},[a("a-radio",{attrs:{value:0}},[e._v("否")]),a("a-radio",{attrs:{value:1}},[e._v("是")])],1)],1)],1)]),a("a-card",{staticStyle:{"text-align":"center"},attrs:{bordered:!1}},[a("a-button",{staticStyle:{"margin-top":"20px","margin-right":"15px"},attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit()}}},[e._v("保存设置")])],1)],1),a("a-modal",{attrs:{title:"绑定指定工作人员",width:850,visible:e.bindWorkerVisiable,maskClosable:!1,footer:null},on:{cancel:e.cancelBindWorker}},[e.bindWorkerVisiable?a("iframe",{staticStyle:{height:"600px",border:"none"},attrs:{src:e.bindWorkerUrl,width:"100%"}}):e._e()])],1)},o=[],i=a("a0e0"),s={data:function(){return{labelCol:{span:4},wrapperCol:{span:14},baseForm:{is_timely:0,is_grab_order:0,grab_order_time:0,works_order_switch:0},v_works_order_switch:1,rules:{},bindWorkerUrl:"",bindWorkerVisiable:!1}},mounted:function(){this.getVillageRepairConfig()},methods:{goBindWorker:function(){this.bindWorkerVisiable=!0},cancelBindWorker:function(){this.bindWorkerVisiable=!1},getVillageRepairConfig:function(){var e=this;this.request(i["a"].getVillageRepairConfig).then((function(t){t&&(e.bindWorkerUrl=t.bindWorkerUrl,e.baseForm=t.repairConfig,e.v_works_order_switch=e.baseForm.works_order_switch,!t.is_comment_point||1!=t.is_comment_point&&"1"!=t.is_comment_point?e.$emit("toChild",""):e.$emit("toChild","is_comment_point"))}))},handleSubmit:function(){var e=this;this.baseForm.xtype="base_set",this.request(i["a"].saveVillageRepairConfig,this.baseForm).then((function(t){e.$message.success("操作成功！"),e.getVillageRepairConfig()}))}}},n=s,l=a("2877"),c=Object(l["a"])(n,r,o,!1,null,"25e5733e",null);t["default"]=c.exports},c89a:function(e,t,a){},e215:function(e,t,a){"use strict";a("ec6d")},ec6d:function(e,t,a){}}]);