(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-270c4f6c","chunk-6420cac8","chunk-2d0a310a"],{"011d":function(e,t,a){"use strict";var o={getSearchHotList:"/mall/platform.MallSearchHot/getSearchHotList",getHotRecord:"/mall/platform.MallSearchHot/getHotRecord",addOrEditSearchHot:"/mall/platform.MallSearchHot/addOrEditSearchHot",getEditSearchHot:"/mall/platform.MallSearchHot/getEditSearchHot",delSearchHot:"/mall/platform.MallSearchHot/delSearchHot",saveSort:"/mall/platform.MallSearchHot/saveSort",getGoodsList:"/mall/platform.MallPlatformGoods/getGoodsList",getMerOrStoreList:"/mall/platform.MallPlatformGoods/getMerOrStoreList",goodsCategoryList:"/mall/platform.MallGoodsCategory/goodsCategoryList",goodsSetSort:"/mall/platform.MallPlatformGoods/setSort",getGoodsListByName:"/mall/platform.MallPlatformGoods/getGoodsListByName",exportGoods:"/mall/platform.MallPlatformGoods/exportGoods",goodsSetIntegral:"/mall/platform.MallPlatformGoods/setIntegral",goodsSetCommission:"/mall/platform.MallPlatformGoods/setCommission",goodsSetVirtual:"/mall/platform.MallPlatformGoods/setVirtual",goodsSetStatus:"/mall/platform.MallPlatformGoods/setStatus",goodsSetFirst:"/mall/platform.MallPlatformGoods/setFirst",merchantGoodsEdit:"/mall/platform.mallPlatformGoods/merchantGoodsEdit",getActivityRecommendList:"/mall/platform.MallActivityRecommend/getActivityRecommendList",getLimitedRecommendList:"/mall/platform.mallActivityRecommend/getLimitedRecommendList",getBargainRecommendList:"/mall/platform.mallActivityRecommend/getBargainRecommendList",getGroupRecommendList:"/mall/platform.mallActivityRecommend/getGroupRecommendList",editLimitedRecommend:"/mall/platform.mallActivityRecommend/editLimitedRecommend",editBargainRecommend:"/mall/platform.mallActivityRecommend/editBargainRecommend",editGroupRecommend:"/mall/platform.mallActivityRecommend/editGroupRecommend",setFirstLimited:"/mall/platform.mallActivityRecommend/setFirstLimited",setFirstBargain:"/mall/platform.mallActivityRecommend/setFirstBargain",setFirstGroup:"/mall/platform.mallActivityRecommend/setFirstGroup",setSortGroup:"/mall/platform.mallActivityRecommend/setSortGroup",setSortLimited:"/mall/platform.mallActivityRecommend/setSortLimited",setSortBargain:"/mall/platform.mallActivityRecommend/setSortBargain",bannerList:"/mall/platform.mallActivityRecommend/bannerList",addOrEditBanner:"/mall/platform.mallActivityRecommend/addOrEditBanner",delBanner:"/mall/platform.mallActivityRecommend/delBanner",getReplyList:"/mall/platform.MallPlatformReply/searchReply",getReplyDetails:"/mall/platform.MallPlatformReply/getReplyDetails",delReply:"/mall/platform.MallPlatformReply/delReply",getOrderList:"/mall/platform.MallOrder/searchOrders",getOrderDetails:"/mall/platform.MallOrder/getOrderDetails",getStores:"/mall/platform.MallOrder/getStores",getMers:"/mall/platform.MallOrder/getMers",loginMer:"/mall/platform.MallOrder/loginMer",loginStore:"/mall/platform.MallOrder/loginStore",getAllArea:"/mall/platform.MallOrder/getAllArea",getDiscount:"/mall/platform.MallOrder/getDiscount",getOrderLog:"/mall/platform.MallOrder/getOrderLog",exportOrder:"/mall/platform.MallOrder/exportOrder",getList:"mall/platform.MallHomeDecorate/getList",getDel:"mall/platform.MallHomeDecorate/getDel",getEdit:"mall/platform.MallHomeDecorate/getEdit",addOrEditDecorate:"mall/platform.MallHomeDecorate/addOrEdit",getSixList:"mall/platform.MallHomeDecorate/getSixList",getSixEdit:"mall/platform.MallHomeDecorate/getSixEdit",addOrEditSixAdver:"mall/platform.MallHomeDecorate/addOrEditSixAdver",delSixAdver:"mall/platform.MallHomeDecorate/delSixAdver",getRecList:"mall/platform.MallHomeDecorate/getRecList",addOrEditRec:"mall/platform.MallHomeDecorate/addOrEditRec",getRecEdit:"mall/platform.MallHomeDecorate/getRecEdit",delRecAdver:"mall/platform.MallHomeDecorate/delRecAdver",recDisplay:"mall/platform.MallHomeDecorate/recDisplay",getActGoods:"mall/platform.MallHomeDecorate/getActGoods",addRelatedGoods:"mall/platform.MallHomeDecorate/addRelatedGoods",getUrlAndRecSwitch:"mall/platform.MallHomeDecorate/getUrlAndRecSwitch",getRelatedList:"mall/platform.MallHomeDecorate/getRelatedList",saveRelatedSort:"/mall/platform.MallHomeDecorate/saveRelatedSort",delOne:"/mall/platform.MallHomeDecorate/delOne",viewLogistics:"/mall/platform.MallOrder/viewLogistics",getPeriodicList:"/mall/platform.MallOrder/getPeriodicList",setRecommend:"/mall/platform.MallPlatformGoods/setRecommend",cancelRecommend:"/mall/platform.MallPlatformGoods/cancelRecommend",isShowReply:"/mall/platform.MallPlatformReply/isShowReply",getAuditGoodsList:"/mall/platform.MallPlatformGoods/getAuditGoodsList",auditGoods:"/mall/platform.MallPlatformGoods/auditGoods",loginMerchant:"/mall/platform.MallPlatformGoods/loginMerchant",orderPrintTicket:"/mall/platform.MallOrder/printOrder"};t["a"]=o},"1c11":function(e,t,a){"use strict";a.r(t);a("aa48"),a("8f7e");var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mt-10 mb-20 pt-20 pl-20 pr-20 pb-20 bg-ff br-10"},[t("div",[t("a-tabs",{attrs:{activeKey:e.activeKey},on:{change:e.actChange}},[t("a-tab-pane",{key:"getLimitedRecommendList",attrs:{tab:"秒杀活动"}}),t("a-tab-pane",{key:"getGroupRecommendList",attrs:{tab:"拼团活动"}}),t("a-tab-pane",{key:"getBargainRecommendList",attrs:{tab:"砍价活动"}})],1)],1),t("a-form-model",{attrs:{layout:"inline",model:e.searchForm},on:{submit:e.getLimitedRecommendList},nativeOn:{submit:function(e){e.preventDefault()}}},[t("a-row",{attrs:{type:"flex",justify:"space-between"}},[t("a-col",[t("a-form-model-item",{attrs:{label:"商品名称"}},[t("a-input",{staticClass:"keywords",staticStyle:{width:"200px"},attrs:{placeholder:"请输入商品名称"},model:{value:e.searchForm.keywords,callback:function(t){e.$set(e.searchForm,"keywords",t)},expression:"searchForm.keywords"}})],1)],1),t("a-col",[t("a-form-model-item",{attrs:{label:"推荐状态"}},[t("a-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择推荐状态"},on:{change:e.isRecommendChange},model:{value:e.searchForm.isRecommend,callback:function(t){e.$set(e.searchForm,"isRecommend",t)},expression:"searchForm.isRecommend"}},[t("a-select-option",{attrs:{value:"1"}},[e._v(" 已推荐至首页 ")]),t("a-select-option",{attrs:{value:"2"}},[e._v(" 未推荐至首页 ")])],1)],1)],1),t("a-col",[t("a-form-model-item",{attrs:{label:"选择商家"}},e._l(e.merchantOptions,(function(a){return t("a-radio",{key:a.value,attrs:{checked:a.value==e.merchantType},on:{click:function(t){return e.searchRadioOpt(a.value,"1")}}},[e._v(" "+e._s(a.label)+" ")])})),1),t("a-form-model-item",{attrs:{label:"选择店铺"}},e._l(e.storeOptions,(function(a){return t("a-radio",{key:a.value,attrs:{checked:a.value==e.storeType},on:{click:function(t){return e.searchRadioOpt(a.value,"2")}}},[e._v(" "+e._s(a.label)+" ")])})),1)],1),t("a-col",[t("a-form-model-item",{attrs:{label:"活动时间"}},[t("a-range-picker",{attrs:{value:e.searchForm.time,format:"YYYY-MM-DD"},on:{change:e.onDateRangeChange},model:{value:e.searchForm.time,callback:function(t){e.$set(e.searchForm,"time",t)},expression:"searchForm.time"}})],1)],1),t("a-col",[t("a-form-model-item",[t("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v(" 查询 ")]),t("a-button",{staticClass:"ml-20",on:{click:e.resetForm}},[e._v(" 重置 ")]),t("a-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.$refs.createModal.add()}}},[e._v("轮播图列表")])],1)],1)],1)],1),t("section",{staticClass:"mt-20"},[t("a-row",{attrs:{type:"flex",justify:"space-between"}},[t("a-col",{attrs:{span:30}},[t("a-table",{attrs:{columns:e.columnsList,"data-source":e.goodsList,pagination:!1,"row-selection":1==e.searchForm.isRecommend?null:{selectedRowKeys:e.goodsSelectedRowKeys,onChange:e.ongoodsSelectChange},rowKey:"goods_id"},scopedSlots:e._u([{key:"goods_name",fn:function(a,o){return[t("div",{staticClass:"flex align-center"},[t("img",{staticClass:"size-45",attrs:{src:o.image}}),t("div",{staticClass:"flex flex-direction justify-between"},[t("span",{staticClass:"flex-1 ml-10"},[e._v(e._s(a)+" ")]),e.joinActivityOpt(o.join_activity)?t("div",{staticClass:"ml-10"},[t("a-tag",{attrs:{color:"red"}},[e._v(" "+e._s(e.joinActivityOpt(o.join_activity))+" ")])],1):e._e()])])]}},{key:"price",fn:function(a,o){return[1==o.goods_type?t("span",[e._v(e._s(o.price))]):t("span",[e._v("￥"+e._s(o.min_price)+" - ￥"+e._s(o.max_price))])]}},{key:"status",fn:function(a,o){return[0==o.status?t("span",[e._v("未开始")]):e._e(),1==o.status?t("span",[e._v("进行中")]):e._e(),2==o.status?t("span",[e._v("已失效")]):e._e()]}},{key:"sort_platform",fn:function(a,o){return[t("a-input-number",{attrs:{"default-value":a||0,precision:0,min:0},on:{blur:function(t){return e.handleSortChange(t,a,o)}},model:{value:o.sort_platform,callback:function(t){e.$set(o,"sort_platform",t)},expression:"record.sort_platform"}})]}},{key:"action",fn:function(a,o){return[t("a",{on:{click:function(t){return e.$refs.createModal.edit(o,e.activeKey)}}},[e._v("首页推荐设置")]),1==e.searchForm.isRecommend?t("a-button",{staticClass:"link-btn",attrs:{type:"link"},on:{click:function(t){return e.btnOpt(o,"setFirst")}}},[e._v(" |"+e._s(1==o.is_first?"取消置顶":"置顶")+" ")]):e._e()]}}])}),t("a-row",{staticClass:"mt-20",attrs:{type:"flex",justify:"space-between",align:"middle"}},[t("a-col",{staticClass:"ml-20",attrs:{span:10}},[2==e.searchForm.isRecommend?t("span",[t("a-checkbox",{attrs:{checked:!(e.goodsSelectedRowKeys.length!=e.goodsList.length||!e.goodsList.length),disabled:!e.goodsList.length},on:{change:e.allCheck}},[e._v("当页全选")]),t("span",[e._v("已选 "+e._s(e.goodsSelectedRowKeys.length))]),t("a-button",{staticClass:"ml-10",attrs:{type:"primary"}},[e._v("批量推荐至首页")])],1):e._e()]),t("a-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[t("a-pagination",{attrs:{current:e.searchForm.page,pageSize:e.searchForm.pageSize,total:e.total,"show-size-changer":"","show-quick-jumper":"","show-total":function(e){return"共 ".concat(e," 条记录")}},on:{change:e.onPageChange,showSizeChange:e.onPageSizeChange}})],1)],1)],1)],1)],1),t("set-recommend",{ref:"createModal",on:{ok:e.handleOk}}),t("a-modal",{attrs:{title:e.modalTitle,centered:"",maskClosable:!1,width:600},on:{ok:e.handleOk,cancel:e.handleCancel},model:{value:e.modalVisible,callback:function(t){e.modalVisible=t},expression:"modalVisible"}},[1==e.modalType||2==e.modalType?[t("a-form-model",{attrs:{layout:"inline",model:e.modalSearchForm,"label-col":{span:2},"wrapper-col":{span:22}}},[t("a-form-model-item",{staticStyle:{width:"100%"},attrs:{label:"搜索",labelAlign:"left"}},[t("a-input",{attrs:{placeholder:1==e.modalType?"请输入商家名称":"请输入店铺名称"},model:{value:e.modalSearchForm.search,callback:function(t){e.$set(e.modalSearchForm,"search",t)},expression:"modalSearchForm.search"}})],1)],1),t("a-table",{staticClass:"mt-20",attrs:{"row-selection":{selectedRowKeys:e.modalSelectedRowKeys,onChange:e.onModalSelectChange},columns:e.columns,scroll:{y:400},"data-source":e.modalTableData,"row-key":1==e.modalType?"mer_id":"store_id"}},[t("template",{slot:"name"},[t("span",[e._v(e._s(1==e.modalType?"商家名称":"店铺名称"))])])],2)]:e._e(),3==e.modalType?[t("a-form-model",{ref:"scoreForm",attrs:{layout:"inline",model:e.setIntegralFormData,rules:e.rules}},[t("a-form-model-item",{attrs:{label:"消费1元得积分",help:"请填写>0的数字，设置百分比请填写%，如2%",prop:"score_percent"}},[t("a-input",{attrs:{placeholder:"请输入"},model:{value:e.setIntegralFormData.score_percent,callback:function(t){e.$set(e.setIntegralFormData,"score_percent",t)},expression:"setIntegralFormData.score_percent"}})],1),t("a-form-model-item",{attrs:{label:"积分最大使用数",help:2==e.isIntegral?"请填写>0的整数，如10":"",prop:"score_max"}},[t("a-row",[t("a-col",e._l(e.integralOptions,(function(a){return t("a-radio",{key:a.value,attrs:{checked:a.value==e.isIntegral},on:{click:function(t){return e.maxScoreRadio(a.value)}}},[e._v(" "+e._s(a.label)+" ")])})),1)],1),2==e.isIntegral?t("a-input",{attrs:{type:"number",placeholder:"请输入"},model:{value:e.setIntegralFormData.score_max,callback:function(t){e.$set(e.setIntegralFormData,"score_max",t)},expression:"setIntegralFormData.score_max"}}):e._e()],1)],1)]:e._e(),4==e.modalType?[t("a-form-model",{ref:"commissionForm",attrs:{model:e.commissionFormData,rules:e.rules}},e._l(e.commissionOptions,(function(a){return t("a-form-model-item",{key:a.prop,attrs:{label:a.label,help:a.help,prop:a.prop,"label-col":{span:8},"wrapper-col":{span:14}}},[t("a-input",{attrs:{type:"number",min:0,max:100,placeholder:"请输入"},model:{value:e.commissionFormData[a.prop],callback:function(t){e.$set(e.commissionFormData,a.prop,t)},expression:"commissionFormData[item.prop]"}})],1)})),1)]:e._e(),7==e.modalType?[t("p",[e._v(" 您当前编辑的商家与之前编辑的商家不同，之前编辑数据将被覆盖，您是否继续编辑？ ")])]:e._e()],2)],1)},l=[],s=(a("cd5d"),a("c5cb"),a("4868"),a("6e84"),a("075f"),a("011d")),i=a("ca00"),r=a("d6be"),m={name:"ActivityGroupRecommend",components:{SetRecommend:r["default"]},data:function(){return{activeKey:"getGroupRecommendList",searchForm:{merList:[],storeList:[],keyword:"",page:1,pageSize:10,isRecommend:"2",time:[],start_time:"",end_time:""},merchantType:1,storeType:1,merchantOptions:[{label:"全部商家",value:1},{label:"部分商家",value:2}],storeOptions:[{label:"全部店铺",value:1},{label:"部分店铺",value:2}],modalType:"",modalVisible:!1,modalSearchForm:{search:"",type:"",page:1,pageSize:10},columns:[{dataIndex:"name",slots:{title:"name"},align:"center"}],modalTableData:[],modalSelectedRowKeys:[],goodsList:[],sortList:[],defaultOpenSort:[],defaultSort:[],catId:"",columnsList:[],columnsGoods:[{title:"商品名称",dataIndex:"goods_name",scopedSlots:{customRender:"goods_name"},width:"260px"},{title:"商家名称",dataIndex:"mer_name",width:"150px"},{title:"店铺名称",dataIndex:"store_name",width:"150px"},{title:"活动时间",dataIndex:"time",scopedSlots:{customRender:"start_time"}},{title:"活动状态",dataIndex:"status",scopedSlots:{customRender:"status_des"}},{title:"原价",dataIndex:"price",scopedSlots:{customRender:"price"}},{title:"活动价",dataIndex:"act_price",scopedSlots:{customRender:"act_price"}},{title:"实收金额",dataIndex:"real_money",scopedSlots:{customRender:"real_money"}},{title:"排序",dataIndex:"sort_platform",scopedSlots:{customRender:"sort_platform"}},{title:"推荐时间段",dataIndex:"recommend_time",scopedSlots:{customRender:"recommend_time"},width:"150px"},{title:"操作",dataIndex:"goods_id",width:"200px",scopedSlots:{customRender:"action"}}],activityOptions:[{label:"砍价",value:"bargain"},{label:"拼团",value:"group"},{label:"限时",value:"limited"},{label:"预售",value:"prepare"},{label:"周期购",value:"periodic"},{label:"N元N件",value:"reached"},{label:"满包邮",value:"shipping"},{label:"满赠",value:"give"},{label:"满减",value:"minus"},{label:"满折",value:"discount"}],goodsSelectedRowKeys:[],total:null,currentGoods:"",rules:{},commissionFormData:{goods_id:"",spread_rate:0,sub_spread_rate:0,third_spread_rate:0},merInfo:""}},computed:{modalTitle:function(){var e="";return 1==this.modalType?e="选择商家":2==this.modalType?e="选择店铺":3==this.modalType?e="设置积分":4==this.modalType?e="设置佣金":7==this.modalType&&(e="提示"),e}},created:function(){this.isRecommendChange(),this.getGroupRecommendList()},methods:{getActList:function(){var e=this;this.request(s["a"][this.activeKey],this.searchForm).then((function(t){e.goodsList=t.list||[],e.total=t.count}))},onDateRangeChange:function(e,t){console.log(e,"date"),this.$set(this.searchForm,"time",[e[0],e[1]]),this.$set(this.searchForm,"start_time",t[0]),this.$set(this.searchForm,"end_time",t[1])},actChange:function(e){this.activeKey=e,this.getActList()},searchRadioOpt:function(e,t){this.modalType=t,1==this.modalType?this.merchantType=e:2==this.modalType&&(this.storeType=e),2==e&&(this.modalVisible=!0),this.getMerOrStoreList()},isRecommendChange:function(){var e=this;this.columnsList=this.columnsGoods.filter((function(t){return 2!=e.searchForm.isRecommend||"sort_platform"!=t.dataIndex&&"recommend_time"!=t.dataIndex?t:void 0})),2==this.searchForm.isRecommend&&(this.goodsSelectedRowKeys=[])},getMerOrStoreList:function(){var e=this;this.modalTableData=[],this.$set(this.modalSearchForm,"type",this.modalType),this.request(s["a"].getMerOrStoreList,this.modalSearchForm).then((function(t){e.modalTableData=t.list||[]}))},onModalSelectChange:function(e){this.modalSelectedRowKeys=e},getGroupRecommendList:function(){var e=this;this.request(s["a"].getGroupRecommendList,this.queryParam).then((function(t){console.log(t.list),e.searchHotList=t.list,e.pagination.total=t.count}))},joinActivityOpt:function(e){var t="";return e&&(t=this.activityOptions.filter((function(t){return t.value==e}))[0]||""),t?t["label"]:""},goodsCategoryList:function(){var e=this;this.defaultSort=[],this.defaultOpenSort=[],this.request(s["a"].goodsCategoryList,this.searchForm).then((function(t){e.sortList=t.list||[]}))},onSortSelect:function(e){e.item;var t=e.key;e.selectedKeys;this.catId=t,this.defaultSort=[t],console.log("--------------catId",this.catId),this.goodsSelectedRowKeys=[],this.getGoodsList()},onOpenChange:function(e){var t=this,a=e.find((function(e){return-1===t.defaultOpenSort.indexOf(e)}));-1===this.defaultOpenSort.indexOf(a)?this.defaultOpenSort=e:this.defaultOpenSort=a?[a]:[]},resetForm:function(){Object.assign(this.$data,this.$options.data()),this.goodsCategoryList(),this.getGoodsList()},handleSortChange:function(e,t,a){var o=this,l={goods_id:a.goods_id,sort:t};this.request(s["a"].goodsSetSort,l).then((function(e){o.getGoodsList()}))},btnOpt:function(e,t){this.currentGoods=e,"setFirst"!=t||this.setFirstOpt(e)},editGoods:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.modalVisible=!1,this.modalType="";var t=location.href.substring(0,location.href.indexOf("#"));e&&Object(i["m"])("merchant_access_token",this.merInfo.ticket,null),window.open("".concat(t,"#/merchant/merchant.mall/editGoods?store_id=").concat(this.currentGoods.store_id,"&goods_id=").concat(this.currentGoods.goods_id))},setFirstOpt:function(e){var t=this,a={goods_id:e.goods_id,is_first:1==e.is_first?0:1,cat_id:this.catId};this.request(s["a"].goodsSetFirst,a).then((function(e){t.$message.success("设置成功！"),t.modalType="",t.getGoodsList()}))},handleOk:function(){1==this.modalType?this.$set(this.searchForm,"merList",this.modalSelectedRowKeys):2==this.modalType&&this.$set(this.searchForm,"storeList",this.modalSelectedRowKeys),1!=this.modalType&&2!=this.modalType||(this.modalVisible=!1,this.modalSelectedRowKeys=[],this.modalTableData=[])},handleCancel:function(){var e="";3==this.modalType&&(e="scoreForm"),4==this.modalType&&(e="commissionForm"),e&&this.$refs[e].clearValidate(),this.currentGoods&&(this.currentGoods=""),this.merInfo&&(this.merInfo=""),this.modalType=""},onPageChange:function(e,t){this.$set(this.searchForm,"page",e),this.getGoodsList()},onPageSizeChange:function(e,t){this.$set(this.searchForm,"pageSize",t),this.getGoodsList()},ongoodsSelectChange:function(e){this.goodsSelectedRowKeys=e},allCheck:function(e){e.target.checked?this.goodsSelectedRowKeys=this.goodsList.map((function(e){return e.goods_id})):this.goodsSelectedRowKeys=[]}}},n=m,c=(a("960b"),a("0b56")),d=Object(c["a"])(n,o,l,!1,null,"73a0b9f0",null);t["default"]=d.exports},"960b":function(e,t,a){"use strict";a("c32e")},c32e:function(e,t,a){},d6be:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{title:e.title,width:640,visible:e.visible},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[t("a-form",e._b({attrs:{form:e.detail}},"a-form",{labelCol:{span:4},wrapperCol:{span:10}},!1),[t("a-form-item",{attrs:{label:"是否推荐至首页",labelCol:{span:6}}},[t("a-switch",{attrs:{"checked-children":"是","un-checked-children":"否",checked:1==e.is_recommend},on:{change:e.isRecommendChange}})],1),1==e.is_recommend?t("a-form-model-item",{attrs:{label:"推荐时间",help:"推荐时间应在活动时间之内",prop:"recommend_time"}},[t("a-range-picker",{attrs:{"show-time":"",value:e.recommend_time,format:"YYYY-MM-DD HH:mm:ss"},on:{change:e.onRecommendDateRangeChange}})],1):e._e()],1)],1)},l=[],s=(a("6e84"),a("011d")),i=a("2f42"),r=a.n(i),m={data:function(){return{title:"",visible:!1,detail:{},rec_start_time:"",rec_end_time:"",recommend_time:[],activeKey:"",is_recommend:2}},mounted:function(){console.log(this.catFid)},methods:{moment:r.a,onRecommendDateRangeChange:function(e,t){this.recommend_time=[e[0],e[1]],this.rec_start_time=t[0],this.rec_end_time=t[1]},edit:function(e,t,a){for(var o in this.title="首页推荐设置",e)this.$set(this.detail,o,e[o]);this.is_recommend=this.detail.is_recommend,this.visible=!0,this.activeKey=t,this.type=a,this.rec_start_time=this.detail.rec_start_time||this.detail.start_time,this.rec_end_time=this.detail.rec_end_time||this.detail.end_time,""!=e.recommend_start_time&&null!=e.recommend_start_time&&""!=e.recommend_end_time&&null!=e.recommend_end_time&&(this.recommend_time=this.recommend_time.concat([r()(e.recommend_start_time),r()(e.recommend_end_time)]))},handleSubmit:function(){var e=this;if(1!=this.is_recommend||""!=this.recommend_time&&null!=this.recommend_time){var t=[],a=[],o=[],l=[],i=[];if(1==this.type)t={activity_id:this.detail.id,goods_id:this.detail.act_goods_id,is_recommend:this.is_recommend,rec_start_time:this.rec_start_time,rec_end_time:this.rec_end_time};else if(2==this.type){for(var r in this.detail)a=this.detail[r].id,o=this.detail[r].act_goods_id,l.push(a),i.push(o);t={activity_id:l,goods_id:i,is_recommend:this.is_recommend,rec_start_time:this.rec_start_time,rec_end_time:this.rec_end_time}}var m="";"getLimitedRecommendList"==this.activeKey?m="editLimitedRecommend":"getBargainRecommendList"==this.activeKey?m="editBargainRecommend":"getGroupRecommendList"==this.activeKey&&(m="editGroupRecommend"),m&&this.request(s["a"][m],t).then((function(t){e.$message.success("设置成功"),e.$emit("updateList"),e.handleCancel()}))}else this.$message.error("请完善推荐时间")},handleCancel:function(){this.visible=!1,Object.assign(this.$data,this.$options.data())},isRecommendChange:function(e){this.is_recommend=e?1:2,e||(this.rec_start_time="",this.rec_end_time=""),2==this.type&&(this.recommend_time=[])}}},n=m,c=a("0b56"),d=Object(c["a"])(n,o,l,!1,null,null,null);t["default"]=d.exports}}]);